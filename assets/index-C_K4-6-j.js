(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function vI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jg={exports:{}},tu={};var kw;function bI(){if(kw)return tu;kw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var d in a)d!=="key"&&(o[d]=a[d])}else o=a;return a=o.ref,{$$typeof:t,type:i,key:c,ref:a!==void 0?a:null,props:o}}return tu.Fragment=e,tu.jsx=n,tu.jsxs=n,tu}var Dw;function _I(){return Dw||(Dw=1,jg.exports=bI()),jg.exports}var b=_I(),Lg={exports:{}},Ve={};var Mw;function wI(){if(Mw)return Ve;Mw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),_=Symbol.iterator;function x(L){return L===null||typeof L!="object"?null:(L=_&&L[_]||L["@@iterator"],typeof L=="function"?L:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,I={};function U(L,J,ue){this.props=L,this.context=J,this.refs=I,this.updater=ue||k}U.prototype.isReactComponent={},U.prototype.setState=function(L,J){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,J,"setState")},U.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function B(){}B.prototype=U.prototype;function j(L,J,ue){this.props=L,this.context=J,this.refs=I,this.updater=ue||k}var $=j.prototype=new B;$.constructor=j,A($,U.prototype),$.isPureReactComponent=!0;var ne=Array.isArray;function ee(){}var S={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function M(L,J,ue){var de=ue.ref;return{$$typeof:t,type:L,key:J,ref:de!==void 0?de:null,props:ue}}function V(L,J){return M(L.type,J,L.props)}function D(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function F(L){var J={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ue){return J[ue]})}var P=/\/+/g;function je(L,J){return typeof L=="object"&&L!==null&&L.key!=null?F(""+L.key):J.toString(36)}function Ce(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(ee,ee):(L.status="pending",L.then(function(J){L.status==="pending"&&(L.status="fulfilled",L.value=J)},function(J){L.status==="pending"&&(L.status="rejected",L.reason=J)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function K(L,J,ue,de,ge){var we=typeof L;(we==="undefined"||we==="boolean")&&(L=null);var _e=!1;if(L===null)_e=!0;else switch(we){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(L.$$typeof){case t:case e:_e=!0;break;case g:return _e=L._init,K(_e(L._payload),J,ue,de,ge)}}if(_e)return ge=ge(L),_e=de===""?"."+je(L,0):de,ne(ge)?(ue="",_e!=null&&(ue=_e.replace(P,"$&/")+"/"),K(ge,J,ue,"",function(pt){return pt})):ge!=null&&(D(ge)&&(ge=V(ge,ue+(ge.key==null||L&&L.key===ge.key?"":(""+ge.key).replace(P,"$&/")+"/")+_e)),J.push(ge)),1;_e=0;var fe=de===""?".":de+":";if(ne(L))for(var Se=0;Se<L.length;Se++)de=L[Se],we=fe+je(de,Se),_e+=K(de,J,ue,we,ge);else if(Se=x(L),typeof Se=="function")for(L=Se.call(L),Se=0;!(de=L.next()).done;)de=de.value,we=fe+je(de,Se++),_e+=K(de,J,ue,we,ge);else if(we==="object"){if(typeof L.then=="function")return K(Ce(L),J,ue,de,ge);throw J=String(L),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return _e}function ce(L,J,ue){if(L==null)return L;var de=[],ge=0;return K(L,de,"","",function(we){return J.call(ue,we,ge++)}),de}function pe(L){if(L._status===-1){var J=L._result;J=J(),J.then(function(ue){(L._status===0||L._status===-1)&&(L._status=1,L._result=ue)},function(ue){(L._status===0||L._status===-1)&&(L._status=2,L._result=ue)}),L._status===-1&&(L._status=0,L._result=J)}if(L._status===1)return L._result.default;throw L._result}var Ae=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},oe={map:ce,forEach:function(L,J,ue){ce(L,function(){J.apply(this,arguments)},ue)},count:function(L){var J=0;return ce(L,function(){J++}),J},toArray:function(L){return ce(L,function(J){return J})||[]},only:function(L){if(!D(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Ve.Activity=v,Ve.Children=oe,Ve.Component=U,Ve.Fragment=n,Ve.Profiler=a,Ve.PureComponent=j,Ve.StrictMode=i,Ve.Suspense=h,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(L){return S.H.useMemoCache(L)}},Ve.cache=function(L){return function(){return L.apply(null,arguments)}},Ve.cacheSignal=function(){return null},Ve.cloneElement=function(L,J,ue){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var de=A({},L.props),ge=L.key;if(J!=null)for(we in J.key!==void 0&&(ge=""+J.key),J)!R.call(J,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&J.ref===void 0||(de[we]=J[we]);var we=arguments.length-2;if(we===1)de.children=ue;else if(1<we){for(var _e=Array(we),fe=0;fe<we;fe++)_e[fe]=arguments[fe+2];de.children=_e}return M(L.type,ge,de)},Ve.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:o,_context:L},L},Ve.createElement=function(L,J,ue){var de,ge={},we=null;if(J!=null)for(de in J.key!==void 0&&(we=""+J.key),J)R.call(J,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(ge[de]=J[de]);var _e=arguments.length-2;if(_e===1)ge.children=ue;else if(1<_e){for(var fe=Array(_e),Se=0;Se<_e;Se++)fe[Se]=arguments[Se+2];ge.children=fe}if(L&&L.defaultProps)for(de in _e=L.defaultProps,_e)ge[de]===void 0&&(ge[de]=_e[de]);return M(L,we,ge)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(L){return{$$typeof:d,render:L}},Ve.isValidElement=D,Ve.lazy=function(L){return{$$typeof:g,_payload:{_status:-1,_result:L},_init:pe}},Ve.memo=function(L,J){return{$$typeof:f,type:L,compare:J===void 0?null:J}},Ve.startTransition=function(L){var J=S.T,ue={};S.T=ue;try{var de=L(),ge=S.S;ge!==null&&ge(ue,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(ee,Ae)}catch(we){Ae(we)}finally{J!==null&&ue.types!==null&&(J.types=ue.types),S.T=J}},Ve.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},Ve.use=function(L){return S.H.use(L)},Ve.useActionState=function(L,J,ue){return S.H.useActionState(L,J,ue)},Ve.useCallback=function(L,J){return S.H.useCallback(L,J)},Ve.useContext=function(L){return S.H.useContext(L)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(L,J){return S.H.useDeferredValue(L,J)},Ve.useEffect=function(L,J){return S.H.useEffect(L,J)},Ve.useEffectEvent=function(L){return S.H.useEffectEvent(L)},Ve.useId=function(){return S.H.useId()},Ve.useImperativeHandle=function(L,J,ue){return S.H.useImperativeHandle(L,J,ue)},Ve.useInsertionEffect=function(L,J){return S.H.useInsertionEffect(L,J)},Ve.useLayoutEffect=function(L,J){return S.H.useLayoutEffect(L,J)},Ve.useMemo=function(L,J){return S.H.useMemo(L,J)},Ve.useOptimistic=function(L,J){return S.H.useOptimistic(L,J)},Ve.useReducer=function(L,J,ue){return S.H.useReducer(L,J,ue)},Ve.useRef=function(L){return S.H.useRef(L)},Ve.useState=function(L){return S.H.useState(L)},Ve.useSyncExternalStore=function(L,J,ue){return S.H.useSyncExternalStore(L,J,ue)},Ve.useTransition=function(){return S.H.useTransition()},Ve.version="19.2.0",Ve}var Ow;function xy(){return Ow||(Ow=1,Lg.exports=wI()),Lg.exports}var O=xy();const Uh=vI(O);var Ug={exports:{}},nu={},zg={exports:{}},Bg={};var Vw;function TI(){return Vw||(Vw=1,(function(t){function e(K,ce){var pe=K.length;K.push(ce);e:for(;0<pe;){var Ae=pe-1>>>1,oe=K[Ae];if(0<a(oe,ce))K[Ae]=ce,K[pe]=oe,pe=Ae;else break e}}function n(K){return K.length===0?null:K[0]}function i(K){if(K.length===0)return null;var ce=K[0],pe=K.pop();if(pe!==ce){K[0]=pe;e:for(var Ae=0,oe=K.length,L=oe>>>1;Ae<L;){var J=2*(Ae+1)-1,ue=K[J],de=J+1,ge=K[de];if(0>a(ue,pe))de<oe&&0>a(ge,ue)?(K[Ae]=ge,K[de]=pe,Ae=de):(K[Ae]=ue,K[J]=pe,Ae=J);else if(de<oe&&0>a(ge,pe))K[Ae]=ge,K[de]=pe,Ae=de;else break e}}return ce}function a(K,ce){var pe=K.sortIndex-ce.sortIndex;return pe!==0?pe:K.id-ce.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var h=[],f=[],g=1,v=null,_=3,x=!1,k=!1,A=!1,I=!1,U=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function $(K){for(var ce=n(f);ce!==null;){if(ce.callback===null)i(f);else if(ce.startTime<=K)i(f),ce.sortIndex=ce.expirationTime,e(h,ce);else break;ce=n(f)}}function ne(K){if(A=!1,$(K),!k)if(n(h)!==null)k=!0,ee||(ee=!0,F());else{var ce=n(f);ce!==null&&Ce(ne,ce.startTime-K)}}var ee=!1,S=-1,R=5,M=-1;function V(){return I?!0:!(t.unstable_now()-M<R)}function D(){if(I=!1,ee){var K=t.unstable_now();M=K;var ce=!0;try{e:{k=!1,A&&(A=!1,B(S),S=-1),x=!0;var pe=_;try{t:{for($(K),v=n(h);v!==null&&!(v.expirationTime>K&&V());){var Ae=v.callback;if(typeof Ae=="function"){v.callback=null,_=v.priorityLevel;var oe=Ae(v.expirationTime<=K);if(K=t.unstable_now(),typeof oe=="function"){v.callback=oe,$(K),ce=!0;break t}v===n(h)&&i(h),$(K)}else i(h);v=n(h)}if(v!==null)ce=!0;else{var L=n(f);L!==null&&Ce(ne,L.startTime-K),ce=!1}}break e}finally{v=null,_=pe,x=!1}ce=void 0}}finally{ce?F():ee=!1}}}var F;if(typeof j=="function")F=function(){j(D)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,je=P.port2;P.port1.onmessage=D,F=function(){je.postMessage(null)}}else F=function(){U(D,0)};function Ce(K,ce){S=U(function(){K(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(K){switch(_){case 1:case 2:case 3:var ce=3;break;default:ce=_}var pe=_;_=ce;try{return K()}finally{_=pe}},t.unstable_requestPaint=function(){I=!0},t.unstable_runWithPriority=function(K,ce){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var pe=_;_=K;try{return ce()}finally{_=pe}},t.unstable_scheduleCallback=function(K,ce,pe){var Ae=t.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Ae+pe:Ae):pe=Ae,K){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=pe+oe,K={id:g++,callback:ce,priorityLevel:K,startTime:pe,expirationTime:oe,sortIndex:-1},pe>Ae?(K.sortIndex=pe,e(f,K),n(h)===null&&K===n(f)&&(A?(B(S),S=-1):A=!0,Ce(ne,pe-Ae))):(K.sortIndex=oe,e(h,K),k||x||(k=!0,ee||(ee=!0,F()))),K},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(K){var ce=_;return function(){var pe=_;_=ce;try{return K.apply(this,arguments)}finally{_=pe}}}})(Bg)),Bg}var Pw;function EI(){return Pw||(Pw=1,zg.exports=TI()),zg.exports}var Fg={exports:{}},fn={};var jw;function xI(){if(jw)return fn;jw=1;var t=xy();function e(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(h,f,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:h,containerInfo:f,implementation:g}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,fn.createPortal=function(h,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(h,f,null,g)},fn.flushSync=function(h){var f=c.T,g=i.p;try{if(c.T=null,i.p=2,h)return h()}finally{c.T=f,i.p=g,i.d.f()}},fn.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(h,f))},fn.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},fn.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var g=f.as,v=d(g,f.crossOrigin),_=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?i.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:v,integrity:_,fetchPriority:x}):g==="script"&&i.d.X(h,{crossOrigin:v,integrity:_,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},fn.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=d(f.as,f.crossOrigin);i.d.M(h,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(h)},fn.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,v=d(g,f.crossOrigin);i.d.L(h,g,{crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},fn.preloadModule=function(h,f){if(typeof h=="string")if(f){var g=d(f.as,f.crossOrigin);i.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(h)},fn.requestFormReset=function(h){i.d.r(h)},fn.unstable_batchedUpdates=function(h,f){return h(f)},fn.useFormState=function(h,f,g){return c.H.useFormState(h,f,g)},fn.useFormStatus=function(){return c.H.useHostTransitionStatus()},fn.version="19.2.0",fn}var Lw;function SI(){if(Lw)return Fg.exports;Lw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Fg.exports=xI(),Fg.exports}var Uw;function AI(){if(Uw)return nu;Uw=1;var t=EI(),e=xy(),n=SI();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function c(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function d(r){if(r.tag===31){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function h(r){if(o(r)!==r)throw Error(i(188))}function f(r){var s=r.alternate;if(!s){if(s=o(r),s===null)throw Error(i(188));return s!==r?null:r}for(var l=r,u=s;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(u=p.return,u!==null){l=u;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return h(p),r;if(y===u)return h(p),s;y=y.sibling}throw Error(i(188))}if(l.return!==u.return)l=p,u=y;else{for(var T=!1,C=p.child;C;){if(C===l){T=!0,l=p,u=y;break}if(C===u){T=!0,u=p,l=y;break}C=C.sibling}if(!T){for(C=y.child;C;){if(C===l){T=!0,l=y,u=p;break}if(C===u){T=!0,u=y,l=p;break}C=C.sibling}if(!T)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?r:s}function g(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=g(r),s!==null)return s;r=r.sibling}return null}var v=Object.assign,_=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),j=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function F(r){return r===null||typeof r!="object"?null:(r=D&&r[D]||r["@@iterator"],typeof r=="function"?r:null)}var P=Symbol.for("react.client.reference");function je(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===P?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case A:return"Fragment";case U:return"Profiler";case I:return"StrictMode";case ne:return"Suspense";case ee:return"SuspenseList";case M:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case k:return"Portal";case j:return r.displayName||"Context";case B:return(r._context.displayName||"Context")+".Consumer";case $:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case S:return s=r.displayName||null,s!==null?s:je(r.type)||"Memo";case R:s=r._payload,r=r._init;try{return je(r(s))}catch{}}return null}var Ce=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Ae=[],oe=-1;function L(r){return{current:r}}function J(r){0>oe||(r.current=Ae[oe],Ae[oe]=null,oe--)}function ue(r,s){oe++,Ae[oe]=r.current,r.current=s}var de=L(null),ge=L(null),we=L(null),_e=L(null);function fe(r,s){switch(ue(we,s),ue(ge,r),ue(de,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?ew(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=ew(s),r=tw(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}J(de),ue(de,r)}function Se(){J(de),J(ge),J(we)}function pt(r){r.memoizedState!==null&&ue(_e,r);var s=de.current,l=tw(s,r.type);s!==l&&(ue(ge,r),ue(de,l))}function jn(r){ge.current===r&&(J(de),J(ge)),_e.current===r&&(J(_e),Wc._currentValue=pe)}var _o,wo;function Pi(r){if(_o===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);_o=s&&s[1]||"",wo=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_o+r+wo}var Wl=!1;function wa(r,s){if(!r||Wl)return"";Wl=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(Z){var X=Z}Reflect.construct(r,[],se)}else{try{se.call()}catch(Z){X=Z}r.call(se.prototype)}}else{try{throw Error()}catch(Z){X=Z}(se=r())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(Z){if(Z&&X&&typeof Z.stack=="string")return[Z.stack,X.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),T=y[0],C=y[1];if(T&&C){var z=T.split(`
`),Q=C.split(`
`);for(p=u=0;u<z.length&&!z[u].includes("DetermineComponentFrameRoot");)u++;for(;p<Q.length&&!Q[p].includes("DetermineComponentFrameRoot");)p++;if(u===z.length||p===Q.length)for(u=z.length-1,p=Q.length-1;1<=u&&0<=p&&z[u]!==Q[p];)p--;for(;1<=u&&0<=p;u--,p--)if(z[u]!==Q[p]){if(u!==1||p!==1)do if(u--,p--,0>p||z[u]!==Q[p]){var te=`
`+z[u].replace(" at new "," at ");return r.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",r.displayName)),te}while(1<=u&&0<=p);break}}}finally{Wl=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?Pi(l):""}function Zl(r,s){switch(r.tag){case 26:case 27:case 5:return Pi(r.type);case 16:return Pi("Lazy");case 13:return r.child!==s&&s!==null?Pi("Suspense Fallback"):Pi("Suspense");case 19:return Pi("SuspenseList");case 0:case 15:return wa(r.type,!1);case 11:return wa(r.type.render,!1);case 1:return wa(r.type,!0);case 31:return Pi("Activity");default:return""}}function Jl(r){try{var s="",l=null;do s+=Zl(r,l),l=r,r=r.return;while(r);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Ot=Object.prototype.hasOwnProperty,Kt=t.unstable_scheduleCallback,cs=t.unstable_cancelCallback,Um=t.unstable_shouldYield,ud=t.unstable_requestPaint,wn=t.unstable_now,Ta=t.unstable_getCurrentPriorityLevel,ec=t.unstable_ImmediatePriority,tc=t.unstable_UserBlockingPriority,us=t.unstable_NormalPriority,zm=t.unstable_LowPriority,dd=t.unstable_IdlePriority,hd=t.log,fd=t.unstable_setDisableYieldValue,yi=null,tn=null;function Qn(r){if(typeof hd=="function"&&fd(r),tn&&typeof tn.setStrictMode=="function")try{tn.setStrictMode(yi,r)}catch{}}var Ct=Math.clz32?Math.clz32:pd,md=Math.log,To=Math.LN2;function pd(r){return r>>>=0,r===0?32:31-(md(r)/To|0)|0}var ji=256,Ea=262144,Vt=4194304;function Li(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Ui(r,s,l){var u=r.pendingLanes;if(u===0)return 0;var p=0,y=r.suspendedLanes,T=r.pingedLanes;r=r.warmLanes;var C=u&134217727;return C!==0?(u=C&~y,u!==0?p=Li(u):(T&=C,T!==0?p=Li(T):l||(l=C&~r,l!==0&&(p=Li(l))))):(C=u&~y,C!==0?p=Li(C):T!==0?p=Li(T):l||(l=u&~r,l!==0&&(p=Li(l)))),p===0?0:s!==0&&s!==p&&(s&y)===0&&(y=p&-p,l=s&-s,y>=l||y===32&&(l&4194048)!==0)?s:p}function vi(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Bm(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gd(){var r=Vt;return Vt<<=1,(Vt&62914560)===0&&(Vt=4194304),r}function zi(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function xa(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Fm(r,s,l,u,p,y){var T=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var C=r.entanglements,z=r.expirationTimes,Q=r.hiddenUpdates;for(l=T&~l;0<l;){var te=31-Ct(l),se=1<<te;C[te]=0,z[te]=-1;var X=Q[te];if(X!==null)for(Q[te]=null,te=0;te<X.length;te++){var Z=X[te];Z!==null&&(Z.lane&=-536870913)}l&=~se}u!==0&&Sa(r,u,0),y!==0&&p===0&&r.tag!==0&&(r.suspendedLanes|=y&~(T&~s))}function Sa(r,s,l){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-Ct(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|l&261930}function nc(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var u=31-Ct(l),p=1<<u;p&s|r[u]&s&&(r[u]|=s),l&=~p}}function ic(r,s){var l=s&-s;return l=(l&42)!==0?1:Aa(l),(l&(r.suspendedLanes|s))!==0?0:l}function Aa(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Er(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function yd(){var r=ce.p;return r!==0?r:(r=window.event,r===void 0?32:xw(r.type))}function bi(r,s){var l=ce.p;try{return ce.p=r,s()}finally{ce.p=l}}var _i=Math.random().toString(36).slice(2),Pt="__reactFiber$"+_i,Wt="__reactProps$"+_i,Bi="__reactContainer$"+_i,Eo="__reactEvents$"+_i,qm="__reactListeners$"+_i,vd="__reactHandles$"+_i,bd="__reactResources$"+_i,Fi="__reactMarker$"+_i;function xo(r){delete r[Pt],delete r[Wt],delete r[Eo],delete r[qm],delete r[vd]}function qi(r){var s=r[Pt];if(s)return s;for(var l=r.parentNode;l;){if(s=l[Bi]||l[Pt]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=lw(r);r!==null;){if(l=r[Pt])return l;r=lw(r)}return s}r=l,l=r.parentNode}return null}function Xn(r){if(r=r[Pt]||r[Bi]){var s=r.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return r}return null}function Ln(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function Hi(r){var s=r[bd];return s||(s=r[bd]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function jt(r){r[Fi]=!0}var rc=new Set,sc={};function $i(r,s){Gi(r,s),Gi(r+"Capture",s)}function Gi(r,s){for(sc[r]=s,r=0;r<s.length;r++)rc.add(s[r])}var ac=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),oc={},lc={};function _d(r){return Ot.call(lc,r)?!0:Ot.call(oc,r)?!1:ac.test(r)?lc[r]=!0:(oc[r]=!0,!1)}function So(r,s,l){if(_d(s))if(l===null)r.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+l)}}function Un(r,s,l){if(l===null)r.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+l)}}function Lt(r,s,l,u){if(u===null)r.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(s,l,""+u)}}function Zt(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ds(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function cc(r,s,l){var u=Object.getOwnPropertyDescriptor(r.constructor.prototype,s);if(!r.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,y=u.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(T){l=""+T,y.call(this,T)}}),Object.defineProperty(r,s,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function it(r){if(!r._valueTracker){var s=ds(r)?"checked":"value";r._valueTracker=cc(r,s,""+r[s])}}function Ca(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),u="";return r&&(u=ds(r)?r.checked?"true":"false":r.value),r=u,r!==l?(s.setValue(r),!0):!1}function Ki(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Ra=/[\n"\\]/g;function Sn(r){return r.replace(Ra,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ao(r,s,l,u,p,y,T,C){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),s!=null?T==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+Zt(s)):r.value!==""+Zt(s)&&(r.value=""+Zt(s)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),s!=null?uc(r,T,Zt(s)):l!=null?uc(r,T,Zt(l)):u!=null&&r.removeAttribute("value"),p==null&&y!=null&&(r.defaultChecked=!!y),p!=null&&(r.checked=p&&typeof p!="function"&&typeof p!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?r.name=""+Zt(C):r.removeAttribute("name")}function wd(r,s,l,u,p,y,T,C){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),s!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||s!=null)){it(r);return}l=l!=null?""+Zt(l):"",s=s!=null?""+Zt(s):l,C||s===r.value||(r.value=s),r.defaultValue=s}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=C?r.checked:!!u,r.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T),it(r)}function uc(r,s,l){s==="number"&&Ki(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function hs(r,s,l,u){if(r=r.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<r.length;l++)p=s.hasOwnProperty("$"+r[l].value),r[l].selected!==p&&(r[l].selected=p),p&&u&&(r[l].defaultSelected=!0)}else{for(l=""+Zt(l),s=null,p=0;p<r.length;p++){if(r[p].value===l){r[p].selected=!0,u&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function Td(r,s,l){if(s!=null&&(s=""+Zt(s),s!==r.value&&(r.value=s),l==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=l!=null?""+Zt(l):""}function fs(r,s,l,u){if(s==null){if(u!=null){if(l!=null)throw Error(i(92));if(Ce(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),s=l}l=Zt(s),r.defaultValue=l,u=r.textContent,u===l&&u!==""&&u!==null&&(r.value=u),it(r)}function An(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var Ed=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dc(r,s,l){var u=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,l):typeof l!="number"||l===0||Ed.has(s)?s==="float"?r.cssFloat=l:r[s]=(""+l).trim():r[s]=l+"px"}function hc(r,s,l){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var p in s)u=s[p],s.hasOwnProperty(p)&&l[p]!==u&&dc(r,p,u)}else for(var y in s)s.hasOwnProperty(y)&&dc(r,y,s[y])}function Co(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ms=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ro(r){return ms.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function wi(){}var fc=null;function Wn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ps=null,Yi=null;function Na(r){var s=Xn(r);if(s&&(r=s.stateNode)){var l=r[Wt]||null;e:switch(r=s.stateNode,s.type){case"input":if(Ao(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Sn(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var u=l[s];if(u!==r&&u.form===r.form){var p=u[Wt]||null;if(!p)throw Error(i(90));Ao(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<l.length;s++)u=l[s],u.form===r.form&&Ca(u)}break e;case"textarea":Td(r,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&hs(r,!!l.multiple,s,!1)}}}var No=!1;function gs(r,s,l){if(No)return r(s,l);No=!0;try{var u=r(s);return u}finally{if(No=!1,(ps!==null||Yi!==null)&&(yh(),ps&&(s=ps,r=Yi,Yi=ps=null,Na(s),r)))for(s=0;s<r.length;s++)Na(r[s])}}function Ti(r,s){var l=r.stateNode;if(l===null)return null;var u=l[Wt]||null;if(u===null)return null;l=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(i(231,s,typeof l));return l}var Zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ia=!1;if(Zn)try{var at={};Object.defineProperty(at,"passive",{get:function(){Ia=!0}}),window.addEventListener("test",at,at),window.removeEventListener("test",at,at)}catch{Ia=!1}var Qi=null,mc=null,ka=null;function pc(){if(ka)return ka;var r,s=mc,l=s.length,u,p="value"in Qi?Qi.value:Qi.textContent,y=p.length;for(r=0;r<l&&s[r]===p[r];r++);var T=l-r;for(u=1;u<=T&&s[l-u]===p[y-u];u++);return ka=p.slice(r,1<u?1-u:void 0)}function Da(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function xr(){return!0}function Ei(){return!1}function nn(r){function s(l,u,p,y,T){this._reactName=l,this._targetInst=p,this.type=u,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var C in r)r.hasOwnProperty(C)&&(l=r[C],this[C]=l?l(y):y[C]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?xr:Ei,this.isPropagationStopped=Ei,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=xr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=xr)},persist:function(){},isPersistent:xr}),s}var Sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xi=nn(Sr),ys=v({},Sr,{view:0,detail:0}),gc=nn(ys),vs,Io,Wi,ko=v({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bs,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Wi&&(Wi&&r.type==="mousemove"?(vs=r.screenX-Wi.screenX,Io=r.screenY-Wi.screenY):Io=vs=0,Wi=r),vs)},movementY:function(r){return"movementY"in r?r.movementY:Io}}),yc=nn(ko),Ma=v({},ko,{dataTransfer:0}),Sd=nn(Ma),Ad=v({},ys,{relatedTarget:0}),Oa=nn(Ad),vc=v({},Sr,{animationName:0,elapsedTime:0,pseudoElement:0}),Cd=nn(vc),Do=v({},Sr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Rd=nn(Do),Nd=v({},Sr,{data:0}),Zi=nn(Nd),Id={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Md(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Dd[r])?!!s[r]:!1}function bs(){return Md}var Tn=v({},ys,{key:function(r){if(r.key){var s=Id[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Da(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?kd[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bs,charCode:function(r){return r.type==="keypress"?Da(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Da(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Od=nn(Tn),Vd=v({},ko,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ar=nn(Vd),m=v({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bs}),w=nn(m),E=v({},Sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),N=nn(E),G=v({},ko,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),W=nn(G),he=v({},Sr,{newState:0,oldState:0}),Le=nn(he),Rt=[9,13,27,32],et=Zn&&"CompositionEvent"in window,gt=null;Zn&&"documentMode"in document&&(gt=document.documentMode);var Jn=Zn&&"TextEvent"in window&&!gt,Ji=Zn&&(!et||gt&&8<gt&&11>=gt),xi=" ",Si=!1;function Va(r,s){switch(r){case"keyup":return Rt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mo(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Oo=!1;function FR(r,s){switch(r){case"compositionend":return Mo(s);case"keypress":return s.which!==32?null:(Si=!0,xi);case"textInput":return r=s.data,r===xi&&Si?null:r;default:return null}}function qR(r,s){if(Oo)return r==="compositionend"||!et&&Va(r,s)?(r=pc(),ka=mc=Qi=null,Oo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ji&&s.locale!=="ko"?null:s.data;default:return null}}var HR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function db(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!HR[r.type]:s==="textarea"}function hb(r,s,l,u){ps?Yi?Yi.push(u):Yi=[u]:ps=u,s=xh(s,"onChange"),0<s.length&&(l=new Xi("onChange","change",null,l,u),r.push({event:l,listeners:s}))}var bc=null,_c=null;function $R(r){Y1(r,0)}function Pd(r){var s=Ln(r);if(Ca(s))return r}function fb(r,s){if(r==="change")return s}var mb=!1;if(Zn){var Hm;if(Zn){var $m="oninput"in document;if(!$m){var pb=document.createElement("div");pb.setAttribute("oninput","return;"),$m=typeof pb.oninput=="function"}Hm=$m}else Hm=!1;mb=Hm&&(!document.documentMode||9<document.documentMode)}function gb(){bc&&(bc.detachEvent("onpropertychange",yb),_c=bc=null)}function yb(r){if(r.propertyName==="value"&&Pd(_c)){var s=[];hb(s,_c,r,Wn(r)),gs($R,s)}}function GR(r,s,l){r==="focusin"?(gb(),bc=s,_c=l,bc.attachEvent("onpropertychange",yb)):r==="focusout"&&gb()}function KR(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Pd(_c)}function YR(r,s){if(r==="click")return Pd(s)}function QR(r,s){if(r==="input"||r==="change")return Pd(s)}function XR(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var zn=typeof Object.is=="function"?Object.is:XR;function wc(r,s){if(zn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),u=Object.keys(s);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var p=l[u];if(!Ot.call(s,p)||!zn(r[p],s[p]))return!1}return!0}function vb(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function bb(r,s){var l=vb(r);r=0;for(var u;l;){if(l.nodeType===3){if(u=r+l.textContent.length,r<=s&&u>=s)return{node:l,offset:s-r};r=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=vb(l)}}function _b(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?_b(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function wb(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Ki(r.document);s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=Ki(r.document)}return s}function Gm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var WR=Zn&&"documentMode"in document&&11>=document.documentMode,Vo=null,Km=null,Tc=null,Ym=!1;function Tb(r,s,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ym||Vo==null||Vo!==Ki(u)||(u=Vo,"selectionStart"in u&&Gm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Tc&&wc(Tc,u)||(Tc=u,u=xh(Km,"onSelect"),0<u.length&&(s=new Xi("onSelect","select",null,s,l),r.push({event:s,listeners:u}),s.target=Vo)))}function Pa(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var Po={animationend:Pa("Animation","AnimationEnd"),animationiteration:Pa("Animation","AnimationIteration"),animationstart:Pa("Animation","AnimationStart"),transitionrun:Pa("Transition","TransitionRun"),transitionstart:Pa("Transition","TransitionStart"),transitioncancel:Pa("Transition","TransitionCancel"),transitionend:Pa("Transition","TransitionEnd")},Qm={},Eb={};Zn&&(Eb=document.createElement("div").style,"AnimationEvent"in window||(delete Po.animationend.animation,delete Po.animationiteration.animation,delete Po.animationstart.animation),"TransitionEvent"in window||delete Po.transitionend.transition);function ja(r){if(Qm[r])return Qm[r];if(!Po[r])return r;var s=Po[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in Eb)return Qm[r]=s[l];return r}var xb=ja("animationend"),Sb=ja("animationiteration"),Ab=ja("animationstart"),ZR=ja("transitionrun"),JR=ja("transitionstart"),eN=ja("transitioncancel"),Cb=ja("transitionend"),Rb=new Map,Xm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xm.push("scrollEnd");function Ai(r,s){Rb.set(r,s),$i(s,[r])}var jd=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},ei=[],jo=0,Wm=0;function Ld(){for(var r=jo,s=Wm=jo=0;s<r;){var l=ei[s];ei[s++]=null;var u=ei[s];ei[s++]=null;var p=ei[s];ei[s++]=null;var y=ei[s];if(ei[s++]=null,u!==null&&p!==null){var T=u.pending;T===null?p.next=p:(p.next=T.next,T.next=p),u.pending=p}y!==0&&Nb(l,p,y)}}function Ud(r,s,l,u){ei[jo++]=r,ei[jo++]=s,ei[jo++]=l,ei[jo++]=u,Wm|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Zm(r,s,l,u){return Ud(r,s,l,u),zd(r)}function La(r,s){return Ud(r,null,null,s),zd(r)}function Nb(r,s,l){r.lanes|=l;var u=r.alternate;u!==null&&(u.lanes|=l);for(var p=!1,y=r.return;y!==null;)y.childLanes|=l,u=y.alternate,u!==null&&(u.childLanes|=l),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(p=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,p&&s!==null&&(p=31-Ct(l),r=y.hiddenUpdates,u=r[p],u===null?r[p]=[s]:u.push(s),s.lane=l|536870912),y):null}function zd(r){if(50<Hc)throw Hc=0,og=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Lo={};function tN(r,s,l,u){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(r,s,l,u){return new tN(r,s,l,u)}function Jm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Cr(r,s){var l=r.alternate;return l===null?(l=Bn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function Ib(r,s){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,s=l.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Bd(r,s,l,u,p,y){var T=0;if(u=r,typeof r=="function")Jm(r)&&(T=1);else if(typeof r=="string")T=aI(r,l,de.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case M:return r=Bn(31,l,s,p),r.elementType=M,r.lanes=y,r;case A:return Ua(l.children,p,y,s);case I:T=8,p|=24;break;case U:return r=Bn(12,l,s,p|2),r.elementType=U,r.lanes=y,r;case ne:return r=Bn(13,l,s,p),r.elementType=ne,r.lanes=y,r;case ee:return r=Bn(19,l,s,p),r.elementType=ee,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case j:T=10;break e;case B:T=9;break e;case $:T=11;break e;case S:T=14;break e;case R:T=16,u=null;break e}T=29,l=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=Bn(T,l,s,p),s.elementType=r,s.type=u,s.lanes=y,s}function Ua(r,s,l,u){return r=Bn(7,r,u,s),r.lanes=l,r}function ep(r,s,l){return r=Bn(6,r,null,s),r.lanes=l,r}function kb(r){var s=Bn(18,null,null,0);return s.stateNode=r,s}function tp(r,s,l){return s=Bn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var Db=new WeakMap;function ti(r,s){if(typeof r=="object"&&r!==null){var l=Db.get(r);return l!==void 0?l:(s={value:r,source:s,stack:Jl(s)},Db.set(r,s),s)}return{value:r,source:s,stack:Jl(s)}}var Uo=[],zo=0,Fd=null,Ec=0,ni=[],ii=0,_s=null,er=1,tr="";function Rr(r,s){Uo[zo++]=Ec,Uo[zo++]=Fd,Fd=r,Ec=s}function Mb(r,s,l){ni[ii++]=er,ni[ii++]=tr,ni[ii++]=_s,_s=r;var u=er;r=tr;var p=32-Ct(u)-1;u&=~(1<<p),l+=1;var y=32-Ct(s)+p;if(30<y){var T=p-p%5;y=(u&(1<<T)-1).toString(32),u>>=T,p-=T,er=1<<32-Ct(s)+p|l<<p|u,tr=y+r}else er=1<<y|l<<p|u,tr=r}function np(r){r.return!==null&&(Rr(r,1),Mb(r,1,0))}function ip(r){for(;r===Fd;)Fd=Uo[--zo],Uo[zo]=null,Ec=Uo[--zo],Uo[zo]=null;for(;r===_s;)_s=ni[--ii],ni[ii]=null,tr=ni[--ii],ni[ii]=null,er=ni[--ii],ni[ii]=null}function Ob(r,s){ni[ii++]=er,ni[ii++]=tr,ni[ii++]=_s,er=s.id,tr=s.overflow,_s=r}var rn=null,ft=null,Qe=!1,ws=null,ri=!1,rp=Error(i(519));function Ts(r){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw xc(ti(s,r)),rp}function Vb(r){var s=r.stateNode,l=r.type,u=r.memoizedProps;switch(s[Pt]=r,s[Wt]=u,l){case"dialog":qe("cancel",s),qe("close",s);break;case"iframe":case"object":case"embed":qe("load",s);break;case"video":case"audio":for(l=0;l<Gc.length;l++)qe(Gc[l],s);break;case"source":qe("error",s);break;case"img":case"image":case"link":qe("error",s),qe("load",s);break;case"details":qe("toggle",s);break;case"input":qe("invalid",s),wd(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":qe("invalid",s);break;case"textarea":qe("invalid",s),fs(s,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||u.suppressHydrationWarning===!0||Z1(s.textContent,l)?(u.popover!=null&&(qe("beforetoggle",s),qe("toggle",s)),u.onScroll!=null&&qe("scroll",s),u.onScrollEnd!=null&&qe("scrollend",s),u.onClick!=null&&(s.onclick=wi),s=!0):s=!1,s||Ts(r,!0)}function Pb(r){for(rn=r.return;rn;)switch(rn.tag){case 5:case 31:case 13:ri=!1;return;case 27:case 3:ri=!0;return;default:rn=rn.return}}function Bo(r){if(r!==rn)return!1;if(!Qe)return Pb(r),Qe=!0,!1;var s=r.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||Tg(r.type,r.memoizedProps)),l=!l),l&&ft&&Ts(r),Pb(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));ft=ow(r)}else if(s===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));ft=ow(r)}else s===27?(s=ft,Ps(r.type)?(r=Cg,Cg=null,ft=r):ft=s):ft=rn?ai(r.stateNode.nextSibling):null;return!0}function za(){ft=rn=null,Qe=!1}function sp(){var r=ws;return r!==null&&(In===null?In=r:In.push.apply(In,r),ws=null),r}function xc(r){ws===null?ws=[r]:ws.push(r)}var ap=L(null),Ba=null,Nr=null;function Es(r,s,l){ue(ap,s._currentValue),s._currentValue=l}function Ir(r){r._currentValue=ap.current,J(ap)}function op(r,s,l){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===l)break;r=r.return}}function lp(r,s,l,u){var p=r.child;for(p!==null&&(p.return=r);p!==null;){var y=p.dependencies;if(y!==null){var T=p.child;y=y.firstContext;e:for(;y!==null;){var C=y;y=p;for(var z=0;z<s.length;z++)if(C.context===s[z]){y.lanes|=l,C=y.alternate,C!==null&&(C.lanes|=l),op(y.return,l,r),u||(T=null);break e}y=C.next}}else if(p.tag===18){if(T=p.return,T===null)throw Error(i(341));T.lanes|=l,y=T.alternate,y!==null&&(y.lanes|=l),op(T,l,r),T=null}else T=p.child;if(T!==null)T.return=p;else for(T=p;T!==null;){if(T===r){T=null;break}if(p=T.sibling,p!==null){p.return=T.return,T=p;break}T=T.return}p=T}}function Fo(r,s,l,u){r=null;for(var p=s,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var T=p.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var C=p.type;zn(p.pendingProps.value,T.value)||(r!==null?r.push(C):r=[C])}}else if(p===_e.current){if(T=p.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(r!==null?r.push(Wc):r=[Wc])}p=p.return}r!==null&&lp(s,r,l,u),s.flags|=262144}function qd(r){for(r=r.firstContext;r!==null;){if(!zn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Fa(r){Ba=r,Nr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function sn(r){return jb(Ba,r)}function Hd(r,s){return Ba===null&&Fa(r),jb(r,s)}function jb(r,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Nr===null){if(r===null)throw Error(i(308));Nr=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Nr=Nr.next=s;return l}var nN=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(l,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(l){return l()})}},iN=t.unstable_scheduleCallback,rN=t.unstable_NormalPriority,Ut={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cp(){return{controller:new nN,data:new Map,refCount:0}}function Sc(r){r.refCount--,r.refCount===0&&iN(rN,function(){r.controller.abort()})}var Ac=null,up=0,qo=0,Ho=null;function sN(r,s){if(Ac===null){var l=Ac=[];up=0,qo=fg(),Ho={status:"pending",value:void 0,then:function(u){l.push(u)}}}return up++,s.then(Lb,Lb),s}function Lb(){if(--up===0&&Ac!==null){Ho!==null&&(Ho.status="fulfilled");var r=Ac;Ac=null,qo=0,Ho=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function aN(r,s){var l=[],u={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var p=0;p<l.length;p++)(0,l[p])(s)},function(p){for(u.status="rejected",u.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),u}var Ub=K.S;K.S=function(r,s){T1=wn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&sN(r,s),Ub!==null&&Ub(r,s)};var qa=L(null);function dp(){var r=qa.current;return r!==null?r:ut.pooledCache}function $d(r,s){s===null?ue(qa,qa.current):ue(qa,s.pool)}function zb(){var r=dp();return r===null?null:{parent:Ut._currentValue,pool:r}}var $o=Error(i(460)),hp=Error(i(474)),Gd=Error(i(542)),Kd={then:function(){}};function Bb(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Fb(r,s,l){switch(l=r[l],l===void 0?r.push(s):l!==s&&(s.then(wi,wi),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Hb(r),r;default:if(typeof s.status=="string")s.then(wi,wi);else{if(r=ut,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=u}},function(u){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Hb(r),r}throw $a=s,$o}}function Ha(r){try{var s=r._init;return s(r._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?($a=l,$o):l}}var $a=null;function qb(){if($a===null)throw Error(i(459));var r=$a;return $a=null,r}function Hb(r){if(r===$o||r===Gd)throw Error(i(483))}var Go=null,Cc=0;function Yd(r){var s=Cc;return Cc+=1,Go===null&&(Go=[]),Fb(Go,r,s)}function Rc(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function Qd(r,s){throw s.$$typeof===_?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function $b(r){function s(H,q){if(r){var Y=H.deletions;Y===null?(H.deletions=[q],H.flags|=16):Y.push(q)}}function l(H,q){if(!r)return null;for(;q!==null;)s(H,q),q=q.sibling;return null}function u(H){for(var q=new Map;H!==null;)H.key!==null?q.set(H.key,H):q.set(H.index,H),H=H.sibling;return q}function p(H,q){return H=Cr(H,q),H.index=0,H.sibling=null,H}function y(H,q,Y){return H.index=Y,r?(Y=H.alternate,Y!==null?(Y=Y.index,Y<q?(H.flags|=67108866,q):Y):(H.flags|=67108866,q)):(H.flags|=1048576,q)}function T(H){return r&&H.alternate===null&&(H.flags|=67108866),H}function C(H,q,Y,ie){return q===null||q.tag!==6?(q=ep(Y,H.mode,ie),q.return=H,q):(q=p(q,Y),q.return=H,q)}function z(H,q,Y,ie){var Ee=Y.type;return Ee===A?te(H,q,Y.props.children,ie,Y.key):q!==null&&(q.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===R&&Ha(Ee)===q.type)?(q=p(q,Y.props),Rc(q,Y),q.return=H,q):(q=Bd(Y.type,Y.key,Y.props,null,H.mode,ie),Rc(q,Y),q.return=H,q)}function Q(H,q,Y,ie){return q===null||q.tag!==4||q.stateNode.containerInfo!==Y.containerInfo||q.stateNode.implementation!==Y.implementation?(q=tp(Y,H.mode,ie),q.return=H,q):(q=p(q,Y.children||[]),q.return=H,q)}function te(H,q,Y,ie,Ee){return q===null||q.tag!==7?(q=Ua(Y,H.mode,ie,Ee),q.return=H,q):(q=p(q,Y),q.return=H,q)}function se(H,q,Y){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=ep(""+q,H.mode,Y),q.return=H,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case x:return Y=Bd(q.type,q.key,q.props,null,H.mode,Y),Rc(Y,q),Y.return=H,Y;case k:return q=tp(q,H.mode,Y),q.return=H,q;case R:return q=Ha(q),se(H,q,Y)}if(Ce(q)||F(q))return q=Ua(q,H.mode,Y,null),q.return=H,q;if(typeof q.then=="function")return se(H,Yd(q),Y);if(q.$$typeof===j)return se(H,Hd(H,q),Y);Qd(H,q)}return null}function X(H,q,Y,ie){var Ee=q!==null?q.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Ee!==null?null:C(H,q,""+Y,ie);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case x:return Y.key===Ee?z(H,q,Y,ie):null;case k:return Y.key===Ee?Q(H,q,Y,ie):null;case R:return Y=Ha(Y),X(H,q,Y,ie)}if(Ce(Y)||F(Y))return Ee!==null?null:te(H,q,Y,ie,null);if(typeof Y.then=="function")return X(H,q,Yd(Y),ie);if(Y.$$typeof===j)return X(H,q,Hd(H,Y),ie);Qd(H,Y)}return null}function Z(H,q,Y,ie,Ee){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return H=H.get(Y)||null,C(q,H,""+ie,Ee);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case x:return H=H.get(ie.key===null?Y:ie.key)||null,z(q,H,ie,Ee);case k:return H=H.get(ie.key===null?Y:ie.key)||null,Q(q,H,ie,Ee);case R:return ie=Ha(ie),Z(H,q,Y,ie,Ee)}if(Ce(ie)||F(ie))return H=H.get(Y)||null,te(q,H,ie,Ee,null);if(typeof ie.then=="function")return Z(H,q,Y,Yd(ie),Ee);if(ie.$$typeof===j)return Z(H,q,Y,Hd(q,ie),Ee);Qd(q,ie)}return null}function ve(H,q,Y,ie){for(var Ee=null,We=null,be=q,ze=q=0,$e=null;be!==null&&ze<Y.length;ze++){be.index>ze?($e=be,be=null):$e=be.sibling;var Ze=X(H,be,Y[ze],ie);if(Ze===null){be===null&&(be=$e);break}r&&be&&Ze.alternate===null&&s(H,be),q=y(Ze,q,ze),We===null?Ee=Ze:We.sibling=Ze,We=Ze,be=$e}if(ze===Y.length)return l(H,be),Qe&&Rr(H,ze),Ee;if(be===null){for(;ze<Y.length;ze++)be=se(H,Y[ze],ie),be!==null&&(q=y(be,q,ze),We===null?Ee=be:We.sibling=be,We=be);return Qe&&Rr(H,ze),Ee}for(be=u(be);ze<Y.length;ze++)$e=Z(be,H,ze,Y[ze],ie),$e!==null&&(r&&$e.alternate!==null&&be.delete($e.key===null?ze:$e.key),q=y($e,q,ze),We===null?Ee=$e:We.sibling=$e,We=$e);return r&&be.forEach(function(Bs){return s(H,Bs)}),Qe&&Rr(H,ze),Ee}function Re(H,q,Y,ie){if(Y==null)throw Error(i(151));for(var Ee=null,We=null,be=q,ze=q=0,$e=null,Ze=Y.next();be!==null&&!Ze.done;ze++,Ze=Y.next()){be.index>ze?($e=be,be=null):$e=be.sibling;var Bs=X(H,be,Ze.value,ie);if(Bs===null){be===null&&(be=$e);break}r&&be&&Bs.alternate===null&&s(H,be),q=y(Bs,q,ze),We===null?Ee=Bs:We.sibling=Bs,We=Bs,be=$e}if(Ze.done)return l(H,be),Qe&&Rr(H,ze),Ee;if(be===null){for(;!Ze.done;ze++,Ze=Y.next())Ze=se(H,Ze.value,ie),Ze!==null&&(q=y(Ze,q,ze),We===null?Ee=Ze:We.sibling=Ze,We=Ze);return Qe&&Rr(H,ze),Ee}for(be=u(be);!Ze.done;ze++,Ze=Y.next())Ze=Z(be,H,ze,Ze.value,ie),Ze!==null&&(r&&Ze.alternate!==null&&be.delete(Ze.key===null?ze:Ze.key),q=y(Ze,q,ze),We===null?Ee=Ze:We.sibling=Ze,We=Ze);return r&&be.forEach(function(yI){return s(H,yI)}),Qe&&Rr(H,ze),Ee}function ct(H,q,Y,ie){if(typeof Y=="object"&&Y!==null&&Y.type===A&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case x:e:{for(var Ee=Y.key;q!==null;){if(q.key===Ee){if(Ee=Y.type,Ee===A){if(q.tag===7){l(H,q.sibling),ie=p(q,Y.props.children),ie.return=H,H=ie;break e}}else if(q.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===R&&Ha(Ee)===q.type){l(H,q.sibling),ie=p(q,Y.props),Rc(ie,Y),ie.return=H,H=ie;break e}l(H,q);break}else s(H,q);q=q.sibling}Y.type===A?(ie=Ua(Y.props.children,H.mode,ie,Y.key),ie.return=H,H=ie):(ie=Bd(Y.type,Y.key,Y.props,null,H.mode,ie),Rc(ie,Y),ie.return=H,H=ie)}return T(H);case k:e:{for(Ee=Y.key;q!==null;){if(q.key===Ee)if(q.tag===4&&q.stateNode.containerInfo===Y.containerInfo&&q.stateNode.implementation===Y.implementation){l(H,q.sibling),ie=p(q,Y.children||[]),ie.return=H,H=ie;break e}else{l(H,q);break}else s(H,q);q=q.sibling}ie=tp(Y,H.mode,ie),ie.return=H,H=ie}return T(H);case R:return Y=Ha(Y),ct(H,q,Y,ie)}if(Ce(Y))return ve(H,q,Y,ie);if(F(Y)){if(Ee=F(Y),typeof Ee!="function")throw Error(i(150));return Y=Ee.call(Y),Re(H,q,Y,ie)}if(typeof Y.then=="function")return ct(H,q,Yd(Y),ie);if(Y.$$typeof===j)return ct(H,q,Hd(H,Y),ie);Qd(H,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,q!==null&&q.tag===6?(l(H,q.sibling),ie=p(q,Y),ie.return=H,H=ie):(l(H,q),ie=ep(Y,H.mode,ie),ie.return=H,H=ie),T(H)):l(H,q)}return function(H,q,Y,ie){try{Cc=0;var Ee=ct(H,q,Y,ie);return Go=null,Ee}catch(be){if(be===$o||be===Gd)throw be;var We=Bn(29,be,null,H.mode);return We.lanes=ie,We.return=H,We}finally{}}}var Ga=$b(!0),Gb=$b(!1),xs=!1;function fp(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mp(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ss(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function As(r,s,l){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(tt&2)!==0){var p=u.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),u.pending=s,s=zd(r),Nb(r,null,l),s}return Ud(r,u,s,l),zd(r)}function Nc(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var u=s.lanes;u&=r.pendingLanes,l|=u,s.lanes=l,nc(r,l)}}function pp(r,s){var l=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?p=y=T:y=y.next=T,l=l.next}while(l!==null);y===null?p=y=s:y=y.next=s}else p=y=s;l={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}var gp=!1;function Ic(){if(gp){var r=Ho;if(r!==null)throw r}}function kc(r,s,l,u){gp=!1;var p=r.updateQueue;xs=!1;var y=p.firstBaseUpdate,T=p.lastBaseUpdate,C=p.shared.pending;if(C!==null){p.shared.pending=null;var z=C,Q=z.next;z.next=null,T===null?y=Q:T.next=Q,T=z;var te=r.alternate;te!==null&&(te=te.updateQueue,C=te.lastBaseUpdate,C!==T&&(C===null?te.firstBaseUpdate=Q:C.next=Q,te.lastBaseUpdate=z))}if(y!==null){var se=p.baseState;T=0,te=Q=z=null,C=y;do{var X=C.lane&-536870913,Z=X!==C.lane;if(Z?(He&X)===X:(u&X)===X){X!==0&&X===qo&&(gp=!0),te!==null&&(te=te.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var ve=r,Re=C;X=s;var ct=l;switch(Re.tag){case 1:if(ve=Re.payload,typeof ve=="function"){se=ve.call(ct,se,X);break e}se=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=Re.payload,X=typeof ve=="function"?ve.call(ct,se,X):ve,X==null)break e;se=v({},se,X);break e;case 2:xs=!0}}X=C.callback,X!==null&&(r.flags|=64,Z&&(r.flags|=8192),Z=p.callbacks,Z===null?p.callbacks=[X]:Z.push(X))}else Z={lane:X,tag:C.tag,payload:C.payload,callback:C.callback,next:null},te===null?(Q=te=Z,z=se):te=te.next=Z,T|=X;if(C=C.next,C===null){if(C=p.shared.pending,C===null)break;Z=C,C=Z.next,Z.next=null,p.lastBaseUpdate=Z,p.shared.pending=null}}while(!0);te===null&&(z=se),p.baseState=z,p.firstBaseUpdate=Q,p.lastBaseUpdate=te,y===null&&(p.shared.lanes=0),ks|=T,r.lanes=T,r.memoizedState=se}}function Kb(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function Yb(r,s){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)Kb(l[r],s)}var Ko=L(null),Xd=L(0);function Qb(r,s){r=Ur,ue(Xd,r),ue(Ko,s),Ur=r|s.baseLanes}function yp(){ue(Xd,Ur),ue(Ko,Ko.current)}function vp(){Ur=Xd.current,J(Ko),J(Xd)}var Fn=L(null),si=null;function Cs(r){var s=r.alternate;ue(Nt,Nt.current&1),ue(Fn,r),si===null&&(s===null||Ko.current!==null||s.memoizedState!==null)&&(si=r)}function bp(r){ue(Nt,Nt.current),ue(Fn,r),si===null&&(si=r)}function Xb(r){r.tag===22?(ue(Nt,Nt.current),ue(Fn,r),si===null&&(si=r)):Rs()}function Rs(){ue(Nt,Nt.current),ue(Fn,Fn.current)}function qn(r){J(Fn),si===r&&(si=null),J(Nt)}var Nt=L(0);function Wd(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Sg(l)||Ag(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var kr=0,Ue=null,ot=null,zt=null,Zd=!1,Yo=!1,Ka=!1,Jd=0,Dc=0,Qo=null,oN=0;function Et(){throw Error(i(321))}function _p(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!zn(r[l],s[l]))return!1;return!0}function wp(r,s,l,u,p,y){return kr=y,Ue=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,K.H=r===null||r.memoizedState===null?M_:Pp,Ka=!1,y=l(u,p),Ka=!1,Yo&&(y=Zb(s,l,u,p)),Wb(r),y}function Wb(r){K.H=Vc;var s=ot!==null&&ot.next!==null;if(kr=0,zt=ot=Ue=null,Zd=!1,Dc=0,Qo=null,s)throw Error(i(300));r===null||Bt||(r=r.dependencies,r!==null&&qd(r)&&(Bt=!0))}function Zb(r,s,l,u){Ue=r;var p=0;do{if(Yo&&(Qo=null),Dc=0,Yo=!1,25<=p)throw Error(i(301));if(p+=1,zt=ot=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}K.H=O_,y=s(l,u)}while(Yo);return y}function lN(){var r=K.H,s=r.useState()[0];return s=typeof s.then=="function"?Mc(s):s,r=r.useState()[0],(ot!==null?ot.memoizedState:null)!==r&&(Ue.flags|=1024),s}function Tp(){var r=Jd!==0;return Jd=0,r}function Ep(r,s,l){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~l}function xp(r){if(Zd){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Zd=!1}kr=0,zt=ot=Ue=null,Yo=!1,Dc=Jd=0,Qo=null}function En(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?Ue.memoizedState=zt=r:zt=zt.next=r,zt}function It(){if(ot===null){var r=Ue.alternate;r=r!==null?r.memoizedState:null}else r=ot.next;var s=zt===null?Ue.memoizedState:zt.next;if(s!==null)zt=s,ot=r;else{if(r===null)throw Ue.alternate===null?Error(i(467)):Error(i(310));ot=r,r={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},zt===null?Ue.memoizedState=zt=r:zt=zt.next=r}return zt}function eh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Mc(r){var s=Dc;return Dc+=1,Qo===null&&(Qo=[]),r=Fb(Qo,r,s),s=Ue,(zt===null?s.memoizedState:zt.next)===null&&(s=s.alternate,K.H=s===null||s.memoizedState===null?M_:Pp),r}function th(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Mc(r);if(r.$$typeof===j)return sn(r)}throw Error(i(438,String(r)))}function Sp(r){var s=null,l=Ue.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var u=Ue.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=eh(),Ue.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(r),u=0;u<r;u++)l[u]=V;return s.index++,l}function Dr(r,s){return typeof s=="function"?s(r):s}function nh(r){var s=It();return Ap(s,ot,r)}function Ap(r,s,l){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var p=r.baseQueue,y=u.pending;if(y!==null){if(p!==null){var T=p.next;p.next=y.next,y.next=T}s.baseQueue=p=y,u.pending=null}if(y=r.baseState,p===null)r.memoizedState=y;else{s=p.next;var C=T=null,z=null,Q=s,te=!1;do{var se=Q.lane&-536870913;if(se!==Q.lane?(He&se)===se:(kr&se)===se){var X=Q.revertLane;if(X===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),se===qo&&(te=!0);else if((kr&X)===X){Q=Q.next,X===qo&&(te=!0);continue}else se={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},z===null?(C=z=se,T=y):z=z.next=se,Ue.lanes|=X,ks|=X;se=Q.action,Ka&&l(y,se),y=Q.hasEagerState?Q.eagerState:l(y,se)}else X={lane:se,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},z===null?(C=z=X,T=y):z=z.next=X,Ue.lanes|=se,ks|=se;Q=Q.next}while(Q!==null&&Q!==s);if(z===null?T=y:z.next=C,!zn(y,r.memoizedState)&&(Bt=!0,te&&(l=Ho,l!==null)))throw l;r.memoizedState=y,r.baseState=T,r.baseQueue=z,u.lastRenderedState=y}return p===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Cp(r){var s=It(),l=s.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=r;var u=l.dispatch,p=l.pending,y=s.memoizedState;if(p!==null){l.pending=null;var T=p=p.next;do y=r(y,T.action),T=T.next;while(T!==p);zn(y,s.memoizedState)||(Bt=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,u]}function Jb(r,s,l){var u=Ue,p=It(),y=Qe;if(y){if(l===void 0)throw Error(i(407));l=l()}else l=s();var T=!zn((ot||p).memoizedState,l);if(T&&(p.memoizedState=l,Bt=!0),p=p.queue,Ip(n_.bind(null,u,p,r),[r]),p.getSnapshot!==s||T||zt!==null&&zt.memoizedState.tag&1){if(u.flags|=2048,Xo(9,{destroy:void 0},t_.bind(null,u,p,l,s),null),ut===null)throw Error(i(349));y||(kr&127)!==0||e_(u,s,l)}return l}function e_(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=Ue.updateQueue,s===null?(s=eh(),Ue.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function t_(r,s,l,u){s.value=l,s.getSnapshot=u,i_(s)&&r_(r)}function n_(r,s,l){return l(function(){i_(s)&&r_(r)})}function i_(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!zn(r,l)}catch{return!0}}function r_(r){var s=La(r,2);s!==null&&kn(s,r,2)}function Rp(r){var s=En();if(typeof r=="function"){var l=r;if(r=l(),Ka){Qn(!0);try{l()}finally{Qn(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:r},s}function s_(r,s,l,u){return r.baseState=l,Ap(r,ot,typeof u=="function"?u:Dr)}function cN(r,s,l,u,p){if(sh(r))throw Error(i(485));if(r=s.action,r!==null){var y={payload:p,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){y.listeners.push(T)}};K.T!==null?l(!0):y.isTransition=!1,u(y),l=s.pending,l===null?(y.next=s.pending=y,a_(s,y)):(y.next=l.next,s.pending=l.next=y)}}function a_(r,s){var l=s.action,u=s.payload,p=r.state;if(s.isTransition){var y=K.T,T={};K.T=T;try{var C=l(p,u),z=K.S;z!==null&&z(T,C),o_(r,s,C)}catch(Q){Np(r,s,Q)}finally{y!==null&&T.types!==null&&(y.types=T.types),K.T=y}}else try{y=l(p,u),o_(r,s,y)}catch(Q){Np(r,s,Q)}}function o_(r,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){l_(r,s,u)},function(u){return Np(r,s,u)}):l_(r,s,l)}function l_(r,s,l){s.status="fulfilled",s.value=l,c_(s),r.state=l,s=r.pending,s!==null&&(l=s.next,l===s?r.pending=null:(l=l.next,s.next=l,a_(r,l)))}function Np(r,s,l){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=l,c_(s),s=s.next;while(s!==u)}r.action=null}function c_(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function u_(r,s){return s}function d_(r,s){if(Qe){var l=ut.formState;if(l!==null){e:{var u=Ue;if(Qe){if(ft){t:{for(var p=ft,y=ri;p.nodeType!==8;){if(!y){p=null;break t}if(p=ai(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){ft=ai(p.nextSibling),u=p.data==="F!";break e}}Ts(u)}u=!1}u&&(s=l[0])}}return l=En(),l.memoizedState=l.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u_,lastRenderedState:s},l.queue=u,l=I_.bind(null,Ue,u),u.dispatch=l,u=Rp(!1),y=Vp.bind(null,Ue,!1,u.queue),u=En(),p={state:s,dispatch:null,action:r,pending:null},u.queue=p,l=cN.bind(null,Ue,p,y,l),p.dispatch=l,u.memoizedState=r,[s,l,!1]}function h_(r){var s=It();return f_(s,ot,r)}function f_(r,s,l){if(s=Ap(r,s,u_)[0],r=nh(Dr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Mc(s)}catch(T){throw T===$o?Gd:T}else u=s;s=It();var p=s.queue,y=p.dispatch;return l!==s.memoizedState&&(Ue.flags|=2048,Xo(9,{destroy:void 0},uN.bind(null,p,l),null)),[u,y,r]}function uN(r,s){r.action=s}function m_(r){var s=It(),l=ot;if(l!==null)return f_(s,l,r);It(),s=s.memoizedState,l=It();var u=l.queue.dispatch;return l.memoizedState=r,[s,u,!1]}function Xo(r,s,l,u){return r={tag:r,create:l,deps:u,inst:s,next:null},s=Ue.updateQueue,s===null&&(s=eh(),Ue.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=r.next=r:(u=l.next,l.next=r,r.next=u,s.lastEffect=r),r}function p_(){return It().memoizedState}function ih(r,s,l,u){var p=En();Ue.flags|=r,p.memoizedState=Xo(1|s,{destroy:void 0},l,u===void 0?null:u)}function rh(r,s,l,u){var p=It();u=u===void 0?null:u;var y=p.memoizedState.inst;ot!==null&&u!==null&&_p(u,ot.memoizedState.deps)?p.memoizedState=Xo(s,y,l,u):(Ue.flags|=r,p.memoizedState=Xo(1|s,y,l,u))}function g_(r,s){ih(8390656,8,r,s)}function Ip(r,s){rh(2048,8,r,s)}function dN(r){Ue.flags|=4;var s=Ue.updateQueue;if(s===null)s=eh(),Ue.updateQueue=s,s.events=[r];else{var l=s.events;l===null?s.events=[r]:l.push(r)}}function y_(r){var s=It().memoizedState;return dN({ref:s,nextImpl:r}),function(){if((tt&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function v_(r,s){return rh(4,2,r,s)}function b_(r,s){return rh(4,4,r,s)}function __(r,s){if(typeof s=="function"){r=r();var l=s(r);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function w_(r,s,l){l=l!=null?l.concat([r]):null,rh(4,4,__.bind(null,s,r),l)}function kp(){}function T_(r,s){var l=It();s=s===void 0?null:s;var u=l.memoizedState;return s!==null&&_p(s,u[1])?u[0]:(l.memoizedState=[r,s],r)}function E_(r,s){var l=It();s=s===void 0?null:s;var u=l.memoizedState;if(s!==null&&_p(s,u[1]))return u[0];if(u=r(),Ka){Qn(!0);try{r()}finally{Qn(!1)}}return l.memoizedState=[u,s],u}function Dp(r,s,l){return l===void 0||(kr&1073741824)!==0&&(He&261930)===0?r.memoizedState=s:(r.memoizedState=l,r=x1(),Ue.lanes|=r,ks|=r,l)}function x_(r,s,l,u){return zn(l,s)?l:Ko.current!==null?(r=Dp(r,l,u),zn(r,s)||(Bt=!0),r):(kr&42)===0||(kr&1073741824)!==0&&(He&261930)===0?(Bt=!0,r.memoizedState=l):(r=x1(),Ue.lanes|=r,ks|=r,s)}function S_(r,s,l,u,p){var y=ce.p;ce.p=y!==0&&8>y?y:8;var T=K.T,C={};K.T=C,Vp(r,!1,s,l);try{var z=p(),Q=K.S;if(Q!==null&&Q(C,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var te=aN(z,u);Oc(r,s,te,Gn(r))}else Oc(r,s,u,Gn(r))}catch(se){Oc(r,s,{then:function(){},status:"rejected",reason:se},Gn())}finally{ce.p=y,T!==null&&C.types!==null&&(T.types=C.types),K.T=T}}function hN(){}function Mp(r,s,l,u){if(r.tag!==5)throw Error(i(476));var p=A_(r).queue;S_(r,p,s,pe,l===null?hN:function(){return C_(r),l(u)})}function A_(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:pe},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:l},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function C_(r){var s=A_(r);s.next===null&&(s=r.alternate.memoizedState),Oc(r,s.next.queue,{},Gn())}function Op(){return sn(Wc)}function R_(){return It().memoizedState}function N_(){return It().memoizedState}function fN(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var l=Gn();r=Ss(l);var u=As(s,r,l);u!==null&&(kn(u,s,l),Nc(u,s,l)),s={cache:cp()},r.payload=s;return}s=s.return}}function mN(r,s,l){var u=Gn();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},sh(r)?k_(s,l):(l=Zm(r,s,l,u),l!==null&&(kn(l,r,u),D_(l,s,u)))}function I_(r,s,l){var u=Gn();Oc(r,s,l,u)}function Oc(r,s,l,u){var p={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(sh(r))k_(s,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var T=s.lastRenderedState,C=y(T,l);if(p.hasEagerState=!0,p.eagerState=C,zn(C,T))return Ud(r,s,p,0),ut===null&&Ld(),!1}catch{}finally{}if(l=Zm(r,s,p,u),l!==null)return kn(l,r,u),D_(l,s,u),!0}return!1}function Vp(r,s,l,u){if(u={lane:2,revertLane:fg(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},sh(r)){if(s)throw Error(i(479))}else s=Zm(r,l,u,2),s!==null&&kn(s,r,2)}function sh(r){var s=r.alternate;return r===Ue||s!==null&&s===Ue}function k_(r,s){Yo=Zd=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function D_(r,s,l){if((l&4194048)!==0){var u=s.lanes;u&=r.pendingLanes,l|=u,s.lanes=l,nc(r,l)}}var Vc={readContext:sn,use:th,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et};Vc.useEffectEvent=Et;var M_={readContext:sn,use:th,useCallback:function(r,s){return En().memoizedState=[r,s===void 0?null:s],r},useContext:sn,useEffect:g_,useImperativeHandle:function(r,s,l){l=l!=null?l.concat([r]):null,ih(4194308,4,__.bind(null,s,r),l)},useLayoutEffect:function(r,s){return ih(4194308,4,r,s)},useInsertionEffect:function(r,s){ih(4,2,r,s)},useMemo:function(r,s){var l=En();s=s===void 0?null:s;var u=r();if(Ka){Qn(!0);try{r()}finally{Qn(!1)}}return l.memoizedState=[u,s],u},useReducer:function(r,s,l){var u=En();if(l!==void 0){var p=l(s);if(Ka){Qn(!0);try{l(s)}finally{Qn(!1)}}}else p=s;return u.memoizedState=u.baseState=p,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:p},u.queue=r,r=r.dispatch=mN.bind(null,Ue,r),[u.memoizedState,r]},useRef:function(r){var s=En();return r={current:r},s.memoizedState=r},useState:function(r){r=Rp(r);var s=r.queue,l=I_.bind(null,Ue,s);return s.dispatch=l,[r.memoizedState,l]},useDebugValue:kp,useDeferredValue:function(r,s){var l=En();return Dp(l,r,s)},useTransition:function(){var r=Rp(!1);return r=S_.bind(null,Ue,r.queue,!0,!1),En().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,l){var u=Ue,p=En();if(Qe){if(l===void 0)throw Error(i(407));l=l()}else{if(l=s(),ut===null)throw Error(i(349));(He&127)!==0||e_(u,s,l)}p.memoizedState=l;var y={value:l,getSnapshot:s};return p.queue=y,g_(n_.bind(null,u,y,r),[r]),u.flags|=2048,Xo(9,{destroy:void 0},t_.bind(null,u,y,l,s),null),l},useId:function(){var r=En(),s=ut.identifierPrefix;if(Qe){var l=tr,u=er;l=(u&~(1<<32-Ct(u)-1)).toString(32)+l,s="_"+s+"R_"+l,l=Jd++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=oN++,s="_"+s+"r_"+l.toString(32)+"_";return r.memoizedState=s},useHostTransitionStatus:Op,useFormState:d_,useActionState:d_,useOptimistic:function(r){var s=En();s.memoizedState=s.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Vp.bind(null,Ue,!0,l),l.dispatch=s,[r,s]},useMemoCache:Sp,useCacheRefresh:function(){return En().memoizedState=fN.bind(null,Ue)},useEffectEvent:function(r){var s=En(),l={impl:r};return s.memoizedState=l,function(){if((tt&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},Pp={readContext:sn,use:th,useCallback:T_,useContext:sn,useEffect:Ip,useImperativeHandle:w_,useInsertionEffect:v_,useLayoutEffect:b_,useMemo:E_,useReducer:nh,useRef:p_,useState:function(){return nh(Dr)},useDebugValue:kp,useDeferredValue:function(r,s){var l=It();return x_(l,ot.memoizedState,r,s)},useTransition:function(){var r=nh(Dr)[0],s=It().memoizedState;return[typeof r=="boolean"?r:Mc(r),s]},useSyncExternalStore:Jb,useId:R_,useHostTransitionStatus:Op,useFormState:h_,useActionState:h_,useOptimistic:function(r,s){var l=It();return s_(l,ot,r,s)},useMemoCache:Sp,useCacheRefresh:N_};Pp.useEffectEvent=y_;var O_={readContext:sn,use:th,useCallback:T_,useContext:sn,useEffect:Ip,useImperativeHandle:w_,useInsertionEffect:v_,useLayoutEffect:b_,useMemo:E_,useReducer:Cp,useRef:p_,useState:function(){return Cp(Dr)},useDebugValue:kp,useDeferredValue:function(r,s){var l=It();return ot===null?Dp(l,r,s):x_(l,ot.memoizedState,r,s)},useTransition:function(){var r=Cp(Dr)[0],s=It().memoizedState;return[typeof r=="boolean"?r:Mc(r),s]},useSyncExternalStore:Jb,useId:R_,useHostTransitionStatus:Op,useFormState:m_,useActionState:m_,useOptimistic:function(r,s){var l=It();return ot!==null?s_(l,ot,r,s):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:Sp,useCacheRefresh:N_};O_.useEffectEvent=y_;function jp(r,s,l,u){s=r.memoizedState,l=l(u,s),l=l==null?s:v({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Lp={enqueueSetState:function(r,s,l){r=r._reactInternals;var u=Gn(),p=Ss(u);p.payload=s,l!=null&&(p.callback=l),s=As(r,p,u),s!==null&&(kn(s,r,u),Nc(s,r,u))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var u=Gn(),p=Ss(u);p.tag=1,p.payload=s,l!=null&&(p.callback=l),s=As(r,p,u),s!==null&&(kn(s,r,u),Nc(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=Gn(),u=Ss(l);u.tag=2,s!=null&&(u.callback=s),s=As(r,u,l),s!==null&&(kn(s,r,l),Nc(s,r,l))}};function V_(r,s,l,u,p,y,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,y,T):s.prototype&&s.prototype.isPureReactComponent?!wc(l,u)||!wc(p,y):!0}function P_(r,s,l,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,u),s.state!==r&&Lp.enqueueReplaceState(s,s.state,null)}function Ya(r,s){var l=s;if("ref"in s){l={};for(var u in s)u!=="ref"&&(l[u]=s[u])}if(r=r.defaultProps){l===s&&(l=v({},l));for(var p in r)l[p]===void 0&&(l[p]=r[p])}return l}function j_(r){jd(r)}function L_(r){console.error(r)}function U_(r){jd(r)}function ah(r,s){try{var l=r.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function z_(r,s,l){try{var u=r.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Up(r,s,l){return l=Ss(l),l.tag=3,l.payload={element:null},l.callback=function(){ah(r,s)},l}function B_(r){return r=Ss(r),r.tag=3,r}function F_(r,s,l,u){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var y=u.value;r.payload=function(){return p(y)},r.callback=function(){z_(s,l,u)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){z_(s,l,u),typeof p!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var C=u.stack;this.componentDidCatch(u.value,{componentStack:C!==null?C:""})})}function pN(r,s,l,u,p){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=l.alternate,s!==null&&Fo(s,l,p,!0),l=Fn.current,l!==null){switch(l.tag){case 31:case 13:return si===null?vh():l.alternate===null&&xt===0&&(xt=3),l.flags&=-257,l.flags|=65536,l.lanes=p,u===Kd?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([u]):s.add(u),ug(r,u,p)),!1;case 22:return l.flags|=65536,u===Kd?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([u]):l.add(u)),ug(r,u,p)),!1}throw Error(i(435,l.tag))}return ug(r,u,p),vh(),!1}if(Qe)return s=Fn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,u!==rp&&(r=Error(i(422),{cause:u}),xc(ti(r,l)))):(u!==rp&&(s=Error(i(423),{cause:u}),xc(ti(s,l))),r=r.current.alternate,r.flags|=65536,p&=-p,r.lanes|=p,u=ti(u,l),p=Up(r.stateNode,u,p),pp(r,p),xt!==4&&(xt=2)),!1;var y=Error(i(520),{cause:u});if(y=ti(y,l),qc===null?qc=[y]:qc.push(y),xt!==4&&(xt=2),s===null)return!0;u=ti(u,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,r=p&-p,l.lanes|=r,r=Up(l.stateNode,u,r),pp(l,r),!1;case 1:if(s=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ds===null||!Ds.has(y))))return l.flags|=65536,p&=-p,l.lanes|=p,p=B_(p),F_(p,r,l,u),pp(l,p),!1}l=l.return}while(l!==null);return!1}var zp=Error(i(461)),Bt=!1;function an(r,s,l,u){s.child=r===null?Gb(s,null,l,u):Ga(s,r.child,l,u)}function q_(r,s,l,u,p){l=l.render;var y=s.ref;if("ref"in u){var T={};for(var C in u)C!=="ref"&&(T[C]=u[C])}else T=u;return Fa(s),u=wp(r,s,l,T,y,p),C=Tp(),r!==null&&!Bt?(Ep(r,s,p),Mr(r,s,p)):(Qe&&C&&np(s),s.flags|=1,an(r,s,u,p),s.child)}function H_(r,s,l,u,p){if(r===null){var y=l.type;return typeof y=="function"&&!Jm(y)&&y.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=y,$_(r,s,y,u,p)):(r=Bd(l.type,null,u,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,!Yp(r,p)){var T=y.memoizedProps;if(l=l.compare,l=l!==null?l:wc,l(T,u)&&r.ref===s.ref)return Mr(r,s,p)}return s.flags|=1,r=Cr(y,u),r.ref=s.ref,r.return=s,s.child=r}function $_(r,s,l,u,p){if(r!==null){var y=r.memoizedProps;if(wc(y,u)&&r.ref===s.ref)if(Bt=!1,s.pendingProps=u=y,Yp(r,p))(r.flags&131072)!==0&&(Bt=!0);else return s.lanes=r.lanes,Mr(r,s,p)}return Bp(r,s,l,u,p)}function G_(r,s,l,u){var p=u.children,y=r!==null?r.memoizedState:null;if(r===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(y=y!==null?y.baseLanes|l:l,r!==null){for(u=s.child=r.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;u=p&~y}else u=0,s.child=null;return K_(r,s,y,l,u)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&$d(s,y!==null?y.cachePool:null),y!==null?Qb(s,y):yp(),Xb(s);else return u=s.lanes=536870912,K_(r,s,y!==null?y.baseLanes|l:l,l,u)}else y!==null?($d(s,y.cachePool),Qb(s,y),Rs(),s.memoizedState=null):(r!==null&&$d(s,null),yp(),Rs());return an(r,s,p,l),s.child}function Pc(r,s){return r!==null&&r.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function K_(r,s,l,u,p){var y=dp();return y=y===null?null:{parent:Ut._currentValue,pool:y},s.memoizedState={baseLanes:l,cachePool:y},r!==null&&$d(s,null),yp(),Xb(s),r!==null&&Fo(r,s,u,!0),s.childLanes=p,null}function oh(r,s){return s=ch({mode:s.mode,children:s.children},r.mode),s.ref=r.ref,r.child=s,s.return=r,s}function Y_(r,s,l){return Ga(s,r.child,null,l),r=oh(s,s.pendingProps),r.flags|=2,qn(s),s.memoizedState=null,r}function gN(r,s,l){var u=s.pendingProps,p=(s.flags&128)!==0;if(s.flags&=-129,r===null){if(Qe){if(u.mode==="hidden")return r=oh(s,u),s.lanes=536870912,Pc(null,r);if(bp(s),(r=ft)?(r=aw(r,ri),r=r!==null&&r.data==="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:_s!==null?{id:er,overflow:tr}:null,retryLane:536870912,hydrationErrors:null},l=kb(r),l.return=s,s.child=l,rn=s,ft=null)):r=null,r===null)throw Ts(s);return s.lanes=536870912,null}return oh(s,u)}var y=r.memoizedState;if(y!==null){var T=y.dehydrated;if(bp(s),p)if(s.flags&256)s.flags&=-257,s=Y_(r,s,l);else if(s.memoizedState!==null)s.child=r.child,s.flags|=128,s=null;else throw Error(i(558));else if(Bt||Fo(r,s,l,!1),p=(l&r.childLanes)!==0,Bt||p){if(u=ut,u!==null&&(T=ic(u,l),T!==0&&T!==y.retryLane))throw y.retryLane=T,La(r,T),kn(u,r,T),zp;vh(),s=Y_(r,s,l)}else r=y.treeContext,ft=ai(T.nextSibling),rn=s,Qe=!0,ws=null,ri=!1,r!==null&&Ob(s,r),s=oh(s,u),s.flags|=4096;return s}return r=Cr(r.child,{mode:u.mode,children:u.children}),r.ref=s.ref,s.child=r,r.return=s,r}function lh(r,s){var l=s.ref;if(l===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(r===null||r.ref!==l)&&(s.flags|=4194816)}}function Bp(r,s,l,u,p){return Fa(s),l=wp(r,s,l,u,void 0,p),u=Tp(),r!==null&&!Bt?(Ep(r,s,p),Mr(r,s,p)):(Qe&&u&&np(s),s.flags|=1,an(r,s,l,p),s.child)}function Q_(r,s,l,u,p,y){return Fa(s),s.updateQueue=null,l=Zb(s,u,l,p),Wb(r),u=Tp(),r!==null&&!Bt?(Ep(r,s,y),Mr(r,s,y)):(Qe&&u&&np(s),s.flags|=1,an(r,s,l,y),s.child)}function X_(r,s,l,u,p){if(Fa(s),s.stateNode===null){var y=Lo,T=l.contextType;typeof T=="object"&&T!==null&&(y=sn(T)),y=new l(u,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Lp,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=u,y.state=s.memoizedState,y.refs={},fp(s),T=l.contextType,y.context=typeof T=="object"&&T!==null?sn(T):Lo,y.state=s.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(jp(s,l,T,u),y.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(T=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),T!==y.state&&Lp.enqueueReplaceState(y,y.state,null),kc(s,u,y,p),Ic(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){y=s.stateNode;var C=s.memoizedProps,z=Ya(l,C);y.props=z;var Q=y.context,te=l.contextType;T=Lo,typeof te=="object"&&te!==null&&(T=sn(te));var se=l.getDerivedStateFromProps;te=typeof se=="function"||typeof y.getSnapshotBeforeUpdate=="function",C=s.pendingProps!==C,te||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C||Q!==T)&&P_(s,y,u,T),xs=!1;var X=s.memoizedState;y.state=X,kc(s,u,y,p),Ic(),Q=s.memoizedState,C||X!==Q||xs?(typeof se=="function"&&(jp(s,l,se,u),Q=s.memoizedState),(z=xs||V_(s,l,z,u,X,Q,T))?(te||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Q),y.props=u,y.state=Q,y.context=T,u=z):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{y=s.stateNode,mp(r,s),T=s.memoizedProps,te=Ya(l,T),y.props=te,se=s.pendingProps,X=y.context,Q=l.contextType,z=Lo,typeof Q=="object"&&Q!==null&&(z=sn(Q)),C=l.getDerivedStateFromProps,(Q=typeof C=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==se||X!==z)&&P_(s,y,u,z),xs=!1,X=s.memoizedState,y.state=X,kc(s,u,y,p),Ic();var Z=s.memoizedState;T!==se||X!==Z||xs||r!==null&&r.dependencies!==null&&qd(r.dependencies)?(typeof C=="function"&&(jp(s,l,C,u),Z=s.memoizedState),(te=xs||V_(s,l,te,u,X,Z,z)||r!==null&&r.dependencies!==null&&qd(r.dependencies))?(Q||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,Z,z),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,Z,z)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===r.memoizedProps&&X===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&X===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=Z),y.props=u,y.state=Z,y.context=z,u=te):(typeof y.componentDidUpdate!="function"||T===r.memoizedProps&&X===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&X===r.memoizedState||(s.flags|=1024),u=!1)}return y=u,lh(r,s),u=(s.flags&128)!==0,y||u?(y=s.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,r!==null&&u?(s.child=Ga(s,r.child,null,p),s.child=Ga(s,null,l,p)):an(r,s,l,p),s.memoizedState=y.state,r=s.child):r=Mr(r,s,p),r}function W_(r,s,l,u){return za(),s.flags|=256,an(r,s,l,u),s.child}var Fp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qp(r){return{baseLanes:r,cachePool:zb()}}function Hp(r,s,l){return r=r!==null?r.childLanes&~l:0,s&&(r|=$n),r}function Z_(r,s,l){var u=s.pendingProps,p=!1,y=(s.flags&128)!==0,T;if((T=y)||(T=r!==null&&r.memoizedState===null?!1:(Nt.current&2)!==0),T&&(p=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,r===null){if(Qe){if(p?Cs(s):Rs(),(r=ft)?(r=aw(r,ri),r=r!==null&&r.data!=="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:_s!==null?{id:er,overflow:tr}:null,retryLane:536870912,hydrationErrors:null},l=kb(r),l.return=s,s.child=l,rn=s,ft=null)):r=null,r===null)throw Ts(s);return Ag(r)?s.lanes=32:s.lanes=536870912,null}var C=u.children;return u=u.fallback,p?(Rs(),p=s.mode,C=ch({mode:"hidden",children:C},p),u=Ua(u,p,l,null),C.return=s,u.return=s,C.sibling=u,s.child=C,u=s.child,u.memoizedState=qp(l),u.childLanes=Hp(r,T,l),s.memoizedState=Fp,Pc(null,u)):(Cs(s),$p(s,C))}var z=r.memoizedState;if(z!==null&&(C=z.dehydrated,C!==null)){if(y)s.flags&256?(Cs(s),s.flags&=-257,s=Gp(r,s,l)):s.memoizedState!==null?(Rs(),s.child=r.child,s.flags|=128,s=null):(Rs(),C=u.fallback,p=s.mode,u=ch({mode:"visible",children:u.children},p),C=Ua(C,p,l,null),C.flags|=2,u.return=s,C.return=s,u.sibling=C,s.child=u,Ga(s,r.child,null,l),u=s.child,u.memoizedState=qp(l),u.childLanes=Hp(r,T,l),s.memoizedState=Fp,s=Pc(null,u));else if(Cs(s),Ag(C)){if(T=C.nextSibling&&C.nextSibling.dataset,T)var Q=T.dgst;T=Q,u=Error(i(419)),u.stack="",u.digest=T,xc({value:u,source:null,stack:null}),s=Gp(r,s,l)}else if(Bt||Fo(r,s,l,!1),T=(l&r.childLanes)!==0,Bt||T){if(T=ut,T!==null&&(u=ic(T,l),u!==0&&u!==z.retryLane))throw z.retryLane=u,La(r,u),kn(T,r,u),zp;Sg(C)||vh(),s=Gp(r,s,l)}else Sg(C)?(s.flags|=192,s.child=r.child,s=null):(r=z.treeContext,ft=ai(C.nextSibling),rn=s,Qe=!0,ws=null,ri=!1,r!==null&&Ob(s,r),s=$p(s,u.children),s.flags|=4096);return s}return p?(Rs(),C=u.fallback,p=s.mode,z=r.child,Q=z.sibling,u=Cr(z,{mode:"hidden",children:u.children}),u.subtreeFlags=z.subtreeFlags&65011712,Q!==null?C=Cr(Q,C):(C=Ua(C,p,l,null),C.flags|=2),C.return=s,u.return=s,u.sibling=C,s.child=u,Pc(null,u),u=s.child,C=r.child.memoizedState,C===null?C=qp(l):(p=C.cachePool,p!==null?(z=Ut._currentValue,p=p.parent!==z?{parent:z,pool:z}:p):p=zb(),C={baseLanes:C.baseLanes|l,cachePool:p}),u.memoizedState=C,u.childLanes=Hp(r,T,l),s.memoizedState=Fp,Pc(r.child,u)):(Cs(s),l=r.child,r=l.sibling,l=Cr(l,{mode:"visible",children:u.children}),l.return=s,l.sibling=null,r!==null&&(T=s.deletions,T===null?(s.deletions=[r],s.flags|=16):T.push(r)),s.child=l,s.memoizedState=null,l)}function $p(r,s){return s=ch({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function ch(r,s){return r=Bn(22,r,null,s),r.lanes=0,r}function Gp(r,s,l){return Ga(s,r.child,null,l),r=$p(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function J_(r,s,l){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),op(r.return,s,l)}function Kp(r,s,l,u,p,y){var T=r.memoizedState;T===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:p,treeForkCount:y}:(T.isBackwards=s,T.rendering=null,T.renderingStartTime=0,T.last=u,T.tail=l,T.tailMode=p,T.treeForkCount=y)}function e1(r,s,l){var u=s.pendingProps,p=u.revealOrder,y=u.tail;u=u.children;var T=Nt.current,C=(T&2)!==0;if(C?(T=T&1|2,s.flags|=128):T&=1,ue(Nt,T),an(r,s,u,l),u=Qe?Ec:0,!C&&r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&J_(r,l,s);else if(r.tag===19)J_(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(p){case"forwards":for(l=s.child,p=null;l!==null;)r=l.alternate,r!==null&&Wd(r)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),Kp(s,!1,p,l,y,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&Wd(r)===null){s.child=p;break}r=p.sibling,p.sibling=l,l=p,p=r}Kp(s,!0,l,null,y,u);break;case"together":Kp(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function Mr(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),ks|=s.lanes,(l&s.childLanes)===0)if(r!==null){if(Fo(r,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,l=Cr(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=Cr(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function Yp(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&qd(r)))}function yN(r,s,l){switch(s.tag){case 3:fe(s,s.stateNode.containerInfo),Es(s,Ut,r.memoizedState.cache),za();break;case 27:case 5:pt(s);break;case 4:fe(s,s.stateNode.containerInfo);break;case 10:Es(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,bp(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Cs(s),s.flags|=128,null):(l&s.child.childLanes)!==0?Z_(r,s,l):(Cs(s),r=Mr(r,s,l),r!==null?r.sibling:null);Cs(s);break;case 19:var p=(r.flags&128)!==0;if(u=(l&s.childLanes)!==0,u||(Fo(r,s,l,!1),u=(l&s.childLanes)!==0),p){if(u)return e1(r,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ue(Nt,Nt.current),u)break;return null;case 22:return s.lanes=0,G_(r,s,l,s.pendingProps);case 24:Es(s,Ut,r.memoizedState.cache)}return Mr(r,s,l)}function t1(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps)Bt=!0;else{if(!Yp(r,l)&&(s.flags&128)===0)return Bt=!1,yN(r,s,l);Bt=(r.flags&131072)!==0}else Bt=!1,Qe&&(s.flags&1048576)!==0&&Mb(s,Ec,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(r=Ha(s.elementType),s.type=r,typeof r=="function")Jm(r)?(u=Ya(r,u),s.tag=1,s=X_(null,s,r,u,l)):(s.tag=0,s=Bp(null,s,r,u,l));else{if(r!=null){var p=r.$$typeof;if(p===$){s.tag=11,s=q_(null,s,r,u,l);break e}else if(p===S){s.tag=14,s=H_(null,s,r,u,l);break e}}throw s=je(r)||r,Error(i(306,s,""))}}return s;case 0:return Bp(r,s,s.type,s.pendingProps,l);case 1:return u=s.type,p=Ya(u,s.pendingProps),X_(r,s,u,p,l);case 3:e:{if(fe(s,s.stateNode.containerInfo),r===null)throw Error(i(387));u=s.pendingProps;var y=s.memoizedState;p=y.element,mp(r,s),kc(s,u,null,l);var T=s.memoizedState;if(u=T.cache,Es(s,Ut,u),u!==y.cache&&lp(s,[Ut],l,!0),Ic(),u=T.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=W_(r,s,u,l);break e}else if(u!==p){p=ti(Error(i(424)),s),xc(p),s=W_(r,s,u,l);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(ft=ai(r.firstChild),rn=s,Qe=!0,ws=null,ri=!0,l=Gb(s,null,u,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(za(),u===p){s=Mr(r,s,l);break e}an(r,s,u,l)}s=s.child}return s;case 26:return lh(r,s),r===null?(l=hw(s.type,null,s.pendingProps,null))?s.memoizedState=l:Qe||(l=s.type,r=s.pendingProps,u=Sh(we.current).createElement(l),u[Pt]=s,u[Wt]=r,on(u,l,r),jt(u),s.stateNode=u):s.memoizedState=hw(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return pt(s),r===null&&Qe&&(u=s.stateNode=cw(s.type,s.pendingProps,we.current),rn=s,ri=!0,p=ft,Ps(s.type)?(Cg=p,ft=ai(u.firstChild)):ft=p),an(r,s,s.pendingProps.children,l),lh(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&Qe&&((p=u=ft)&&(u=KN(u,s.type,s.pendingProps,ri),u!==null?(s.stateNode=u,rn=s,ft=ai(u.firstChild),ri=!1,p=!0):p=!1),p||Ts(s)),pt(s),p=s.type,y=s.pendingProps,T=r!==null?r.memoizedProps:null,u=y.children,Tg(p,y)?u=null:T!==null&&Tg(p,T)&&(s.flags|=32),s.memoizedState!==null&&(p=wp(r,s,lN,null,null,l),Wc._currentValue=p),lh(r,s),an(r,s,u,l),s.child;case 6:return r===null&&Qe&&((r=l=ft)&&(l=YN(l,s.pendingProps,ri),l!==null?(s.stateNode=l,rn=s,ft=null,r=!0):r=!1),r||Ts(s)),null;case 13:return Z_(r,s,l);case 4:return fe(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=Ga(s,null,u,l):an(r,s,u,l),s.child;case 11:return q_(r,s,s.type,s.pendingProps,l);case 7:return an(r,s,s.pendingProps,l),s.child;case 8:return an(r,s,s.pendingProps.children,l),s.child;case 12:return an(r,s,s.pendingProps.children,l),s.child;case 10:return u=s.pendingProps,Es(s,s.type,u.value),an(r,s,u.children,l),s.child;case 9:return p=s.type._context,u=s.pendingProps.children,Fa(s),p=sn(p),u=u(p),s.flags|=1,an(r,s,u,l),s.child;case 14:return H_(r,s,s.type,s.pendingProps,l);case 15:return $_(r,s,s.type,s.pendingProps,l);case 19:return e1(r,s,l);case 31:return gN(r,s,l);case 22:return G_(r,s,l,s.pendingProps);case 24:return Fa(s),u=sn(Ut),r===null?(p=dp(),p===null&&(p=ut,y=cp(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=l),p=y),s.memoizedState={parent:u,cache:p},fp(s),Es(s,Ut,p)):((r.lanes&l)!==0&&(mp(r,s),kc(s,null,null,l),Ic()),p=r.memoizedState,y=s.memoizedState,p.parent!==u?(p={parent:u,cache:u},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),Es(s,Ut,u)):(u=y.cache,Es(s,Ut,u),u!==p.cache&&lp(s,[Ut],l,!0))),an(r,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Or(r){r.flags|=4}function Qp(r,s,l,u,p){if((s=(r.mode&32)!==0)&&(s=!1),s){if(r.flags|=16777216,(p&335544128)===p)if(r.stateNode.complete)r.flags|=8192;else if(R1())r.flags|=8192;else throw $a=Kd,hp}else r.flags&=-16777217}function n1(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!yw(s))if(R1())r.flags|=8192;else throw $a=Kd,hp}function uh(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?gd():536870912,r.lanes|=s,el|=s)}function jc(r,s){if(!Qe)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function mt(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,u=0;if(s)for(var p=r.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=u,r.childLanes=l,s}function vN(r,s,l){var u=s.pendingProps;switch(ip(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(s),null;case 1:return mt(s),null;case 3:return l=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Ir(Ut),Se(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(Bo(s)?Or(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,sp())),mt(s),null;case 26:var p=s.type,y=s.memoizedState;return r===null?(Or(s),y!==null?(mt(s),n1(s,y)):(mt(s),Qp(s,p,null,u,l))):y?y!==r.memoizedState?(Or(s),mt(s),n1(s,y)):(mt(s),s.flags&=-16777217):(r=r.memoizedProps,r!==u&&Or(s),mt(s),Qp(s,p,r,u,l)),null;case 27:if(jn(s),l=we.current,p=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Or(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return mt(s),null}r=de.current,Bo(s)?Vb(s):(r=cw(p,u,l),s.stateNode=r,Or(s))}return mt(s),null;case 5:if(jn(s),p=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Or(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return mt(s),null}if(y=de.current,Bo(s))Vb(s);else{var T=Sh(we.current);switch(y){case 1:y=T.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:y=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":y=T.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":y=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":y=T.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?T.createElement("select",{is:u.is}):T.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?T.createElement(p,{is:u.is}):T.createElement(p)}}y[Pt]=s,y[Wt]=u;e:for(T=s.child;T!==null;){if(T.tag===5||T.tag===6)y.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===s)break e;for(;T.sibling===null;){if(T.return===null||T.return===s)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}s.stateNode=y;e:switch(on(y,p,u),p){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Or(s)}}return mt(s),Qp(s,s.type,r===null?null:r.memoizedProps,s.pendingProps,l),null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&Or(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=we.current,Bo(s)){if(r=s.stateNode,l=s.memoizedProps,u=null,p=rn,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}r[Pt]=s,r=!!(r.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||Z1(r.nodeValue,l)),r||Ts(s,!0)}else r=Sh(r).createTextNode(u),r[Pt]=s,s.stateNode=r}return mt(s),null;case 31:if(l=s.memoizedState,r===null||r.memoizedState!==null){if(u=Bo(s),l!==null){if(r===null){if(!u)throw Error(i(318));if(r=s.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[Pt]=s}else za(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;mt(s),r=!1}else l=sp(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=l),r=!0;if(!r)return s.flags&256?(qn(s),s):(qn(s),null);if((s.flags&128)!==0)throw Error(i(558))}return mt(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(p=Bo(s),u!==null&&u.dehydrated!==null){if(r===null){if(!p)throw Error(i(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[Pt]=s}else za(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;mt(s),p=!1}else p=sp(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(qn(s),s):(qn(s),null)}return qn(s),(s.flags&128)!==0?(s.lanes=l,s):(l=u!==null,r=r!==null&&r.memoizedState!==null,l&&(u=s.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==p&&(u.flags|=2048)),l!==r&&l&&(s.child.flags|=8192),uh(s,s.updateQueue),mt(s),null);case 4:return Se(),r===null&&yg(s.stateNode.containerInfo),mt(s),null;case 10:return Ir(s.type),mt(s),null;case 19:if(J(Nt),u=s.memoizedState,u===null)return mt(s),null;if(p=(s.flags&128)!==0,y=u.rendering,y===null)if(p)jc(u,!1);else{if(xt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(y=Wd(r),y!==null){for(s.flags|=128,jc(u,!1),r=y.updateQueue,s.updateQueue=r,uh(s,r),s.subtreeFlags=0,r=l,l=s.child;l!==null;)Ib(l,r),l=l.sibling;return ue(Nt,Nt.current&1|2),Qe&&Rr(s,u.treeForkCount),s.child}r=r.sibling}u.tail!==null&&wn()>ph&&(s.flags|=128,p=!0,jc(u,!1),s.lanes=4194304)}else{if(!p)if(r=Wd(y),r!==null){if(s.flags|=128,p=!0,r=r.updateQueue,s.updateQueue=r,uh(s,r),jc(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!Qe)return mt(s),null}else 2*wn()-u.renderingStartTime>ph&&l!==536870912&&(s.flags|=128,p=!0,jc(u,!1),s.lanes=4194304);u.isBackwards?(y.sibling=s.child,s.child=y):(r=u.last,r!==null?r.sibling=y:s.child=y,u.last=y)}return u.tail!==null?(r=u.tail,u.rendering=r,u.tail=r.sibling,u.renderingStartTime=wn(),r.sibling=null,l=Nt.current,ue(Nt,p?l&1|2:l&1),Qe&&Rr(s,u.treeForkCount),r):(mt(s),null);case 22:case 23:return qn(s),vp(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(l&536870912)!==0&&(s.flags&128)===0&&(mt(s),s.subtreeFlags&6&&(s.flags|=8192)):mt(s),l=s.updateQueue,l!==null&&uh(s,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==l&&(s.flags|=2048),r!==null&&J(qa),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Ir(Ut),mt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function bN(r,s){switch(ip(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Ir(Ut),Se(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return jn(s),null;case 31:if(s.memoizedState!==null){if(qn(s),s.alternate===null)throw Error(i(340));za()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 13:if(qn(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));za()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return J(Nt),null;case 4:return Se(),null;case 10:return Ir(s.type),null;case 22:case 23:return qn(s),vp(),r!==null&&J(qa),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Ir(Ut),null;case 25:return null;default:return null}}function i1(r,s){switch(ip(s),s.tag){case 3:Ir(Ut),Se();break;case 26:case 27:case 5:jn(s);break;case 4:Se();break;case 31:s.memoizedState!==null&&qn(s);break;case 13:qn(s);break;case 19:J(Nt);break;case 10:Ir(s.type);break;case 22:case 23:qn(s),vp(),r!==null&&J(qa);break;case 24:Ir(Ut)}}function Lc(r,s){try{var l=s.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var p=u.next;l=p;do{if((l.tag&r)===r){u=void 0;var y=l.create,T=l.inst;u=y(),T.destroy=u}l=l.next}while(l!==p)}}catch(C){st(s,s.return,C)}}function Ns(r,s,l){try{var u=s.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var y=p.next;u=y;do{if((u.tag&r)===r){var T=u.inst,C=T.destroy;if(C!==void 0){T.destroy=void 0,p=s;var z=l,Q=C;try{Q()}catch(te){st(p,z,te)}}}u=u.next}while(u!==y)}}catch(te){st(s,s.return,te)}}function r1(r){var s=r.updateQueue;if(s!==null){var l=r.stateNode;try{Yb(s,l)}catch(u){st(r,r.return,u)}}}function s1(r,s,l){l.props=Ya(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(u){st(r,s,u)}}function Uc(r,s){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof l=="function"?r.refCleanup=l(u):l.current=u}}catch(p){st(r,s,p)}}function nr(r,s){var l=r.ref,u=r.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(p){st(r,s,p)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){st(r,s,p)}else l.current=null}function a1(r){var s=r.type,l=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(p){st(r,r.return,p)}}function Xp(r,s,l){try{var u=r.stateNode;BN(u,r.type,l,s),u[Wt]=s}catch(p){st(r,r.return,p)}}function o1(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Ps(r.type)||r.tag===4}function Wp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||o1(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Ps(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Zp(r,s,l){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(r),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=wi));else if(u!==4&&(u===27&&Ps(r.type)&&(l=r.stateNode,s=null),r=r.child,r!==null))for(Zp(r,s,l),r=r.sibling;r!==null;)Zp(r,s,l),r=r.sibling}function dh(r,s,l){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(u!==4&&(u===27&&Ps(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(dh(r,s,l),r=r.sibling;r!==null;)dh(r,s,l),r=r.sibling}function l1(r){var s=r.stateNode,l=r.memoizedProps;try{for(var u=r.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);on(s,u,l),s[Pt]=r,s[Wt]=l}catch(y){st(r,r.return,y)}}var Vr=!1,Ft=!1,Jp=!1,c1=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function _N(r,s){if(r=r.containerInfo,_g=Dh,r=wb(r),Gm(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var p=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var T=0,C=-1,z=-1,Q=0,te=0,se=r,X=null;t:for(;;){for(var Z;se!==l||p!==0&&se.nodeType!==3||(C=T+p),se!==y||u!==0&&se.nodeType!==3||(z=T+u),se.nodeType===3&&(T+=se.nodeValue.length),(Z=se.firstChild)!==null;)X=se,se=Z;for(;;){if(se===r)break t;if(X===l&&++Q===p&&(C=T),X===y&&++te===u&&(z=T),(Z=se.nextSibling)!==null)break;se=X,X=se.parentNode}se=Z}l=C===-1||z===-1?null:{start:C,end:z}}else l=null}l=l||{start:0,end:0}}else l=null;for(wg={focusedElem:r,selectionRange:l},Dh=!1,Jt=s;Jt!==null;)if(s=Jt,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,Jt=r;else for(;Jt!==null;){switch(s=Jt,y=s.alternate,r=s.flags,s.tag){case 0:if((r&4)!==0&&(r=s.updateQueue,r=r!==null?r.events:null,r!==null))for(l=0;l<r.length;l++)p=r[l],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,l=s,p=y.memoizedProps,y=y.memoizedState,u=l.stateNode;try{var ve=Ya(l.type,p);r=u.getSnapshotBeforeUpdate(ve,y),u.__reactInternalSnapshotBeforeUpdate=r}catch(Re){st(l,l.return,Re)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,l=r.nodeType,l===9)xg(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":xg(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,Jt=r;break}Jt=s.return}}function u1(r,s,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:jr(r,l),u&4&&Lc(5,l);break;case 1:if(jr(r,l),u&4)if(r=l.stateNode,s===null)try{r.componentDidMount()}catch(T){st(l,l.return,T)}else{var p=Ya(l.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(p,s,r.__reactInternalSnapshotBeforeUpdate)}catch(T){st(l,l.return,T)}}u&64&&r1(l),u&512&&Uc(l,l.return);break;case 3:if(jr(r,l),u&64&&(r=l.updateQueue,r!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{Yb(r,s)}catch(T){st(l,l.return,T)}}break;case 27:s===null&&u&4&&l1(l);case 26:case 5:jr(r,l),s===null&&u&4&&a1(l),u&512&&Uc(l,l.return);break;case 12:jr(r,l);break;case 31:jr(r,l),u&4&&f1(r,l);break;case 13:jr(r,l),u&4&&m1(r,l),u&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=NN.bind(null,l),QN(r,l))));break;case 22:if(u=l.memoizedState!==null||Vr,!u){s=s!==null&&s.memoizedState!==null||Ft,p=Vr;var y=Ft;Vr=u,(Ft=s)&&!y?Lr(r,l,(l.subtreeFlags&8772)!==0):jr(r,l),Vr=p,Ft=y}break;case 30:break;default:jr(r,l)}}function d1(r){var s=r.alternate;s!==null&&(r.alternate=null,d1(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&xo(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var yt=null,Cn=!1;function Pr(r,s,l){for(l=l.child;l!==null;)h1(r,s,l),l=l.sibling}function h1(r,s,l){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(yi,l)}catch{}switch(l.tag){case 26:Ft||nr(l,s),Pr(r,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ft||nr(l,s);var u=yt,p=Cn;Ps(l.type)&&(yt=l.stateNode,Cn=!1),Pr(r,s,l),Yc(l.stateNode),yt=u,Cn=p;break;case 5:Ft||nr(l,s);case 6:if(u=yt,p=Cn,yt=null,Pr(r,s,l),yt=u,Cn=p,yt!==null)if(Cn)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(l.stateNode)}catch(y){st(l,s,y)}else try{yt.removeChild(l.stateNode)}catch(y){st(l,s,y)}break;case 18:yt!==null&&(Cn?(r=yt,rw(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),ll(r)):rw(yt,l.stateNode));break;case 4:u=yt,p=Cn,yt=l.stateNode.containerInfo,Cn=!0,Pr(r,s,l),yt=u,Cn=p;break;case 0:case 11:case 14:case 15:Ns(2,l,s),Ft||Ns(4,l,s),Pr(r,s,l);break;case 1:Ft||(nr(l,s),u=l.stateNode,typeof u.componentWillUnmount=="function"&&s1(l,s,u)),Pr(r,s,l);break;case 21:Pr(r,s,l);break;case 22:Ft=(u=Ft)||l.memoizedState!==null,Pr(r,s,l),Ft=u;break;default:Pr(r,s,l)}}function f1(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{ll(r)}catch(l){st(s,s.return,l)}}}function m1(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{ll(r)}catch(l){st(s,s.return,l)}}function wN(r){switch(r.tag){case 31:case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new c1),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new c1),s;default:throw Error(i(435,r.tag))}}function hh(r,s){var l=wN(r);s.forEach(function(u){if(!l.has(u)){l.add(u);var p=IN.bind(null,r,u);u.then(p,p)}})}function Rn(r,s){var l=s.deletions;if(l!==null)for(var u=0;u<l.length;u++){var p=l[u],y=r,T=s,C=T;e:for(;C!==null;){switch(C.tag){case 27:if(Ps(C.type)){yt=C.stateNode,Cn=!1;break e}break;case 5:yt=C.stateNode,Cn=!1;break e;case 3:case 4:yt=C.stateNode.containerInfo,Cn=!0;break e}C=C.return}if(yt===null)throw Error(i(160));h1(y,T,p),yt=null,Cn=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)p1(s,r),s=s.sibling}var Ci=null;function p1(r,s){var l=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Rn(s,r),Nn(r),u&4&&(Ns(3,r,r.return),Lc(3,r),Ns(5,r,r.return));break;case 1:Rn(s,r),Nn(r),u&512&&(Ft||l===null||nr(l,l.return)),u&64&&Vr&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var p=Ci;if(Rn(s,r),Nn(r),u&512&&(Ft||l===null||nr(l,l.return)),u&4){var y=l!==null?l.memoizedState:null;if(u=r.memoizedState,l===null)if(u===null)if(r.stateNode===null){e:{u=r.type,l=r.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":y=p.getElementsByTagName("title")[0],(!y||y[Fi]||y[Pt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(u),p.head.insertBefore(y,p.querySelector("head > title"))),on(y,u,l),y[Pt]=r,jt(y),u=y;break e;case"link":var T=pw("link","href",p).get(u+(l.href||""));if(T){for(var C=0;C<T.length;C++)if(y=T[C],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(C,1);break t}}y=p.createElement(u),on(y,u,l),p.head.appendChild(y);break;case"meta":if(T=pw("meta","content",p).get(u+(l.content||""))){for(C=0;C<T.length;C++)if(y=T[C],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(C,1);break t}}y=p.createElement(u),on(y,u,l),p.head.appendChild(y);break;default:throw Error(i(468,u))}y[Pt]=r,jt(y),u=y}r.stateNode=u}else gw(p,r.type,r.stateNode);else r.stateNode=mw(p,u,r.memoizedProps);else y!==u?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,u===null?gw(p,r.type,r.stateNode):mw(p,u,r.memoizedProps)):u===null&&r.stateNode!==null&&Xp(r,r.memoizedProps,l.memoizedProps)}break;case 27:Rn(s,r),Nn(r),u&512&&(Ft||l===null||nr(l,l.return)),l!==null&&u&4&&Xp(r,r.memoizedProps,l.memoizedProps);break;case 5:if(Rn(s,r),Nn(r),u&512&&(Ft||l===null||nr(l,l.return)),r.flags&32){p=r.stateNode;try{An(p,"")}catch(ve){st(r,r.return,ve)}}u&4&&r.stateNode!=null&&(p=r.memoizedProps,Xp(r,p,l!==null?l.memoizedProps:p)),u&1024&&(Jp=!0);break;case 6:if(Rn(s,r),Nn(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,l=r.stateNode;try{l.nodeValue=u}catch(ve){st(r,r.return,ve)}}break;case 3:if(Rh=null,p=Ci,Ci=Ah(s.containerInfo),Rn(s,r),Ci=p,Nn(r),u&4&&l!==null&&l.memoizedState.isDehydrated)try{ll(s.containerInfo)}catch(ve){st(r,r.return,ve)}Jp&&(Jp=!1,g1(r));break;case 4:u=Ci,Ci=Ah(r.stateNode.containerInfo),Rn(s,r),Nn(r),Ci=u;break;case 12:Rn(s,r),Nn(r);break;case 31:Rn(s,r),Nn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,hh(r,u)));break;case 13:Rn(s,r),Nn(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(mh=wn()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,hh(r,u)));break;case 22:p=r.memoizedState!==null;var z=l!==null&&l.memoizedState!==null,Q=Vr,te=Ft;if(Vr=Q||p,Ft=te||z,Rn(s,r),Ft=te,Vr=Q,Nn(r),u&8192)e:for(s=r.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(l===null||z||Vr||Ft||Qa(r)),l=null,s=r;;){if(s.tag===5||s.tag===26){if(l===null){z=l=s;try{if(y=z.stateNode,p)T=y.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{C=z.stateNode;var se=z.memoizedProps.style,X=se!=null&&se.hasOwnProperty("display")?se.display:null;C.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(ve){st(z,z.return,ve)}}}else if(s.tag===6){if(l===null){z=s;try{z.stateNode.nodeValue=p?"":z.memoizedProps}catch(ve){st(z,z.return,ve)}}}else if(s.tag===18){if(l===null){z=s;try{var Z=z.stateNode;p?sw(Z,!0):sw(z.stateNode,!1)}catch(ve){st(z,z.return,ve)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,hh(r,l))));break;case 19:Rn(s,r),Nn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,hh(r,u)));break;case 30:break;case 21:break;default:Rn(s,r),Nn(r)}}function Nn(r){var s=r.flags;if(s&2){try{for(var l,u=r.return;u!==null;){if(o1(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var p=l.stateNode,y=Wp(r);dh(r,y,p);break;case 5:var T=l.stateNode;l.flags&32&&(An(T,""),l.flags&=-33);var C=Wp(r);dh(r,C,T);break;case 3:case 4:var z=l.stateNode.containerInfo,Q=Wp(r);Zp(r,Q,z);break;default:throw Error(i(161))}}catch(te){st(r,r.return,te)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function g1(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;g1(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function jr(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)u1(r,s.alternate,s),s=s.sibling}function Qa(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Ns(4,s,s.return),Qa(s);break;case 1:nr(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&s1(s,s.return,l),Qa(s);break;case 27:Yc(s.stateNode);case 26:case 5:nr(s,s.return),Qa(s);break;case 22:s.memoizedState===null&&Qa(s);break;case 30:Qa(s);break;default:Qa(s)}r=r.sibling}}function Lr(r,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,p=r,y=s,T=y.flags;switch(y.tag){case 0:case 11:case 15:Lr(p,y,l),Lc(4,y);break;case 1:if(Lr(p,y,l),u=y,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Q){st(u,u.return,Q)}if(u=y,p=u.updateQueue,p!==null){var C=u.stateNode;try{var z=p.shared.hiddenCallbacks;if(z!==null)for(p.shared.hiddenCallbacks=null,p=0;p<z.length;p++)Kb(z[p],C)}catch(Q){st(u,u.return,Q)}}l&&T&64&&r1(y),Uc(y,y.return);break;case 27:l1(y);case 26:case 5:Lr(p,y,l),l&&u===null&&T&4&&a1(y),Uc(y,y.return);break;case 12:Lr(p,y,l);break;case 31:Lr(p,y,l),l&&T&4&&f1(p,y);break;case 13:Lr(p,y,l),l&&T&4&&m1(p,y);break;case 22:y.memoizedState===null&&Lr(p,y,l),Uc(y,y.return);break;case 30:break;default:Lr(p,y,l)}s=s.sibling}}function eg(r,s){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&Sc(l))}function tg(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Sc(r))}function Ri(r,s,l,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)y1(r,s,l,u),s=s.sibling}function y1(r,s,l,u){var p=s.flags;switch(s.tag){case 0:case 11:case 15:Ri(r,s,l,u),p&2048&&Lc(9,s);break;case 1:Ri(r,s,l,u);break;case 3:Ri(r,s,l,u),p&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Sc(r)));break;case 12:if(p&2048){Ri(r,s,l,u),r=s.stateNode;try{var y=s.memoizedProps,T=y.id,C=y.onPostCommit;typeof C=="function"&&C(T,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(z){st(s,s.return,z)}}else Ri(r,s,l,u);break;case 31:Ri(r,s,l,u);break;case 13:Ri(r,s,l,u);break;case 23:break;case 22:y=s.stateNode,T=s.alternate,s.memoizedState!==null?y._visibility&2?Ri(r,s,l,u):zc(r,s):y._visibility&2?Ri(r,s,l,u):(y._visibility|=2,Wo(r,s,l,u,(s.subtreeFlags&10256)!==0||!1)),p&2048&&eg(T,s);break;case 24:Ri(r,s,l,u),p&2048&&tg(s.alternate,s);break;default:Ri(r,s,l,u)}}function Wo(r,s,l,u,p){for(p=p&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var y=r,T=s,C=l,z=u,Q=T.flags;switch(T.tag){case 0:case 11:case 15:Wo(y,T,C,z,p),Lc(8,T);break;case 23:break;case 22:var te=T.stateNode;T.memoizedState!==null?te._visibility&2?Wo(y,T,C,z,p):zc(y,T):(te._visibility|=2,Wo(y,T,C,z,p)),p&&Q&2048&&eg(T.alternate,T);break;case 24:Wo(y,T,C,z,p),p&&Q&2048&&tg(T.alternate,T);break;default:Wo(y,T,C,z,p)}s=s.sibling}}function zc(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=r,u=s,p=u.flags;switch(u.tag){case 22:zc(l,u),p&2048&&eg(u.alternate,u);break;case 24:zc(l,u),p&2048&&tg(u.alternate,u);break;default:zc(l,u)}s=s.sibling}}var Bc=8192;function Zo(r,s,l){if(r.subtreeFlags&Bc)for(r=r.child;r!==null;)v1(r,s,l),r=r.sibling}function v1(r,s,l){switch(r.tag){case 26:Zo(r,s,l),r.flags&Bc&&r.memoizedState!==null&&oI(l,Ci,r.memoizedState,r.memoizedProps);break;case 5:Zo(r,s,l);break;case 3:case 4:var u=Ci;Ci=Ah(r.stateNode.containerInfo),Zo(r,s,l),Ci=u;break;case 22:r.memoizedState===null&&(u=r.alternate,u!==null&&u.memoizedState!==null?(u=Bc,Bc=16777216,Zo(r,s,l),Bc=u):Zo(r,s,l));break;default:Zo(r,s,l)}}function b1(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Fc(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];Jt=u,w1(u,r)}b1(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)_1(r),r=r.sibling}function _1(r){switch(r.tag){case 0:case 11:case 15:Fc(r),r.flags&2048&&Ns(9,r,r.return);break;case 3:Fc(r);break;case 12:Fc(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,fh(r)):Fc(r);break;default:Fc(r)}}function fh(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];Jt=u,w1(u,r)}b1(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Ns(8,s,s.return),fh(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,fh(s));break;default:fh(s)}r=r.sibling}}function w1(r,s){for(;Jt!==null;){var l=Jt;switch(l.tag){case 0:case 11:case 15:Ns(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Sc(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Jt=u;else e:for(l=r;Jt!==null;){u=Jt;var p=u.sibling,y=u.return;if(d1(u),u===l){Jt=null;break e}if(p!==null){p.return=y,Jt=p;break e}Jt=y}}}var TN={getCacheForType:function(r){var s=sn(Ut),l=s.data.get(r);return l===void 0&&(l=r(),s.data.set(r,l)),l},cacheSignal:function(){return sn(Ut).controller.signal}},EN=typeof WeakMap=="function"?WeakMap:Map,tt=0,ut=null,Fe=null,He=0,rt=0,Hn=null,Is=!1,Jo=!1,ng=!1,Ur=0,xt=0,ks=0,Xa=0,ig=0,$n=0,el=0,qc=null,In=null,rg=!1,mh=0,T1=0,ph=1/0,gh=null,Ds=null,Yt=0,Ms=null,tl=null,zr=0,sg=0,ag=null,E1=null,Hc=0,og=null;function Gn(){return(tt&2)!==0&&He!==0?He&-He:K.T!==null?fg():yd()}function x1(){if($n===0)if((He&536870912)===0||Qe){var r=Ea;Ea<<=1,(Ea&3932160)===0&&(Ea=262144),$n=r}else $n=536870912;return r=Fn.current,r!==null&&(r.flags|=32),$n}function kn(r,s,l){(r===ut&&(rt===2||rt===9)||r.cancelPendingCommit!==null)&&(nl(r,0),Os(r,He,$n,!1)),xa(r,l),((tt&2)===0||r!==ut)&&(r===ut&&((tt&2)===0&&(Xa|=l),xt===4&&Os(r,He,$n,!1)),ir(r))}function S1(r,s,l){if((tt&6)!==0)throw Error(i(327));var u=!l&&(s&127)===0&&(s&r.expiredLanes)===0||vi(r,s),p=u?AN(r,s):cg(r,s,!0),y=u;do{if(p===0){Jo&&!u&&Os(r,s,0,!1);break}else{if(l=r.current.alternate,y&&!xN(l)){p=cg(r,s,!1),y=!1;continue}if(p===2){if(y=s,r.errorRecoveryDisabledLanes&y)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;e:{var C=r;p=qc;var z=C.current.memoizedState.isDehydrated;if(z&&(nl(C,T).flags|=256),T=cg(C,T,!1),T!==2){if(ng&&!z){C.errorRecoveryDisabledLanes|=y,Xa|=y,p=4;break e}y=In,In=p,y!==null&&(In===null?In=y:In.push.apply(In,y))}p=T}if(y=!1,p!==2)continue}}if(p===1){nl(r,0),Os(r,s,0,!0);break}e:{switch(u=r,y=p,y){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Os(u,s,$n,!Is);break e;case 2:In=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(p=mh+300-wn(),10<p)){if(Os(u,s,$n,!Is),Ui(u,0,!0)!==0)break e;zr=s,u.timeoutHandle=nw(A1.bind(null,u,l,In,gh,rg,s,$n,Xa,el,Is,y,"Throttled",-0,0),p);break e}A1(u,l,In,gh,rg,s,$n,Xa,el,Is,y,null,-0,0)}}break}while(!0);ir(r)}function A1(r,s,l,u,p,y,T,C,z,Q,te,se,X,Z){if(r.timeoutHandle=-1,se=s.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:wi},v1(s,y,se);var ve=(y&62914560)===y?mh-wn():(y&4194048)===y?T1-wn():0;if(ve=lI(se,ve),ve!==null){zr=y,r.cancelPendingCommit=ve(O1.bind(null,r,s,y,l,u,p,T,C,z,te,se,null,X,Z)),Os(r,y,T,!Q);return}}O1(r,s,y,l,u,p,T,C,z)}function xN(r){for(var s=r;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var p=l[u],y=p.getSnapshot;p=p.value;try{if(!zn(y(),p))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Os(r,s,l,u){s&=~ig,s&=~Xa,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var p=s;0<p;){var y=31-Ct(p),T=1<<y;u[y]=-1,p&=~T}l!==0&&Sa(r,l,s)}function yh(){return(tt&6)===0?($c(0),!1):!0}function lg(){if(Fe!==null){if(rt===0)var r=Fe.return;else r=Fe,Nr=Ba=null,xp(r),Go=null,Cc=0,r=Fe;for(;r!==null;)i1(r.alternate,r),r=r.return;Fe=null}}function nl(r,s){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,HN(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),zr=0,lg(),ut=r,Fe=l=Cr(r.current,null),He=s,rt=0,Hn=null,Is=!1,Jo=vi(r,s),ng=!1,el=$n=ig=Xa=ks=xt=0,In=qc=null,rg=!1,(s&8)!==0&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var p=31-Ct(u),y=1<<p;s|=r[p],u&=~y}return Ur=s,Ld(),l}function C1(r,s){Ue=null,K.H=Vc,s===$o||s===Gd?(s=qb(),rt=3):s===hp?(s=qb(),rt=4):rt=s===zp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Hn=s,Fe===null&&(xt=1,ah(r,ti(s,r.current)))}function R1(){var r=Fn.current;return r===null?!0:(He&4194048)===He?si===null:(He&62914560)===He||(He&536870912)!==0?r===si:!1}function N1(){var r=K.H;return K.H=Vc,r===null?Vc:r}function I1(){var r=K.A;return K.A=TN,r}function vh(){xt=4,Is||(He&4194048)!==He&&Fn.current!==null||(Jo=!0),(ks&134217727)===0&&(Xa&134217727)===0||ut===null||Os(ut,He,$n,!1)}function cg(r,s,l){var u=tt;tt|=2;var p=N1(),y=I1();(ut!==r||He!==s)&&(gh=null,nl(r,s)),s=!1;var T=xt;e:do try{if(rt!==0&&Fe!==null){var C=Fe,z=Hn;switch(rt){case 8:lg(),T=6;break e;case 3:case 2:case 9:case 6:Fn.current===null&&(s=!0);var Q=rt;if(rt=0,Hn=null,il(r,C,z,Q),l&&Jo){T=0;break e}break;default:Q=rt,rt=0,Hn=null,il(r,C,z,Q)}}SN(),T=xt;break}catch(te){C1(r,te)}while(!0);return s&&r.shellSuspendCounter++,Nr=Ba=null,tt=u,K.H=p,K.A=y,Fe===null&&(ut=null,He=0,Ld()),T}function SN(){for(;Fe!==null;)k1(Fe)}function AN(r,s){var l=tt;tt|=2;var u=N1(),p=I1();ut!==r||He!==s?(gh=null,ph=wn()+500,nl(r,s)):Jo=vi(r,s);e:do try{if(rt!==0&&Fe!==null){s=Fe;var y=Hn;t:switch(rt){case 1:rt=0,Hn=null,il(r,s,y,1);break;case 2:case 9:if(Bb(y)){rt=0,Hn=null,D1(s);break}s=function(){rt!==2&&rt!==9||ut!==r||(rt=7),ir(r)},y.then(s,s);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:Bb(y)?(rt=0,Hn=null,D1(s)):(rt=0,Hn=null,il(r,s,y,7));break;case 5:var T=null;switch(Fe.tag){case 26:T=Fe.memoizedState;case 5:case 27:var C=Fe;if(T?yw(T):C.stateNode.complete){rt=0,Hn=null;var z=C.sibling;if(z!==null)Fe=z;else{var Q=C.return;Q!==null?(Fe=Q,bh(Q)):Fe=null}break t}}rt=0,Hn=null,il(r,s,y,5);break;case 6:rt=0,Hn=null,il(r,s,y,6);break;case 8:lg(),xt=6;break e;default:throw Error(i(462))}}CN();break}catch(te){C1(r,te)}while(!0);return Nr=Ba=null,K.H=u,K.A=p,tt=l,Fe!==null?0:(ut=null,He=0,Ld(),xt)}function CN(){for(;Fe!==null&&!Um();)k1(Fe)}function k1(r){var s=t1(r.alternate,r,Ur);r.memoizedProps=r.pendingProps,s===null?bh(r):Fe=s}function D1(r){var s=r,l=s.alternate;switch(s.tag){case 15:case 0:s=Q_(l,s,s.pendingProps,s.type,void 0,He);break;case 11:s=Q_(l,s,s.pendingProps,s.type.render,s.ref,He);break;case 5:xp(s);default:i1(l,s),s=Fe=Ib(s,Ur),s=t1(l,s,Ur)}r.memoizedProps=r.pendingProps,s===null?bh(r):Fe=s}function il(r,s,l,u){Nr=Ba=null,xp(s),Go=null,Cc=0;var p=s.return;try{if(pN(r,p,s,l,He)){xt=1,ah(r,ti(l,r.current)),Fe=null;return}}catch(y){if(p!==null)throw Fe=p,y;xt=1,ah(r,ti(l,r.current)),Fe=null;return}s.flags&32768?(Qe||u===1?r=!0:Jo||(He&536870912)!==0?r=!1:(Is=r=!0,(u===2||u===9||u===3||u===6)&&(u=Fn.current,u!==null&&u.tag===13&&(u.flags|=16384))),M1(s,r)):bh(s)}function bh(r){var s=r;do{if((s.flags&32768)!==0){M1(s,Is);return}r=s.return;var l=vN(s.alternate,s,Ur);if(l!==null){Fe=l;return}if(s=s.sibling,s!==null){Fe=s;return}Fe=s=r}while(s!==null);xt===0&&(xt=5)}function M1(r,s){do{var l=bN(r.alternate,r);if(l!==null){l.flags&=32767,Fe=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(r=r.sibling,r!==null)){Fe=r;return}Fe=r=l}while(r!==null);xt=6,Fe=null}function O1(r,s,l,u,p,y,T,C,z){r.cancelPendingCommit=null;do _h();while(Yt!==0);if((tt&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(y=s.lanes|s.childLanes,y|=Wm,Fm(r,l,y,T,C,z),r===ut&&(Fe=ut=null,He=0),tl=s,Ms=r,zr=l,sg=y,ag=p,E1=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,kN(us,function(){return U1(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=K.T,K.T=null,p=ce.p,ce.p=2,T=tt,tt|=4;try{_N(r,s,l)}finally{tt=T,ce.p=p,K.T=u}}Yt=1,V1(),P1(),j1()}}function V1(){if(Yt===1){Yt=0;var r=Ms,s=tl,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=K.T,K.T=null;var u=ce.p;ce.p=2;var p=tt;tt|=4;try{p1(s,r);var y=wg,T=wb(r.containerInfo),C=y.focusedElem,z=y.selectionRange;if(T!==C&&C&&C.ownerDocument&&_b(C.ownerDocument.documentElement,C)){if(z!==null&&Gm(C)){var Q=z.start,te=z.end;if(te===void 0&&(te=Q),"selectionStart"in C)C.selectionStart=Q,C.selectionEnd=Math.min(te,C.value.length);else{var se=C.ownerDocument||document,X=se&&se.defaultView||window;if(X.getSelection){var Z=X.getSelection(),ve=C.textContent.length,Re=Math.min(z.start,ve),ct=z.end===void 0?Re:Math.min(z.end,ve);!Z.extend&&Re>ct&&(T=ct,ct=Re,Re=T);var H=bb(C,Re),q=bb(C,ct);if(H&&q&&(Z.rangeCount!==1||Z.anchorNode!==H.node||Z.anchorOffset!==H.offset||Z.focusNode!==q.node||Z.focusOffset!==q.offset)){var Y=se.createRange();Y.setStart(H.node,H.offset),Z.removeAllRanges(),Re>ct?(Z.addRange(Y),Z.extend(q.node,q.offset)):(Y.setEnd(q.node,q.offset),Z.addRange(Y))}}}}for(se=[],Z=C;Z=Z.parentNode;)Z.nodeType===1&&se.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<se.length;C++){var ie=se[C];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}Dh=!!_g,wg=_g=null}finally{tt=p,ce.p=u,K.T=l}}r.current=s,Yt=2}}function P1(){if(Yt===2){Yt=0;var r=Ms,s=tl,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=K.T,K.T=null;var u=ce.p;ce.p=2;var p=tt;tt|=4;try{u1(r,s.alternate,s)}finally{tt=p,ce.p=u,K.T=l}}Yt=3}}function j1(){if(Yt===4||Yt===3){Yt=0,ud();var r=Ms,s=tl,l=zr,u=E1;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Yt=5:(Yt=0,tl=Ms=null,L1(r,r.pendingLanes));var p=r.pendingLanes;if(p===0&&(Ds=null),Er(l),s=s.stateNode,tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(yi,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=K.T,p=ce.p,ce.p=2,K.T=null;try{for(var y=r.onRecoverableError,T=0;T<u.length;T++){var C=u[T];y(C.value,{componentStack:C.stack})}}finally{K.T=s,ce.p=p}}(zr&3)!==0&&_h(),ir(r),p=r.pendingLanes,(l&261930)!==0&&(p&42)!==0?r===og?Hc++:(Hc=0,og=r):Hc=0,$c(0)}}function L1(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Sc(s)))}function _h(){return V1(),P1(),j1(),U1()}function U1(){if(Yt!==5)return!1;var r=Ms,s=sg;sg=0;var l=Er(zr),u=K.T,p=ce.p;try{ce.p=32>l?32:l,K.T=null,l=ag,ag=null;var y=Ms,T=zr;if(Yt=0,tl=Ms=null,zr=0,(tt&6)!==0)throw Error(i(331));var C=tt;if(tt|=4,_1(y.current),y1(y,y.current,T,l),tt=C,$c(0,!1),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(yi,y)}catch{}return!0}finally{ce.p=p,K.T=u,L1(r,s)}}function z1(r,s,l){s=ti(l,s),s=Up(r.stateNode,s,2),r=As(r,s,2),r!==null&&(xa(r,2),ir(r))}function st(r,s,l){if(r.tag===3)z1(r,r,l);else for(;s!==null;){if(s.tag===3){z1(s,r,l);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ds===null||!Ds.has(u))){r=ti(l,r),l=B_(2),u=As(s,l,2),u!==null&&(F_(l,u,s,r),xa(u,2),ir(u));break}}s=s.return}}function ug(r,s,l){var u=r.pingCache;if(u===null){u=r.pingCache=new EN;var p=new Set;u.set(s,p)}else p=u.get(s),p===void 0&&(p=new Set,u.set(s,p));p.has(l)||(ng=!0,p.add(l),r=RN.bind(null,r,s,l),s.then(r,r))}function RN(r,s,l){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,ut===r&&(He&l)===l&&(xt===4||xt===3&&(He&62914560)===He&&300>wn()-mh?(tt&2)===0&&nl(r,0):ig|=l,el===He&&(el=0)),ir(r)}function B1(r,s){s===0&&(s=gd()),r=La(r,s),r!==null&&(xa(r,s),ir(r))}function NN(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),B1(r,l)}function IN(r,s){var l=0;switch(r.tag){case 31:case 13:var u=r.stateNode,p=r.memoizedState;p!==null&&(l=p.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),B1(r,l)}function kN(r,s){return Kt(r,s)}var wh=null,rl=null,dg=!1,Th=!1,hg=!1,Vs=0;function ir(r){r!==rl&&r.next===null&&(rl===null?wh=rl=r:rl=rl.next=r),Th=!0,dg||(dg=!0,MN())}function $c(r,s){if(!hg&&Th){hg=!0;do for(var l=!1,u=wh;u!==null;){if(r!==0){var p=u.pendingLanes;if(p===0)var y=0;else{var T=u.suspendedLanes,C=u.pingedLanes;y=(1<<31-Ct(42|r)+1)-1,y&=p&~(T&~C),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,$1(u,y))}else y=He,y=Ui(u,u===ut?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||vi(u,y)||(l=!0,$1(u,y));u=u.next}while(l);hg=!1}}function DN(){F1()}function F1(){Th=dg=!1;var r=0;Vs!==0&&qN()&&(r=Vs);for(var s=wn(),l=null,u=wh;u!==null;){var p=u.next,y=q1(u,s);y===0?(u.next=null,l===null?wh=p:l.next=p,p===null&&(rl=l)):(l=u,(r!==0||(y&3)!==0)&&(Th=!0)),u=p}Yt!==0&&Yt!==5||$c(r),Vs!==0&&(Vs=0)}function q1(r,s){for(var l=r.suspendedLanes,u=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var T=31-Ct(y),C=1<<T,z=p[T];z===-1?((C&l)===0||(C&u)!==0)&&(p[T]=Bm(C,s)):z<=s&&(r.expiredLanes|=C),y&=~C}if(s=ut,l=He,l=Ui(r,r===s?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,l===0||r===s&&(rt===2||rt===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&cs(u),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||vi(r,l)){if(s=l&-l,s===r.callbackPriority)return s;switch(u!==null&&cs(u),Er(l)){case 2:case 8:l=tc;break;case 32:l=us;break;case 268435456:l=dd;break;default:l=us}return u=H1.bind(null,r),l=Kt(l,u),r.callbackPriority=s,r.callbackNode=l,s}return u!==null&&u!==null&&cs(u),r.callbackPriority=2,r.callbackNode=null,2}function H1(r,s){if(Yt!==0&&Yt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(_h()&&r.callbackNode!==l)return null;var u=He;return u=Ui(r,r===ut?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(S1(r,u,s),q1(r,wn()),r.callbackNode!=null&&r.callbackNode===l?H1.bind(null,r):null)}function $1(r,s){if(_h())return null;S1(r,s,!0)}function MN(){$N(function(){(tt&6)!==0?Kt(ec,DN):F1()})}function fg(){if(Vs===0){var r=qo;r===0&&(r=ji,ji<<=1,(ji&261888)===0&&(ji=256)),Vs=r}return Vs}function G1(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Ro(""+r)}function K1(r,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,r.id&&l.setAttribute("form",r.id),s.parentNode.insertBefore(l,s),r=new FormData(r),l.parentNode.removeChild(l),r}function ON(r,s,l,u,p){if(s==="submit"&&l&&l.stateNode===p){var y=G1((p[Wt]||null).action),T=u.submitter;T&&(s=(s=T[Wt]||null)?G1(s.formAction):T.getAttribute("formAction"),s!==null&&(y=s,T=null));var C=new Xi("action","action",null,u,p);r.push({event:C,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Vs!==0){var z=T?K1(p,T):new FormData(p);Mp(l,{pending:!0,data:z,method:p.method,action:y},null,z)}}else typeof y=="function"&&(C.preventDefault(),z=T?K1(p,T):new FormData(p),Mp(l,{pending:!0,data:z,method:p.method,action:y},y,z))},currentTarget:p}]})}}for(var mg=0;mg<Xm.length;mg++){var pg=Xm[mg],VN=pg.toLowerCase(),PN=pg[0].toUpperCase()+pg.slice(1);Ai(VN,"on"+PN)}Ai(xb,"onAnimationEnd"),Ai(Sb,"onAnimationIteration"),Ai(Ab,"onAnimationStart"),Ai("dblclick","onDoubleClick"),Ai("focusin","onFocus"),Ai("focusout","onBlur"),Ai(ZR,"onTransitionRun"),Ai(JR,"onTransitionStart"),Ai(eN,"onTransitionCancel"),Ai(Cb,"onTransitionEnd"),Gi("onMouseEnter",["mouseout","mouseover"]),Gi("onMouseLeave",["mouseout","mouseover"]),Gi("onPointerEnter",["pointerout","pointerover"]),Gi("onPointerLeave",["pointerout","pointerover"]),$i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$i("onBeforeInput",["compositionend","keypress","textInput","paste"]),$i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gc));function Y1(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var u=r[l],p=u.event;u=u.listeners;e:{var y=void 0;if(s)for(var T=u.length-1;0<=T;T--){var C=u[T],z=C.instance,Q=C.currentTarget;if(C=C.listener,z!==y&&p.isPropagationStopped())break e;y=C,p.currentTarget=Q;try{y(p)}catch(te){jd(te)}p.currentTarget=null,y=z}else for(T=0;T<u.length;T++){if(C=u[T],z=C.instance,Q=C.currentTarget,C=C.listener,z!==y&&p.isPropagationStopped())break e;y=C,p.currentTarget=Q;try{y(p)}catch(te){jd(te)}p.currentTarget=null,y=z}}}}function qe(r,s){var l=s[Eo];l===void 0&&(l=s[Eo]=new Set);var u=r+"__bubble";l.has(u)||(Q1(s,r,2,!1),l.add(u))}function gg(r,s,l){var u=0;s&&(u|=4),Q1(l,r,u,s)}var Eh="_reactListening"+Math.random().toString(36).slice(2);function yg(r){if(!r[Eh]){r[Eh]=!0,rc.forEach(function(l){l!=="selectionchange"&&(jN.has(l)||gg(l,!1,r),gg(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Eh]||(s[Eh]=!0,gg("selectionchange",!1,s))}}function Q1(r,s,l,u){switch(xw(s)){case 2:var p=dI;break;case 8:p=hI;break;default:p=Dg}l=p.bind(null,s,l,r),p=void 0,!Ia||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),u?p!==void 0?r.addEventListener(s,l,{capture:!0,passive:p}):r.addEventListener(s,l,!0):p!==void 0?r.addEventListener(s,l,{passive:p}):r.addEventListener(s,l,!1)}function vg(r,s,l,u,p){var y=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var C=u.stateNode.containerInfo;if(C===p)break;if(T===4)for(T=u.return;T!==null;){var z=T.tag;if((z===3||z===4)&&T.stateNode.containerInfo===p)return;T=T.return}for(;C!==null;){if(T=qi(C),T===null)return;if(z=T.tag,z===5||z===6||z===26||z===27){u=y=T;continue e}C=C.parentNode}}u=u.return}gs(function(){var Q=y,te=Wn(l),se=[];e:{var X=Rb.get(r);if(X!==void 0){var Z=Xi,ve=r;switch(r){case"keypress":if(Da(l)===0)break e;case"keydown":case"keyup":Z=Od;break;case"focusin":ve="focus",Z=Oa;break;case"focusout":ve="blur",Z=Oa;break;case"beforeblur":case"afterblur":Z=Oa;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=yc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Sd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=w;break;case xb:case Sb:case Ab:Z=Cd;break;case Cb:Z=N;break;case"scroll":case"scrollend":Z=gc;break;case"wheel":Z=W;break;case"copy":case"cut":case"paste":Z=Rd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Ar;break;case"toggle":case"beforetoggle":Z=Le}var Re=(s&4)!==0,ct=!Re&&(r==="scroll"||r==="scrollend"),H=Re?X!==null?X+"Capture":null:X;Re=[];for(var q=Q,Y;q!==null;){var ie=q;if(Y=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||Y===null||H===null||(ie=Ti(q,H),ie!=null&&Re.push(Kc(q,ie,Y))),ct)break;q=q.return}0<Re.length&&(X=new Z(X,ve,null,l,te),se.push({event:X,listeners:Re}))}}if((s&7)===0){e:{if(X=r==="mouseover"||r==="pointerover",Z=r==="mouseout"||r==="pointerout",X&&l!==fc&&(ve=l.relatedTarget||l.fromElement)&&(qi(ve)||ve[Bi]))break e;if((Z||X)&&(X=te.window===te?te:(X=te.ownerDocument)?X.defaultView||X.parentWindow:window,Z?(ve=l.relatedTarget||l.toElement,Z=Q,ve=ve?qi(ve):null,ve!==null&&(ct=o(ve),Re=ve.tag,ve!==ct||Re!==5&&Re!==27&&Re!==6)&&(ve=null)):(Z=null,ve=Q),Z!==ve)){if(Re=yc,ie="onMouseLeave",H="onMouseEnter",q="mouse",(r==="pointerout"||r==="pointerover")&&(Re=Ar,ie="onPointerLeave",H="onPointerEnter",q="pointer"),ct=Z==null?X:Ln(Z),Y=ve==null?X:Ln(ve),X=new Re(ie,q+"leave",Z,l,te),X.target=ct,X.relatedTarget=Y,ie=null,qi(te)===Q&&(Re=new Re(H,q+"enter",ve,l,te),Re.target=Y,Re.relatedTarget=ct,ie=Re),ct=ie,Z&&ve)t:{for(Re=LN,H=Z,q=ve,Y=0,ie=H;ie;ie=Re(ie))Y++;ie=0;for(var Ee=q;Ee;Ee=Re(Ee))ie++;for(;0<Y-ie;)H=Re(H),Y--;for(;0<ie-Y;)q=Re(q),ie--;for(;Y--;){if(H===q||q!==null&&H===q.alternate){Re=H;break t}H=Re(H),q=Re(q)}Re=null}else Re=null;Z!==null&&X1(se,X,Z,Re,!1),ve!==null&&ct!==null&&X1(se,ct,ve,Re,!0)}}e:{if(X=Q?Ln(Q):window,Z=X.nodeName&&X.nodeName.toLowerCase(),Z==="select"||Z==="input"&&X.type==="file")var We=fb;else if(db(X))if(mb)We=QR;else{We=KR;var be=GR}else Z=X.nodeName,!Z||Z.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?Q&&Co(Q.elementType)&&(We=fb):We=YR;if(We&&(We=We(r,Q))){hb(se,We,l,te);break e}be&&be(r,X,Q),r==="focusout"&&Q&&X.type==="number"&&Q.memoizedProps.value!=null&&uc(X,"number",X.value)}switch(be=Q?Ln(Q):window,r){case"focusin":(db(be)||be.contentEditable==="true")&&(Vo=be,Km=Q,Tc=null);break;case"focusout":Tc=Km=Vo=null;break;case"mousedown":Ym=!0;break;case"contextmenu":case"mouseup":case"dragend":Ym=!1,Tb(se,l,te);break;case"selectionchange":if(WR)break;case"keydown":case"keyup":Tb(se,l,te)}var ze;if(et)e:{switch(r){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else Oo?Va(r,l)&&($e="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&($e="onCompositionStart");$e&&(Ji&&l.locale!=="ko"&&(Oo||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&Oo&&(ze=pc()):(Qi=te,mc="value"in Qi?Qi.value:Qi.textContent,Oo=!0)),be=xh(Q,$e),0<be.length&&($e=new Zi($e,r,null,l,te),se.push({event:$e,listeners:be}),ze?$e.data=ze:(ze=Mo(l),ze!==null&&($e.data=ze)))),(ze=Jn?FR(r,l):qR(r,l))&&($e=xh(Q,"onBeforeInput"),0<$e.length&&(be=new Zi("onBeforeInput","beforeinput",null,l,te),se.push({event:be,listeners:$e}),be.data=ze)),ON(se,r,Q,l,te)}Y1(se,s)})}function Kc(r,s,l){return{instance:r,listener:s,currentTarget:l}}function xh(r,s){for(var l=s+"Capture",u=[];r!==null;){var p=r,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=Ti(r,l),p!=null&&u.unshift(Kc(r,p,y)),p=Ti(r,s),p!=null&&u.push(Kc(r,p,y))),r.tag===3)return u;r=r.return}return[]}function LN(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function X1(r,s,l,u,p){for(var y=s._reactName,T=[];l!==null&&l!==u;){var C=l,z=C.alternate,Q=C.stateNode;if(C=C.tag,z!==null&&z===u)break;C!==5&&C!==26&&C!==27||Q===null||(z=Q,p?(Q=Ti(l,y),Q!=null&&T.unshift(Kc(l,Q,z))):p||(Q=Ti(l,y),Q!=null&&T.push(Kc(l,Q,z)))),l=l.return}T.length!==0&&r.push({event:s,listeners:T})}var UN=/\r\n?/g,zN=/\u0000|\uFFFD/g;function W1(r){return(typeof r=="string"?r:""+r).replace(UN,`
`).replace(zN,"")}function Z1(r,s){return s=W1(s),W1(r)===s}function lt(r,s,l,u,p,y){switch(l){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||An(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&An(r,""+u);break;case"className":Un(r,"class",u);break;case"tabIndex":Un(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Un(r,l,u);break;case"style":hc(r,u,y);break;case"data":if(s!=="object"){Un(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||l!=="href")){r.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(l);break}u=Ro(""+u),r.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(s!=="input"&&lt(r,s,"name",p.name,p,null),lt(r,s,"formEncType",p.formEncType,p,null),lt(r,s,"formMethod",p.formMethod,p,null),lt(r,s,"formTarget",p.formTarget,p,null)):(lt(r,s,"encType",p.encType,p,null),lt(r,s,"method",p.method,p,null),lt(r,s,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(l);break}u=Ro(""+u),r.setAttribute(l,u);break;case"onClick":u!=null&&(r.onclick=wi);break;case"onScroll":u!=null&&qe("scroll",r);break;case"onScrollEnd":u!=null&&qe("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}l=Ro(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,""+u):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":u===!0?r.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,u):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(l,u):r.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(l):r.setAttribute(l,u);break;case"popover":qe("beforetoggle",r),qe("toggle",r),So(r,"popover",u);break;case"xlinkActuate":Lt(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Lt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Lt(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Lt(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Lt(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Lt(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Lt(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Lt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Lt(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":So(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=xd.get(l)||l,So(r,l,u))}}function bg(r,s,l,u,p,y){switch(l){case"style":hc(r,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"children":typeof u=="string"?An(r,u):(typeof u=="number"||typeof u=="bigint")&&An(r,""+u);break;case"onScroll":u!=null&&qe("scroll",r);break;case"onScrollEnd":u!=null&&qe("scrollend",r);break;case"onClick":u!=null&&(r.onclick=wi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sc.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),s=l.slice(2,p?l.length-7:void 0),y=r[Wt]||null,y=y!=null?y[l]:null,typeof y=="function"&&r.removeEventListener(s,y,p),typeof u=="function")){typeof y!="function"&&y!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(s,u,p);break e}l in r?r[l]=u:u===!0?r.setAttribute(l,""):So(r,l,u)}}}function on(r,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",r),qe("load",r);var u=!1,p=!1,y;for(y in l)if(l.hasOwnProperty(y)){var T=l[y];if(T!=null)switch(y){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:lt(r,s,y,T,l,null)}}p&&lt(r,s,"srcSet",l.srcSet,l,null),u&&lt(r,s,"src",l.src,l,null);return;case"input":qe("invalid",r);var C=y=T=p=null,z=null,Q=null;for(u in l)if(l.hasOwnProperty(u)){var te=l[u];if(te!=null)switch(u){case"name":p=te;break;case"type":T=te;break;case"checked":z=te;break;case"defaultChecked":Q=te;break;case"value":y=te;break;case"defaultValue":C=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,s));break;default:lt(r,s,u,te,l,null)}}wd(r,y,C,z,Q,T,p,!1);return;case"select":qe("invalid",r),u=T=y=null;for(p in l)if(l.hasOwnProperty(p)&&(C=l[p],C!=null))switch(p){case"value":y=C;break;case"defaultValue":T=C;break;case"multiple":u=C;default:lt(r,s,p,C,l,null)}s=y,l=T,r.multiple=!!u,s!=null?hs(r,!!u,s,!1):l!=null&&hs(r,!!u,l,!0);return;case"textarea":qe("invalid",r),y=p=u=null;for(T in l)if(l.hasOwnProperty(T)&&(C=l[T],C!=null))switch(T){case"value":u=C;break;case"defaultValue":p=C;break;case"children":y=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(91));break;default:lt(r,s,T,C,l,null)}fs(r,u,p,y);return;case"option":for(z in l)if(l.hasOwnProperty(z)&&(u=l[z],u!=null))switch(z){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:lt(r,s,z,u,l,null)}return;case"dialog":qe("beforetoggle",r),qe("toggle",r),qe("cancel",r),qe("close",r);break;case"iframe":case"object":qe("load",r);break;case"video":case"audio":for(u=0;u<Gc.length;u++)qe(Gc[u],r);break;case"image":qe("error",r),qe("load",r);break;case"details":qe("toggle",r);break;case"embed":case"source":case"link":qe("error",r),qe("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in l)if(l.hasOwnProperty(Q)&&(u=l[Q],u!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:lt(r,s,Q,u,l,null)}return;default:if(Co(s)){for(te in l)l.hasOwnProperty(te)&&(u=l[te],u!==void 0&&bg(r,s,te,u,l,void 0));return}}for(C in l)l.hasOwnProperty(C)&&(u=l[C],u!=null&&lt(r,s,C,u,l,null))}function BN(r,s,l,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,T=null,C=null,z=null,Q=null,te=null;for(Z in l){var se=l[Z];if(l.hasOwnProperty(Z)&&se!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":z=se;default:u.hasOwnProperty(Z)||lt(r,s,Z,null,u,se)}}for(var X in u){var Z=u[X];if(se=l[X],u.hasOwnProperty(X)&&(Z!=null||se!=null))switch(X){case"type":y=Z;break;case"name":p=Z;break;case"checked":Q=Z;break;case"defaultChecked":te=Z;break;case"value":T=Z;break;case"defaultValue":C=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,s));break;default:Z!==se&&lt(r,s,X,Z,u,se)}}Ao(r,T,C,z,Q,te,y,p);return;case"select":Z=T=C=X=null;for(y in l)if(z=l[y],l.hasOwnProperty(y)&&z!=null)switch(y){case"value":break;case"multiple":Z=z;default:u.hasOwnProperty(y)||lt(r,s,y,null,u,z)}for(p in u)if(y=u[p],z=l[p],u.hasOwnProperty(p)&&(y!=null||z!=null))switch(p){case"value":X=y;break;case"defaultValue":C=y;break;case"multiple":T=y;default:y!==z&&lt(r,s,p,y,u,z)}s=C,l=T,u=Z,X!=null?hs(r,!!l,X,!1):!!u!=!!l&&(s!=null?hs(r,!!l,s,!0):hs(r,!!l,l?[]:"",!1));return;case"textarea":Z=X=null;for(C in l)if(p=l[C],l.hasOwnProperty(C)&&p!=null&&!u.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:lt(r,s,C,null,u,p)}for(T in u)if(p=u[T],y=l[T],u.hasOwnProperty(T)&&(p!=null||y!=null))switch(T){case"value":X=p;break;case"defaultValue":Z=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==y&&lt(r,s,T,p,u,y)}Td(r,X,Z);return;case"option":for(var ve in l)if(X=l[ve],l.hasOwnProperty(ve)&&X!=null&&!u.hasOwnProperty(ve))switch(ve){case"selected":r.selected=!1;break;default:lt(r,s,ve,null,u,X)}for(z in u)if(X=u[z],Z=l[z],u.hasOwnProperty(z)&&X!==Z&&(X!=null||Z!=null))switch(z){case"selected":r.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:lt(r,s,z,X,u,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in l)X=l[Re],l.hasOwnProperty(Re)&&X!=null&&!u.hasOwnProperty(Re)&&lt(r,s,Re,null,u,X);for(Q in u)if(X=u[Q],Z=l[Q],u.hasOwnProperty(Q)&&X!==Z&&(X!=null||Z!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,s));break;default:lt(r,s,Q,X,u,Z)}return;default:if(Co(s)){for(var ct in l)X=l[ct],l.hasOwnProperty(ct)&&X!==void 0&&!u.hasOwnProperty(ct)&&bg(r,s,ct,void 0,u,X);for(te in u)X=u[te],Z=l[te],!u.hasOwnProperty(te)||X===Z||X===void 0&&Z===void 0||bg(r,s,te,X,u,Z);return}}for(var H in l)X=l[H],l.hasOwnProperty(H)&&X!=null&&!u.hasOwnProperty(H)&&lt(r,s,H,null,u,X);for(se in u)X=u[se],Z=l[se],!u.hasOwnProperty(se)||X===Z||X==null&&Z==null||lt(r,s,se,X,u,Z)}function J1(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function FN(){if(typeof performance.getEntriesByType=="function"){for(var r=0,s=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var p=l[u],y=p.transferSize,T=p.initiatorType,C=p.duration;if(y&&C&&J1(T)){for(T=0,C=p.responseEnd,u+=1;u<l.length;u++){var z=l[u],Q=z.startTime;if(Q>C)break;var te=z.transferSize,se=z.initiatorType;te&&J1(se)&&(z=z.responseEnd,T+=te*(z<C?1:(C-Q)/(z-Q)))}if(--u,s+=8*(y+T)/(p.duration/1e3),r++,10<r)break}}if(0<r)return s/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var _g=null,wg=null;function Sh(r){return r.nodeType===9?r:r.ownerDocument}function ew(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function tw(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Tg(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Eg=null;function qN(){var r=window.event;return r&&r.type==="popstate"?r===Eg?!1:(Eg=r,!0):(Eg=null,!1)}var nw=typeof setTimeout=="function"?setTimeout:void 0,HN=typeof clearTimeout=="function"?clearTimeout:void 0,iw=typeof Promise=="function"?Promise:void 0,$N=typeof queueMicrotask=="function"?queueMicrotask:typeof iw<"u"?function(r){return iw.resolve(null).then(r).catch(GN)}:nw;function GN(r){setTimeout(function(){throw r})}function Ps(r){return r==="head"}function rw(r,s){var l=s,u=0;do{var p=l.nextSibling;if(r.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"||l==="/&"){if(u===0){r.removeChild(p),ll(s);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")Yc(r.ownerDocument.documentElement);else if(l==="head"){l=r.ownerDocument.head,Yc(l);for(var y=l.firstChild;y;){var T=y.nextSibling,C=y.nodeName;y[Fi]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&y.rel.toLowerCase()==="stylesheet"||l.removeChild(y),y=T}}else l==="body"&&Yc(r.ownerDocument.body);l=p}while(l);ll(s)}function sw(r,s){var l=r;r=0;do{var u=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(r===0)break;r--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||r++;l=u}while(l)}function xg(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":xg(l),xo(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function KN(r,s,l,u){for(;r.nodeType===1;){var p=l;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Fi])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==p.rel||r.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||r.getAttribute("title")!==(p.title==null?null:p.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(p.src==null?null:p.src)||r.getAttribute("type")!==(p.type==null?null:p.type)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=ai(r.nextSibling),r===null)break}return null}function YN(r,s,l){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=ai(r.nextSibling),r===null))return null;return r}function aw(r,s){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!s||(r=ai(r.nextSibling),r===null))return null;return r}function Sg(r){return r.data==="$?"||r.data==="$~"}function Ag(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function QN(r,s){var l=r.ownerDocument;if(r.data==="$~")r._reactRetry=s;else if(r.data!=="$?"||l.readyState!=="loading")s();else{var u=function(){s(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function ai(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return r}var Cg=null;function ow(r){r=r.nextSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"||l==="/&"){if(s===0)return ai(r.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}r=r.nextSibling}return null}function lw(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return r;s--}else l!=="/$"&&l!=="/&"||s++}r=r.previousSibling}return null}function cw(r,s,l){switch(s=Sh(l),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Yc(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);xo(r)}var oi=new Map,uw=new Set;function Ah(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Br=ce.d;ce.d={f:XN,r:WN,D:ZN,C:JN,L:eI,m:tI,X:iI,S:nI,M:rI};function XN(){var r=Br.f(),s=yh();return r||s}function WN(r){var s=Xn(r);s!==null&&s.tag===5&&s.type==="form"?C_(s):Br.r(r)}var sl=typeof document>"u"?null:document;function dw(r,s,l){var u=sl;if(u&&typeof s=="string"&&s){var p=Sn(s);p='link[rel="'+r+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),uw.has(p)||(uw.add(p),r={rel:r,crossOrigin:l,href:s},u.querySelector(p)===null&&(s=u.createElement("link"),on(s,"link",r),jt(s),u.head.appendChild(s)))}}function ZN(r){Br.D(r),dw("dns-prefetch",r,null)}function JN(r,s){Br.C(r,s),dw("preconnect",r,s)}function eI(r,s,l){Br.L(r,s,l);var u=sl;if(u&&r&&s){var p='link[rel="preload"][as="'+Sn(s)+'"]';s==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+Sn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+Sn(l.imageSizes)+'"]')):p+='[href="'+Sn(r)+'"]';var y=p;switch(s){case"style":y=al(r);break;case"script":y=ol(r)}oi.has(y)||(r=v({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:r,as:s},l),oi.set(y,r),u.querySelector(p)!==null||s==="style"&&u.querySelector(Qc(y))||s==="script"&&u.querySelector(Xc(y))||(s=u.createElement("link"),on(s,"link",r),jt(s),u.head.appendChild(s)))}}function tI(r,s){Br.m(r,s);var l=sl;if(l&&r){var u=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+Sn(u)+'"][href="'+Sn(r)+'"]',y=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=ol(r)}if(!oi.has(y)&&(r=v({rel:"modulepreload",href:r},s),oi.set(y,r),l.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Xc(y)))return}u=l.createElement("link"),on(u,"link",r),jt(u),l.head.appendChild(u)}}}function nI(r,s,l){Br.S(r,s,l);var u=sl;if(u&&r){var p=Hi(u).hoistableStyles,y=al(r);s=s||"default";var T=p.get(y);if(!T){var C={loading:0,preload:null};if(T=u.querySelector(Qc(y)))C.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":s},l),(l=oi.get(y))&&Rg(r,l);var z=T=u.createElement("link");jt(z),on(z,"link",r),z._p=new Promise(function(Q,te){z.onload=Q,z.onerror=te}),z.addEventListener("load",function(){C.loading|=1}),z.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Ch(T,s,u)}T={type:"stylesheet",instance:T,count:1,state:C},p.set(y,T)}}}function iI(r,s){Br.X(r,s);var l=sl;if(l&&r){var u=Hi(l).hoistableScripts,p=ol(r),y=u.get(p);y||(y=l.querySelector(Xc(p)),y||(r=v({src:r,async:!0},s),(s=oi.get(p))&&Ng(r,s),y=l.createElement("script"),jt(y),on(y,"link",r),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function rI(r,s){Br.M(r,s);var l=sl;if(l&&r){var u=Hi(l).hoistableScripts,p=ol(r),y=u.get(p);y||(y=l.querySelector(Xc(p)),y||(r=v({src:r,async:!0,type:"module"},s),(s=oi.get(p))&&Ng(r,s),y=l.createElement("script"),jt(y),on(y,"link",r),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function hw(r,s,l,u){var p=(p=we.current)?Ah(p):null;if(!p)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=al(l.href),l=Hi(p).hoistableStyles,u=l.get(s),u||(u={type:"style",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=al(l.href);var y=Hi(p).hoistableStyles,T=y.get(r);if(T||(p=p.ownerDocument||p,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,T),(y=p.querySelector(Qc(r)))&&!y._p&&(T.instance=y,T.state.loading=5),oi.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},oi.set(r,l),y||sI(p,r,l,T.state))),s&&u===null)throw Error(i(528,""));return T}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ol(l),l=Hi(p).hoistableScripts,u=l.get(s),u||(u={type:"script",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function al(r){return'href="'+Sn(r)+'"'}function Qc(r){return'link[rel="stylesheet"]['+r+"]"}function fw(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function sI(r,s,l,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),on(s,"link",l),jt(s),r.head.appendChild(s))}function ol(r){return'[src="'+Sn(r)+'"]'}function Xc(r){return"script[async]"+r}function mw(r,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+Sn(l.href)+'"]');if(u)return s.instance=u,jt(u),u;var p=v({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),jt(u),on(u,"style",p),Ch(u,l.precedence,r),s.instance=u;case"stylesheet":p=al(l.href);var y=r.querySelector(Qc(p));if(y)return s.state.loading|=4,s.instance=y,jt(y),y;u=fw(l),(p=oi.get(p))&&Rg(u,p),y=(r.ownerDocument||r).createElement("link"),jt(y);var T=y;return T._p=new Promise(function(C,z){T.onload=C,T.onerror=z}),on(y,"link",u),s.state.loading|=4,Ch(y,l.precedence,r),s.instance=y;case"script":return y=ol(l.src),(p=r.querySelector(Xc(y)))?(s.instance=p,jt(p),p):(u=l,(p=oi.get(y))&&(u=v({},l),Ng(u,p)),r=r.ownerDocument||r,p=r.createElement("script"),jt(p),on(p,"link",u),r.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Ch(u,l.precedence,r));return s.instance}function Ch(r,s,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,y=p,T=0;T<u.length;T++){var C=u[T];if(C.dataset.precedence===s)y=C;else if(y!==p)break}y?y.parentNode.insertBefore(r,y.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(r,s.firstChild))}function Rg(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Ng(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Rh=null;function pw(r,s,l){if(Rh===null){var u=new Map,p=Rh=new Map;p.set(l,u)}else p=Rh,u=p.get(l),u||(u=new Map,p.set(l,u));if(u.has(r))return u;for(u.set(r,null),l=l.getElementsByTagName(r),p=0;p<l.length;p++){var y=l[p];if(!(y[Fi]||y[Pt]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var T=y.getAttribute(s)||"";T=r+T;var C=u.get(T);C?C.push(y):u.set(T,[y])}}return u}function gw(r,s,l){r=r.ownerDocument||r,r.head.insertBefore(l,s==="title"?r.querySelector("head > title"):null)}function aI(r,s,l){if(l===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function yw(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function oI(r,s,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=al(u.href),y=s.querySelector(Qc(p));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(r.count++,r=Nh.bind(r),s.then(r,r)),l.state.loading|=4,l.instance=y,jt(y);return}y=s.ownerDocument||s,u=fw(u),(p=oi.get(p))&&Rg(u,p),y=y.createElement("link"),jt(y);var T=y;T._p=new Promise(function(C,z){T.onload=C,T.onerror=z}),on(y,"link",u),l.instance=y}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(r.count++,l=Nh.bind(r),s.addEventListener("load",l),s.addEventListener("error",l))}}var Ig=0;function lI(r,s){return r.stylesheets&&r.count===0&&kh(r,r.stylesheets),0<r.count||0<r.imgCount?function(l){var u=setTimeout(function(){if(r.stylesheets&&kh(r,r.stylesheets),r.unsuspend){var y=r.unsuspend;r.unsuspend=null,y()}},6e4+s);0<r.imgBytes&&Ig===0&&(Ig=62500*FN());var p=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&kh(r,r.stylesheets),r.unsuspend)){var y=r.unsuspend;r.unsuspend=null,y()}},(r.imgBytes>Ig?50:800)+s);return r.unsuspend=l,function(){r.unsuspend=null,clearTimeout(u),clearTimeout(p)}}:null}function Nh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)kh(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Ih=null;function kh(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Ih=new Map,s.forEach(cI,r),Ih=null,Nh.call(r))}function cI(r,s){if(!(s.state.loading&4)){var l=Ih.get(r);if(l)var u=l.get(null);else{l=new Map,Ih.set(r,l);for(var p=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var T=p[y];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),u=T)}u&&l.set(null,u)}p=s.instance,T=p.getAttribute("data-precedence"),y=l.get(T)||u,y===u&&l.set(null,p),l.set(T,p),this.count++,u=Nh.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),y?y.parentNode.insertBefore(p,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(p,r.firstChild)),s.state.loading|=4}}var Wc={$$typeof:j,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function uI(r,s,l,u,p,y,T,C,z){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zi(0),this.hiddenUpdates=zi(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function vw(r,s,l,u,p,y,T,C,z,Q,te,se){return r=new uI(r,s,l,T,z,Q,te,se,C),s=1,y===!0&&(s|=24),y=Bn(3,null,null,s),r.current=y,y.stateNode=r,s=cp(),s.refCount++,r.pooledCache=s,s.refCount++,y.memoizedState={element:u,isDehydrated:l,cache:s},fp(y),r}function bw(r){return r?(r=Lo,r):Lo}function _w(r,s,l,u,p,y){p=bw(p),u.context===null?u.context=p:u.pendingContext=p,u=Ss(s),u.payload={element:l},y=y===void 0?null:y,y!==null&&(u.callback=y),l=As(r,u,s),l!==null&&(kn(l,r,s),Nc(l,r,s))}function ww(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function kg(r,s){ww(r,s),(r=r.alternate)&&ww(r,s)}function Tw(r){if(r.tag===13||r.tag===31){var s=La(r,67108864);s!==null&&kn(s,r,67108864),kg(r,67108864)}}function Ew(r){if(r.tag===13||r.tag===31){var s=Gn();s=Aa(s);var l=La(r,s);l!==null&&kn(l,r,s),kg(r,s)}}var Dh=!0;function dI(r,s,l,u){var p=K.T;K.T=null;var y=ce.p;try{ce.p=2,Dg(r,s,l,u)}finally{ce.p=y,K.T=p}}function hI(r,s,l,u){var p=K.T;K.T=null;var y=ce.p;try{ce.p=8,Dg(r,s,l,u)}finally{ce.p=y,K.T=p}}function Dg(r,s,l,u){if(Dh){var p=Mg(u);if(p===null)vg(r,s,u,Mh,l),Sw(r,u);else if(mI(p,r,s,l,u))u.stopPropagation();else if(Sw(r,u),s&4&&-1<fI.indexOf(r)){for(;p!==null;){var y=Xn(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var T=Li(y.pendingLanes);if(T!==0){var C=y;for(C.pendingLanes|=2,C.entangledLanes|=2;T;){var z=1<<31-Ct(T);C.entanglements[1]|=z,T&=~z}ir(y),(tt&6)===0&&(ph=wn()+500,$c(0))}}break;case 31:case 13:C=La(y,2),C!==null&&kn(C,y,2),yh(),kg(y,2)}if(y=Mg(u),y===null&&vg(r,s,u,Mh,l),y===p)break;p=y}p!==null&&u.stopPropagation()}else vg(r,s,u,null,l)}}function Mg(r){return r=Wn(r),Og(r)}var Mh=null;function Og(r){if(Mh=null,r=qi(r),r!==null){var s=o(r);if(s===null)r=null;else{var l=s.tag;if(l===13){if(r=c(s),r!==null)return r;r=null}else if(l===31){if(r=d(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Mh=r,null}function xw(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ta()){case ec:return 2;case tc:return 8;case us:case zm:return 32;case dd:return 268435456;default:return 32}default:return 32}}var Vg=!1,js=null,Ls=null,Us=null,Zc=new Map,Jc=new Map,zs=[],fI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sw(r,s){switch(r){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":Ls=null;break;case"mouseover":case"mouseout":Us=null;break;case"pointerover":case"pointerout":Zc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jc.delete(s.pointerId)}}function eu(r,s,l,u,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:l,eventSystemFlags:u,nativeEvent:y,targetContainers:[p]},s!==null&&(s=Xn(s),s!==null&&Tw(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function mI(r,s,l,u,p){switch(s){case"focusin":return js=eu(js,r,s,l,u,p),!0;case"dragenter":return Ls=eu(Ls,r,s,l,u,p),!0;case"mouseover":return Us=eu(Us,r,s,l,u,p),!0;case"pointerover":var y=p.pointerId;return Zc.set(y,eu(Zc.get(y)||null,r,s,l,u,p)),!0;case"gotpointercapture":return y=p.pointerId,Jc.set(y,eu(Jc.get(y)||null,r,s,l,u,p)),!0}return!1}function Aw(r){var s=qi(r.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=c(l),s!==null){r.blockedOn=s,bi(r.priority,function(){Ew(l)});return}}else if(s===31){if(s=d(l),s!==null){r.blockedOn=s,bi(r.priority,function(){Ew(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Oh(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=Mg(r.nativeEvent);if(l===null){l=r.nativeEvent;var u=new l.constructor(l.type,l);fc=u,l.target.dispatchEvent(u),fc=null}else return s=Xn(l),s!==null&&Tw(s),r.blockedOn=l,!1;s.shift()}return!0}function Cw(r,s,l){Oh(r)&&l.delete(s)}function pI(){Vg=!1,js!==null&&Oh(js)&&(js=null),Ls!==null&&Oh(Ls)&&(Ls=null),Us!==null&&Oh(Us)&&(Us=null),Zc.forEach(Cw),Jc.forEach(Cw)}function Vh(r,s){r.blockedOn===s&&(r.blockedOn=null,Vg||(Vg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,pI)))}var Ph=null;function Rw(r){Ph!==r&&(Ph=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ph===r&&(Ph=null);for(var s=0;s<r.length;s+=3){var l=r[s],u=r[s+1],p=r[s+2];if(typeof u!="function"){if(Og(u||l)===null)continue;break}var y=Xn(l);y!==null&&(r.splice(s,3),s-=3,Mp(y,{pending:!0,data:p,method:l.method,action:u},u,p))}}))}function ll(r){function s(z){return Vh(z,r)}js!==null&&Vh(js,r),Ls!==null&&Vh(Ls,r),Us!==null&&Vh(Us,r),Zc.forEach(s),Jc.forEach(s);for(var l=0;l<zs.length;l++){var u=zs[l];u.blockedOn===r&&(u.blockedOn=null)}for(;0<zs.length&&(l=zs[0],l.blockedOn===null);)Aw(l),l.blockedOn===null&&zs.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var p=l[u],y=l[u+1],T=p[Wt]||null;if(typeof y=="function")T||Rw(l);else if(T){var C=null;if(y&&y.hasAttribute("formAction")){if(p=y,T=y[Wt]||null)C=T.formAction;else if(Og(p)!==null)continue}else C=T.action;typeof C=="function"?l[u+1]=C:(l.splice(u,3),u-=3),Rw(l)}}}function Nw(){function r(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(T){return p=T})},focusReset:"manual",scroll:"manual"})}function s(){p!==null&&(p(),p=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,p=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),p!==null&&(p(),p=null)}}}function Pg(r){this._internalRoot=r}jh.prototype.render=Pg.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var l=s.current,u=Gn();_w(l,u,r,s,null,null)},jh.prototype.unmount=Pg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;_w(r.current,2,null,r,null,null),yh(),s[Bi]=null}};function jh(r){this._internalRoot=r}jh.prototype.unstable_scheduleHydration=function(r){if(r){var s=yd();r={blockedOn:null,target:r,priority:s};for(var l=0;l<zs.length&&s!==0&&s<zs[l].priority;l++);zs.splice(l,0,r),l===0&&Aw(r)}};var Iw=e.version;if(Iw!=="19.2.0")throw Error(i(527,Iw,"19.2.0"));ce.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=f(s),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var gI={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lh.isDisabled&&Lh.supportsFiber)try{yi=Lh.inject(gI),tn=Lh}catch{}}return nu.createRoot=function(r,s){if(!a(r))throw Error(i(299));var l=!1,u="",p=j_,y=L_,T=U_;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError)),s=vw(r,1,!1,null,null,l,u,null,p,y,T,Nw),r[Bi]=s.current,yg(r),new Pg(s)},nu.hydrateRoot=function(r,s,l){if(!a(r))throw Error(i(299));var u=!1,p="",y=j_,T=L_,C=U_,z=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(C=l.onRecoverableError),l.formState!==void 0&&(z=l.formState)),s=vw(r,1,!0,s,l??null,u,p,z,y,T,C,Nw),s.context=bw(null),l=s.current,u=Gn(),u=Aa(u),p=Ss(u),p.callback=null,As(l,p,u),l=u,s.current.lanes=l,xa(s,l),ir(s),r[Bi]=s.current,yg(r),new jh(s)},nu.version="19.2.0",nu}var zw;function CI(){if(zw)return Ug.exports;zw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ug.exports=AI(),Ug.exports}var RI=CI();const NI="modulepreload",II=function(t){return"/personal-budget-pwa/"+t},Bw={},kI=function(e,n,i){let a=Promise.resolve();if(n&&n.length>0){let f=function(g){return Promise.all(g.map(v=>Promise.resolve(v).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};var c=f;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),h=d?.nonce||d?.getAttribute("nonce");a=f(n.map(g=>{if(g=II(g),g in Bw)return;Bw[g]=!0;const v=g.endsWith(".css"),_=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${_}`))return;const x=document.createElement("link");if(x.rel=v?"stylesheet":NI,v||(x.as="script"),x.crossOrigin="",x.href=g,h&&x.setAttribute("nonce",h),document.head.appendChild(x),v)return new Promise((k,A)=>{x.addEventListener("load",k),x.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${g}`)))})}))}function o(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return a.then(d=>{for(const h of d||[])h.status==="rejected"&&o(h.reason);return e().catch(o)})};function DI(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:i,onRegistered:a,onRegisteredSW:o,onRegisterError:c}=t;let d,h;const f=async(v=!0)=>{await h};async function g(){if("serviceWorker"in navigator){if(d=await kI(async()=>{const{Workbox:v}=await import("./workbox-window.prod.es5-BIl4cyR9.js");return{Workbox:v}},[]).then(({Workbox:v})=>new v("/personal-budget-pwa/sw.js",{scope:"/personal-budget-pwa/",type:"classic"})).catch(v=>{c?.(v)}),!d)return;d.addEventListener("activated",v=>{(v.isUpdate||v.isExternal)&&window.location.reload()}),d.addEventListener("installed",v=>{v.isUpdate||i?.()}),d.register({immediate:e}).then(v=>{o?o("/personal-budget-pwa/sw.js",v):a?.(v)}).catch(v=>{c?.(v)})}}return h=g(),f}var Fw="popstate";function MI(t={}){function e(a,o){let{pathname:c="/",search:d="",hash:h=""}=go(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),E0("",{pathname:c,search:d,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){let c=a.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let h=a.location.href,f=h.indexOf("#");d=f===-1?h:h.slice(0,f)}return d+"#"+(typeof o=="string"?o:xu(o))}function i(a,o){gi(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return VI(e,n,i,t)}function _t(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function gi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function OI(){return Math.random().toString(36).substring(2,10)}function qw(t,e){return{usr:t.state,key:t.key,idx:e}}function E0(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?go(e):e,state:n,key:e&&e.key||i||OI()}}function xu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function go(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function VI(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:o=!1}=i,c=a.history,d="POP",h=null,f=g();f==null&&(f=0,c.replaceState({...c.state,idx:f},""));function g(){return(c.state||{idx:null}).idx}function v(){d="POP";let I=g(),U=I==null?null:I-f;f=I,h&&h({action:d,location:A.location,delta:U})}function _(I,U){d="PUSH";let B=E0(A.location,I,U);n&&n(B,I),f=g()+1;let j=qw(B,f),$=A.createHref(B);try{c.pushState(j,"",$)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;a.location.assign($)}o&&h&&h({action:d,location:A.location,delta:1})}function x(I,U){d="REPLACE";let B=E0(A.location,I,U);n&&n(B,I),f=g();let j=qw(B,f),$=A.createHref(B);c.replaceState(j,"",$),o&&h&&h({action:d,location:A.location,delta:0})}function k(I){return PI(I)}let A={get action(){return d},get location(){return t(a,c)},listen(I){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(Fw,v),h=I,()=>{a.removeEventListener(Fw,v),h=null}},createHref(I){return e(a,I)},createURL:k,encodeLocation(I){let U=k(I);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:_,replace:x,go(I){return c.go(I)}};return A}function PI(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),_t(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:xu(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function eS(t,e,n="/"){return jI(t,e,n,!1)}function jI(t,e,n,i){let a=typeof e=="string"?go(e):e,o=Wr(a.pathname||"/",n);if(o==null)return null;let c=tS(t);LI(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let f=QI(o);d=KI(c[h],f,i)}return d}function tS(t,e=[],n=[],i="",a=!1){let o=(c,d,h=a,f)=>{let g={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(i)&&h)return;_t(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length)}let v=Yr([i,g.relativePath]),_=n.concat(g);c.children&&c.children.length>0&&(_t(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),tS(c.children,e,_,v,h)),!(c.path==null&&!c.index)&&e.push({path:v,score:$I(v,c.index),routesMeta:_})};return t.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))o(c,d);else for(let h of nS(c.path))o(c,d,!0,h)}),e}function nS(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return a?[o,""]:[o];let c=nS(i.join("/")),d=[];return d.push(...c.map(h=>h===""?o:[o,h].join("/"))),a&&d.push(...c),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function LI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:GI(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var UI=/^:[\w-]+$/,zI=3,BI=2,FI=1,qI=10,HI=-2,Hw=t=>t==="*";function $I(t,e){let n=t.split("/"),i=n.length;return n.some(Hw)&&(i+=HI),e&&(i+=BI),n.filter(a=>!Hw(a)).reduce((a,o)=>a+(UI.test(o)?zI:o===""?FI:qI),i)}function GI(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function KI(t,e,n=!1){let{routesMeta:i}=t,a={},o="/",c=[];for(let d=0;d<i.length;++d){let h=i[d],f=d===i.length-1,g=o==="/"?e:e.slice(o.length)||"/",v=_f({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},g),_=h.route;if(!v&&f&&n&&!i[i.length-1].route.index&&(v=_f({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!v)return null;Object.assign(a,v.params),c.push({params:a,pathname:Yr([o,v.pathname]),pathnameBase:ek(Yr([o,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(o=Yr([o,v.pathnameBase]))}return c}function _f(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=YI(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((f,{paramName:g,isOptional:v},_)=>{if(g==="*"){let k=d[_]||"";c=o.slice(0,o.length-k.length).replace(/(.)\/+$/,"$1")}const x=d[_];return v&&!x?f[g]=void 0:f[g]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:c,pattern:t}}function YI(t,e=!1,n=!0){gi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(i.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function QI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Wr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var XI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WI=t=>XI.test(t);function ZI(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?go(t):t,o;if(n)if(WI(n))o=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),gi(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?o=$w(n.substring(1),"/"):o=$w(n,e)}else o=e;return{pathname:o,search:tk(i),hash:nk(a)}}function $w(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function qg(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function JI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function iS(t){let e=JI(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function rS(t,e,n,i=!1){let a;typeof t=="string"?a=go(t):(a={...t},_t(!a.pathname||!a.pathname.includes("?"),qg("?","pathname","search",a)),_t(!a.pathname||!a.pathname.includes("#"),qg("#","pathname","hash",a)),_t(!a.search||!a.search.includes("#"),qg("#","search","hash",a)));let o=t===""||a.pathname==="",c=o?"/":a.pathname,d;if(c==null)d=n;else{let v=e.length-1;if(!i&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),v-=1;a.pathname=_.join("/")}d=v>=0?e[v]:"/"}let h=ZI(a,d),f=c&&c!=="/"&&c.endsWith("/"),g=(o||c===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(f||g)&&(h.pathname+="/"),h}var Yr=t=>t.join("/").replace(/\/\/+/g,"/"),ek=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),tk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,nk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ik(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var sS=["POST","PUT","PATCH","DELETE"];new Set(sS);var rk=["GET",...sS];new Set(rk);var zl=O.createContext(null);zl.displayName="DataRouter";var Zf=O.createContext(null);Zf.displayName="DataRouterState";O.createContext(!1);var aS=O.createContext({isTransitioning:!1});aS.displayName="ViewTransition";var sk=O.createContext(new Map);sk.displayName="Fetchers";var ak=O.createContext(null);ak.displayName="Await";var _r=O.createContext(null);_r.displayName="Navigation";var Hu=O.createContext(null);Hu.displayName="Location";var wr=O.createContext({outlet:null,matches:[],isDataRoute:!1});wr.displayName="Route";var Sy=O.createContext(null);Sy.displayName="RouteError";function ok(t,{relative:e}={}){_t($u(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=O.useContext(_r),{hash:a,pathname:o,search:c}=Gu(t,{relative:e}),d=o;return n!=="/"&&(d=o==="/"?n:Yr([n,o])),i.createHref({pathname:d,search:c,hash:a})}function $u(){return O.useContext(Hu)!=null}function ma(){return _t($u(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(Hu).location}var oS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lS(t){O.useContext(_r).static||O.useLayoutEffect(t)}function pa(){let{isDataRoute:t}=O.useContext(wr);return t?wk():lk()}function lk(){_t($u(),"useNavigate() may be used only in the context of a <Router> component.");let t=O.useContext(zl),{basename:e,navigator:n}=O.useContext(_r),{matches:i}=O.useContext(wr),{pathname:a}=ma(),o=JSON.stringify(iS(i)),c=O.useRef(!1);return lS(()=>{c.current=!0}),O.useCallback((h,f={})=>{if(gi(c.current,oS),!c.current)return;if(typeof h=="number"){n.go(h);return}let g=rS(h,JSON.parse(o),a,f.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Yr([e,g.pathname])),(f.replace?n.replace:n.push)(g,f.state,f)},[e,n,o,a,t])}O.createContext(null);function ck(){let{matches:t}=O.useContext(wr),e=t[t.length-1];return e?e.params:{}}function Gu(t,{relative:e}={}){let{matches:n}=O.useContext(wr),{pathname:i}=ma(),a=JSON.stringify(iS(n));return O.useMemo(()=>rS(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function uk(t,e){return cS(t,e)}function cS(t,e,n,i,a){_t($u(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=O.useContext(_r),{matches:c}=O.useContext(wr),d=c[c.length-1],h=d?d.params:{},f=d?d.pathname:"/",g=d?d.pathnameBase:"/",v=d&&d.route;{let B=v&&v.path||"";uS(f,!v||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let _=ma(),x;if(e){let B=typeof e=="string"?go(e):e;_t(g==="/"||B.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${B.pathname}" was given in the \`location\` prop.`),x=B}else x=_;let k=x.pathname||"/",A=k;if(g!=="/"){let B=g.replace(/^\//,"").split("/");A="/"+k.replace(/^\//,"").split("/").slice(B.length).join("/")}let I=eS(t,{pathname:A});gi(v||I!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),gi(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=pk(I&&I.map(B=>Object.assign({},B,{params:Object.assign({},h,B.params),pathname:Yr([g,o.encodeLocation?o.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?g:Yr([g,o.encodeLocation?o.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),c,n,i,a);return e&&U?O.createElement(Hu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},U):U}function dk(){let t=_k(),e=ik(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:o},"ErrorBoundary")," or"," ",O.createElement("code",{style:o},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:a},n):null,c)}var hk=O.createElement(dk,null),fk=class extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?O.createElement(wr.Provider,{value:this.props.routeContext},O.createElement(Sy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function mk({routeContext:t,match:e,children:n}){let i=O.useContext(zl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(wr.Provider,{value:t},n)}function pk(t,e=[],n=null,i=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,c=n?.errors;if(c!=null){let g=o.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);_t(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let d=!1,h=-1;if(n)for(let g=0;g<o.length;g++){let v=o[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(h=g),v.route.id){let{loaderData:_,errors:x}=n,k=v.route.loader&&!_.hasOwnProperty(v.route.id)&&(!x||x[v.route.id]===void 0);if(v.route.lazy||k){d=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}let f=n&&i?(g,v)=>{i(g,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:v})}:void 0;return o.reduceRight((g,v,_)=>{let x,k=!1,A=null,I=null;n&&(x=c&&v.route.id?c[v.route.id]:void 0,A=v.route.errorElement||hk,d&&(h<0&&_===0?(uS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,I=null):h===_&&(k=!0,I=v.route.hydrateFallbackElement||null)));let U=e.concat(o.slice(0,_+1)),B=()=>{let j;return x?j=A:k?j=I:v.route.Component?j=O.createElement(v.route.Component,null):v.route.element?j=v.route.element:j=g,O.createElement(mk,{match:v,routeContext:{outlet:g,matches:U,isDataRoute:n!=null},children:j})};return n&&(v.route.ErrorBoundary||v.route.errorElement||_===0)?O.createElement(fk,{location:n.location,revalidation:n.revalidation,component:A,error:x,children:B(),routeContext:{outlet:null,matches:U,isDataRoute:!0},onError:f}):B()},null)}function Ay(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gk(t){let e=O.useContext(zl);return _t(e,Ay(t)),e}function yk(t){let e=O.useContext(Zf);return _t(e,Ay(t)),e}function vk(t){let e=O.useContext(wr);return _t(e,Ay(t)),e}function Cy(t){let e=vk(t),n=e.matches[e.matches.length-1];return _t(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function bk(){return Cy("useRouteId")}function _k(){let t=O.useContext(Sy),e=yk("useRouteError"),n=Cy("useRouteError");return t!==void 0?t:e.errors?.[n]}function wk(){let{router:t}=gk("useNavigate"),e=Cy("useNavigate"),n=O.useRef(!1);return lS(()=>{n.current=!0}),O.useCallback(async(a,o={})=>{gi(n.current,oS),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...o}))},[t,e])}var Gw={};function uS(t,e,n){!e&&!Gw[t]&&(Gw[t]=!0,gi(!1,n))}O.memo(Tk);function Tk({routes:t,future:e,state:n,unstable_onError:i}){return cS(t,void 0,n,i,e)}function Fr(t){_t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ek({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:o=!1}){_t(!$u(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=O.useMemo(()=>({basename:c,navigator:a,static:o,future:{}}),[c,a,o]);typeof n=="string"&&(n=go(n));let{pathname:h="/",search:f="",hash:g="",state:v=null,key:_="default"}=n,x=O.useMemo(()=>{let k=Wr(h,c);return k==null?null:{location:{pathname:k,search:f,hash:g,state:v,key:_},navigationType:i}},[c,h,f,g,v,_,i]);return gi(x!=null,`<Router basename="${c}"> is not able to match the URL "${h}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:O.createElement(_r.Provider,{value:d},O.createElement(Hu.Provider,{children:e,value:x}))}function xk({children:t,location:e}){return uk(x0(t),e)}function x0(t,e=[]){let n=[];return O.Children.forEach(t,(i,a)=>{if(!O.isValidElement(i))return;let o=[...e,a];if(i.type===O.Fragment){n.push.apply(n,x0(i.props.children,o));return}_t(i.type===Fr,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_t(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=x0(i.props.children,o)),n.push(c)}),n}var Jh="get",ef="application/x-www-form-urlencoded";function Jf(t){return t!=null&&typeof t.tagName=="string"}function Sk(t){return Jf(t)&&t.tagName.toLowerCase()==="button"}function Ak(t){return Jf(t)&&t.tagName.toLowerCase()==="form"}function Ck(t){return Jf(t)&&t.tagName.toLowerCase()==="input"}function Rk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Nk(t,e){return t.button===0&&(!e||e==="_self")&&!Rk(t)}var zh=null;function Ik(){if(zh===null)try{new FormData(document.createElement("form"),0),zh=!1}catch{zh=!0}return zh}var kk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hg(t){return t!=null&&!kk.has(t)?(gi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ef}"`),null):t}function Dk(t,e){let n,i,a,o,c;if(Ak(t)){let d=t.getAttribute("action");i=d?Wr(d,e):null,n=t.getAttribute("method")||Jh,a=Hg(t.getAttribute("enctype"))||ef,o=new FormData(t)}else if(Sk(t)||Ck(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||d.getAttribute("action");if(i=h?Wr(h,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Jh,a=Hg(t.getAttribute("formenctype"))||Hg(d.getAttribute("enctype"))||ef,o=new FormData(d,t),!Ik()){let{name:f,type:g,value:v}=t;if(g==="image"){let _=f?`${f}.`:"";o.append(`${_}x`,"0"),o.append(`${_}y`,"0")}else f&&o.append(f,v)}}else{if(Jf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Jh,i=null,a=ef,c=t}return o&&a==="text/plain"&&(c=o,o=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ry(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Mk(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&Wr(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function Ok(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Vk(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Pk(t,e,n){let i=await Promise.all(t.map(async a=>{let o=e.routes[a.route.id];if(o){let c=await Ok(o,n);return c.links?c.links():[]}return[]}));return zk(i.flat(1).filter(Vk).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Kw(t,e,n,i,a,o){let c=(h,f)=>n[f]?h.route.id!==n[f].route.id:!0,d=(h,f)=>n[f].pathname!==h.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==h.params["*"];return o==="assets"?e.filter((h,f)=>c(h,f)||d(h,f)):o==="data"?e.filter((h,f)=>{let g=i.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(c(h,f)||d(h,f))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function jk(t,e,{includeHydrateFallback:n}={}){return Lk(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function Lk(t){return[...new Set(t)]}function Uk(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function zk(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let o=JSON.stringify(Uk(a));return n.has(o)||(n.add(o),i.push({key:o,link:a})),i},[])}function dS(){let t=O.useContext(zl);return Ry(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Bk(){let t=O.useContext(Zf);return Ry(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ny=O.createContext(void 0);Ny.displayName="FrameworkContext";function hS(){let t=O.useContext(Ny);return Ry(t,"You must render this element inside a <HydratedRouter> element"),t}function Fk(t,e){let n=O.useContext(Ny),[i,a]=O.useState(!1),[o,c]=O.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:f,onMouseLeave:g,onTouchStart:v}=e,_=O.useRef(null);O.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let A=U=>{U.forEach(B=>{c(B.isIntersecting)})},I=new IntersectionObserver(A,{threshold:.5});return _.current&&I.observe(_.current),()=>{I.disconnect()}}},[t]),O.useEffect(()=>{if(i){let A=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(A)}}},[i]);let x=()=>{a(!0)},k=()=>{a(!1),c(!1)};return n?t!=="intent"?[o,_,{}]:[o,_,{onFocus:iu(d,x),onBlur:iu(h,k),onMouseEnter:iu(f,x),onMouseLeave:iu(g,k),onTouchStart:iu(v,x)}]:[!1,_,{}]}function iu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function qk({page:t,...e}){let{router:n}=dS(),i=O.useMemo(()=>eS(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?O.createElement($k,{page:t,matches:i,...e}):null}function Hk(t){let{manifest:e,routeModules:n}=hS(),[i,a]=O.useState([]);return O.useEffect(()=>{let o=!1;return Pk(t,e,n).then(c=>{o||a(c)}),()=>{o=!0}},[t,e,n]),i}function $k({page:t,matches:e,...n}){let i=ma(),{manifest:a,routeModules:o}=hS(),{basename:c}=dS(),{loaderData:d,matches:h}=Bk(),f=O.useMemo(()=>Kw(t,e,h,a,i,"data"),[t,e,h,a,i]),g=O.useMemo(()=>Kw(t,e,h,a,i,"assets"),[t,e,h,a,i]),v=O.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let k=new Set,A=!1;if(e.forEach(U=>{let B=a.routes[U.route.id];!B||!B.hasLoader||(!f.some(j=>j.route.id===U.route.id)&&U.route.id in d&&o[U.route.id]?.shouldRevalidate||B.hasClientLoader?A=!0:k.add(U.route.id))}),k.size===0)return[];let I=Mk(t,c,"data");return A&&k.size>0&&I.searchParams.set("_routes",e.filter(U=>k.has(U.route.id)).map(U=>U.route.id).join(",")),[I.pathname+I.search]},[c,d,i,a,f,e,t,o]),_=O.useMemo(()=>jk(g,a),[g,a]),x=Hk(g);return O.createElement(O.Fragment,null,v.map(k=>O.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),_.map(k=>O.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),x.map(({key:k,link:A})=>O.createElement("link",{key:k,nonce:n.nonce,...A})))}function Gk(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var fS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fS&&(window.__reactRouterVersion="7.9.6")}catch{}function Kk({basename:t,children:e,window:n}){let i=O.useRef();i.current==null&&(i.current=MI({window:n,v5Compat:!0}));let a=i.current,[o,c]=O.useState({action:a.action,location:a.location}),d=O.useCallback(h=>{O.startTransition(()=>c(h))},[c]);return O.useLayoutEffect(()=>a.listen(d),[a,d]),O.createElement(Ek,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:a})}var mS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pS=O.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:o,replace:c,state:d,target:h,to:f,preventScrollReset:g,viewTransition:v,..._},x){let{basename:k}=O.useContext(_r),A=typeof f=="string"&&mS.test(f),I,U=!1;if(typeof f=="string"&&A&&(I=f,fS))try{let M=new URL(window.location.href),V=f.startsWith("//")?new URL(M.protocol+f):new URL(f),D=Wr(V.pathname,k);V.origin===M.origin&&D!=null?f=D+V.search+V.hash:U=!0}catch{gi(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=ok(f,{relative:a}),[j,$,ne]=Fk(i,_),ee=Wk(f,{replace:c,state:d,target:h,preventScrollReset:g,relative:a,viewTransition:v});function S(M){e&&e(M),M.defaultPrevented||ee(M)}let R=O.createElement("a",{..._,...ne,href:I||B,onClick:U||o?e:S,ref:Gk(x,$),target:h,"data-discover":!A&&n==="render"?"true":void 0});return j&&!A?O.createElement(O.Fragment,null,R,O.createElement(qk,{page:B})):R});pS.displayName="Link";var Yk=O.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:o,to:c,viewTransition:d,children:h,...f},g){let v=Gu(c,{relative:f.relative}),_=ma(),x=O.useContext(Zf),{navigator:k,basename:A}=O.useContext(_r),I=x!=null&&nD(v)&&d===!0,U=k.encodeLocation?k.encodeLocation(v).pathname:v.pathname,B=_.pathname,j=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(B=B.toLowerCase(),j=j?j.toLowerCase():null,U=U.toLowerCase()),j&&A&&(j=Wr(j,A)||j);const $=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let ne=B===U||!a&&B.startsWith(U)&&B.charAt($)==="/",ee=j!=null&&(j===U||!a&&j.startsWith(U)&&j.charAt(U.length)==="/"),S={isActive:ne,isPending:ee,isTransitioning:I},R=ne?e:void 0,M;typeof i=="function"?M=i(S):M=[i,ne?"active":null,ee?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let V=typeof o=="function"?o(S):o;return O.createElement(pS,{...f,"aria-current":R,className:M,ref:g,style:V,to:c,viewTransition:d},typeof h=="function"?h(S):h)});Yk.displayName="NavLink";var Qk=O.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:o,method:c=Jh,action:d,onSubmit:h,relative:f,preventScrollReset:g,viewTransition:v,..._},x)=>{let k=eD(),A=tD(d,{relative:f}),I=c.toLowerCase()==="get"?"get":"post",U=typeof d=="string"&&mS.test(d),B=j=>{if(h&&h(j),j.defaultPrevented)return;j.preventDefault();let $=j.nativeEvent.submitter,ne=$?.getAttribute("formmethod")||c;k($||j.currentTarget,{fetcherKey:e,method:ne,navigate:n,replace:a,state:o,relative:f,preventScrollReset:g,viewTransition:v})};return O.createElement("form",{ref:x,method:I,action:A,onSubmit:i?h:B,..._,"data-discover":!U&&t==="render"?"true":void 0})});Qk.displayName="Form";function Xk(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gS(t){let e=O.useContext(zl);return _t(e,Xk(t)),e}function Wk(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:c}={}){let d=pa(),h=ma(),f=Gu(t,{relative:o});return O.useCallback(g=>{if(Nk(g,e)){g.preventDefault();let v=n!==void 0?n:xu(h)===xu(f);d(t,{replace:v,state:i,preventScrollReset:a,relative:o,viewTransition:c})}},[h,d,f,n,i,e,t,a,o,c])}var Zk=0,Jk=()=>`__${String(++Zk)}__`;function eD(){let{router:t}=gS("useSubmit"),{basename:e}=O.useContext(_r),n=bk();return O.useCallback(async(i,a={})=>{let{action:o,method:c,encType:d,formData:h,body:f}=Dk(i,e);if(a.navigate===!1){let g=a.fetcherKey||Jk();await t.fetch(g,n,a.action||o,{preventScrollReset:a.preventScrollReset,formData:h,body:f,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await t.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:h,body:f,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function tD(t,{relative:e}={}){let{basename:n}=O.useContext(_r),i=O.useContext(wr);_t(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),o={...Gu(t||".",{relative:e})},c=ma();if(t==null){o.search=c.search;let d=new URLSearchParams(o.search),h=d.getAll("index");if(h.some(g=>g==="")){d.delete("index"),h.filter(v=>v).forEach(v=>d.append("index",v));let g=d.toString();o.search=g?`?${g}`:""}}return(!t||t===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Yr([n,o.pathname])),xu(o)}function nD(t,{relative:e}={}){let n=O.useContext(aS);_t(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=gS("useViewTransitionState"),a=Gu(t,{relative:e});if(!n.isTransitioning)return!1;let o=Wr(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=Wr(n.nextLocation.pathname,i)||n.nextLocation.pathname;return _f(a.pathname,c)!=null||_f(a.pathname,o)!=null}const iD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rD=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),Yw=t=>{const e=rD(t);return e.charAt(0).toUpperCase()+e.slice(1)},yS=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),sD=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var aD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const oD=O.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:o,iconNode:c,...d},h)=>O.createElement("svg",{ref:h,...aD,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:yS("lucide",a),...!o&&!sD(d)&&{"aria-hidden":"true"},...d},[...c.map(([f,g])=>O.createElement(f,g)),...Array.isArray(o)?o:[o]]));const Be=(t,e)=>{const n=O.forwardRef(({className:i,...a},o)=>O.createElement(oD,{ref:o,iconNode:e,className:yS(`lucide-${iD(Yw(t))}`,`lucide-${t}`,i),...a}));return n.displayName=Yw(t),n};const lD=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Su=Be("arrow-left",lD);const cD=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],uD=Be("arrow-right-left",cD);const dD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],hD=Be("check",dD);const fD=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],mD=Be("chevron-down",fD);const pD=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],gD=Be("chevron-left",pD);const yD=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Za=Be("chevron-right",yD);const vD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],bD=Be("circle-arrow-down",vD);const _D=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],wD=Be("circle-arrow-up",_D);const TD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Iy=Be("circle-check-big",TD);const ED=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Qw=Be("circle-check",ED);const xD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],tf=Be("circle-plus",xD);const SD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Xw=Be("circle",SD);const AD=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Ww=Be("download",AD);const CD=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],RD=Be("eye-off",CD);const ND=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ID=Be("eye",ND);const kD=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],DD=Be("file-text",kD);const MD=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],OD=Be("folder-plus",MD);const VD=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],PD=Be("funnel",VD);const jD=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],LD=Be("git-branch",jD);const UD=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],zD=Be("house",UD);const BD=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],FD=Be("list",BD);const qD=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Zw=Be("loader",qD);const HD=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],$D=Be("log-out",HD);const GD=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],S0=Be("mail",GD);const KD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],YD=Be("plus",KD);const QD=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],lo=Be("refresh-cw",QD);const XD=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],WD=Be("search",XD);const ZD=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],JD=Be("settings",ZD);const e4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],t4=Be("target",e4);const n4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],nf=Be("trash-2",n4);const i4=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],vS=Be("trash",i4);const r4=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],s4=Be("trending-down",r4);const a4=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],bS=Be("triangle-alert",a4);const o4=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],l4=Be("undo-2",o4);const c4=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],u4=Be("upload",c4);const d4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],h4=Be("user-plus",d4);const f4=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],m4=Be("wallet",f4);const p4=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],g4=Be("wifi-off",p4);const y4=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],v4=Be("wifi",y4);const b4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ku=Be("x",b4),Jw=t=>{let e;const n=new Set,i=(f,g)=>{const v=typeof f=="function"?f(e):f;if(!Object.is(v,e)){const _=e;e=g??(typeof v!="object"||v===null)?v:Object.assign({},e,v),n.forEach(x=>x(e,_))}},a=()=>e,d={setState:i,getState:a,getInitialState:()=>h,subscribe:f=>(n.add(f),()=>n.delete(f))},h=e=t(i,a,d);return d},_4=(t=>t?Jw(t):Jw),w4=t=>t;function T4(t,e=w4){const n=Uh.useSyncExternalStore(t.subscribe,Uh.useCallback(()=>e(t.getState()),[t,e]),Uh.useCallback(()=>e(t.getInitialState()),[t,e]));return Uh.useDebugValue(n),n}const eT=t=>{const e=_4(t),n=i=>T4(e,i);return Object.assign(n,e),n},em=(t=>t?eT(t):eT);function E4(t,e){let n;try{n=t()}catch{return}return{getItem:a=>{var o;const c=h=>h===null?null:JSON.parse(h,void 0),d=(o=n.getItem(a))!=null?o:null;return d instanceof Promise?d.then(c):c(d)},setItem:(a,o)=>n.setItem(a,JSON.stringify(o,void 0)),removeItem:a=>n.removeItem(a)}}const A0=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(i){return A0(i)(n)},catch(i){return this}}}catch(n){return{then(i){return this},catch(i){return A0(i)(n)}}}},x4=(t,e)=>(n,i,a)=>{let o={storage:E4(()=>localStorage),partialize:A=>A,version:0,merge:(A,I)=>({...I,...A}),...e},c=!1;const d=new Set,h=new Set;let f=o.storage;if(!f)return t((...A)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...A)},i,a);const g=()=>{const A=o.partialize({...i()});return f.setItem(o.name,{state:A,version:o.version})},v=a.setState;a.setState=(A,I)=>(v(A,I),g());const _=t((...A)=>(n(...A),g()),i,a);a.getInitialState=()=>_;let x;const k=()=>{var A,I;if(!f)return;c=!1,d.forEach(B=>{var j;return B((j=i())!=null?j:_)});const U=((I=o.onRehydrateStorage)==null?void 0:I.call(o,(A=i())!=null?A:_))||void 0;return A0(f.getItem.bind(f))(o.name).then(B=>{if(B)if(typeof B.version=="number"&&B.version!==o.version){if(o.migrate){const j=o.migrate(B.state,B.version);return j instanceof Promise?j.then($=>[!0,$]):[!0,j]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,B.state];return[!1,void 0]}).then(B=>{var j;const[$,ne]=B;if(x=o.merge(ne,(j=i())!=null?j:_),n(x,!0),$)return g()}).then(()=>{U?.(x,void 0),x=i(),c=!0,h.forEach(B=>B(x))}).catch(B=>{U?.(void 0,B)})};return a.persist={setOptions:A=>{o={...o,...A},A.storage&&(f=A.storage)},clearStorage:()=>{f?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>k(),hasHydrated:()=>c,onHydrate:A=>(d.add(A),()=>{d.delete(A)}),onFinishHydration:A=>(h.add(A),()=>{h.delete(A)})},o.skipHydration||k(),x||_},ky=x4;var ml=9e15,ga=1e9,C0="0123456789abcdef",wf="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Tf="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",R0={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-ml,maxE:ml,crypto:!1},_S,$r,Me=!0,tm="[DecimalError] ",sa=tm+"Invalid argument: ",wS=tm+"Precision limit exceeded",TS=tm+"crypto unavailable",ES="[object Decimal]",bn=Math.floor,Qt=Math.pow,S4=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,A4=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,C4=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,xS=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Di=1e7,Ne=7,R4=9007199254740991,N4=wf.length-1,N0=Tf.length-1,le={toStringTag:ES};le.absoluteValue=le.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),Te(t)};le.ceil=function(){return Te(new this.constructor(this),this.e+1,2)};le.clampedTo=le.clamp=function(t,e){var n,i=this,a=i.constructor;if(t=new a(t),e=new a(e),!t.s||!e.s)return new a(NaN);if(t.gt(e))throw Error(sa+e);return n=i.cmp(t),n<0?t:i.cmp(e)>0?e:new a(i)};le.comparedTo=le.cmp=function(t){var e,n,i,a,o=this,c=o.d,d=(t=new o.constructor(t)).d,h=o.s,f=t.s;if(!c||!d)return!h||!f?NaN:h!==f?h:c===d?0:!c^h<0?1:-1;if(!c[0]||!d[0])return c[0]?h:d[0]?-f:0;if(h!==f)return h;if(o.e!==t.e)return o.e>t.e^h<0?1:-1;for(i=c.length,a=d.length,e=0,n=i<a?i:a;e<n;++e)if(c[e]!==d[e])return c[e]>d[e]^h<0?1:-1;return i===a?0:i>a^h<0?1:-1};le.cosine=le.cos=function(){var t,e,n=this,i=n.constructor;return n.d?n.d[0]?(t=i.precision,e=i.rounding,i.precision=t+Math.max(n.e,n.sd())+Ne,i.rounding=1,n=I4(i,NS(i,n)),i.precision=t,i.rounding=e,Te($r==2||$r==3?n.neg():n,t,e,!0)):new i(1):new i(NaN)};le.cubeRoot=le.cbrt=function(){var t,e,n,i,a,o,c,d,h,f,g=this,v=g.constructor;if(!g.isFinite()||g.isZero())return new v(g);for(Me=!1,o=g.s*Qt(g.s*g,1/3),!o||Math.abs(o)==1/0?(n=dn(g.d),t=g.e,(o=(t-n.length+1)%3)&&(n+=o==1||o==-2?"0":"00"),o=Qt(n,1/3),t=bn((t+1)/3)-(t%3==(t<0?-1:2)),o==1/0?n="5e"+t:(n=o.toExponential(),n=n.slice(0,n.indexOf("e")+1)+t),i=new v(n),i.s=g.s):i=new v(o.toString()),c=(t=v.precision)+3;;)if(d=i,h=d.times(d).times(d),f=h.plus(g),i=dt(f.plus(g).times(d),f.plus(h),c+2,1),dn(d.d).slice(0,c)===(n=dn(i.d)).slice(0,c))if(n=n.slice(c-3,c+1),n=="9999"||!a&&n=="4999"){if(!a&&(Te(d,t+1,0),d.times(d).times(d).eq(g))){i=d;break}c+=4,a=1}else{(!+n||!+n.slice(1)&&n.charAt(0)=="5")&&(Te(i,t+1,1),e=!i.times(i).times(i).eq(g));break}return Me=!0,Te(i,t,v.rounding,e)};le.decimalPlaces=le.dp=function(){var t,e=this.d,n=NaN;if(e){if(t=e.length-1,n=(t-bn(this.e/Ne))*Ne,t=e[t],t)for(;t%10==0;t/=10)n--;n<0&&(n=0)}return n};le.dividedBy=le.div=function(t){return dt(this,new this.constructor(t))};le.dividedToIntegerBy=le.divToInt=function(t){var e=this,n=e.constructor;return Te(dt(e,new n(t),0,1,1),n.precision,n.rounding)};le.equals=le.eq=function(t){return this.cmp(t)===0};le.floor=function(){return Te(new this.constructor(this),this.e+1,3)};le.greaterThan=le.gt=function(t){return this.cmp(t)>0};le.greaterThanOrEqualTo=le.gte=function(t){var e=this.cmp(t);return e==1||e===0};le.hyperbolicCosine=le.cosh=function(){var t,e,n,i,a,o=this,c=o.constructor,d=new c(1);if(!o.isFinite())return new c(o.s?1/0:NaN);if(o.isZero())return d;n=c.precision,i=c.rounding,c.precision=n+Math.max(o.e,o.sd())+4,c.rounding=1,a=o.d.length,a<32?(t=Math.ceil(a/3),e=(1/im(4,t)).toString()):(t=16,e="2.3283064365386962890625e-10"),o=Cl(c,1,o.times(e),new c(1),!0);for(var h,f=t,g=new c(8);f--;)h=o.times(o),o=d.minus(h.times(g.minus(h.times(g))));return Te(o,c.precision=n,c.rounding=i,!0)};le.hyperbolicSine=le.sinh=function(){var t,e,n,i,a=this,o=a.constructor;if(!a.isFinite()||a.isZero())return new o(a);if(e=o.precision,n=o.rounding,o.precision=e+Math.max(a.e,a.sd())+4,o.rounding=1,i=a.d.length,i<3)a=Cl(o,2,a,a,!0);else{t=1.4*Math.sqrt(i),t=t>16?16:t|0,a=a.times(1/im(5,t)),a=Cl(o,2,a,a,!0);for(var c,d=new o(5),h=new o(16),f=new o(20);t--;)c=a.times(a),a=a.times(d.plus(c.times(h.times(c).plus(f))))}return o.precision=e,o.rounding=n,Te(a,e,n,!0)};le.hyperbolicTangent=le.tanh=function(){var t,e,n=this,i=n.constructor;return n.isFinite()?n.isZero()?new i(n):(t=i.precision,e=i.rounding,i.precision=t+7,i.rounding=1,dt(n.sinh(),n.cosh(),i.precision=t,i.rounding=e)):new i(n.s)};le.inverseCosine=le.acos=function(){var t=this,e=t.constructor,n=t.abs().cmp(1),i=e.precision,a=e.rounding;return n!==-1?n===0?t.isNeg()?lr(e,i,a):new e(0):new e(NaN):t.isZero()?lr(e,i+4,a).times(.5):(e.precision=i+6,e.rounding=1,t=new e(1).minus(t).div(t.plus(1)).sqrt().atan(),e.precision=i,e.rounding=a,t.times(2))};le.inverseHyperbolicCosine=le.acosh=function(){var t,e,n=this,i=n.constructor;return n.lte(1)?new i(n.eq(1)?0:NaN):n.isFinite()?(t=i.precision,e=i.rounding,i.precision=t+Math.max(Math.abs(n.e),n.sd())+4,i.rounding=1,Me=!1,n=n.times(n).minus(1).sqrt().plus(n),Me=!0,i.precision=t,i.rounding=e,n.ln()):new i(n)};le.inverseHyperbolicSine=le.asinh=function(){var t,e,n=this,i=n.constructor;return!n.isFinite()||n.isZero()?new i(n):(t=i.precision,e=i.rounding,i.precision=t+2*Math.max(Math.abs(n.e),n.sd())+6,i.rounding=1,Me=!1,n=n.times(n).plus(1).sqrt().plus(n),Me=!0,i.precision=t,i.rounding=e,n.ln())};le.inverseHyperbolicTangent=le.atanh=function(){var t,e,n,i,a=this,o=a.constructor;return a.isFinite()?a.e>=0?new o(a.abs().eq(1)?a.s/0:a.isZero()?a:NaN):(t=o.precision,e=o.rounding,i=a.sd(),Math.max(i,t)<2*-a.e-1?Te(new o(a),t,e,!0):(o.precision=n=i-a.e,a=dt(a.plus(1),new o(1).minus(a),n+t,1),o.precision=t+4,o.rounding=1,a=a.ln(),o.precision=t,o.rounding=e,a.times(.5))):new o(NaN)};le.inverseSine=le.asin=function(){var t,e,n,i,a=this,o=a.constructor;return a.isZero()?new o(a):(e=a.abs().cmp(1),n=o.precision,i=o.rounding,e!==-1?e===0?(t=lr(o,n+4,i).times(.5),t.s=a.s,t):new o(NaN):(o.precision=n+6,o.rounding=1,a=a.div(new o(1).minus(a.times(a)).sqrt().plus(1)).atan(),o.precision=n,o.rounding=i,a.times(2)))};le.inverseTangent=le.atan=function(){var t,e,n,i,a,o,c,d,h,f=this,g=f.constructor,v=g.precision,_=g.rounding;if(f.isFinite()){if(f.isZero())return new g(f);if(f.abs().eq(1)&&v+4<=N0)return c=lr(g,v+4,_).times(.25),c.s=f.s,c}else{if(!f.s)return new g(NaN);if(v+4<=N0)return c=lr(g,v+4,_).times(.5),c.s=f.s,c}for(g.precision=d=v+10,g.rounding=1,n=Math.min(28,d/Ne+2|0),t=n;t;--t)f=f.div(f.times(f).plus(1).sqrt().plus(1));for(Me=!1,e=Math.ceil(d/Ne),i=1,h=f.times(f),c=new g(f),a=f;t!==-1;)if(a=a.times(h),o=c.minus(a.div(i+=2)),a=a.times(h),c=o.plus(a.div(i+=2)),c.d[e]!==void 0)for(t=e;c.d[t]===o.d[t]&&t--;);return n&&(c=c.times(2<<n-1)),Me=!0,Te(c,g.precision=v,g.rounding=_,!0)};le.isFinite=function(){return!!this.d};le.isInteger=le.isInt=function(){return!!this.d&&bn(this.e/Ne)>this.d.length-2};le.isNaN=function(){return!this.s};le.isNegative=le.isNeg=function(){return this.s<0};le.isPositive=le.isPos=function(){return this.s>0};le.isZero=function(){return!!this.d&&this.d[0]===0};le.lessThan=le.lt=function(t){return this.cmp(t)<0};le.lessThanOrEqualTo=le.lte=function(t){return this.cmp(t)<1};le.logarithm=le.log=function(t){var e,n,i,a,o,c,d,h,f=this,g=f.constructor,v=g.precision,_=g.rounding,x=5;if(t==null)t=new g(10),e=!0;else{if(t=new g(t),n=t.d,t.s<0||!n||!n[0]||t.eq(1))return new g(NaN);e=t.eq(10)}if(n=f.d,f.s<0||!n||!n[0]||f.eq(1))return new g(n&&!n[0]?-1/0:f.s!=1?NaN:n?0:1/0);if(e)if(n.length>1)o=!0;else{for(a=n[0];a%10===0;)a/=10;o=a!==1}if(Me=!1,d=v+x,c=Ws(f,d),i=e?Ef(g,d+10):Ws(t,d),h=dt(c,i,d,1),Au(h.d,a=v,_))do if(d+=10,c=Ws(f,d),i=e?Ef(g,d+10):Ws(t,d),h=dt(c,i,d,1),!o){+dn(h.d).slice(a+1,a+15)+1==1e14&&(h=Te(h,v+1,0));break}while(Au(h.d,a+=10,_));return Me=!0,Te(h,v,_)};le.minus=le.sub=function(t){var e,n,i,a,o,c,d,h,f,g,v,_,x=this,k=x.constructor;if(t=new k(t),!x.d||!t.d)return!x.s||!t.s?t=new k(NaN):x.d?t.s=-t.s:t=new k(t.d||x.s!==t.s?x:NaN),t;if(x.s!=t.s)return t.s=-t.s,x.plus(t);if(f=x.d,_=t.d,d=k.precision,h=k.rounding,!f[0]||!_[0]){if(_[0])t.s=-t.s;else if(f[0])t=new k(x);else return new k(h===3?-0:0);return Me?Te(t,d,h):t}if(n=bn(t.e/Ne),g=bn(x.e/Ne),f=f.slice(),o=g-n,o){for(v=o<0,v?(e=f,o=-o,c=_.length):(e=_,n=g,c=f.length),i=Math.max(Math.ceil(d/Ne),c)+2,o>i&&(o=i,e.length=1),e.reverse(),i=o;i--;)e.push(0);e.reverse()}else{for(i=f.length,c=_.length,v=i<c,v&&(c=i),i=0;i<c;i++)if(f[i]!=_[i]){v=f[i]<_[i];break}o=0}for(v&&(e=f,f=_,_=e,t.s=-t.s),c=f.length,i=_.length-c;i>0;--i)f[c++]=0;for(i=_.length;i>o;){if(f[--i]<_[i]){for(a=i;a&&f[--a]===0;)f[a]=Di-1;--f[a],f[i]+=Di}f[i]-=_[i]}for(;f[--c]===0;)f.pop();for(;f[0]===0;f.shift())--n;return f[0]?(t.d=f,t.e=nm(f,n),Me?Te(t,d,h):t):new k(h===3?-0:0)};le.modulo=le.mod=function(t){var e,n=this,i=n.constructor;return t=new i(t),!n.d||!t.s||t.d&&!t.d[0]?new i(NaN):!t.d||n.d&&!n.d[0]?Te(new i(n),i.precision,i.rounding):(Me=!1,i.modulo==9?(e=dt(n,t.abs(),0,3,1),e.s*=t.s):e=dt(n,t,0,i.modulo,1),e=e.times(t),Me=!0,n.minus(e))};le.naturalExponential=le.exp=function(){return I0(this)};le.naturalLogarithm=le.ln=function(){return Ws(this)};le.negated=le.neg=function(){var t=new this.constructor(this);return t.s=-t.s,Te(t)};le.plus=le.add=function(t){var e,n,i,a,o,c,d,h,f,g,v=this,_=v.constructor;if(t=new _(t),!v.d||!t.d)return!v.s||!t.s?t=new _(NaN):v.d||(t=new _(t.d||v.s===t.s?v:NaN)),t;if(v.s!=t.s)return t.s=-t.s,v.minus(t);if(f=v.d,g=t.d,d=_.precision,h=_.rounding,!f[0]||!g[0])return g[0]||(t=new _(v)),Me?Te(t,d,h):t;if(o=bn(v.e/Ne),i=bn(t.e/Ne),f=f.slice(),a=o-i,a){for(a<0?(n=f,a=-a,c=g.length):(n=g,i=o,c=f.length),o=Math.ceil(d/Ne),c=o>c?o+1:c+1,a>c&&(a=c,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(c=f.length,a=g.length,c-a<0&&(a=c,n=g,g=f,f=n),e=0;a;)e=(f[--a]=f[a]+g[a]+e)/Di|0,f[a]%=Di;for(e&&(f.unshift(e),++i),c=f.length;f[--c]==0;)f.pop();return t.d=f,t.e=nm(f,i),Me?Te(t,d,h):t};le.precision=le.sd=function(t){var e,n=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(sa+t);return n.d?(e=SS(n.d),t&&n.e+1>e&&(e=n.e+1)):e=NaN,e};le.round=function(){var t=this,e=t.constructor;return Te(new e(t),t.e+1,e.rounding)};le.sine=le.sin=function(){var t,e,n=this,i=n.constructor;return n.isFinite()?n.isZero()?new i(n):(t=i.precision,e=i.rounding,i.precision=t+Math.max(n.e,n.sd())+Ne,i.rounding=1,n=D4(i,NS(i,n)),i.precision=t,i.rounding=e,Te($r>2?n.neg():n,t,e,!0)):new i(NaN)};le.squareRoot=le.sqrt=function(){var t,e,n,i,a,o,c=this,d=c.d,h=c.e,f=c.s,g=c.constructor;if(f!==1||!d||!d[0])return new g(!f||f<0&&(!d||d[0])?NaN:d?c:1/0);for(Me=!1,f=Math.sqrt(+c),f==0||f==1/0?(e=dn(d),(e.length+h)%2==0&&(e+="0"),f=Math.sqrt(e),h=bn((h+1)/2)-(h<0||h%2),f==1/0?e="5e"+h:(e=f.toExponential(),e=e.slice(0,e.indexOf("e")+1)+h),i=new g(e)):i=new g(f.toString()),n=(h=g.precision)+3;;)if(o=i,i=o.plus(dt(c,o,n+2,1)).times(.5),dn(o.d).slice(0,n)===(e=dn(i.d)).slice(0,n))if(e=e.slice(n-3,n+1),e=="9999"||!a&&e=="4999"){if(!a&&(Te(o,h+1,0),o.times(o).eq(c))){i=o;break}n+=4,a=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(Te(i,h+1,1),t=!i.times(i).eq(c));break}return Me=!0,Te(i,h,g.rounding,t)};le.tangent=le.tan=function(){var t,e,n=this,i=n.constructor;return n.isFinite()?n.isZero()?new i(n):(t=i.precision,e=i.rounding,i.precision=t+10,i.rounding=1,n=n.sin(),n.s=1,n=dt(n,new i(1).minus(n.times(n)).sqrt(),t+10,0),i.precision=t,i.rounding=e,Te($r==2||$r==4?n.neg():n,t,e,!0)):new i(NaN)};le.times=le.mul=function(t){var e,n,i,a,o,c,d,h,f,g=this,v=g.constructor,_=g.d,x=(t=new v(t)).d;if(t.s*=g.s,!_||!_[0]||!x||!x[0])return new v(!t.s||_&&!_[0]&&!x||x&&!x[0]&&!_?NaN:!_||!x?t.s/0:t.s*0);for(n=bn(g.e/Ne)+bn(t.e/Ne),h=_.length,f=x.length,h<f&&(o=_,_=x,x=o,c=h,h=f,f=c),o=[],c=h+f,i=c;i--;)o.push(0);for(i=f;--i>=0;){for(e=0,a=h+i;a>i;)d=o[a]+x[i]*_[a-i-1]+e,o[a--]=d%Di|0,e=d/Di|0;o[a]=(o[a]+e)%Di|0}for(;!o[--c];)o.pop();return e?++n:o.shift(),t.d=o,t.e=nm(o,n),Me?Te(t,v.precision,v.rounding):t};le.toBinary=function(t,e){return Dy(this,2,t,e)};le.toDecimalPlaces=le.toDP=function(t,e){var n=this,i=n.constructor;return n=new i(n),t===void 0?n:(Pn(t,0,ga),e===void 0?e=i.rounding:Pn(e,0,8),Te(n,t+n.e+1,e))};le.toExponential=function(t,e){var n,i=this,a=i.constructor;return t===void 0?n=vr(i,!0):(Pn(t,0,ga),e===void 0?e=a.rounding:Pn(e,0,8),i=Te(new a(i),t+1,e),n=vr(i,!0,t+1)),i.isNeg()&&!i.isZero()?"-"+n:n};le.toFixed=function(t,e){var n,i,a=this,o=a.constructor;return t===void 0?n=vr(a):(Pn(t,0,ga),e===void 0?e=o.rounding:Pn(e,0,8),i=Te(new o(a),t+a.e+1,e),n=vr(i,!1,t+i.e+1)),a.isNeg()&&!a.isZero()?"-"+n:n};le.toFraction=function(t){var e,n,i,a,o,c,d,h,f,g,v,_,x=this,k=x.d,A=x.constructor;if(!k)return new A(x);if(f=n=new A(1),i=h=new A(0),e=new A(i),o=e.e=SS(k)-x.e-1,c=o%Ne,e.d[0]=Qt(10,c<0?Ne+c:c),t==null)t=o>0?e:f;else{if(d=new A(t),!d.isInt()||d.lt(f))throw Error(sa+d);t=d.gt(e)?o>0?e:f:d}for(Me=!1,d=new A(dn(k)),g=A.precision,A.precision=o=k.length*Ne*2;v=dt(d,e,0,1,1),a=n.plus(v.times(i)),a.cmp(t)!=1;)n=i,i=a,a=f,f=h.plus(v.times(a)),h=a,a=e,e=d.minus(v.times(a)),d=a;return a=dt(t.minus(n),i,0,1,1),h=h.plus(a.times(f)),n=n.plus(a.times(i)),h.s=f.s=x.s,_=dt(f,i,o,1).minus(x).abs().cmp(dt(h,n,o,1).minus(x).abs())<1?[f,i]:[h,n],A.precision=g,Me=!0,_};le.toHexadecimal=le.toHex=function(t,e){return Dy(this,16,t,e)};le.toNearest=function(t,e){var n=this,i=n.constructor;if(n=new i(n),t==null){if(!n.d)return n;t=new i(1),e=i.rounding}else{if(t=new i(t),e===void 0?e=i.rounding:Pn(e,0,8),!n.d)return t.s?n:t;if(!t.d)return t.s&&(t.s=n.s),t}return t.d[0]?(Me=!1,n=dt(n,t,0,e,1).times(t),Me=!0,Te(n)):(t.s=n.s,n=t),n};le.toNumber=function(){return+this};le.toOctal=function(t,e){return Dy(this,8,t,e)};le.toPower=le.pow=function(t){var e,n,i,a,o,c,d=this,h=d.constructor,f=+(t=new h(t));if(!d.d||!t.d||!d.d[0]||!t.d[0])return new h(Qt(+d,f));if(d=new h(d),d.eq(1))return d;if(i=h.precision,o=h.rounding,t.eq(1))return Te(d,i,o);if(e=bn(t.e/Ne),e>=t.d.length-1&&(n=f<0?-f:f)<=R4)return a=AS(h,d,n,i),t.s<0?new h(1).div(a):Te(a,i,o);if(c=d.s,c<0){if(e<t.d.length-1)return new h(NaN);if((t.d[e]&1)==0&&(c=1),d.e==0&&d.d[0]==1&&d.d.length==1)return d.s=c,d}return n=Qt(+d,f),e=n==0||!isFinite(n)?bn(f*(Math.log("0."+dn(d.d))/Math.LN10+d.e+1)):new h(n+"").e,e>h.maxE+1||e<h.minE-1?new h(e>0?c/0:0):(Me=!1,h.rounding=d.s=1,n=Math.min(12,(e+"").length),a=I0(t.times(Ws(d,i+n)),i),a.d&&(a=Te(a,i+5,1),Au(a.d,i,o)&&(e=i+10,a=Te(I0(t.times(Ws(d,e+n)),e),e+5,1),+dn(a.d).slice(i+1,i+15)+1==1e14&&(a=Te(a,i+1,0)))),a.s=c,Me=!0,h.rounding=o,Te(a,i,o))};le.toPrecision=function(t,e){var n,i=this,a=i.constructor;return t===void 0?n=vr(i,i.e<=a.toExpNeg||i.e>=a.toExpPos):(Pn(t,1,ga),e===void 0?e=a.rounding:Pn(e,0,8),i=Te(new a(i),t,e),n=vr(i,t<=i.e||i.e<=a.toExpNeg,t)),i.isNeg()&&!i.isZero()?"-"+n:n};le.toSignificantDigits=le.toSD=function(t,e){var n=this,i=n.constructor;return t===void 0?(t=i.precision,e=i.rounding):(Pn(t,1,ga),e===void 0?e=i.rounding:Pn(e,0,8)),Te(new i(n),t,e)};le.toString=function(){var t=this,e=t.constructor,n=vr(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+n:n};le.truncated=le.trunc=function(){return Te(new this.constructor(this),this.e+1,1)};le.valueOf=le.toJSON=function(){var t=this,e=t.constructor,n=vr(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+n:n};function dn(t){var e,n,i,a=t.length-1,o="",c=t[0];if(a>0){for(o+=c,e=1;e<a;e++)i=t[e]+"",n=Ne-i.length,n&&(o+=$s(n)),o+=i;c=t[e],i=c+"",n=Ne-i.length,n&&(o+=$s(n))}else if(c===0)return"0";for(;c%10===0;)c/=10;return o+c}function Pn(t,e,n){if(t!==~~t||t<e||t>n)throw Error(sa+t)}function Au(t,e,n,i){var a,o,c,d;for(o=t[0];o>=10;o/=10)--e;return--e<0?(e+=Ne,a=0):(a=Math.ceil((e+1)/Ne),e%=Ne),o=Qt(10,Ne-e),d=t[a]%o|0,i==null?e<3?(e==0?d=d/100|0:e==1&&(d=d/10|0),c=n<4&&d==99999||n>3&&d==49999||d==5e4||d==0):c=(n<4&&d+1==o||n>3&&d+1==o/2)&&(t[a+1]/o/100|0)==Qt(10,e-2)-1||(d==o/2||d==0)&&(t[a+1]/o/100|0)==0:e<4?(e==0?d=d/1e3|0:e==1?d=d/100|0:e==2&&(d=d/10|0),c=(i||n<4)&&d==9999||!i&&n>3&&d==4999):c=((i||n<4)&&d+1==o||!i&&n>3&&d+1==o/2)&&(t[a+1]/o/1e3|0)==Qt(10,e-3)-1,c}function rf(t,e,n){for(var i,a=[0],o,c=0,d=t.length;c<d;){for(o=a.length;o--;)a[o]*=e;for(a[0]+=C0.indexOf(t.charAt(c++)),i=0;i<a.length;i++)a[i]>n-1&&(a[i+1]===void 0&&(a[i+1]=0),a[i+1]+=a[i]/n|0,a[i]%=n)}return a.reverse()}function I4(t,e){var n,i,a;if(e.isZero())return e;i=e.d.length,i<32?(n=Math.ceil(i/3),a=(1/im(4,n)).toString()):(n=16,a="2.3283064365386962890625e-10"),t.precision+=n,e=Cl(t,1,e.times(a),new t(1));for(var o=n;o--;){var c=e.times(e);e=c.times(c).minus(c).times(8).plus(1)}return t.precision-=n,e}var dt=(function(){function t(i,a,o){var c,d=0,h=i.length;for(i=i.slice();h--;)c=i[h]*a+d,i[h]=c%o|0,d=c/o|0;return d&&i.unshift(d),i}function e(i,a,o,c){var d,h;if(o!=c)h=o>c?1:-1;else for(d=h=0;d<o;d++)if(i[d]!=a[d]){h=i[d]>a[d]?1:-1;break}return h}function n(i,a,o,c){for(var d=0;o--;)i[o]-=d,d=i[o]<a[o]?1:0,i[o]=d*c+i[o]-a[o];for(;!i[0]&&i.length>1;)i.shift()}return function(i,a,o,c,d,h){var f,g,v,_,x,k,A,I,U,B,j,$,ne,ee,S,R,M,V,D,F,P=i.constructor,je=i.s==a.s?1:-1,Ce=i.d,K=a.d;if(!Ce||!Ce[0]||!K||!K[0])return new P(!i.s||!a.s||(Ce?K&&Ce[0]==K[0]:!K)?NaN:Ce&&Ce[0]==0||!K?je*0:je/0);for(h?(x=1,g=i.e-a.e):(h=Di,x=Ne,g=bn(i.e/x)-bn(a.e/x)),D=K.length,M=Ce.length,U=new P(je),B=U.d=[],v=0;K[v]==(Ce[v]||0);v++);if(K[v]>(Ce[v]||0)&&g--,o==null?(ee=o=P.precision,c=P.rounding):d?ee=o+(i.e-a.e)+1:ee=o,ee<0)B.push(1),k=!0;else{if(ee=ee/x+2|0,v=0,D==1){for(_=0,K=K[0],ee++;(v<M||_)&&ee--;v++)S=_*h+(Ce[v]||0),B[v]=S/K|0,_=S%K|0;k=_||v<M}else{for(_=h/(K[0]+1)|0,_>1&&(K=t(K,_,h),Ce=t(Ce,_,h),D=K.length,M=Ce.length),R=D,j=Ce.slice(0,D),$=j.length;$<D;)j[$++]=0;F=K.slice(),F.unshift(0),V=K[0],K[1]>=h/2&&++V;do _=0,f=e(K,j,D,$),f<0?(ne=j[0],D!=$&&(ne=ne*h+(j[1]||0)),_=ne/V|0,_>1?(_>=h&&(_=h-1),A=t(K,_,h),I=A.length,$=j.length,f=e(A,j,I,$),f==1&&(_--,n(A,D<I?F:K,I,h))):(_==0&&(f=_=1),A=K.slice()),I=A.length,I<$&&A.unshift(0),n(j,A,$,h),f==-1&&($=j.length,f=e(K,j,D,$),f<1&&(_++,n(j,D<$?F:K,$,h))),$=j.length):f===0&&(_++,j=[0]),B[v++]=_,f&&j[0]?j[$++]=Ce[R]||0:(j=[Ce[R]],$=1);while((R++<M||j[0]!==void 0)&&ee--);k=j[0]!==void 0}B[0]||B.shift()}if(x==1)U.e=g,_S=k;else{for(v=1,_=B[0];_>=10;_/=10)v++;U.e=v+g*x-1,Te(U,d?o+U.e+1:o,c,k)}return U}})();function Te(t,e,n,i){var a,o,c,d,h,f,g,v,_,x=t.constructor;e:if(e!=null){if(v=t.d,!v)return t;for(a=1,d=v[0];d>=10;d/=10)a++;if(o=e-a,o<0)o+=Ne,c=e,g=v[_=0],h=g/Qt(10,a-c-1)%10|0;else if(_=Math.ceil((o+1)/Ne),d=v.length,_>=d)if(i){for(;d++<=_;)v.push(0);g=h=0,a=1,o%=Ne,c=o-Ne+1}else break e;else{for(g=d=v[_],a=1;d>=10;d/=10)a++;o%=Ne,c=o-Ne+a,h=c<0?0:g/Qt(10,a-c-1)%10|0}if(i=i||e<0||v[_+1]!==void 0||(c<0?g:g%Qt(10,a-c-1)),f=n<4?(h||i)&&(n==0||n==(t.s<0?3:2)):h>5||h==5&&(n==4||i||n==6&&(o>0?c>0?g/Qt(10,a-c):0:v[_-1])%10&1||n==(t.s<0?8:7)),e<1||!v[0])return v.length=0,f?(e-=t.e+1,v[0]=Qt(10,(Ne-e%Ne)%Ne),t.e=-e||0):v[0]=t.e=0,t;if(o==0?(v.length=_,d=1,_--):(v.length=_+1,d=Qt(10,Ne-o),v[_]=c>0?(g/Qt(10,a-c)%Qt(10,c)|0)*d:0),f)for(;;)if(_==0){for(o=1,c=v[0];c>=10;c/=10)o++;for(c=v[0]+=d,d=1;c>=10;c/=10)d++;o!=d&&(t.e++,v[0]==Di&&(v[0]=1));break}else{if(v[_]+=d,v[_]!=Di)break;v[_--]=0,d=1}for(o=v.length;v[--o]===0;)v.pop()}return Me&&(t.e>x.maxE?(t.d=null,t.e=NaN):t.e<x.minE&&(t.e=0,t.d=[0])),t}function vr(t,e,n){if(!t.isFinite())return RS(t);var i,a=t.e,o=dn(t.d),c=o.length;return e?(n&&(i=n-c)>0?o=o.charAt(0)+"."+o.slice(1)+$s(i):c>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(t.e<0?"e":"e+")+t.e):a<0?(o="0."+$s(-a-1)+o,n&&(i=n-c)>0&&(o+=$s(i))):a>=c?(o+=$s(a+1-c),n&&(i=n-a-1)>0&&(o=o+"."+$s(i))):((i=a+1)<c&&(o=o.slice(0,i)+"."+o.slice(i)),n&&(i=n-c)>0&&(a+1===c&&(o+="."),o+=$s(i))),o}function nm(t,e){var n=t[0];for(e*=Ne;n>=10;n/=10)e++;return e}function Ef(t,e,n){if(e>N4)throw Me=!0,n&&(t.precision=n),Error(wS);return Te(new t(wf),e,1,!0)}function lr(t,e,n){if(e>N0)throw Error(wS);return Te(new t(Tf),e,n,!0)}function SS(t){var e=t.length-1,n=e*Ne+1;if(e=t[e],e){for(;e%10==0;e/=10)n--;for(e=t[0];e>=10;e/=10)n++}return n}function $s(t){for(var e="";t--;)e+="0";return e}function AS(t,e,n,i){var a,o=new t(1),c=Math.ceil(i/Ne+4);for(Me=!1;;){if(n%2&&(o=o.times(e),nT(o.d,c)&&(a=!0)),n=bn(n/2),n===0){n=o.d.length-1,a&&o.d[n]===0&&++o.d[n];break}e=e.times(e),nT(e.d,c)}return Me=!0,o}function tT(t){return t.d[t.d.length-1]&1}function CS(t,e,n){for(var i,a,o=new t(e[0]),c=0;++c<e.length;){if(a=new t(e[c]),!a.s){o=a;break}i=o.cmp(a),(i===n||i===0&&o.s===n)&&(o=a)}return o}function I0(t,e){var n,i,a,o,c,d,h,f=0,g=0,v=0,_=t.constructor,x=_.rounding,k=_.precision;if(!t.d||!t.d[0]||t.e>17)return new _(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(e==null?(Me=!1,h=k):h=e,d=new _(.03125);t.e>-2;)t=t.times(d),v+=5;for(i=Math.log(Qt(2,v))/Math.LN10*2+5|0,h+=i,n=o=c=new _(1),_.precision=h;;){if(o=Te(o.times(t),h,1),n=n.times(++g),d=c.plus(dt(o,n,h,1)),dn(d.d).slice(0,h)===dn(c.d).slice(0,h)){for(a=v;a--;)c=Te(c.times(c),h,1);if(e==null)if(f<3&&Au(c.d,h-i,x,f))_.precision=h+=10,n=o=d=new _(1),g=0,f++;else return Te(c,_.precision=k,x,Me=!0);else return _.precision=k,c}c=d}}function Ws(t,e){var n,i,a,o,c,d,h,f,g,v,_,x=1,k=10,A=t,I=A.d,U=A.constructor,B=U.rounding,j=U.precision;if(A.s<0||!I||!I[0]||!A.e&&I[0]==1&&I.length==1)return new U(I&&!I[0]?-1/0:A.s!=1?NaN:I?0:A);if(e==null?(Me=!1,g=j):g=e,U.precision=g+=k,n=dn(I),i=n.charAt(0),Math.abs(o=A.e)<15e14){for(;i<7&&i!=1||i==1&&n.charAt(1)>3;)A=A.times(t),n=dn(A.d),i=n.charAt(0),x++;o=A.e,i>1?(A=new U("0."+n),o++):A=new U(i+"."+n.slice(1))}else return f=Ef(U,g+2,j).times(o+""),A=Ws(new U(i+"."+n.slice(1)),g-k).plus(f),U.precision=j,e==null?Te(A,j,B,Me=!0):A;for(v=A,h=c=A=dt(A.minus(1),A.plus(1),g,1),_=Te(A.times(A),g,1),a=3;;){if(c=Te(c.times(_),g,1),f=h.plus(dt(c,new U(a),g,1)),dn(f.d).slice(0,g)===dn(h.d).slice(0,g))if(h=h.times(2),o!==0&&(h=h.plus(Ef(U,g+2,j).times(o+""))),h=dt(h,new U(x),g,1),e==null)if(Au(h.d,g-k,B,d))U.precision=g+=k,f=c=A=dt(v.minus(1),v.plus(1),g,1),_=Te(A.times(A),g,1),a=d=1;else return Te(h,U.precision=j,B,Me=!0);else return U.precision=j,h;h=f,a+=2}}function RS(t){return String(t.s*t.s/0)}function sf(t,e){var n,i,a;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(n<0&&(n=i),n+=+e.slice(i+1),e=e.substring(0,i)):n<0&&(n=e.length),i=0;e.charCodeAt(i)===48;i++);for(a=e.length;e.charCodeAt(a-1)===48;--a);if(e=e.slice(i,a),e){if(a-=i,t.e=n=n-i-1,t.d=[],i=(n+1)%Ne,n<0&&(i+=Ne),i<a){for(i&&t.d.push(+e.slice(0,i)),a-=Ne;i<a;)t.d.push(+e.slice(i,i+=Ne));e=e.slice(i),i=Ne-e.length}else i-=a;for(;i--;)e+="0";t.d.push(+e),Me&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function k4(t,e){var n,i,a,o,c,d,h,f,g;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),xS.test(e))return sf(t,e)}else if(e==="Infinity"||e==="NaN")return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(A4.test(e))n=16,e=e.toLowerCase();else if(S4.test(e))n=2;else if(C4.test(e))n=8;else throw Error(sa+e);for(o=e.search(/p/i),o>0?(h=+e.slice(o+1),e=e.substring(2,o)):e=e.slice(2),o=e.indexOf("."),c=o>=0,i=t.constructor,c&&(e=e.replace(".",""),d=e.length,o=d-o,a=AS(i,new i(n),o,o*2)),f=rf(e,n,Di),g=f.length-1,o=g;f[o]===0;--o)f.pop();return o<0?new i(t.s*0):(t.e=nm(f,g),t.d=f,Me=!1,c&&(t=dt(t,a,d*4)),h&&(t=t.times(Math.abs(h)<54?Qt(2,h):qr.pow(2,h))),Me=!0,t)}function D4(t,e){var n,i=e.d.length;if(i<3)return e.isZero()?e:Cl(t,2,e,e);n=1.4*Math.sqrt(i),n=n>16?16:n|0,e=e.times(1/im(5,n)),e=Cl(t,2,e,e);for(var a,o=new t(5),c=new t(16),d=new t(20);n--;)a=e.times(e),e=e.times(o.plus(a.times(c.times(a).minus(d))));return e}function Cl(t,e,n,i,a){var o,c,d,h,f=t.precision,g=Math.ceil(f/Ne);for(Me=!1,h=n.times(n),d=new t(i);;){if(c=dt(d.times(h),new t(e++*e++),f,1),d=a?i.plus(c):i.minus(c),i=dt(c.times(h),new t(e++*e++),f,1),c=d.plus(i),c.d[g]!==void 0){for(o=g;c.d[o]===d.d[o]&&o--;);if(o==-1)break}o=d,d=i,i=c,c=o}return Me=!0,c.d.length=g+1,c}function im(t,e){for(var n=t;--e;)n*=t;return n}function NS(t,e){var n,i=e.s<0,a=lr(t,t.precision,1),o=a.times(.5);if(e=e.abs(),e.lte(o))return $r=i?4:1,e;if(n=e.divToInt(a),n.isZero())$r=i?3:2;else{if(e=e.minus(n.times(a)),e.lte(o))return $r=tT(n)?i?2:3:i?4:1,e;$r=tT(n)?i?1:4:i?3:2}return e.minus(a).abs()}function Dy(t,e,n,i){var a,o,c,d,h,f,g,v,_,x=t.constructor,k=n!==void 0;if(k?(Pn(n,1,ga),i===void 0?i=x.rounding:Pn(i,0,8)):(n=x.precision,i=x.rounding),!t.isFinite())g=RS(t);else{for(g=vr(t),c=g.indexOf("."),k?(a=2,e==16?n=n*4-3:e==8&&(n=n*3-2)):a=e,c>=0&&(g=g.replace(".",""),_=new x(1),_.e=g.length-c,_.d=rf(vr(_),10,a),_.e=_.d.length),v=rf(g,10,a),o=h=v.length;v[--h]==0;)v.pop();if(!v[0])g=k?"0p+0":"0";else{if(c<0?o--:(t=new x(t),t.d=v,t.e=o,t=dt(t,_,n,i,0,a),v=t.d,o=t.e,f=_S),c=v[n],d=a/2,f=f||v[n+1]!==void 0,f=i<4?(c!==void 0||f)&&(i===0||i===(t.s<0?3:2)):c>d||c===d&&(i===4||f||i===6&&v[n-1]&1||i===(t.s<0?8:7)),v.length=n,f)for(;++v[--n]>a-1;)v[n]=0,n||(++o,v.unshift(1));for(h=v.length;!v[h-1];--h);for(c=0,g="";c<h;c++)g+=C0.charAt(v[c]);if(k){if(h>1)if(e==16||e==8){for(c=e==16?4:3,--h;h%c;h++)g+="0";for(v=rf(g,a,e),h=v.length;!v[h-1];--h);for(c=1,g="1.";c<h;c++)g+=C0.charAt(v[c])}else g=g.charAt(0)+"."+g.slice(1);g=g+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)g="0"+g;g="0."+g}else if(++o>h)for(o-=h;o--;)g+="0";else o<h&&(g=g.slice(0,o)+"."+g.slice(o))}g=(e==16?"0x":e==2?"0b":e==8?"0o":"")+g}return t.s<0?"-"+g:g}function nT(t,e){if(t.length>e)return t.length=e,!0}function M4(t){return new this(t).abs()}function O4(t){return new this(t).acos()}function V4(t){return new this(t).acosh()}function P4(t,e){return new this(t).plus(e)}function j4(t){return new this(t).asin()}function L4(t){return new this(t).asinh()}function U4(t){return new this(t).atan()}function z4(t){return new this(t).atanh()}function B4(t,e){t=new this(t),e=new this(e);var n,i=this.precision,a=this.rounding,o=i+4;return!t.s||!e.s?n=new this(NaN):!t.d&&!e.d?(n=lr(this,o,1).times(e.s>0?.25:.75),n.s=t.s):!e.d||t.isZero()?(n=e.s<0?lr(this,i,a):new this(0),n.s=t.s):!t.d||e.isZero()?(n=lr(this,o,1).times(.5),n.s=t.s):e.s<0?(this.precision=o,this.rounding=1,n=this.atan(dt(t,e,o,1)),e=lr(this,o,1),this.precision=i,this.rounding=a,n=t.s<0?n.minus(e):n.plus(e)):n=this.atan(dt(t,e,o,1)),n}function F4(t){return new this(t).cbrt()}function q4(t){return Te(t=new this(t),t.e+1,2)}function H4(t,e,n){return new this(t).clamp(e,n)}function $4(t){if(!t||typeof t!="object")throw Error(tm+"Object expected");var e,n,i,a=t.defaults===!0,o=["precision",1,ga,"rounding",0,8,"toExpNeg",-ml,0,"toExpPos",0,ml,"maxE",0,ml,"minE",-ml,0,"modulo",0,9];for(e=0;e<o.length;e+=3)if(n=o[e],a&&(this[n]=R0[n]),(i=t[n])!==void 0)if(bn(i)===i&&i>=o[e+1]&&i<=o[e+2])this[n]=i;else throw Error(sa+n+": "+i);if(n="crypto",a&&(this[n]=R0[n]),(i=t[n])!==void 0)if(i===!0||i===!1||i===0||i===1)if(i)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[n]=!0;else throw Error(TS);else this[n]=!1;else throw Error(sa+n+": "+i);return this}function G4(t){return new this(t).cos()}function K4(t){return new this(t).cosh()}function IS(t){var e,n,i;function a(o){var c,d,h,f=this;if(!(f instanceof a))return new a(o);if(f.constructor=a,iT(o)){f.s=o.s,Me?!o.d||o.e>a.maxE?(f.e=NaN,f.d=null):o.e<a.minE?(f.e=0,f.d=[0]):(f.e=o.e,f.d=o.d.slice()):(f.e=o.e,f.d=o.d?o.d.slice():o.d);return}if(h=typeof o,h==="number"){if(o===0){f.s=1/o<0?-1:1,f.e=0,f.d=[0];return}if(o<0?(o=-o,f.s=-1):f.s=1,o===~~o&&o<1e7){for(c=0,d=o;d>=10;d/=10)c++;Me?c>a.maxE?(f.e=NaN,f.d=null):c<a.minE?(f.e=0,f.d=[0]):(f.e=c,f.d=[o]):(f.e=c,f.d=[o]);return}if(o*0!==0){o||(f.s=NaN),f.e=NaN,f.d=null;return}return sf(f,o.toString())}if(h==="string")return(d=o.charCodeAt(0))===45?(o=o.slice(1),f.s=-1):(d===43&&(o=o.slice(1)),f.s=1),xS.test(o)?sf(f,o):k4(f,o);if(h==="bigint")return o<0?(o=-o,f.s=-1):f.s=1,sf(f,o.toString());throw Error(sa+o)}if(a.prototype=le,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.EUCLID=9,a.config=a.set=$4,a.clone=IS,a.isDecimal=iT,a.abs=M4,a.acos=O4,a.acosh=V4,a.add=P4,a.asin=j4,a.asinh=L4,a.atan=U4,a.atanh=z4,a.atan2=B4,a.cbrt=F4,a.ceil=q4,a.clamp=H4,a.cos=G4,a.cosh=K4,a.div=Y4,a.exp=Q4,a.floor=X4,a.hypot=W4,a.ln=Z4,a.log=J4,a.log10=tM,a.log2=eM,a.max=nM,a.min=iM,a.mod=rM,a.mul=sM,a.pow=aM,a.random=oM,a.round=lM,a.sign=cM,a.sin=uM,a.sinh=dM,a.sqrt=hM,a.sub=fM,a.sum=mM,a.tan=pM,a.tanh=gM,a.trunc=yM,t===void 0&&(t={}),t&&t.defaults!==!0)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<i.length;)t.hasOwnProperty(n=i[e++])||(t[n]=this[n]);return a.config(t),a}function Y4(t,e){return new this(t).div(e)}function Q4(t){return new this(t).exp()}function X4(t){return Te(t=new this(t),t.e+1,3)}function W4(){var t,e,n=new this(0);for(Me=!1,t=0;t<arguments.length;)if(e=new this(arguments[t++]),e.d)n.d&&(n=n.plus(e.times(e)));else{if(e.s)return Me=!0,new this(1/0);n=e}return Me=!0,n.sqrt()}function iT(t){return t instanceof qr||t&&t.toStringTag===ES||!1}function Z4(t){return new this(t).ln()}function J4(t,e){return new this(t).log(e)}function eM(t){return new this(t).log(2)}function tM(t){return new this(t).log(10)}function nM(){return CS(this,arguments,-1)}function iM(){return CS(this,arguments,1)}function rM(t,e){return new this(t).mod(e)}function sM(t,e){return new this(t).mul(e)}function aM(t,e){return new this(t).pow(e)}function oM(t){var e,n,i,a,o=0,c=new this(1),d=[];if(t===void 0?t=this.precision:Pn(t,1,ga),i=Math.ceil(t/Ne),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(i));o<i;)a=e[o],a>=429e7?e[o]=crypto.getRandomValues(new Uint32Array(1))[0]:d[o++]=a%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(i*=4);o<i;)a=e[o]+(e[o+1]<<8)+(e[o+2]<<16)+((e[o+3]&127)<<24),a>=214e7?crypto.randomBytes(4).copy(e,o):(d.push(a%1e7),o+=4);o=i/4}else throw Error(TS);else for(;o<i;)d[o++]=Math.random()*1e7|0;for(i=d[--o],t%=Ne,i&&t&&(a=Qt(10,Ne-t),d[o]=(i/a|0)*a);d[o]===0;o--)d.pop();if(o<0)n=0,d=[0];else{for(n=-1;d[0]===0;n-=Ne)d.shift();for(i=1,a=d[0];a>=10;a/=10)i++;i<Ne&&(n-=Ne-i)}return c.e=n,c.d=d,c}function lM(t){return Te(t=new this(t),t.e+1,this.rounding)}function cM(t){return t=new this(t),t.d?t.d[0]?t.s:0*t.s:t.s||NaN}function uM(t){return new this(t).sin()}function dM(t){return new this(t).sinh()}function hM(t){return new this(t).sqrt()}function fM(t,e){return new this(t).sub(e)}function mM(){var t=0,e=arguments,n=new this(e[t]);for(Me=!1;n.s&&++t<e.length;)n=n.plus(e[t]);return Me=!0,Te(n,this.precision,this.rounding)}function pM(t){return new this(t).tan()}function gM(t){return new this(t).tanh()}function yM(t){return Te(t=new this(t),t.e+1,1)}le[Symbol.for("nodejs.util.inspect.custom")]=le.toString;le[Symbol.toStringTag]="Decimal";var qr=le.constructor=IS(R0);wf=new qr(wf);Tf=new qr(Tf);const vM=()=>{};var rT={};const kS=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},bM=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const o=t[n++];e[i++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=t[n++],c=t[n++],d=t[n++],h=((a&7)<<18|(o&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const o=t[n++],c=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(o&63)<<6|c&63)}}return e.join("")},DS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const o=t[a],c=a+1<t.length,d=c?t[a+1]:0,h=a+2<t.length,f=h?t[a+2]:0,g=o>>2,v=(o&3)<<4|d>>4;let _=(d&15)<<2|f>>6,x=f&63;h||(x=64,c||(_=64)),i.push(n[g],n[v],n[_],n[x])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(kS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):bM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const o=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const f=a<t.length?n[t.charAt(a)]:64;++a;const v=a<t.length?n[t.charAt(a)]:64;if(++a,o==null||d==null||f==null||v==null)throw new _M;const _=o<<2|d>>4;if(i.push(_),f!==64){const x=d<<4&240|f>>2;if(i.push(x),v!==64){const k=f<<6&192|v;i.push(k)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class _M extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wM=function(t){const e=kS(t);return DS.encodeByteArray(e,!0)},xf=function(t){return wM(t).replace(/\./g,"")},MS=function(t){try{return DS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function TM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const EM=()=>TM().__FIREBASE_DEFAULTS__,xM=()=>{if(typeof process>"u"||typeof rT>"u")return;const t=rT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},SM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&MS(t[1]);return e&&JSON.parse(e)},rm=()=>{try{return vM()||EM()||xM()||SM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},OS=t=>rm()?.emulatorHosts?.[t],AM=t=>{const e=OS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},VS=()=>rm()?.config,PS=t=>rm()?.[`_${t}`];class CM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function Bl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function jS(t){return(await fetch(t,{credentials:"include"})).ok}function RM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[xf(JSON.stringify(n)),xf(JSON.stringify(c)),""].join(".")}const fu={};function NM(){const t={prod:[],emulator:[]};for(const e of Object.keys(fu))fu[e]?t.emulator.push(e):t.prod.push(e);return t}function IM(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let sT=!1;function LS(t,e){if(typeof window>"u"||typeof document>"u"||!Bl(window.location.host)||fu[t]===e||fu[t]||sT)return;fu[t]=e;function n(_){return`__firebase__banner__${_}`}const i="__firebase__banner",o=NM().prod.length>0;function c(){const _=document.getElementById(i);_&&_.remove()}function d(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function h(_,x){_.setAttribute("width","24"),_.setAttribute("id",x),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function f(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{sT=!0,c()},_}function g(_,x){_.setAttribute("id",x),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function v(){const _=IM(i),x=n("text"),k=document.getElementById(x)||document.createElement("span"),A=n("learnmore"),I=document.getElementById(A)||document.createElement("a"),U=n("preprendIcon"),B=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const j=_.element;d(j),g(I,A);const $=f();h(B,U),j.append(B,k,I,$),document.body.appendChild(j)}o?(k.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function _n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_n())}function DM(){const t=rm()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function MM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function OM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function VM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PM(){const t=_n();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function jM(){return!DM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function LM(){try{return typeof indexedDB=="object"}catch{return!1}}function UM(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const zM="FirebaseError";class as extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=zM,Object.setPrototypeOf(this,as.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yu.prototype.create)}}class Yu{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,o=this.errors[e],c=o?BM(o,i):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new as(a,d,i)}}function BM(t,e){return t.replace(FM,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const FM=/\{\$([^}]+)}/g;function qM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function co(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const o=t[a],c=e[a];if(aT(o)&&aT(c)){if(!co(o,c))return!1}else if(o!==c)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function aT(t){return t!==null&&typeof t=="object"}function Qu(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function au(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,o]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function ou(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function HM(t,e){const n=new $M(t,e);return n.subscribe.bind(n)}class $M{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");GM(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=$g),a.error===void 0&&(a.error=$g),a.complete===void 0&&(a.complete=$g);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function $g(){}function wt(t){return t&&t._delegate?t._delegate:t}class uo{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ja="[DEFAULT]";class KM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new CM;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(QM(e))try{this.getOrInitializeService({instanceIdentifier:Ja})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:a});i.resolve(o)}catch{}}}}clearInstance(e=Ja){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ja){return this.instances.has(e)}getOptions(e=Ja){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);i===d&&c.resolve(a)}return a}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:YM(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ja){return this.component?this.component.multipleInstances?e:Ja:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YM(t){return t===Ja?void 0:t}function QM(t){return t.instantiationMode==="EAGER"}class XM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new KM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ge||(Ge={}));const WM={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},ZM=Ge.INFO,JM={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},eO=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=JM[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class My{constructor(e){this.name=e,this._logLevel=ZM,this._logHandler=eO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?WM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const tO=(t,e)=>e.some(n=>t instanceof n);let oT,lT;function nO(){return oT||(oT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iO(){return lT||(lT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const US=new WeakMap,k0=new WeakMap,zS=new WeakMap,Gg=new WeakMap,Oy=new WeakMap;function rO(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",o),t.removeEventListener("error",c)},o=()=>{n(ea(t.result)),a()},c=()=>{i(t.error),a()};t.addEventListener("success",o),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&US.set(n,t)}).catch(()=>{}),Oy.set(e,t),e}function sO(t){if(k0.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",c),t.removeEventListener("abort",c)},o=()=>{n(),a()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",o),t.addEventListener("error",c),t.addEventListener("abort",c)});k0.set(t,e)}let D0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return k0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||zS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ea(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function aO(t){D0=t(D0)}function oO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Kg(this),e,...n);return zS.set(i,e.sort?e.sort():[e]),ea(i)}:iO().includes(t)?function(...e){return t.apply(Kg(this),e),ea(US.get(this))}:function(...e){return ea(t.apply(Kg(this),e))}}function lO(t){return typeof t=="function"?oO(t):(t instanceof IDBTransaction&&sO(t),tO(t,nO())?new Proxy(t,D0):t)}function ea(t){if(t instanceof IDBRequest)return rO(t);if(Gg.has(t))return Gg.get(t);const e=lO(t);return e!==t&&(Gg.set(t,e),Oy.set(e,t)),e}const Kg=t=>Oy.get(t);function cO(t,e,{blocked:n,upgrade:i,blocking:a,terminated:o}={}){const c=indexedDB.open(t,e),d=ea(c);return i&&c.addEventListener("upgradeneeded",h=>{i(ea(c.result),h.oldVersion,h.newVersion,ea(c.transaction),h)}),n&&c.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),d.then(h=>{o&&h.addEventListener("close",()=>o()),a&&h.addEventListener("versionchange",f=>a(f.oldVersion,f.newVersion,f))}).catch(()=>{}),d}const uO=["get","getKey","getAll","getAllKeys","count"],dO=["put","add","delete","clear"],Yg=new Map;function cT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yg.get(e))return Yg.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=dO.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||uO.includes(n)))return;const o=async function(c,...d){const h=this.transaction(c,a?"readwrite":"readonly");let f=h.store;return i&&(f=f.index(d.shift())),(await Promise.all([f[n](...d),a&&h.done]))[0]};return Yg.set(e,o),o}aO(t=>({...t,get:(e,n,i)=>cT(e,n)||t.get(e,n,i),has:(e,n)=>!!cT(e,n)||t.has(e,n)}));class hO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(fO(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function fO(t){return t.getComponent()?.type==="VERSION"}const M0="@firebase/app",uT="0.14.6";const Zr=new My("@firebase/app"),mO="@firebase/app-compat",pO="@firebase/analytics-compat",gO="@firebase/analytics",yO="@firebase/app-check-compat",vO="@firebase/app-check",bO="@firebase/auth",_O="@firebase/auth-compat",wO="@firebase/database",TO="@firebase/data-connect",EO="@firebase/database-compat",xO="@firebase/functions",SO="@firebase/functions-compat",AO="@firebase/installations",CO="@firebase/installations-compat",RO="@firebase/messaging",NO="@firebase/messaging-compat",IO="@firebase/performance",kO="@firebase/performance-compat",DO="@firebase/remote-config",MO="@firebase/remote-config-compat",OO="@firebase/storage",VO="@firebase/storage-compat",PO="@firebase/firestore",jO="@firebase/ai",LO="@firebase/firestore-compat",UO="firebase",zO="12.6.0";const O0="[DEFAULT]",BO={[M0]:"fire-core",[mO]:"fire-core-compat",[gO]:"fire-analytics",[pO]:"fire-analytics-compat",[vO]:"fire-app-check",[yO]:"fire-app-check-compat",[bO]:"fire-auth",[_O]:"fire-auth-compat",[wO]:"fire-rtdb",[TO]:"fire-data-connect",[EO]:"fire-rtdb-compat",[xO]:"fire-fn",[SO]:"fire-fn-compat",[AO]:"fire-iid",[CO]:"fire-iid-compat",[RO]:"fire-fcm",[NO]:"fire-fcm-compat",[IO]:"fire-perf",[kO]:"fire-perf-compat",[DO]:"fire-rc",[MO]:"fire-rc-compat",[OO]:"fire-gcs",[VO]:"fire-gcs-compat",[PO]:"fire-fst",[LO]:"fire-fst-compat",[jO]:"fire-vertex","fire-js":"fire-js",[UO]:"fire-js-all"};const Sf=new Map,FO=new Map,V0=new Map;function dT(t,e){try{t.container.addComponent(e)}catch(n){Zr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Rl(t){const e=t.name;if(V0.has(e))return Zr.debug(`There were multiple attempts to register component ${e}.`),!1;V0.set(e,t);for(const n of Sf.values())dT(n,t);for(const n of FO.values())dT(n,t);return!0}function Vy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function di(t){return t==null?!1:t.settings!==void 0}const qO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ta=new Yu("app","Firebase",qO);class HO{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new uo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ta.create("app-deleted",{appName:this._name})}}const Fl=zO;function BS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:O0,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw ta.create("bad-app-name",{appName:String(a)});if(n||(n=VS()),!n)throw ta.create("no-options");const o=Sf.get(a);if(o){if(co(n,o.options)&&co(i,o.config))return o;throw ta.create("duplicate-app",{appName:a})}const c=new XM(a);for(const h of V0.values())c.addComponent(h);const d=new HO(n,i,c);return Sf.set(a,d),d}function FS(t=O0){const e=Sf.get(t);if(!e&&t===O0&&VS())return BS();if(!e)throw ta.create("no-app",{appName:t});return e}function na(t,e,n){let i=BO[t]??t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zr.warn(c.join(" "));return}Rl(new uo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const $O="firebase-heartbeat-database",GO=1,Cu="firebase-heartbeat-store";let Qg=null;function qS(){return Qg||(Qg=cO($O,GO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Cu)}catch(n){console.warn(n)}}}}).catch(t=>{throw ta.create("idb-open",{originalErrorMessage:t.message})})),Qg}async function KO(t){try{const n=(await qS()).transaction(Cu),i=await n.objectStore(Cu).get(HS(t));return await n.done,i}catch(e){if(e instanceof as)Zr.warn(e.message);else{const n=ta.create("idb-get",{originalErrorMessage:e?.message});Zr.warn(n.message)}}}async function hT(t,e){try{const i=(await qS()).transaction(Cu,"readwrite");await i.objectStore(Cu).put(e,HS(t)),await i.done}catch(n){if(n instanceof as)Zr.warn(n.message);else{const i=ta.create("idb-set",{originalErrorMessage:n?.message});Zr.warn(i.message)}}}function HS(t){return`${t.name}!${t.options.appId}`}const YO=1024,QO=30;class XO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ZO(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=fT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>QO){const a=JO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Zr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=fT(),{heartbeatsToSend:n,unsentEntries:i}=WO(this._heartbeatsCache.heartbeats),a=xf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Zr.warn(e),""}}}function fT(){return new Date().toISOString().substring(0,10)}function WO(t,e=YO){const n=[];let i=t.slice();for(const a of t){const o=n.find(c=>c.agent===a.agent);if(o){if(o.dates.push(a.date),mT(n)>e){o.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),mT(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class ZO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LM()?UM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await KO(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return hT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return hT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function mT(t){return xf(JSON.stringify({version:2,heartbeats:t})).length}function JO(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}function e3(t){Rl(new uo("platform-logger",e=>new hO(e),"PRIVATE")),Rl(new uo("heartbeat",e=>new XO(e),"PRIVATE")),na(M0,uT,t),na(M0,uT,"esm2020"),na("fire-js","")}e3("");function $S(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const t3=$S,GS=new Yu("auth","Firebase",$S());const Af=new My("@firebase/auth");function n3(t,...e){Af.logLevel<=Ge.WARN&&Af.warn(`Auth (${Fl}): ${t}`,...e)}function af(t,...e){Af.logLevel<=Ge.ERROR&&Af.error(`Auth (${Fl}): ${t}`,...e)}function Oi(t,...e){throw Py(t,...e)}function ur(t,...e){return Py(t,...e)}function KS(t,e,n){const i={...t3(),[e]:n};return new Yu("auth","Firebase",i).create(e,{appName:t.name})}function Qr(t){return KS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Py(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return GS.create(t,...e)}function Ie(t,e,...n){if(!t)throw Py(e,...n)}function Gr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw af(e),new Error(e)}function Jr(t,e){t||Gr(e)}function P0(){return typeof self<"u"&&self.location?.href||""}function i3(){return pT()==="http:"||pT()==="https:"}function pT(){return typeof self<"u"&&self.location?.protocol||null}function r3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(i3()||OM()||"connection"in navigator)?navigator.onLine:!0}function s3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Xu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Jr(n>e,"Short delay should be less than long delay!"),this.isMobile=kM()||VM()}get(){return r3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function jy(t,e){Jr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class YS{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const a3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const o3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],l3=new Xu(3e4,6e4);function os(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Tr(t,e,n,i,a={}){return QS(t,a,async()=>{let o={},c={};i&&(e==="GET"?c=i:o={body:JSON.stringify(i)});const d=Qu({key:t.config.apiKey,...c}).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:h,...o};return MM()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&Bl(t.emulatorConfig.host)&&(f.credentials="include"),YS.fetch()(await XS(t,t.config.apiHost,n,d),f)})}async function QS(t,e,n){t._canInitEmulator=!1;const i={...a3,...e};try{const a=new u3(t),o=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw Bh(t,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const d=o.ok?c.errorMessage:c.error.message,[h,f]=d.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bh(t,"credential-already-in-use",c);if(h==="EMAIL_EXISTS")throw Bh(t,"email-already-in-use",c);if(h==="USER_DISABLED")throw Bh(t,"user-disabled",c);const g=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw KS(t,g,f);Oi(t,g)}}catch(a){if(a instanceof as)throw a;Oi(t,"network-request-failed",{message:String(a)})}}async function Wu(t,e,n,i,a={}){const o=await Tr(t,e,n,i,a);return"mfaPendingCredential"in o&&Oi(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function XS(t,e,n,i){const a=`${e}${n}?${i}`,o=t,c=o.config.emulator?jy(t.config,a):`${t.config.apiScheme}://${a}`;return o3.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function c3(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class u3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(ur(this.auth,"network-request-failed")),l3.get())})}}function Bh(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=ur(t,e,i);return a.customData._tokenResponse=n,a}function gT(t){return t!==void 0&&t.enterprise!==void 0}class d3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return c3(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function h3(t,e){return Tr(t,"GET","/v2/recaptchaConfig",os(t,e))}async function f3(t,e){return Tr(t,"POST","/v1/accounts:delete",e)}async function Cf(t,e){return Tr(t,"POST","/v1/accounts:lookup",e)}function mu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function m3(t,e=!1){const n=wt(t),i=await n.getIdToken(e),a=Ly(i);Ie(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,c=o?.sign_in_provider;return{claims:a,token:i,authTime:mu(Xg(a.auth_time)),issuedAtTime:mu(Xg(a.iat)),expirationTime:mu(Xg(a.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Xg(t){return Number(t)*1e3}function Ly(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return af("JWT malformed, contained fewer than 3 sections"),null;try{const a=MS(n);return a?JSON.parse(a):(af("Failed to decode base64 JWT payload"),null)}catch(a){return af("Caught error parsing JWT payload as JSON",a?.toString()),null}}function yT(t){const e=Ly(t);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Nl(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof as&&p3(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function p3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class g3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class j0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=mu(this.lastLoginAt),this.creationTime=mu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Rf(t){const e=t.auth,n=await t.getIdToken(),i=await Nl(t,Cf(e,{idToken:n}));Ie(i?.users.length,e,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const o=a.providerUserInfo?.length?WS(a.providerUserInfo):[],c=v3(t.providerData,o),d=t.isAnonymous,h=!(t.email&&a.passwordHash)&&!c?.length,f=d?h:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new j0(a.createdAt,a.lastLoginAt),isAnonymous:f};Object.assign(t,g)}async function y3(t){const e=wt(t);await Rf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function v3(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function WS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function b3(t,e){const n=await QS(t,{},async()=>{const i=Qu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=t.config,c=await XS(t,a,"/v1/token",`key=${o}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:d,body:i};return t.emulatorConfig&&Bl(t.emulatorConfig.host)&&(h.credentials="include"),YS.fetch()(c,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function _3(t,e){return Tr(t,"POST","/v2/accounts:revokeToken",os(t,e))}class wl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const n=yT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:o}=await b3(e,n);this.updateTokensAndExpiration(i,a,Number(o))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:o}=n,c=new wl;return i&&(Ie(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Ie(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),o&&(Ie(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wl,this.toJSON())}_performRefresh(){return Gr("not implemented")}}function Fs(t,e){Ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ki{constructor({uid:e,auth:n,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new g3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new j0(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Nl(this,this.stsTokenManager.getToken(this.auth,e));return Ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return m3(this,e)}reload(){return y3(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ki({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Rf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(di(this.auth.app))return Promise.reject(Qr(this.auth));const e=await this.getIdToken();return await Nl(this,f3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,a=n.email??void 0,o=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,h=n._redirectEventId??void 0,f=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:v,emailVerified:_,isAnonymous:x,providerData:k,stsTokenManager:A}=n;Ie(v&&A,e,"internal-error");const I=wl.fromJSON(this.name,A);Ie(typeof v=="string",e,"internal-error"),Fs(i,e.name),Fs(a,e.name),Ie(typeof _=="boolean",e,"internal-error"),Ie(typeof x=="boolean",e,"internal-error"),Fs(o,e.name),Fs(c,e.name),Fs(d,e.name),Fs(h,e.name),Fs(f,e.name),Fs(g,e.name);const U=new ki({uid:v,auth:e,email:a,emailVerified:_,displayName:i,isAnonymous:x,photoURL:c,phoneNumber:o,tenantId:d,stsTokenManager:I,createdAt:f,lastLoginAt:g});return k&&Array.isArray(k)&&(U.providerData=k.map(B=>({...B}))),h&&(U._redirectEventId=h),U}static async _fromIdTokenResponse(e,n,i=!1){const a=new wl;a.updateFromServerResponse(n);const o=new ki({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Rf(o),o}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];Ie(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?WS(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!o?.length,d=new wl;d.updateFromIdToken(i);const h=new ki({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new j0(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(h,f),h}}const vT=new Map;function Kr(t){Jr(t instanceof Function,"Expected a class definition");let e=vT.get(t);return e?(Jr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,vT.set(t,e),e)}class ZS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ZS.type="NONE";const bT=ZS;function of(t,e,n){return`firebase:${t}:${e}:${n}`}class Tl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:o}=this.auth;this.fullUserKey=of(this.userKey,a.apiKey,o),this.fullPersistenceKey=of("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Cf(this.auth,{idToken:e}).catch(()=>{});return n?ki._fromGetAccountInfoResponse(this.auth,n,e):null}return ki._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Tl(Kr(bT),e,i);const a=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=a[0]||Kr(bT);const c=of(i,e.config.apiKey,e.name);let d=null;for(const f of n)try{const g=await f._get(c);if(g){let v;if(typeof g=="string"){const _=await Cf(e,{idToken:g}).catch(()=>{});if(!_)break;v=await ki._fromGetAccountInfoResponse(e,_,g)}else v=ki._fromJSON(e,g);f!==o&&(d=v),o=f;break}}catch{}const h=a.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Tl(o,e,i):(o=h[0],d&&await o._set(c,d.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(c)}catch{}})),new Tl(o,e,i))}}function _T(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(JS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rA(e))return"Blackberry";if(sA(e))return"Webos";if(eA(e))return"Safari";if((e.includes("chrome/")||tA(e))&&!e.includes("edge/"))return"Chrome";if(iA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function JS(t=_n()){return/firefox\//i.test(t)}function eA(t=_n()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tA(t=_n()){return/crios\//i.test(t)}function nA(t=_n()){return/iemobile/i.test(t)}function iA(t=_n()){return/android/i.test(t)}function rA(t=_n()){return/blackberry/i.test(t)}function sA(t=_n()){return/webos/i.test(t)}function Uy(t=_n()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function w3(t=_n()){return Uy(t)&&!!window.navigator?.standalone}function T3(){return PM()&&document.documentMode===10}function aA(t=_n()){return Uy(t)||iA(t)||sA(t)||rA(t)||/windows phone/i.test(t)||nA(t)}function oA(t,e=[]){let n;switch(t){case"Browser":n=_T(_n());break;case"Worker":n=`${_T(_n())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Fl}/${i}`}class E3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=o=>new Promise((c,d)=>{try{const h=e(o);c(h)}catch(h){d(h)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function x3(t,e={}){return Tr(t,"GET","/v2/passwordPolicy",os(t,e))}const S3=6;class A3{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??S3,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class C3{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wT(this),this.idTokenSubscription=new wT(this),this.beforeStateQueue=new E3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Kr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Tl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Cf(this,{idToken:e}),i=await ki._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(di(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=i?._redirectEventId,d=await this.tryRedirectSignIn(e);(!o||o===c)&&d?.user&&(i=d.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Rf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=s3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(di(this.app))return Promise.reject(Qr(this));const n=e?wt(e):null;return n&&Ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return di(this.app)?Promise.reject(Qr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return di(this.app)?Promise.reject(Qr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Kr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await x3(this),n=new A3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Yu("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await _3(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Kr(e)||this._popupRedirectResolver;Ie(n,this,"argument-error"),this.redirectPersistenceManager=await Tl.create(this,[Kr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(d,this,"internal-error"),d.then(()=>{c||o(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,i,a);return()=>{c=!0,h()}}else{const h=e.addObserver(n);return()=>{c=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(di(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&n3(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ya(t){return wt(t)}class wT{constructor(e){this.auth=e,this.observer=null,this.addObserver=HM(n=>this.observer=n)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let sm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function R3(t){sm=t}function lA(t){return sm.loadJS(t)}function N3(){return sm.recaptchaEnterpriseScript}function I3(){return sm.gapiScript}function k3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class D3{constructor(){this.enterprise=new M3}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class M3{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const O3="recaptcha-enterprise",cA="NO_RECAPTCHA";class V3{constructor(e){this.type=O3,this.auth=ya(e)}async verify(e="verify",n=!1){async function i(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,d)=>{h3(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const f=new d3(h);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,c(f.siteKey)}}).catch(h=>{d(h)})})}function a(o,c,d){const h=window.grecaptcha;gT(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(f=>{c(f)}).catch(()=>{c(cA)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new D3().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{i(this.auth).then(d=>{if(!n&&gT(window.grecaptcha))a(d,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let h=N3();h.length!==0&&(h+=d),lA(h).then(()=>{a(d,o,c)}).catch(f=>{c(f)})}}).catch(d=>{c(d)})})}}async function TT(t,e,n,i=!1,a=!1){const o=new V3(t);let c;if(a)c=cA;else try{c=await o.verify(n)}catch{c=await o.verify(n,!0)}const d={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const h=d.phoneEnrollmentInfo.phoneNumber,f=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const h=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Nf(t,e,n,i,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await TT(t,e,n,n==="getOobCode");return i(t,o)}else return i(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await TT(t,e,n,n==="getOobCode");return i(t,c)}else return Promise.reject(o)})}function P3(t,e){const n=Vy(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),o=n.getOptions();if(co(o,e??{}))return a;Oi(a,"already-initialized")}return n.initialize({options:e})}function j3(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Kr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function L3(t,e,n){const i=ya(t);Ie(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,o=uA(e),{host:c,port:d}=U3(e),h=d===null?"":`:${d}`,f={url:`${o}//${c}${h}/`},g=Object.freeze({host:c,port:d,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Ie(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ie(co(f,i.config.emulator)&&co(g,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=f,i.emulatorConfig=g,i.settings.appVerificationDisabledForTesting=!0,Bl(c)?(jS(`${o}//${c}${h}`),LS("Auth",!0)):z3()}function uA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function U3(t){const e=uA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const o=a[1];return{host:o,port:ET(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:ET(c)}}}function ET(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function z3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class zy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Gr("not implemented")}_getIdTokenResponse(e){return Gr("not implemented")}_linkToIdToken(e,n){return Gr("not implemented")}_getReauthenticationResolver(e){return Gr("not implemented")}}async function B3(t,e){return Tr(t,"POST","/v1/accounts:signUp",e)}async function F3(t,e){return Wu(t,"POST","/v1/accounts:signInWithPassword",os(t,e))}async function dA(t,e){return Tr(t,"POST","/v1/accounts:sendOobCode",os(t,e))}async function q3(t,e){return dA(t,e)}async function H3(t,e){return dA(t,e)}async function $3(t,e){return Wu(t,"POST","/v1/accounts:signInWithEmailLink",os(t,e))}async function G3(t,e){return Wu(t,"POST","/v1/accounts:signInWithEmailLink",os(t,e))}class Ru extends zy{constructor(e,n,i,a=null){super("password",i),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Ru(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Ru(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nf(e,n,"signInWithPassword",F3);case"emailLink":return $3(e,{email:this._email,oobCode:this._password});default:Oi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nf(e,i,"signUpPassword",B3);case"emailLink":return G3(e,{idToken:n,email:this._email,oobCode:this._password});default:Oi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function El(t,e){return Wu(t,"POST","/v1/accounts:signInWithIdp",os(t,e))}const K3="http://localhost";class ho extends zy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ho(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Oi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...o}=n;if(!i||!a)return null;const c=new ho(i,a);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return El(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,El(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,El(e,n)}buildRequest(){const e={requestUri:K3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Qu(n)}return e}}function Y3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Q3(t){const e=au(ou(t)).link,n=e?au(ou(e)).deep_link_id:null,i=au(ou(t)).deep_link_id;return(i?au(ou(i)).link:null)||i||n||e||t}class By{constructor(e){const n=au(ou(e)),i=n.apiKey??null,a=n.oobCode??null,o=Y3(n.mode??null);Ie(i&&a&&o,"argument-error"),this.apiKey=i,this.operation=o,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Q3(e);try{return new By(n)}catch{return null}}}class yo{constructor(){this.providerId=yo.PROVIDER_ID}static credential(e,n){return Ru._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=By.parseLink(n);return Ie(i,"argument-error"),Ru._fromEmailAndCode(e,i.code,i.tenantId)}}yo.PROVIDER_ID="password";yo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";yo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class hA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Zu extends hA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Gs extends Zu{constructor(){super("facebook.com")}static credential(e){return ho._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gs.credential(e.oauthAccessToken)}catch{return null}}}Gs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gs.PROVIDER_ID="facebook.com";class Ks extends Zu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ho._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Ks.credential(n,i)}catch{return null}}}Ks.GOOGLE_SIGN_IN_METHOD="google.com";Ks.PROVIDER_ID="google.com";class Ys extends Zu{constructor(){super("github.com")}static credential(e){return ho._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ys.credential(e.oauthAccessToken)}catch{return null}}}Ys.GITHUB_SIGN_IN_METHOD="github.com";Ys.PROVIDER_ID="github.com";class Qs extends Zu{constructor(){super("twitter.com")}static credential(e,n){return ho._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Qs.credential(n,i)}catch{return null}}}Qs.TWITTER_SIGN_IN_METHOD="twitter.com";Qs.PROVIDER_ID="twitter.com";async function X3(t,e){return Wu(t,"POST","/v1/accounts:signUp",os(t,e))}class fo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const o=await ki._fromIdTokenResponse(e,i,a),c=xT(i);return new fo({user:o,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=xT(i);return new fo({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function xT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class If extends as{constructor(e,n,i,a){super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,If.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new If(e,n,i,a)}}function fA(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?If._fromErrorAndOperation(t,o,e,i):o})}async function W3(t,e,n=!1){const i=await Nl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return fo._forOperation(t,"link",i)}async function mA(t,e,n=!1){const{auth:i}=t;if(di(i.app))return Promise.reject(Qr(i));const a="reauthenticate";try{const o=await Nl(t,fA(i,a,e,t),n);Ie(o.idToken,i,"internal-error");const c=Ly(o.idToken);Ie(c,i,"internal-error");const{sub:d}=c;return Ie(t.uid===d,i,"user-mismatch"),fo._forOperation(t,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&Oi(i,"user-mismatch"),o}}async function pA(t,e,n=!1){if(di(t.app))return Promise.reject(Qr(t));const i="signIn",a=await fA(t,i,e),o=await fo._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(o.user),o}async function Z3(t,e){return pA(ya(t),e)}async function J3(t,e){return mA(wt(t),e)}async function gA(t){const e=ya(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function eV(t,e,n){const i=ya(t);await Nf(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",H3)}async function tV(t,e,n){if(di(t.app))return Promise.reject(Qr(t));const i=ya(t),c=await Nf(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",X3).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&gA(t),h}),d=await fo._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(d.user),d}function nV(t,e,n){return di(t.app)?Promise.reject(Qr(t)):Z3(wt(t),yo.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&gA(t),i})}async function ST(t,e){const n=wt(t),a={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:o}=await q3(n.auth,a);o!==t.email&&await t.reload()}async function iV(t,e){return Tr(t,"POST","/v1/accounts:update",e)}async function rV(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=wt(t),o={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await Nl(i,iV(i.auth,o));i.displayName=c.displayName||null,i.photoURL=c.photoUrl||null;const d=i.providerData.find(({providerId:h})=>h==="password");d&&(d.displayName=i.displayName,d.photoURL=i.photoURL),await i._updateTokensIfNecessary(c)}function sV(t,e,n,i){return wt(t).onIdTokenChanged(e,n,i)}function aV(t,e,n){return wt(t).beforeAuthStateChanged(e,n)}function oV(t,e,n,i){return wt(t).onAuthStateChanged(e,n,i)}function AT(t){return wt(t).signOut()}async function lV(t){return wt(t).delete()}const kf="__sak";class yA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kf,"1"),this.storage.removeItem(kf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const cV=1e3,uV=10;class vA extends yA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,h)=>{this.notifyListeners(c,h)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);T3()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,uV):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},cV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}vA.type="LOCAL";const dV=vA;class bA extends yA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}bA.type="SESSION";const _A=bA;function hV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class am{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new am(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:o}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(c).map(async f=>f(n.origin,o)),h=await hV(d);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}am.receivers=[];function Fy(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}class fV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,c;return new Promise((d,h)=>{const f=Fy("",20);a.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(v){const _=v;if(_.data.eventId===f)switch(_.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),d(_.data.response);break;default:clearTimeout(g),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function dr(){return window}function mV(t){dr().location.href=t}function wA(){return typeof dr().WorkerGlobalScope<"u"&&typeof dr().importScripts=="function"}async function pV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gV(){return navigator?.serviceWorker?.controller||null}function yV(){return wA()?self:null}const TA="firebaseLocalStorageDb",vV=1,Df="firebaseLocalStorage",EA="fbase_key";class Ju{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function om(t,e){return t.transaction([Df],e?"readwrite":"readonly").objectStore(Df)}function bV(){const t=indexedDB.deleteDatabase(TA);return new Ju(t).toPromise()}function L0(){const t=indexedDB.open(TA,vV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Df,{keyPath:EA})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Df)?e(i):(i.close(),await bV(),e(await L0()))})})}async function CT(t,e,n){const i=om(t,!0).put({[EA]:e,value:n});return new Ju(i).toPromise()}async function _V(t,e){const n=om(t,!1).get(e),i=await new Ju(n).toPromise();return i===void 0?null:i.value}function RT(t,e){const n=om(t,!0).delete(e);return new Ju(n).toPromise()}const wV=800,TV=3;class xA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await L0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>TV)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=am._getInstance(yV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await pV(),!this.activeServiceWorker)return;this.sender=new fV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||gV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await L0();return await CT(e,kf,"1"),await RT(e,kf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>CT(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>_V(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>RT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=om(a,!1).getAll();return new Ju(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xA.type="LOCAL";const EV=xA;new Xu(3e4,6e4);function xV(t,e){return e?Kr(e):(Ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class qy extends zy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return El(e,this._buildIdpRequest())}_linkToIdToken(e,n){return El(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return El(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function SV(t){return pA(t.auth,new qy(t),t.bypassAuthState)}function AV(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),mA(n,new qy(t),t.bypassAuthState)}async function CV(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),W3(n,new qy(t),t.bypassAuthState)}class SA{constructor(e,n,i,a,o=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:o,error:c,type:d}=e;if(c){this.reject(c);return}const h={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return SV;case"linkViaPopup":case"linkViaRedirect":return CV;case"reauthViaPopup":case"reauthViaRedirect":return AV;default:Oi(this.auth,"internal-error")}}resolve(e){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const RV=new Xu(2e3,1e4);class pl extends SA{constructor(e,n,i,a,o){super(e,n,a,o),this.provider=i,this.authWindow=null,this.pollId=null,pl.currentPopupAction&&pl.currentPopupAction.cancel(),pl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){Jr(this.filter.length===1,"Popup operations only handle one event");const e=Fy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ur(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ur(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ur(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,RV.get())};e()}}pl.currentPopupAction=null;const NV="pendingRedirect",lf=new Map;class IV extends SA{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=lf.get(this.auth._key());if(!e){try{const i=await kV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}lf.set(this.auth._key(),e)}return this.bypassAuthState||lf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kV(t,e){const n=OV(e),i=MV(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function DV(t,e){lf.set(t._key(),e)}function MV(t){return Kr(t._redirectPersistence)}function OV(t){return of(NV,t.config.apiKey,t.name)}async function VV(t,e,n=!1){if(di(t.app))return Promise.reject(Qr(t));const i=ya(t),a=xV(i,e),c=await new IV(i,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}const PV=600*1e3;class jV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!LV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!AA(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ur(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=PV&&this.cachedEventUids.clear(),this.cachedEventUids.has(NT(e))}saveEventToCache(e){this.cachedEventUids.add(NT(e)),this.lastProcessedEventTime=Date.now()}}function NT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function AA({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function LV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AA(t);default:return!1}}async function UV(t,e={}){return Tr(t,"GET","/v1/projects",e)}const zV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BV=/^https?/;async function FV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await UV(t);for(const n of e)try{if(qV(n))return}catch{}Oi(t,"unauthorized-domain")}function qV(t){const e=P0(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!BV.test(n))return!1;if(zV.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const HV=new Xu(3e4,6e4);function IT(){const t=dr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function $V(t){return new Promise((e,n)=>{function i(){IT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{IT(),n(ur(t,"network-request-failed"))},timeout:HV.get()})}if(dr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(dr().gapi?.load)i();else{const a=k3("iframefcb");return dr()[a]=()=>{gapi.load?i():n(ur(t,"network-request-failed"))},lA(`${I3()}?onload=${a}`).catch(o=>n(o))}}).catch(e=>{throw cf=null,e})}let cf=null;function GV(t){return cf=cf||$V(t),cf}const KV=new Xu(5e3,15e3),YV="__/auth/iframe",QV="emulator/auth/iframe",XV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},WV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZV(t){const e=t.config;Ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?jy(e,QV):`https://${t.config.authDomain}/${YV}`,i={apiKey:e.apiKey,appName:t.name,v:Fl},a=WV.get(t.config.apiHost);a&&(i.eid=a);const o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${Qu(i).slice(1)}`}async function JV(t){const e=await GV(t),n=dr().gapi;return Ie(n,t,"internal-error"),e.open({where:document.body,url:ZV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XV,dontclear:!0},i=>new Promise(async(a,o)=>{await i.restyle({setHideOnLeave:!1});const c=ur(t,"network-request-failed"),d=dr().setTimeout(()=>{o(c)},KV.get());function h(){dr().clearTimeout(d),a(i)}i.ping(h).then(h,()=>{o(c)})}))}const e5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},t5=500,n5=600,i5="_blank",r5="http://localhost";class kT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function s5(t,e,n,i=t5,a=n5){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const h={...e5,width:i.toString(),height:a.toString(),top:o,left:c},f=_n().toLowerCase();n&&(d=tA(f)?i5:n),JS(f)&&(e=e||r5,h.scrollbars="yes");const g=Object.entries(h).reduce((_,[x,k])=>`${_}${x}=${k},`,"");if(w3(f)&&d!=="_self")return a5(e||"",d),new kT(null);const v=window.open(e||"",d,g);Ie(v,t,"popup-blocked");try{v.focus()}catch{}return new kT(v)}function a5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}const o5="__/auth/handler",l5="emulator/auth/handler",c5=encodeURIComponent("fac");async function DT(t,e,n,i,a,o){Ie(t.config.authDomain,t,"auth-domain-config-required"),Ie(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Fl,eventId:a};if(e instanceof hA){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",qM(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))c[g]=v}if(e instanceof Zu){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(c.scopes=g.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const g of Object.keys(d))d[g]===void 0&&delete d[g];const h=await t._getAppCheckToken(),f=h?`#${c5}=${encodeURIComponent(h)}`:"";return`${u5(t)}?${Qu(d).slice(1)}${f}`}function u5({config:t}){return t.emulator?jy(t,l5):`https://${t.authDomain}/${o5}`}const Wg="webStorageSupport";class d5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_A,this._completeRedirectFn=VV,this._overrideRedirectResult=DV}async _openPopup(e,n,i,a){Jr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await DT(e,n,i,P0(),a);return s5(e,o,Fy())}async _openRedirect(e,n,i,a){await this._originValidation(e);const o=await DT(e,n,i,P0(),a);return mV(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:o}=this.eventManagers[n];return a?Promise.resolve(a):(Jr(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await JV(e),i=new jV(e);return n.register("authEvent",a=>(Ie(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Wg,{type:Wg},a=>{const o=a?.[0]?.[Wg];o!==void 0&&n(!!o),Oi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=FV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return aA()||eA()||Uy()}}const h5=d5;var MT="@firebase/auth",OT="1.11.1";class f5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function m5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function p5(t){Rl(new uo("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Ie(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oA(t)},f=new C3(i,a,o,h);return j3(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Rl(new uo("auth-internal",e=>{const n=ya(e.getProvider("auth").getImmediate());return(i=>new f5(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),na(MT,OT,m5(t)),na(MT,OT,"esm2020")}const g5=300,y5=PS("authIdTokenMaxAge")||g5;let VT=null;const v5=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>y5)return;const a=n?.token;VT!==a&&(VT=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function b5(t=FS()){const e=Vy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=P3(t,{popupRedirectResolver:h5,persistence:[EV,dV,_A]}),i=PS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=v5(o.toString());aV(n,c,()=>c(n.currentUser)),sV(n,d=>c(d))}}const a=OS("auth");return a&&L3(n,`http://${a}`),n}function _5(){return document.getElementsByTagName("head")?.[0]??document}R3({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const o=ur("internal-error");o.customData=a,n(o)},i.type="text/javascript",i.charset="UTF-8",_5().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});p5("Browser");var w5="firebase",T5="12.6.0";na(w5,T5,"app");var PT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ia,CA;(function(){var t;function e(S,R){function M(){}M.prototype=R.prototype,S.F=R.prototype,S.prototype=new M,S.prototype.constructor=S,S.D=function(V,D,F){for(var P=Array(arguments.length-2),je=2;je<arguments.length;je++)P[je-2]=arguments[je];return R.prototype[D].apply(V,P)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(S,R,M){M||(M=0);const V=Array(16);if(typeof R=="string")for(var D=0;D<16;++D)V[D]=R.charCodeAt(M++)|R.charCodeAt(M++)<<8|R.charCodeAt(M++)<<16|R.charCodeAt(M++)<<24;else for(D=0;D<16;++D)V[D]=R[M++]|R[M++]<<8|R[M++]<<16|R[M++]<<24;R=S.g[0],M=S.g[1],D=S.g[2];let F=S.g[3],P;P=R+(F^M&(D^F))+V[0]+3614090360&4294967295,R=M+(P<<7&4294967295|P>>>25),P=F+(D^R&(M^D))+V[1]+3905402710&4294967295,F=R+(P<<12&4294967295|P>>>20),P=D+(M^F&(R^M))+V[2]+606105819&4294967295,D=F+(P<<17&4294967295|P>>>15),P=M+(R^D&(F^R))+V[3]+3250441966&4294967295,M=D+(P<<22&4294967295|P>>>10),P=R+(F^M&(D^F))+V[4]+4118548399&4294967295,R=M+(P<<7&4294967295|P>>>25),P=F+(D^R&(M^D))+V[5]+1200080426&4294967295,F=R+(P<<12&4294967295|P>>>20),P=D+(M^F&(R^M))+V[6]+2821735955&4294967295,D=F+(P<<17&4294967295|P>>>15),P=M+(R^D&(F^R))+V[7]+4249261313&4294967295,M=D+(P<<22&4294967295|P>>>10),P=R+(F^M&(D^F))+V[8]+1770035416&4294967295,R=M+(P<<7&4294967295|P>>>25),P=F+(D^R&(M^D))+V[9]+2336552879&4294967295,F=R+(P<<12&4294967295|P>>>20),P=D+(M^F&(R^M))+V[10]+4294925233&4294967295,D=F+(P<<17&4294967295|P>>>15),P=M+(R^D&(F^R))+V[11]+2304563134&4294967295,M=D+(P<<22&4294967295|P>>>10),P=R+(F^M&(D^F))+V[12]+1804603682&4294967295,R=M+(P<<7&4294967295|P>>>25),P=F+(D^R&(M^D))+V[13]+4254626195&4294967295,F=R+(P<<12&4294967295|P>>>20),P=D+(M^F&(R^M))+V[14]+2792965006&4294967295,D=F+(P<<17&4294967295|P>>>15),P=M+(R^D&(F^R))+V[15]+1236535329&4294967295,M=D+(P<<22&4294967295|P>>>10),P=R+(D^F&(M^D))+V[1]+4129170786&4294967295,R=M+(P<<5&4294967295|P>>>27),P=F+(M^D&(R^M))+V[6]+3225465664&4294967295,F=R+(P<<9&4294967295|P>>>23),P=D+(R^M&(F^R))+V[11]+643717713&4294967295,D=F+(P<<14&4294967295|P>>>18),P=M+(F^R&(D^F))+V[0]+3921069994&4294967295,M=D+(P<<20&4294967295|P>>>12),P=R+(D^F&(M^D))+V[5]+3593408605&4294967295,R=M+(P<<5&4294967295|P>>>27),P=F+(M^D&(R^M))+V[10]+38016083&4294967295,F=R+(P<<9&4294967295|P>>>23),P=D+(R^M&(F^R))+V[15]+3634488961&4294967295,D=F+(P<<14&4294967295|P>>>18),P=M+(F^R&(D^F))+V[4]+3889429448&4294967295,M=D+(P<<20&4294967295|P>>>12),P=R+(D^F&(M^D))+V[9]+568446438&4294967295,R=M+(P<<5&4294967295|P>>>27),P=F+(M^D&(R^M))+V[14]+3275163606&4294967295,F=R+(P<<9&4294967295|P>>>23),P=D+(R^M&(F^R))+V[3]+4107603335&4294967295,D=F+(P<<14&4294967295|P>>>18),P=M+(F^R&(D^F))+V[8]+1163531501&4294967295,M=D+(P<<20&4294967295|P>>>12),P=R+(D^F&(M^D))+V[13]+2850285829&4294967295,R=M+(P<<5&4294967295|P>>>27),P=F+(M^D&(R^M))+V[2]+4243563512&4294967295,F=R+(P<<9&4294967295|P>>>23),P=D+(R^M&(F^R))+V[7]+1735328473&4294967295,D=F+(P<<14&4294967295|P>>>18),P=M+(F^R&(D^F))+V[12]+2368359562&4294967295,M=D+(P<<20&4294967295|P>>>12),P=R+(M^D^F)+V[5]+4294588738&4294967295,R=M+(P<<4&4294967295|P>>>28),P=F+(R^M^D)+V[8]+2272392833&4294967295,F=R+(P<<11&4294967295|P>>>21),P=D+(F^R^M)+V[11]+1839030562&4294967295,D=F+(P<<16&4294967295|P>>>16),P=M+(D^F^R)+V[14]+4259657740&4294967295,M=D+(P<<23&4294967295|P>>>9),P=R+(M^D^F)+V[1]+2763975236&4294967295,R=M+(P<<4&4294967295|P>>>28),P=F+(R^M^D)+V[4]+1272893353&4294967295,F=R+(P<<11&4294967295|P>>>21),P=D+(F^R^M)+V[7]+4139469664&4294967295,D=F+(P<<16&4294967295|P>>>16),P=M+(D^F^R)+V[10]+3200236656&4294967295,M=D+(P<<23&4294967295|P>>>9),P=R+(M^D^F)+V[13]+681279174&4294967295,R=M+(P<<4&4294967295|P>>>28),P=F+(R^M^D)+V[0]+3936430074&4294967295,F=R+(P<<11&4294967295|P>>>21),P=D+(F^R^M)+V[3]+3572445317&4294967295,D=F+(P<<16&4294967295|P>>>16),P=M+(D^F^R)+V[6]+76029189&4294967295,M=D+(P<<23&4294967295|P>>>9),P=R+(M^D^F)+V[9]+3654602809&4294967295,R=M+(P<<4&4294967295|P>>>28),P=F+(R^M^D)+V[12]+3873151461&4294967295,F=R+(P<<11&4294967295|P>>>21),P=D+(F^R^M)+V[15]+530742520&4294967295,D=F+(P<<16&4294967295|P>>>16),P=M+(D^F^R)+V[2]+3299628645&4294967295,M=D+(P<<23&4294967295|P>>>9),P=R+(D^(M|~F))+V[0]+4096336452&4294967295,R=M+(P<<6&4294967295|P>>>26),P=F+(M^(R|~D))+V[7]+1126891415&4294967295,F=R+(P<<10&4294967295|P>>>22),P=D+(R^(F|~M))+V[14]+2878612391&4294967295,D=F+(P<<15&4294967295|P>>>17),P=M+(F^(D|~R))+V[5]+4237533241&4294967295,M=D+(P<<21&4294967295|P>>>11),P=R+(D^(M|~F))+V[12]+1700485571&4294967295,R=M+(P<<6&4294967295|P>>>26),P=F+(M^(R|~D))+V[3]+2399980690&4294967295,F=R+(P<<10&4294967295|P>>>22),P=D+(R^(F|~M))+V[10]+4293915773&4294967295,D=F+(P<<15&4294967295|P>>>17),P=M+(F^(D|~R))+V[1]+2240044497&4294967295,M=D+(P<<21&4294967295|P>>>11),P=R+(D^(M|~F))+V[8]+1873313359&4294967295,R=M+(P<<6&4294967295|P>>>26),P=F+(M^(R|~D))+V[15]+4264355552&4294967295,F=R+(P<<10&4294967295|P>>>22),P=D+(R^(F|~M))+V[6]+2734768916&4294967295,D=F+(P<<15&4294967295|P>>>17),P=M+(F^(D|~R))+V[13]+1309151649&4294967295,M=D+(P<<21&4294967295|P>>>11),P=R+(D^(M|~F))+V[4]+4149444226&4294967295,R=M+(P<<6&4294967295|P>>>26),P=F+(M^(R|~D))+V[11]+3174756917&4294967295,F=R+(P<<10&4294967295|P>>>22),P=D+(R^(F|~M))+V[2]+718787259&4294967295,D=F+(P<<15&4294967295|P>>>17),P=M+(F^(D|~R))+V[9]+3951481745&4294967295,S.g[0]=S.g[0]+R&4294967295,S.g[1]=S.g[1]+(D+(P<<21&4294967295|P>>>11))&4294967295,S.g[2]=S.g[2]+D&4294967295,S.g[3]=S.g[3]+F&4294967295}i.prototype.v=function(S,R){R===void 0&&(R=S.length);const M=R-this.blockSize,V=this.C;let D=this.h,F=0;for(;F<R;){if(D==0)for(;F<=M;)a(this,S,F),F+=this.blockSize;if(typeof S=="string"){for(;F<R;)if(V[D++]=S.charCodeAt(F++),D==this.blockSize){a(this,V),D=0;break}}else for(;F<R;)if(V[D++]=S[F++],D==this.blockSize){a(this,V),D=0;break}}this.h=D,this.o+=R},i.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var R=1;R<S.length-8;++R)S[R]=0;R=this.o*8;for(var M=S.length-8;M<S.length;++M)S[M]=R&255,R/=256;for(this.v(S),S=Array(16),R=0,M=0;M<4;++M)for(let V=0;V<32;V+=8)S[R++]=this.g[M]>>>V&255;return S};function o(S,R){var M=d;return Object.prototype.hasOwnProperty.call(M,S)?M[S]:M[S]=R(S)}function c(S,R){this.h=R;const M=[];let V=!0;for(let D=S.length-1;D>=0;D--){const F=S[D]|0;V&&F==R||(M[D]=F,V=!1)}this.g=M}var d={};function h(S){return-128<=S&&S<128?o(S,function(R){return new c([R|0],R<0?-1:0)}):new c([S|0],S<0?-1:0)}function f(S){if(isNaN(S)||!isFinite(S))return v;if(S<0)return I(f(-S));const R=[];let M=1;for(let V=0;S>=M;V++)R[V]=S/M|0,M*=4294967296;return new c(R,0)}function g(S,R){if(S.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(S.charAt(0)=="-")return I(g(S.substring(1),R));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const M=f(Math.pow(R,8));let V=v;for(let F=0;F<S.length;F+=8){var D=Math.min(8,S.length-F);const P=parseInt(S.substring(F,F+D),R);D<8?(D=f(Math.pow(R,D)),V=V.j(D).add(f(P))):(V=V.j(M),V=V.add(f(P)))}return V}var v=h(0),_=h(1),x=h(16777216);t=c.prototype,t.m=function(){if(A(this))return-I(this).m();let S=0,R=1;for(let M=0;M<this.g.length;M++){const V=this.i(M);S+=(V>=0?V:4294967296+V)*R,R*=4294967296}return S},t.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(k(this))return"0";if(A(this))return"-"+I(this).toString(S);const R=f(Math.pow(S,6));var M=this;let V="";for(;;){const D=$(M,R).g;M=U(M,D.j(R));let F=((M.g.length>0?M.g[0]:M.h)>>>0).toString(S);if(M=D,k(M))return F+V;for(;F.length<6;)F="0"+F;V=F+V}},t.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function k(S){if(S.h!=0)return!1;for(let R=0;R<S.g.length;R++)if(S.g[R]!=0)return!1;return!0}function A(S){return S.h==-1}t.l=function(S){return S=U(this,S),A(S)?-1:k(S)?0:1};function I(S){const R=S.g.length,M=[];for(let V=0;V<R;V++)M[V]=~S.g[V];return new c(M,~S.h).add(_)}t.abs=function(){return A(this)?I(this):this},t.add=function(S){const R=Math.max(this.g.length,S.g.length),M=[];let V=0;for(let D=0;D<=R;D++){let F=V+(this.i(D)&65535)+(S.i(D)&65535),P=(F>>>16)+(this.i(D)>>>16)+(S.i(D)>>>16);V=P>>>16,F&=65535,P&=65535,M[D]=P<<16|F}return new c(M,M[M.length-1]&-2147483648?-1:0)};function U(S,R){return S.add(I(R))}t.j=function(S){if(k(this)||k(S))return v;if(A(this))return A(S)?I(this).j(I(S)):I(I(this).j(S));if(A(S))return I(this.j(I(S)));if(this.l(x)<0&&S.l(x)<0)return f(this.m()*S.m());const R=this.g.length+S.g.length,M=[];for(var V=0;V<2*R;V++)M[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<S.g.length;D++){const F=this.i(V)>>>16,P=this.i(V)&65535,je=S.i(D)>>>16,Ce=S.i(D)&65535;M[2*V+2*D]+=P*Ce,B(M,2*V+2*D),M[2*V+2*D+1]+=F*Ce,B(M,2*V+2*D+1),M[2*V+2*D+1]+=P*je,B(M,2*V+2*D+1),M[2*V+2*D+2]+=F*je,B(M,2*V+2*D+2)}for(S=0;S<R;S++)M[S]=M[2*S+1]<<16|M[2*S];for(S=R;S<2*R;S++)M[S]=0;return new c(M,0)};function B(S,R){for(;(S[R]&65535)!=S[R];)S[R+1]+=S[R]>>>16,S[R]&=65535,R++}function j(S,R){this.g=S,this.h=R}function $(S,R){if(k(R))throw Error("division by zero");if(k(S))return new j(v,v);if(A(S))return R=$(I(S),R),new j(I(R.g),I(R.h));if(A(R))return R=$(S,I(R)),new j(I(R.g),R.h);if(S.g.length>30){if(A(S)||A(R))throw Error("slowDivide_ only works with positive integers.");for(var M=_,V=R;V.l(S)<=0;)M=ne(M),V=ne(V);var D=ee(M,1),F=ee(V,1);for(V=ee(V,2),M=ee(M,2);!k(V);){var P=F.add(V);P.l(S)<=0&&(D=D.add(M),F=P),V=ee(V,1),M=ee(M,1)}return R=U(S,D.j(R)),new j(D,R)}for(D=v;S.l(R)>=0;){for(M=Math.max(1,Math.floor(S.m()/R.m())),V=Math.ceil(Math.log(M)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),F=f(M),P=F.j(R);A(P)||P.l(S)>0;)M-=V,F=f(M),P=F.j(R);k(F)&&(F=_),D=D.add(F),S=U(S,P)}return new j(D,S)}t.B=function(S){return $(this,S).h},t.and=function(S){const R=Math.max(this.g.length,S.g.length),M=[];for(let V=0;V<R;V++)M[V]=this.i(V)&S.i(V);return new c(M,this.h&S.h)},t.or=function(S){const R=Math.max(this.g.length,S.g.length),M=[];for(let V=0;V<R;V++)M[V]=this.i(V)|S.i(V);return new c(M,this.h|S.h)},t.xor=function(S){const R=Math.max(this.g.length,S.g.length),M=[];for(let V=0;V<R;V++)M[V]=this.i(V)^S.i(V);return new c(M,this.h^S.h)};function ne(S){const R=S.g.length+1,M=[];for(let V=0;V<R;V++)M[V]=S.i(V)<<1|S.i(V-1)>>>31;return new c(M,S.h)}function ee(S,R){const M=R>>5;R%=32;const V=S.g.length-M,D=[];for(let F=0;F<V;F++)D[F]=R>0?S.i(F+M)>>>R|S.i(F+M+1)<<32-R:S.i(F+M);return new c(D,S.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,CA=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=f,c.fromString=g,ia=c}).apply(typeof PT<"u"?PT:typeof self<"u"?self:typeof window<"u"?window:{});var Fh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var RA,lu,NA,uf,U0,IA,kA,DA;(function(){var t,e=Object.defineProperty;function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fh=="object"&&Fh];for(var w=0;w<m.length;++w){var E=m[w];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=n(this);function a(m,w){if(w)e:{var E=i;m=m.split(".");for(var N=0;N<m.length-1;N++){var G=m[N];if(!(G in E))break e;E=E[G]}m=m[m.length-1],N=E[m],w=w(N),w!=N&&w!=null&&e(E,m,{configurable:!0,writable:!0,value:w})}}a("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(m){return m||function(w){var E=[],N;for(N in w)Object.prototype.hasOwnProperty.call(w,N)&&E.push([N,w[N]]);return E}});var o=o||{},c=this||self;function d(m){var w=typeof m;return w=="object"&&m!=null||w=="function"}function h(m,w,E){return m.call.apply(m.bind,arguments)}function f(m,w,E){return f=h,f.apply(null,arguments)}function g(m,w){var E=Array.prototype.slice.call(arguments,1);return function(){var N=E.slice();return N.push.apply(N,arguments),m.apply(this,N)}}function v(m,w){function E(){}E.prototype=w.prototype,m.Z=w.prototype,m.prototype=new E,m.prototype.constructor=m,m.Ob=function(N,G,W){for(var he=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)he[Le-2]=arguments[Le];return w.prototype[G].apply(N,he)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function x(m){const w=m.length;if(w>0){const E=Array(w);for(let N=0;N<w;N++)E[N]=m[N];return E}return[]}function k(m,w){for(let N=1;N<arguments.length;N++){const G=arguments[N];var E=typeof G;if(E=E!="object"?E:G?Array.isArray(G)?"array":E:"null",E=="array"||E=="object"&&typeof G.length=="number"){E=m.length||0;const W=G.length||0;m.length=E+W;for(let he=0;he<W;he++)m[E+he]=G[he]}else m.push(G)}}class A{constructor(w,E){this.i=w,this.j=E,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function I(m){c.setTimeout(()=>{throw m},0)}function U(){var m=S;let w=null;return m.g&&(w=m.g,m.g=m.g.next,m.g||(m.h=null),w.next=null),w}class B{constructor(){this.h=this.g=null}add(w,E){const N=j.get();N.set(w,E),this.h?this.h.next=N:this.g=N,this.h=N}}var j=new A(()=>new $,m=>m.reset());class ${constructor(){this.next=this.g=this.h=null}set(w,E){this.h=w,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,ee=!1,S=new B,R=()=>{const m=Promise.resolve(void 0);ne=()=>{m.then(M)}};function M(){for(var m;m=U();){try{m.h.call(m.g)}catch(E){I(E)}var w=j;w.j(m),w.h<100&&(w.h++,m.next=w.g,w.g=m)}ee=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(m,w){this.type=m,this.g=this.target=w,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,w=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const E=()=>{};c.addEventListener("test",E,w),c.removeEventListener("test",E,w)}catch{}return m})();function P(m){return/^[\s\xa0]*$/.test(m)}function je(m,w){D.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,w)}v(je,D),je.prototype.init=function(m,w){const E=this.type=m.type,N=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=w,w=m.relatedTarget,w||(E=="mouseover"?w=m.fromElement:E=="mouseout"&&(w=m.toElement)),this.relatedTarget=w,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&je.Z.h.call(this)},je.prototype.h=function(){je.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Ce="closure_listenable_"+(Math.random()*1e6|0),K=0;function ce(m,w,E,N,G){this.listener=m,this.proxy=null,this.src=w,this.type=E,this.capture=!!N,this.ha=G,this.key=++K,this.da=this.fa=!1}function pe(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Ae(m,w,E){for(const N in m)w.call(E,m[N],N,m)}function oe(m,w){for(const E in m)w.call(void 0,m[E],E,m)}function L(m){const w={};for(const E in m)w[E]=m[E];return w}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(m,w){let E,N;for(let G=1;G<arguments.length;G++){N=arguments[G];for(E in N)m[E]=N[E];for(let W=0;W<J.length;W++)E=J[W],Object.prototype.hasOwnProperty.call(N,E)&&(m[E]=N[E])}}function de(m){this.src=m,this.g={},this.h=0}de.prototype.add=function(m,w,E,N,G){const W=m.toString();m=this.g[W],m||(m=this.g[W]=[],this.h++);const he=we(m,w,N,G);return he>-1?(w=m[he],E||(w.fa=!1)):(w=new ce(w,this.src,W,!!N,G),w.fa=E,m.push(w)),w};function ge(m,w){const E=w.type;if(E in m.g){var N=m.g[E],G=Array.prototype.indexOf.call(N,w,void 0),W;(W=G>=0)&&Array.prototype.splice.call(N,G,1),W&&(pe(w),m.g[E].length==0&&(delete m.g[E],m.h--))}}function we(m,w,E,N){for(let G=0;G<m.length;++G){const W=m[G];if(!W.da&&W.listener==w&&W.capture==!!E&&W.ha==N)return G}return-1}var _e="closure_lm_"+(Math.random()*1e6|0),fe={};function Se(m,w,E,N,G){if(Array.isArray(w)){for(let W=0;W<w.length;W++)Se(m,w[W],E,N,G);return null}return E=Jl(E),m&&m[Ce]?m.J(w,E,d(N)?!!N.capture:!1,G):pt(m,w,E,!1,N,G)}function pt(m,w,E,N,G,W){if(!w)throw Error("Invalid event type");const he=d(G)?!!G.capture:!!G;let Le=wa(m);if(Le||(m[_e]=Le=new de(m)),E=Le.add(w,E,N,he,W),E.proxy)return E;if(N=jn(),E.proxy=N,N.src=m,N.listener=E,m.addEventListener)F||(G=he),G===void 0&&(G=!1),m.addEventListener(w.toString(),N,G);else if(m.attachEvent)m.attachEvent(Pi(w.toString()),N);else if(m.addListener&&m.removeListener)m.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return E}function jn(){function m(E){return w.call(m.src,m.listener,E)}const w=Wl;return m}function _o(m,w,E,N,G){if(Array.isArray(w))for(var W=0;W<w.length;W++)_o(m,w[W],E,N,G);else N=d(N)?!!N.capture:!!N,E=Jl(E),m&&m[Ce]?(m=m.i,W=String(w).toString(),W in m.g&&(w=m.g[W],E=we(w,E,N,G),E>-1&&(pe(w[E]),Array.prototype.splice.call(w,E,1),w.length==0&&(delete m.g[W],m.h--)))):m&&(m=wa(m))&&(w=m.g[w.toString()],m=-1,w&&(m=we(w,E,N,G)),(E=m>-1?w[m]:null)&&wo(E))}function wo(m){if(typeof m!="number"&&m&&!m.da){var w=m.src;if(w&&w[Ce])ge(w.i,m);else{var E=m.type,N=m.proxy;w.removeEventListener?w.removeEventListener(E,N,m.capture):w.detachEvent?w.detachEvent(Pi(E),N):w.addListener&&w.removeListener&&w.removeListener(N),(E=wa(w))?(ge(E,m),E.h==0&&(E.src=null,w[_e]=null)):pe(m)}}}function Pi(m){return m in fe?fe[m]:fe[m]="on"+m}function Wl(m,w){if(m.da)m=!0;else{w=new je(w,this);const E=m.listener,N=m.ha||m.src;m.fa&&wo(m),m=E.call(N,w)}return m}function wa(m){return m=m[_e],m instanceof de?m:null}var Zl="__closure_events_fn_"+(Math.random()*1e9>>>0);function Jl(m){return typeof m=="function"?m:(m[Zl]||(m[Zl]=function(w){return m.handleEvent(w)}),m[Zl])}function Ot(){V.call(this),this.i=new de(this),this.M=this,this.G=null}v(Ot,V),Ot.prototype[Ce]=!0,Ot.prototype.removeEventListener=function(m,w,E,N){_o(this,m,w,E,N)};function Kt(m,w){var E,N=m.G;if(N)for(E=[];N;N=N.G)E.push(N);if(m=m.M,N=w.type||w,typeof w=="string")w=new D(w,m);else if(w instanceof D)w.target=w.target||m;else{var G=w;w=new D(N,m),ue(w,G)}G=!0;let W,he;if(E)for(he=E.length-1;he>=0;he--)W=w.g=E[he],G=cs(W,N,!0,w)&&G;if(W=w.g=m,G=cs(W,N,!0,w)&&G,G=cs(W,N,!1,w)&&G,E)for(he=0;he<E.length;he++)W=w.g=E[he],G=cs(W,N,!1,w)&&G}Ot.prototype.N=function(){if(Ot.Z.N.call(this),this.i){var m=this.i;for(const w in m.g){const E=m.g[w];for(let N=0;N<E.length;N++)pe(E[N]);delete m.g[w],m.h--}}this.G=null},Ot.prototype.J=function(m,w,E,N){return this.i.add(String(m),w,!1,E,N)},Ot.prototype.K=function(m,w,E,N){return this.i.add(String(m),w,!0,E,N)};function cs(m,w,E,N){if(w=m.i.g[String(w)],!w)return!0;w=w.concat();let G=!0;for(let W=0;W<w.length;++W){const he=w[W];if(he&&!he.da&&he.capture==E){const Le=he.listener,Rt=he.ha||he.src;he.fa&&ge(m.i,he),G=Le.call(Rt,N)!==!1&&G}}return G&&!N.defaultPrevented}function Um(m,w){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=f(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:c.setTimeout(m,w||0)}function ud(m){m.g=Um(()=>{m.g=null,m.i&&(m.i=!1,ud(m))},m.l);const w=m.h;m.h=null,m.m.apply(null,w)}class wn extends V{constructor(w,E){super(),this.m=w,this.l=E,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:ud(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ta(m){V.call(this),this.h=m,this.g={}}v(Ta,V);var ec=[];function tc(m){Ae(m.g,function(w,E){this.g.hasOwnProperty(E)&&wo(w)},m),m.g={}}Ta.prototype.N=function(){Ta.Z.N.call(this),tc(this)},Ta.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var us=c.JSON.stringify,zm=c.JSON.parse,dd=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function hd(){}function fd(){}var yi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function tn(){D.call(this,"d")}v(tn,D);function Qn(){D.call(this,"c")}v(Qn,D);var Ct={},md=null;function To(){return md=md||new Ot}Ct.Ia="serverreachability";function pd(m){D.call(this,Ct.Ia,m)}v(pd,D);function ji(m){const w=To();Kt(w,new pd(w))}Ct.STAT_EVENT="statevent";function Ea(m,w){D.call(this,Ct.STAT_EVENT,m),this.stat=w}v(Ea,D);function Vt(m){const w=To();Kt(w,new Ea(w,m))}Ct.Ja="timingevent";function Li(m,w){D.call(this,Ct.Ja,m),this.size=w}v(Li,D);function Ui(m,w){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},w)}function vi(){this.g=!0}vi.prototype.ua=function(){this.g=!1};function Bm(m,w,E,N,G,W){m.info(function(){if(m.g)if(W){var he="",Le=W.split("&");for(let et=0;et<Le.length;et++){var Rt=Le[et].split("=");if(Rt.length>1){const gt=Rt[0];Rt=Rt[1];const Jn=gt.split("_");he=Jn.length>=2&&Jn[1]=="type"?he+(gt+"="+Rt+"&"):he+(gt+"=redacted&")}}}else he=null;else he=W;return"XMLHTTP REQ ("+N+") [attempt "+G+"]: "+w+`
`+E+`
`+he})}function gd(m,w,E,N,G,W,he){m.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+G+"]: "+w+`
`+E+`
`+W+" "+he})}function zi(m,w,E,N){m.info(function(){return"XMLHTTP TEXT ("+w+"): "+Fm(m,E)+(N?" "+N:"")})}function xa(m,w){m.info(function(){return"TIMEOUT: "+w})}vi.prototype.info=function(){};function Fm(m,w){if(!m.g)return w;if(!w)return null;try{const W=JSON.parse(w);if(W){for(m=0;m<W.length;m++)if(Array.isArray(W[m])){var E=W[m];if(!(E.length<2)){var N=E[1];if(Array.isArray(N)&&!(N.length<1)){var G=N[0];if(G!="noop"&&G!="stop"&&G!="close")for(let he=1;he<N.length;he++)N[he]=""}}}}return us(W)}catch{return w}}var Sa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},nc={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ic;function Aa(){}v(Aa,hd),Aa.prototype.g=function(){return new XMLHttpRequest},ic=new Aa;function Er(m){return encodeURIComponent(String(m))}function yd(m){var w=1;m=m.split(":");const E=[];for(;w>0&&m.length;)E.push(m.shift()),w--;return m.length&&E.push(m.join(":")),E}function bi(m,w,E,N){this.j=m,this.i=w,this.l=E,this.S=N||1,this.V=new Ta(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new _i}function _i(){this.i=null,this.g="",this.h=!1}var Pt={},Wt={};function Bi(m,w,E){m.M=1,m.A=Ca(Lt(w)),m.u=E,m.R=!0,Eo(m,null)}function Eo(m,w){m.F=Date.now(),Fi(m),m.B=Lt(m.A);var E=m.B,N=m.S;Array.isArray(N)||(N=[String(N)]),Co(E.i,"t",N),m.C=0,E=m.j.L,m.h=new _i,m.g=Dd(m.j,E?w:null,!m.u),m.P>0&&(m.O=new wn(f(m.Y,m,m.g),m.P)),w=m.V,E=m.g,N=m.ba;var G="readystatechange";Array.isArray(G)||(G&&(ec[0]=G.toString()),G=ec);for(let W=0;W<G.length;W++){const he=Se(E,G[W],N||w.handleEvent,!1,w.h||w);if(!he)break;w.g[he.key]=he}w=m.J?L(m.J):{},m.u?(m.v||(m.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,w)):(m.v="GET",m.g.ea(m.B,m.v,null,w)),ji(),Bm(m.i,m.v,m.B,m.l,m.S,m.u)}bi.prototype.ba=function(m){m=m.target;const w=this.O;w&&Ei(m)==3?w.j():this.Y(m)},bi.prototype.Y=function(m){try{if(m==this.g)e:{const Le=Ei(this.g),Rt=this.g.ya(),et=this.g.ca();if(!(Le<3)&&(Le!=3||this.g&&(this.h.h||this.g.la()||nn(this.g)))){this.K||Le!=4||Rt==7||(Rt==8||et<=0?ji(3):ji(2)),qi(this);var w=this.g.ca();this.X=w;var E=qm(this);if(this.o=w==200,gd(this.i,this.v,this.B,this.l,this.S,Le,w),this.o){if(this.U&&!this.L){t:{if(this.g){var N,G=this.g;if((N=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(N)){var W=N;break t}}W=null}if(m=W)zi(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Hi(this,m);else{this.o=!1,this.m=3,Vt(12),Ln(this),Xn(this);break e}}if(this.R){m=!0;let gt;for(;!this.K&&this.C<E.length;)if(gt=bd(this,E),gt==Wt){Le==4&&(this.m=4,Vt(14),m=!1),zi(this.i,this.l,null,"[Incomplete Response]");break}else if(gt==Pt){this.m=4,Vt(15),zi(this.i,this.l,E,"[Invalid Chunk]"),m=!1;break}else zi(this.i,this.l,gt,null),Hi(this,gt);if(vd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Le!=4||E.length!=0||this.h.h||(this.m=1,Vt(16),m=!1),this.o=this.o&&m,!m)zi(this.i,this.l,E,"[Invalid Chunked Response]"),Ln(this),Xn(this);else if(E.length>0&&!this.W){this.W=!0;var he=this.j;he.g==this&&he.aa&&!he.P&&(he.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),vc(he),he.P=!0,Vt(11))}}else zi(this.i,this.l,E,null),Hi(this,E);Le==4&&Ln(this),this.o&&!this.K&&(Le==4?Rd(this.j,this):(this.o=!1,Fi(this)))}else Sr(this.g),w==400&&E.indexOf("Unknown SID")>0?(this.m=3,Vt(12)):(this.m=0,Vt(13)),Ln(this),Xn(this)}}}catch{}finally{}};function qm(m){if(!vd(m))return m.g.la();const w=nn(m.g);if(w==="")return"";let E="";const N=w.length,G=Ei(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return Ln(m),Xn(m),"";m.h.i=new c.TextDecoder}for(let W=0;W<N;W++)m.h.h=!0,E+=m.h.i.decode(w[W],{stream:!(G&&W==N-1)});return w.length=0,m.h.g+=E,m.C=0,m.h.g}function vd(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function bd(m,w){var E=m.C,N=w.indexOf(`
`,E);return N==-1?Wt:(E=Number(w.substring(E,N)),isNaN(E)?Pt:(N+=1,N+E>w.length?Wt:(w=w.slice(N,N+E),m.C=N+E,w)))}bi.prototype.cancel=function(){this.K=!0,Ln(this)};function Fi(m){m.T=Date.now()+m.H,xo(m,m.H)}function xo(m,w){if(m.D!=null)throw Error("WatchDog timer not null");m.D=Ui(f(m.aa,m),w)}function qi(m){m.D&&(c.clearTimeout(m.D),m.D=null)}bi.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(xa(this.i,this.B),this.M!=2&&(ji(),Vt(17)),Ln(this),this.m=2,Xn(this)):xo(this,this.T-m)};function Xn(m){m.j.I==0||m.K||Rd(m.j,m)}function Ln(m){qi(m);var w=m.O;w&&typeof w.dispose=="function"&&w.dispose(),m.O=null,tc(m.V),m.g&&(w=m.g,m.g=null,w.abort(),w.dispose())}function Hi(m,w){try{var E=m.j;if(E.I!=0&&(E.g==m||Gi(E.h,m))){if(!m.L&&Gi(E.h,m)&&E.I==3){try{var N=E.Ba.g.parse(w)}catch{N=null}if(Array.isArray(N)&&N.length==3){var G=N;if(G[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<m.F)Do(E),vs(E);else break e;Oa(E),Vt(18)}}else E.xa=G[1],0<E.xa-E.K&&G[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Ui(f(E.Va,E),6e3));$i(E.h)<=1&&E.ta&&(E.ta=void 0)}else Zi(E,11)}else if((m.L||E.g==m)&&Do(E),!P(w))for(G=E.Ba.g.parse(w),w=0;w<G.length;w++){let et=G[w];const gt=et[0];if(!(gt<=E.K))if(E.K=gt,et=et[1],E.I==2)if(et[0]=="c"){E.M=et[1],E.ba=et[2];const Jn=et[3];Jn!=null&&(E.ka=Jn,E.j.info("VER="+E.ka));const Ji=et[4];Ji!=null&&(E.za=Ji,E.j.info("SVER="+E.za));const xi=et[5];xi!=null&&typeof xi=="number"&&xi>0&&(N=1.5*xi,E.O=N,E.j.info("backChannelRequestTimeoutMs_="+N)),N=E;const Si=m.g;if(Si){const Va=Si.g?Si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Va){var W=N.h;W.g||Va.indexOf("spdy")==-1&&Va.indexOf("quic")==-1&&Va.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(ac(W,W.h),W.h=null))}if(N.G){const Mo=Si.g?Si.g.getResponseHeader("X-HTTP-Session-Id"):null;Mo&&(N.wa=Mo,it(N.J,N.G,Mo))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-m.F,E.j.info("Handshake RTT: "+E.T+"ms")),N=E;var he=m;if(N.na=kd(N,N.L?N.ba:null,N.W),he.L){oc(N.h,he);var Le=he,Rt=N.O;Rt&&(Le.H=Rt),Le.D&&(qi(Le),Fi(Le)),N.g=he}else Ad(N);E.i.length>0&&Wi(E)}else et[0]!="stop"&&et[0]!="close"||Zi(E,7);else E.I==3&&(et[0]=="stop"||et[0]=="close"?et[0]=="stop"?Zi(E,7):gc(E):et[0]!="noop"&&E.l&&E.l.qa(et),E.A=0)}}ji(4)}catch{}}var jt=class{constructor(m,w){this.g=m,this.map=w}};function rc(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function sc(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function $i(m){return m.h?1:m.g?m.g.size:0}function Gi(m,w){return m.h?m.h==w:m.g?m.g.has(w):!1}function ac(m,w){m.g?m.g.add(w):m.h=w}function oc(m,w){m.h&&m.h==w?m.h=null:m.g&&m.g.has(w)&&m.g.delete(w)}rc.prototype.cancel=function(){if(this.i=lc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function lc(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let w=m.i;for(const E of m.g.values())w=w.concat(E.G);return w}return x(m.i)}var _d=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function So(m,w){if(m){m=m.split("&");for(let E=0;E<m.length;E++){const N=m[E].indexOf("=");let G,W=null;N>=0?(G=m[E].substring(0,N),W=m[E].substring(N+1)):G=m[E],w(G,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Un(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;m instanceof Un?(this.l=m.l,Zt(this,m.j),this.o=m.o,this.g=m.g,ds(this,m.u),this.h=m.h,cc(this,xd(m.i)),this.m=m.m):m&&(w=String(m).match(_d))?(this.l=!1,Zt(this,w[1]||"",!0),this.o=Ki(w[2]||""),this.g=Ki(w[3]||"",!0),ds(this,w[4]),this.h=Ki(w[5]||"",!0),cc(this,w[6]||"",!0),this.m=Ki(w[7]||"")):(this.l=!1,this.i=new fs(null,this.l))}Un.prototype.toString=function(){const m=[];var w=this.j;w&&m.push(Ra(w,Ao,!0),":");var E=this.g;return(E||w=="file")&&(m.push("//"),(w=this.o)&&m.push(Ra(w,Ao,!0),"@"),m.push(Er(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&m.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&m.push("/"),m.push(Ra(E,E.charAt(0)=="/"?uc:wd,!0))),(E=this.i.toString())&&m.push("?",E),(E=this.m)&&m.push("#",Ra(E,Td)),m.join("")},Un.prototype.resolve=function(m){const w=Lt(this);let E=!!m.j;E?Zt(w,m.j):E=!!m.o,E?w.o=m.o:E=!!m.g,E?w.g=m.g:E=m.u!=null;var N=m.h;if(E)ds(w,m.u);else if(E=!!m.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var G=w.h.lastIndexOf("/");G!=-1&&(N=w.h.slice(0,G+1)+N)}if(G=N,G==".."||G==".")N="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){N=G.lastIndexOf("/",0)==0,G=G.split("/");const W=[];for(let he=0;he<G.length;){const Le=G[he++];Le=="."?N&&he==G.length&&W.push(""):Le==".."?((W.length>1||W.length==1&&W[0]!="")&&W.pop(),N&&he==G.length&&W.push("")):(W.push(Le),N=!0)}N=W.join("/")}else N=G}return E?w.h=N:E=m.i.toString()!=="",E?cc(w,xd(m.i)):E=!!m.m,E&&(w.m=m.m),w};function Lt(m){return new Un(m)}function Zt(m,w,E){m.j=E?Ki(w,!0):w,m.j&&(m.j=m.j.replace(/:$/,""))}function ds(m,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);m.u=w}else m.u=null}function cc(m,w,E){w instanceof fs?(m.i=w,Ro(m.i,m.l)):(E||(w=Ra(w,hs)),m.i=new fs(w,m.l))}function it(m,w,E){m.i.set(w,E)}function Ca(m){return it(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function Ki(m,w){return m?w?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Ra(m,w,E){return typeof m=="string"?(m=encodeURI(m).replace(w,Sn),E&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Sn(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Ao=/[#\/\?@]/g,wd=/[#\?:]/g,uc=/[#\?]/g,hs=/[#\?@]/g,Td=/#/g;function fs(m,w){this.h=this.g=null,this.i=m||null,this.j=!!w}function An(m){m.g||(m.g=new Map,m.h=0,m.i&&So(m.i,function(w,E){m.add(decodeURIComponent(w.replace(/\+/g," ")),E)}))}t=fs.prototype,t.add=function(m,w){An(this),this.i=null,m=ms(this,m);let E=this.g.get(m);return E||this.g.set(m,E=[]),E.push(w),this.h+=1,this};function Ed(m,w){An(m),w=ms(m,w),m.g.has(w)&&(m.i=null,m.h-=m.g.get(w).length,m.g.delete(w))}function dc(m,w){return An(m),w=ms(m,w),m.g.has(w)}t.forEach=function(m,w){An(this),this.g.forEach(function(E,N){E.forEach(function(G){m.call(w,G,N,this)},this)},this)};function hc(m,w){An(m);let E=[];if(typeof w=="string")dc(m,w)&&(E=E.concat(m.g.get(ms(m,w))));else for(m=Array.from(m.g.values()),w=0;w<m.length;w++)E=E.concat(m[w]);return E}t.set=function(m,w){return An(this),this.i=null,m=ms(this,m),dc(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[w]),this.h+=1,this},t.get=function(m,w){return m?(m=hc(this,m),m.length>0?String(m[0]):w):w};function Co(m,w,E){Ed(m,w),E.length>0&&(m.i=null,m.g.set(ms(m,w),x(E)),m.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],w=Array.from(this.g.keys());for(let N=0;N<w.length;N++){var E=w[N];const G=Er(E);E=hc(this,E);for(let W=0;W<E.length;W++){let he=G;E[W]!==""&&(he+="="+Er(E[W])),m.push(he)}}return this.i=m.join("&")};function xd(m){const w=new fs;return w.i=m.i,m.g&&(w.g=new Map(m.g),w.h=m.h),w}function ms(m,w){return w=String(w),m.j&&(w=w.toLowerCase()),w}function Ro(m,w){w&&!m.j&&(An(m),m.i=null,m.g.forEach(function(E,N){const G=N.toLowerCase();N!=G&&(Ed(this,N),Co(this,G,E))},m)),m.j=w}function wi(m,w){const E=new vi;if(c.Image){const N=new Image;N.onload=g(Wn,E,"TestLoadImage: loaded",!0,w,N),N.onerror=g(Wn,E,"TestLoadImage: error",!1,w,N),N.onabort=g(Wn,E,"TestLoadImage: abort",!1,w,N),N.ontimeout=g(Wn,E,"TestLoadImage: timeout",!1,w,N),c.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=m}else w(!1)}function fc(m,w){const E=new vi,N=new AbortController,G=setTimeout(()=>{N.abort(),Wn(E,"TestPingServer: timeout",!1,w)},1e4);fetch(m,{signal:N.signal}).then(W=>{clearTimeout(G),W.ok?Wn(E,"TestPingServer: ok",!0,w):Wn(E,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(G),Wn(E,"TestPingServer: error",!1,w)})}function Wn(m,w,E,N,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),N(E)}catch{}}function ps(){this.g=new dd}function Yi(m){this.i=m.Sb||null,this.h=m.ab||!1}v(Yi,hd),Yi.prototype.g=function(){return new Na(this.i,this.h)};function Na(m,w){Ot.call(this),this.H=m,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(Na,Ot),t=Na.prototype,t.open=function(m,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=w,this.readyState=1,Ti(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(w.body=m),(this.H||c).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,gs(this)),this.readyState=0},t.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Ti(this)),this.g&&(this.readyState=3,Ti(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;No(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function No(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}t.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var w=m.value?m.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!m.done}))&&(this.response=this.responseText+=w)}m.done?gs(this):Ti(this),this.readyState==3&&No(this)}},t.Oa=function(m){this.g&&(this.response=this.responseText=m,gs(this))},t.Na=function(m){this.g&&(this.response=m,gs(this))},t.ga=function(){this.g&&gs(this)};function gs(m){m.readyState=4,m.l=null,m.j=null,m.B=null,Ti(m)}t.setRequestHeader=function(m,w){this.A.append(m,w)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],w=this.h.entries();for(var E=w.next();!E.done;)E=E.value,m.push(E[0]+": "+E[1]),E=w.next();return m.join(`\r
`)};function Ti(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Na.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Zn(m){let w="";return Ae(m,function(E,N){w+=N,w+=":",w+=E,w+=`\r
`}),w}function Ia(m,w,E){e:{for(N in E){var N=!1;break e}N=!0}N||(E=Zn(E),typeof m=="string"?E!=null&&Er(E):it(m,w,E))}function at(m){Ot.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(at,Ot);var Qi=/^https?$/i,mc=["POST","PUT"];t=at.prototype,t.Fa=function(m){this.H=m},t.ea=function(m,w,E,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);w=w?w.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ic.g(),this.g.onreadystatechange=_(f(this.Ca,this));try{this.B=!0,this.g.open(w,String(m),!0),this.B=!1}catch(W){ka(this,W);return}if(m=E||"",E=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var G in N)E.set(G,N[G]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const W of N.keys())E.set(W,N.get(W));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(E.keys()).find(W=>W.toLowerCase()=="content-type"),G=c.FormData&&m instanceof c.FormData,!(Array.prototype.indexOf.call(mc,w,void 0)>=0)||N||G||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,he]of E)this.g.setRequestHeader(W,he);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(W){ka(this,W)}};function ka(m,w){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=w,m.o=5,pc(m),xr(m)}function pc(m){m.A||(m.A=!0,Kt(m,"complete"),Kt(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,Kt(this,"complete"),Kt(this,"abort"),xr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xr(this,!0)),at.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Da(this):this.Xa())},t.Xa=function(){Da(this)};function Da(m){if(m.h&&typeof o<"u"){if(m.v&&Ei(m)==4)setTimeout(m.Ca.bind(m),0);else if(Kt(m,"readystatechange"),Ei(m)==4){m.h=!1;try{const W=m.ca();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var E;if(!(E=w)){var N;if(N=W===0){let he=String(m.D).match(_d)[1]||null;!he&&c.self&&c.self.location&&(he=c.self.location.protocol.slice(0,-1)),N=!Qi.test(he?he.toLowerCase():"")}E=N}if(E)Kt(m,"complete"),Kt(m,"success");else{m.o=6;try{var G=Ei(m)>2?m.g.statusText:""}catch{G=""}m.l=G+" ["+m.ca()+"]",pc(m)}}finally{xr(m)}}}}function xr(m,w){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const E=m.g;m.g=null,w||Kt(m,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ei(m){return m.g?m.g.readyState:0}t.ca=function(){try{return Ei(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(m){if(this.g){var w=this.g.responseText;return m&&w.indexOf(m)==0&&(w=w.substring(m.length)),zm(w)}};function nn(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Sr(m){const w={};m=(m.g&&Ei(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<m.length;N++){if(P(m[N]))continue;var E=yd(m[N]);const G=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const W=w[G]||[];w[G]=W,W.push(E)}oe(w,function(N){return N.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xi(m,w,E){return E&&E.internalChannelParams&&E.internalChannelParams[m]||w}function ys(m){this.za=0,this.i=[],this.j=new vi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Xi("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Xi("baseRetryDelayMs",5e3,m),this.Za=Xi("retryDelaySeedMs",1e4,m),this.Ta=Xi("forwardChannelMaxRetries",2,m),this.va=Xi("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new rc(m&&m.concurrentRequestLimit),this.Ba=new ps,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ys.prototype,t.ka=8,t.I=1,t.connect=function(m,w,E,N){Vt(0),this.W=m,this.H=w||{},E&&N!==void 0&&(this.H.OSID=E,this.H.OAID=N),this.F=this.X,this.J=kd(this,null,this.W),Wi(this)};function gc(m){if(Io(m),m.I==3){var w=m.V++,E=Lt(m.J);if(it(E,"SID",m.M),it(E,"RID",w),it(E,"TYPE","terminate"),Ma(m,E),w=new bi(m,m.j,w),w.M=2,w.A=Ca(Lt(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(w.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=w.A,E=!0),E||(w.g=Dd(w.j,null),w.g.ea(w.A)),w.F=Date.now(),Fi(w)}Id(m)}function vs(m){m.g&&(vc(m),m.g.cancel(),m.g=null)}function Io(m){vs(m),m.v&&(c.clearTimeout(m.v),m.v=null),Do(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&c.clearTimeout(m.m),m.m=null)}function Wi(m){if(!sc(m.h)&&!m.m){m.m=!0;var w=m.Ea;ne||R(),ee||(ne(),ee=!0),S.add(w,m),m.D=0}}function ko(m,w){return $i(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=w.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=Ui(f(m.Ea,m,w),Nd(m,m.D)),m.D++,!0)}t.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const G=new bi(this,this.j,m);let W=this.o;if(this.U&&(W?(W=L(W),ue(W,this.U)):W=this.U),this.u!==null||this.R||(G.J=W,W=null),this.S)e:{for(var w=0,E=0;E<this.i.length;E++){t:{var N=this.i[E];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(w+=N,w>4096){w=E;break e}if(w===4096||E===this.i.length-1){w=E+1;break e}}w=1e3}else w=1e3;w=Sd(this,G,w),E=Lt(this.J),it(E,"RID",m),it(E,"CVER",22),this.G&&it(E,"X-HTTP-Session-Id",this.G),Ma(this,E),W&&(this.R?w="headers="+Er(Zn(W))+"&"+w:this.u&&Ia(E,this.u,W)),ac(this.h,G),this.Ra&&it(E,"TYPE","init"),this.S?(it(E,"$req",w),it(E,"SID","null"),G.U=!0,Bi(G,E,null)):Bi(G,E,w),this.I=2}}else this.I==3&&(m?yc(this,m):this.i.length==0||sc(this.h)||yc(this))};function yc(m,w){var E;w?E=w.l:E=m.V++;const N=Lt(m.J);it(N,"SID",m.M),it(N,"RID",E),it(N,"AID",m.K),Ma(m,N),m.u&&m.o&&Ia(N,m.u,m.o),E=new bi(m,m.j,E,m.D+1),m.u===null&&(E.J=m.o),w&&(m.i=w.G.concat(m.i)),w=Sd(m,E,1e3),E.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),ac(m.h,E),Bi(E,N,w)}function Ma(m,w){m.H&&Ae(m.H,function(E,N){it(w,N,E)}),m.l&&Ae({},function(E,N){it(w,N,E)})}function Sd(m,w,E){E=Math.min(m.i.length,E);const N=m.l?f(m.l.Ka,m.l,m):null;e:{var G=m.i;let Le=-1;for(;;){const Rt=["count="+E];Le==-1?E>0?(Le=G[0].g,Rt.push("ofs="+Le)):Le=0:Rt.push("ofs="+Le);let et=!0;for(let gt=0;gt<E;gt++){var W=G[gt].g;const Jn=G[gt].map;if(W-=Le,W<0)Le=Math.max(0,G[gt].g-100),et=!1;else try{W="req"+W+"_"||"";try{var he=Jn instanceof Map?Jn:Object.entries(Jn);for(const[Ji,xi]of he){let Si=xi;d(xi)&&(Si=us(xi)),Rt.push(W+Ji+"="+encodeURIComponent(Si))}}catch(Ji){throw Rt.push(W+"type="+encodeURIComponent("_badmap")),Ji}}catch{N&&N(Jn)}}if(et){he=Rt.join("&");break e}}he=void 0}return m=m.i.splice(0,E),w.G=m,he}function Ad(m){if(!m.g&&!m.v){m.Y=1;var w=m.Da;ne||R(),ee||(ne(),ee=!0),S.add(w,m),m.A=0}}function Oa(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=Ui(f(m.Da,m),Nd(m,m.A)),m.A++,!0)}t.Da=function(){if(this.v=null,Cd(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=Ui(f(this.Wa,this),m)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Vt(10),vs(this),Cd(this))};function vc(m){m.B!=null&&(c.clearTimeout(m.B),m.B=null)}function Cd(m){m.g=new bi(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var w=Lt(m.na);it(w,"RID","rpc"),it(w,"SID",m.M),it(w,"AID",m.K),it(w,"CI",m.F?"0":"1"),!m.F&&m.ia&&it(w,"TO",m.ia),it(w,"TYPE","xmlhttp"),Ma(m,w),m.u&&m.o&&Ia(w,m.u,m.o),m.O&&(m.g.H=m.O);var E=m.g;m=m.ba,E.M=1,E.A=Ca(Lt(w)),E.u=null,E.R=!0,Eo(E,m)}t.Va=function(){this.C!=null&&(this.C=null,vs(this),Oa(this),Vt(19))};function Do(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function Rd(m,w){var E=null;if(m.g==w){Do(m),vc(m),m.g=null;var N=2}else if(Gi(m.h,w))E=w.G,oc(m.h,w),N=1;else return;if(m.I!=0){if(w.o)if(N==1){E=w.u?w.u.length:0,w=Date.now()-w.F;var G=m.D;N=To(),Kt(N,new Li(N,E)),Wi(m)}else Ad(m);else if(G=w.m,G==3||G==0&&w.X>0||!(N==1&&ko(m,w)||N==2&&Oa(m)))switch(E&&E.length>0&&(w=m.h,w.i=w.i.concat(E)),G){case 1:Zi(m,5);break;case 4:Zi(m,10);break;case 3:Zi(m,6);break;default:Zi(m,2)}}}function Nd(m,w){let E=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(E*=2),E*w}function Zi(m,w){if(m.j.info("Error code "+w),w==2){var E=f(m.bb,m),N=m.Ua;const G=!N;N=new Un(N||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Zt(N,"https"),Ca(N),G?wi(N.toString(),E):fc(N.toString(),E)}else Vt(2);m.I=0,m.l&&m.l.pa(w),Id(m),Io(m)}t.bb=function(m){m?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function Id(m){if(m.I=0,m.ja=[],m.l){const w=lc(m.h);(w.length!=0||m.i.length!=0)&&(k(m.ja,w),k(m.ja,m.i),m.h.i.length=0,x(m.i),m.i.length=0),m.l.oa()}}function kd(m,w,E){var N=E instanceof Un?Lt(E):new Un(E);if(N.g!="")w&&(N.g=w+"."+N.g),ds(N,N.u);else{var G=c.location;N=G.protocol,w=w?w+"."+G.hostname:G.hostname,G=+G.port;const W=new Un(null);N&&Zt(W,N),w&&(W.g=w),G&&ds(W,G),E&&(W.h=E),N=W}return E=m.G,w=m.wa,E&&w&&it(N,E,w),it(N,"VER",m.ka),Ma(m,N),N}function Dd(m,w,E){if(w&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=m.Aa&&!m.ma?new at(new Yi({ab:E})):new at(m.ma),w.Fa(m.L),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Md(){}t=Md.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function bs(){}bs.prototype.g=function(m,w){return new Tn(m,w)};function Tn(m,w){Ot.call(this),this.g=new ys(w),this.l=m,this.h=w&&w.messageUrlParams||null,m=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(m?m["X-WebChannel-Content-Type"]=w.messageContentType:m={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(m?m["X-WebChannel-Client-Profile"]=w.sa:m={"X-WebChannel-Client-Profile":w.sa}),this.g.U=m,(m=w&&w.Qb)&&!P(m)&&(this.g.u=m),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!P(w)&&(this.g.G=w,m=this.h,m!==null&&w in m&&(m=this.h,w in m&&delete m[w])),this.j=new Ar(this)}v(Tn,Ot),Tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){gc(this.g)},Tn.prototype.o=function(m){var w=this.g;if(typeof m=="string"){var E={};E.__data__=m,m=E}else this.v&&(E={},E.__data__=us(m),m=E);w.i.push(new jt(w.Ya++,m)),w.I==3&&Wi(w)},Tn.prototype.N=function(){this.g.l=null,delete this.j,gc(this.g),delete this.g,Tn.Z.N.call(this)};function Od(m){tn.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var w=m.__sm__;if(w){e:{for(const E in w){m=E;break e}m=void 0}(this.i=m)&&(m=this.i,w=w!==null&&m in w?w[m]:void 0),this.data=w}else this.data=m}v(Od,tn);function Vd(){Qn.call(this),this.status=1}v(Vd,Qn);function Ar(m){this.g=m}v(Ar,Md),Ar.prototype.ra=function(){Kt(this.g,"a")},Ar.prototype.qa=function(m){Kt(this.g,new Od(m))},Ar.prototype.pa=function(m){Kt(this.g,new Vd)},Ar.prototype.oa=function(){Kt(this.g,"b")},bs.prototype.createWebChannel=bs.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,DA=function(){return new bs},kA=function(){return To()},IA=Ct,U0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Sa.NO_ERROR=0,Sa.TIMEOUT=8,Sa.HTTP_ERROR=6,uf=Sa,nc.COMPLETE="complete",NA=nc,fd.EventType=yi,yi.OPEN="a",yi.CLOSE="b",yi.ERROR="c",yi.MESSAGE="d",Ot.prototype.listen=Ot.prototype.J,lu=fd,at.prototype.listenOnce=at.prototype.K,at.prototype.getLastError=at.prototype.Ha,at.prototype.getLastErrorCode=at.prototype.ya,at.prototype.getStatus=at.prototype.ca,at.prototype.getResponseJson=at.prototype.La,at.prototype.getResponseText=at.prototype.la,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Fa,RA=at}).apply(typeof Fh<"u"?Fh:typeof self<"u"?self:typeof window<"u"?window:{});const jT="@firebase/firestore",LT="4.9.2";class pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");let ql="12.3.0";const mo=new My("@firebase/firestore");function cl(){return mo.logLevel}function ye(t,...e){if(mo.logLevel<=Ge.DEBUG){const n=e.map(Hy);mo.debug(`Firestore (${ql}): ${t}`,...n)}}function es(t,...e){if(mo.logLevel<=Ge.ERROR){const n=e.map(Hy);mo.error(`Firestore (${ql}): ${t}`,...n)}}function Il(t,...e){if(mo.logLevel<=Ge.WARN){const n=e.map(Hy);mo.warn(`Firestore (${ql}): ${t}`,...n)}}function Hy(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function ke(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,MA(t,i,n)}function MA(t,e,n){let i=`FIRESTORE (${ql}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw es(i),new Error(i)}function nt(t,e,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,t||MA(e,a,i)}function Pe(t,e){return t}const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends as{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Xr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class OA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class E5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(pn.UNAUTHENTICATED)))}shutdown(){}}class x5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class S5{constructor(e){this.t=e,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){nt(this.o===void 0,42304);let i=this.i;const a=h=>this.i!==i?(i=this.i,n(h)):Promise.resolve();let o=new Xr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Xr,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const h=o;e.enqueueRetryable((async()=>{await h.promise,await a(this.currentUser)}))},d=h=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((h=>d(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?d(h):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Xr)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(nt(typeof i.accessToken=="string",31837,{l:i}),new OA(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string",2055,{h:e}),new pn(e)}}class A5{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class C5{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new A5(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(pn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class UT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class R5{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,di(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){nt(this.o===void 0,3512);const i=o=>{o.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,ye("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>i(o)))};const a=o=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new UT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(nt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new UT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function N5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}class $y{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=N5(40);for(let o=0;o<a.length;++o)i.length<20&&a[o]<n&&(i+=e.charAt(a[o]%62))}return i}}function Ke(t,e){return t<e?-1:t>e?1:0}function z0(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const a=t.charAt(i),o=e.charAt(i);if(a!==o)return Zg(a)===Zg(o)?Ke(a,o):Zg(a)?1:-1}return Ke(t.length,e.length)}const I5=55296,k5=57343;function Zg(t){const e=t.charCodeAt(0);return e>=I5&&e<=k5}function kl(t,e,n){return t.length===e.length&&t.every(((i,a)=>n(i,e[a])))}const zT="__name__";class sr{constructor(e,n,i){n===void 0?n=0:n>e.length&&ke(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&ke(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return sr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof sr?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const o=sr.compareSegments(e.get(a),n.get(a));if(o!==0)return o}return Ke(e.length,n.length)}static compareSegments(e,n){const i=sr.isNumericId(e),a=sr.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?sr.extractNumericId(e).compare(sr.extractNumericId(n)):z0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ia.fromString(e.substring(4,e.length-2))}}class ht extends sr{construct(e,n,i){return new ht(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new me(re.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((a=>a.length>0)))}return new ht(n)}static emptyPath(){return new ht([])}}const D5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends sr{construct(e,n,i){return new un(e,n,i)}static isValidIdentifier(e){return D5.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zT}static keyField(){return new un([zT])}static fromServerFormat(e){const n=[];let i="",a=0;const o=()=>{if(i.length===0)throw new me(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new me(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[a+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new me(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(i+=d,a++):(o(),a++)}if(o(),c)throw new me(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(n)}static emptyPath(){return new un([])}}class xe{constructor(e){this.path=e}static fromPath(e){return new xe(ht.fromString(e))}static fromName(e){return new xe(ht.fromString(e).popFirst(5))}static empty(){return new xe(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ht.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new ht(e.slice()))}}function VA(t,e,n){if(!n)throw new me(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function M5(t,e,n,i){if(e===!0&&i===!0)throw new me(re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function BT(t){if(!xe.isDocumentKey(t))throw new me(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function FT(t){if(xe.isDocumentKey(t))throw new me(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function PA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function lm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ke(12329,{type:typeof t})}function Vn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new me(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lm(t);throw new me(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Gt(t,e){const n={typeString:t};return e&&(n.value=e),n}function ed(t,e){if(!PA(t))throw new me(re.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const a=e[i].typeString,o="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const c=t[i];if(a&&typeof c!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(o!==void 0&&c!==o.value){n=`Expected '${i}' field to equal '${o.value}'`;break}}if(n)throw new me(re.INVALID_ARGUMENT,n);return!0}const qT=-62135596800,HT=1e6;class Je{static now(){return Je.fromMillis(Date.now())}static fromDate(e){return Je.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*HT);return new Je(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<qT)throw new me(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/HT}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Je._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ed(e,Je._jsonSchema))return new Je(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-qT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Je._jsonSchemaVersion="firestore/timestamp/1.0",Je._jsonSchema={type:Gt("string",Je._jsonSchemaVersion),seconds:Gt("number"),nanoseconds:Gt("number")};class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new Je(0,0))}static max(){return new Oe(new Je(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Nu=-1;function O5(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=Oe.fromTimestamp(i===1e9?new Je(n+1,0):new Je(n,i));return new aa(a,xe.empty(),e)}function V5(t){return new aa(t.readTime,t.key,Nu)}class aa{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new aa(Oe.min(),xe.empty(),Nu)}static max(){return new aa(Oe.max(),xe.empty(),Nu)}}function P5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=xe.comparator(t.documentKey,e.documentKey),n!==0?n:Ke(t.largestBatchId,e.largestBatchId))}const j5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class L5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Hl(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==j5)throw t;ye("LocalStore","Unexpectedly lost primary lease")}class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae(((i,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,a)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.reject(n)}static resolve(e){return new ae(((n,i)=>{n(e)}))}static reject(e){return new ae(((n,i)=>{i(e)}))}static waitFor(e){return new ae(((n,i)=>{let a=0,o=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++o,c&&o===a&&n()}),(h=>i(h)))})),c=!0,o===a&&n()}))}static or(e){let n=ae.resolve(!1);for(const i of e)n=n.next((a=>a?ae.resolve(a):i()));return n}static forEach(e,n){const i=[];return e.forEach(((a,o)=>{i.push(n.call(this,a,o))})),this.waitFor(i)}static mapArray(e,n){return new ae(((i,a)=>{const o=e.length,c=new Array(o);let d=0;for(let h=0;h<o;h++){const f=h;n(e[f]).next((g=>{c[f]=g,++d,d===o&&i(c)}),(g=>a(g)))}}))}static doWhile(e,n){return new ae(((i,a)=>{const o=()=>{e()===!0?n().next((()=>{o()}),a):i()};o()}))}}function U5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $l(t){return t.name==="IndexedDbTransactionError"}class cm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}cm.ce=-1;const Gy=-1;function um(t){return t==null}function Mf(t){return t===0&&1/t==-1/0}function z5(t){return typeof t=="number"&&Number.isInteger(t)&&!Mf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const jA="";function B5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=$T(e)),e=F5(t.get(n),e);return $T(e)}function F5(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const o=t.charAt(a);switch(o){case"\0":n+="";break;case jA:n+="";break;default:n+=o}}return n}function $T(t){return t+jA+""}function GT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function va(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function LA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Tt{constructor(e,n){this.comparator=e,this.root=n||cn.EMPTY}insert(e,n){return new Tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(e){return new Tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qh(this.root,e,this.comparator,!1)}getReverseIterator(){return new qh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qh(this.root,e,this.comparator,!0)}}class qh{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cn{constructor(e,n,i,a,o){this.key=e,this.value=n,this.color=i??cn.RED,this.left=a??cn.EMPTY,this.right=o??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,o){return new cn(e??this.key,n??this.value,i??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const o=i(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,n,i),null):o===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return cn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ke(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ke(27949);return e+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw ke(57766)}get value(){throw ke(16141)}get color(){throw ke(16727)}get left(){throw ke(29726)}get right(){throw ke(36894)}copy(e,n,i,a,o){return this}insert(e,n,i){return new cn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xt{constructor(e){this.comparator=e,this.data=new Tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new KT(this.data.getIterator())}getIteratorFrom(e){return new KT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=i.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Xt(this.comparator);return n.data=e,n}}class KT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Kn{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new Kn([])}unionWith(e){let n=new Xt(un.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Kn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return kl(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}class UA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class hn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new UA("Invalid base64 string: "+o):o}})(e);return new hn(n)}static fromUint8Array(e){const n=(function(a){let o="";for(let c=0;c<a.length;++c)o+=String.fromCharCode(a[c]);return o})(e);return new hn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hn.EMPTY_BYTE_STRING=new hn("");const q5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oa(t){if(nt(!!t,39018),typeof t=="string"){let e=0;const n=q5.exec(t);if(nt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Dt(t.seconds),nanos:Dt(t.nanos)}}function Dt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function la(t){return typeof t=="string"?hn.fromBase64String(t):hn.fromUint8Array(t)}const zA="server_timestamp",BA="__type__",FA="__previous_value__",qA="__local_write_time__";function Ky(t){return(t?.mapValue?.fields||{})[BA]?.stringValue===zA}function dm(t){const e=t.mapValue.fields[FA];return Ky(e)?dm(e):e}function Iu(t){const e=oa(t.mapValue.fields[qA].timestampValue);return new Je(e.seconds,e.nanos)}class H5{constructor(e,n,i,a,o,c,d,h,f,g){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=h,this.useFetchStreams=f,this.isUsingEmulator=g}}const Of="(default)";class ku{constructor(e,n){this.projectId=e,this.database=n||Of}static empty(){return new ku("","")}get isDefaultDatabase(){return this.database===Of}isEqual(e){return e instanceof ku&&e.projectId===this.projectId&&e.database===this.database}}const HA="__type__",$5="__max__",Hh={mapValue:{}},$A="__vector__",Vf="value";function ca(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ky(t)?4:K5(t)?9007199254740991:G5(t)?10:11:ke(28295,{value:t})}function br(t,e){if(t===e)return!0;const n=ca(t);if(n!==ca(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Iu(t).isEqual(Iu(e));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const c=oa(a.timestampValue),d=oa(o.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,o){return la(a.bytesValue).isEqual(la(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,o){return Dt(a.geoPointValue.latitude)===Dt(o.geoPointValue.latitude)&&Dt(a.geoPointValue.longitude)===Dt(o.geoPointValue.longitude)})(t,e);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return Dt(a.integerValue)===Dt(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const c=Dt(a.doubleValue),d=Dt(o.doubleValue);return c===d?Mf(c)===Mf(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return kl(t.arrayValue.values||[],e.arrayValue.values||[],br);case 10:case 11:return(function(a,o){const c=a.mapValue.fields||{},d=o.mapValue.fields||{};if(GT(c)!==GT(d))return!1;for(const h in c)if(c.hasOwnProperty(h)&&(d[h]===void 0||!br(c[h],d[h])))return!1;return!0})(t,e);default:return ke(52216,{left:t})}}function Du(t,e){return(t.values||[]).find((n=>br(n,e)))!==void 0}function Dl(t,e){if(t===e)return 0;const n=ca(t),i=ca(e);if(n!==i)return Ke(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ke(t.booleanValue,e.booleanValue);case 2:return(function(o,c){const d=Dt(o.integerValue||o.doubleValue),h=Dt(c.integerValue||c.doubleValue);return d<h?-1:d>h?1:d===h?0:isNaN(d)?isNaN(h)?0:-1:1})(t,e);case 3:return YT(t.timestampValue,e.timestampValue);case 4:return YT(Iu(t),Iu(e));case 5:return z0(t.stringValue,e.stringValue);case 6:return(function(o,c){const d=la(o),h=la(c);return d.compareTo(h)})(t.bytesValue,e.bytesValue);case 7:return(function(o,c){const d=o.split("/"),h=c.split("/");for(let f=0;f<d.length&&f<h.length;f++){const g=Ke(d[f],h[f]);if(g!==0)return g}return Ke(d.length,h.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,c){const d=Ke(Dt(o.latitude),Dt(c.latitude));return d!==0?d:Ke(Dt(o.longitude),Dt(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return QT(t.arrayValue,e.arrayValue);case 10:return(function(o,c){const d=o.fields||{},h=c.fields||{},f=d[Vf]?.arrayValue,g=h[Vf]?.arrayValue,v=Ke(f?.values?.length||0,g?.values?.length||0);return v!==0?v:QT(f,g)})(t.mapValue,e.mapValue);case 11:return(function(o,c){if(o===Hh.mapValue&&c===Hh.mapValue)return 0;if(o===Hh.mapValue)return 1;if(c===Hh.mapValue)return-1;const d=o.fields||{},h=Object.keys(d),f=c.fields||{},g=Object.keys(f);h.sort(),g.sort();for(let v=0;v<h.length&&v<g.length;++v){const _=z0(h[v],g[v]);if(_!==0)return _;const x=Dl(d[h[v]],f[g[v]]);if(x!==0)return x}return Ke(h.length,g.length)})(t.mapValue,e.mapValue);default:throw ke(23264,{he:n})}}function YT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ke(t,e);const n=oa(t),i=oa(e),a=Ke(n.seconds,i.seconds);return a!==0?a:Ke(n.nanos,i.nanos)}function QT(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const o=Dl(n[a],i[a]);if(o)return o}return Ke(n.length,i.length)}function Ml(t){return B0(t)}function B0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=oa(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return la(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return xe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",a=!0;for(const o of n.values||[])a?a=!1:i+=",",i+=B0(o);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let a="{",o=!0;for(const c of i)o?o=!1:a+=",",a+=`${c}:${B0(n.fields[c])}`;return a+"}"})(t.mapValue):ke(61005,{value:t})}function df(t){switch(ca(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=dm(t);return e?16+df(e):16;case 5:return 2*t.stringValue.length;case 6:return la(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,o)=>a+df(o)),0)})(t.arrayValue);case 10:case 11:return(function(i){let a=0;return va(i.fields,((o,c)=>{a+=o.length+df(c)})),a})(t.mapValue);default:throw ke(13486,{value:t})}}function XT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function F0(t){return!!t&&"integerValue"in t}function Yy(t){return!!t&&"arrayValue"in t}function WT(t){return!!t&&"nullValue"in t}function ZT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function hf(t){return!!t&&"mapValue"in t}function G5(t){return(t?.mapValue?.fields||{})[HA]?.stringValue===$A}function pu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return va(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=pu(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=pu(t.arrayValue.values[n]);return e}return{...t}}function K5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===$5}class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!hf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=pu(n)}setAll(e){let n=un.emptyPath(),i={},a=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const h=this.getFieldsMap(n);this.applyChanges(h,i,a),i={},a=[],n=d.popLast()}c?i[d.lastSegment()]=pu(c):a.push(d.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,i,a)}delete(e){const n=this.field(e.popLast());hf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return br(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];hf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){va(n,((a,o)=>e[a]=o));for(const a of i)delete e[a]}clone(){return new Mn(pu(this.value))}}function GA(t){const e=[];return va(t.fields,((n,i)=>{const a=new un([n]);if(hf(i)){const o=GA(i.mapValue).fields;if(o.length===0)e.push(a);else for(const c of o)e.push(a.child(c))}else e.push(a)})),new Kn(e)}class gn{constructor(e,n,i,a,o,c,d){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=o,this.data=c,this.documentState=d}static newInvalidDocument(e){return new gn(e,0,Oe.min(),Oe.min(),Oe.min(),Mn.empty(),0)}static newFoundDocument(e,n,i,a){return new gn(e,1,n,Oe.min(),i,a,0)}static newNoDocument(e,n){return new gn(e,2,n,Oe.min(),Oe.min(),Mn.empty(),0)}static newUnknownDocument(e,n){return new gn(e,3,n,Oe.min(),Oe.min(),Mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Pf{constructor(e,n){this.position=e,this.inclusive=n}}function JT(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const o=e[a],c=t.position[a];if(o.field.isKeyField()?i=xe.comparator(xe.fromName(c.referenceValue),n.key):i=Dl(c,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function eE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!br(t.position[n],e.position[n]))return!1;return!0}class Mu{constructor(e,n="asc"){this.field=e,this.dir=n}}function Y5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class KA{}class $t extends KA{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new X5(e,n,i):n==="array-contains"?new J5(e,i):n==="in"?new eP(e,i):n==="not-in"?new tP(e,i):n==="array-contains-any"?new nP(e,i):new $t(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new W5(e,i):new Z5(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Dl(n,this.value)):n!==null&&ca(this.value)===ca(n)&&this.matchesComparison(Dl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vi extends KA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Vi(e,n)}matches(e){return YA(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function YA(t){return t.op==="and"}function QA(t){return Q5(t)&&YA(t)}function Q5(t){for(const e of t.filters)if(e instanceof Vi)return!1;return!0}function q0(t){if(t instanceof $t)return t.field.canonicalString()+t.op.toString()+Ml(t.value);if(QA(t))return t.filters.map((e=>q0(e))).join(",");{const e=t.filters.map((n=>q0(n))).join(",");return`${t.op}(${e})`}}function XA(t,e){return t instanceof $t?(function(i,a){return a instanceof $t&&i.op===a.op&&i.field.isEqual(a.field)&&br(i.value,a.value)})(t,e):t instanceof Vi?(function(i,a){return a instanceof Vi&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((o,c,d)=>o&&XA(c,a.filters[d])),!0):!1})(t,e):void ke(19439)}function WA(t){return t instanceof $t?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ml(n.value)}`})(t):t instanceof Vi?(function(n){return n.op.toString()+" {"+n.getFilters().map(WA).join(" ,")+"}"})(t):"Filter"}class X5 extends $t{constructor(e,n,i){super(e,n,i),this.key=xe.fromName(i.referenceValue)}matches(e){const n=xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class W5 extends $t{constructor(e,n){super(e,"in",n),this.keys=ZA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Z5 extends $t{constructor(e,n){super(e,"not-in",n),this.keys=ZA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function ZA(t,e){return(e.arrayValue?.values||[]).map((n=>xe.fromName(n.referenceValue)))}class J5 extends $t{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Yy(n)&&Du(n.arrayValue,this.value)}}class eP extends $t{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Du(this.value.arrayValue,n)}}class tP extends $t{constructor(e,n){super(e,"not-in",n)}matches(e){if(Du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Du(this.value.arrayValue,n)}}class nP extends $t{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Yy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>Du(this.value.arrayValue,i)))}}class iP{constructor(e,n=null,i=[],a=[],o=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=o,this.startAt=c,this.endAt=d,this.Te=null}}function tE(t,e=null,n=[],i=[],a=null,o=null,c=null){return new iP(t,e,n,i,a,o,c)}function Qy(t){const e=Pe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>q0(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),um(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>Ml(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>Ml(i))).join(",")),e.Te=n}return e.Te}function Xy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Y5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!XA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!eE(t.startAt,e.startAt)&&eE(t.endAt,e.endAt)}function H0(t){return xe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Gl{constructor(e,n=null,i=[],a=[],o=null,c="F",d=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=o,this.limitType=c,this.startAt=d,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function rP(t,e,n,i,a,o,c,d){return new Gl(t,e,n,i,a,o,c,d)}function hm(t){return new Gl(t)}function nE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function JA(t){return t.collectionGroup!==null}function gu(t){const e=Pe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Xt(un.comparator);return c.filters.forEach((h=>{h.getFlattenedFilters().forEach((f=>{f.isInequality()&&(d=d.add(f.field))}))})),d})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Mu(o,i))})),n.has(un.keyField().canonicalString())||e.Ie.push(new Mu(un.keyField(),i))}return e.Ie}function hr(t){const e=Pe(t);return e.Ee||(e.Ee=sP(e,gu(t))),e.Ee}function sP(t,e){if(t.limitType==="F")return tE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new Mu(a.field,o)}));const n=t.endAt?new Pf(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Pf(t.startAt.position,t.startAt.inclusive):null;return tE(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function $0(t,e){const n=t.filters.concat([e]);return new Gl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function jf(t,e,n){return new Gl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function fm(t,e){return Xy(hr(t),hr(e))&&t.limitType===e.limitType}function e2(t){return`${Qy(hr(t))}|lt:${t.limitType}`}function ul(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((a=>WA(a))).join(", ")}]`),um(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>Ml(a))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>Ml(a))).join(",")),`Target(${i})`})(hr(t))}; limitType=${t.limitType})`}function mm(t,e){return e.isFoundDocument()&&(function(i,a){const o=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):xe.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(t,e)&&(function(i,a){for(const o of gu(i))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(i,a){for(const o of i.filters)if(!o.matches(a))return!1;return!0})(t,e)&&(function(i,a){return!(i.startAt&&!(function(c,d,h){const f=JT(c,d,h);return c.inclusive?f<=0:f<0})(i.startAt,gu(i),a)||i.endAt&&!(function(c,d,h){const f=JT(c,d,h);return c.inclusive?f>=0:f>0})(i.endAt,gu(i),a))})(t,e)}function aP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function t2(t){return(e,n)=>{let i=!1;for(const a of gu(t)){const o=oP(a,e,n);if(o!==0)return o;i=i||a.field.isKeyField()}return 0}}function oP(t,e,n){const i=t.field.isKeyField()?xe.comparator(e.key,n.key):(function(o,c,d){const h=c.data.field(o),f=d.data.field(o);return h!==null&&f!==null?Dl(h,f):ke(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return ke(19790,{direction:t.dir})}}class vo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,o]of i)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){va(this.inner,((n,i)=>{for(const[a,o]of i)e(a,o)}))}isEmpty(){return LA(this.inner)}size(){return this.innerSize}}const lP=new Tt(xe.comparator);function ts(){return lP}const n2=new Tt(xe.comparator);function cu(...t){let e=n2;for(const n of t)e=e.insert(n.key,n);return e}function i2(t){let e=n2;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function to(){return yu()}function r2(){return yu()}function yu(){return new vo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const cP=new Tt(xe.comparator),uP=new Xt(xe.comparator);function Ye(...t){let e=uP;for(const n of t)e=e.add(n);return e}const dP=new Xt(Ke);function hP(){return dP}function Wy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mf(e)?"-0":e}}function s2(t){return{integerValue:""+t}}function fP(t,e){return z5(e)?s2(e):Wy(t,e)}class pm{constructor(){this._=void 0}}function mP(t,e,n){return t instanceof Lf?(function(a,o){const c={fields:{[BA]:{stringValue:zA},[qA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&Ky(o)&&(o=dm(o)),o&&(c.fields[FA]=o),{mapValue:c}})(n,e):t instanceof Ou?o2(t,e):t instanceof Vu?l2(t,e):(function(a,o){const c=a2(a,o),d=iE(c)+iE(a.Ae);return F0(c)&&F0(a.Ae)?s2(d):Wy(a.serializer,d)})(t,e)}function pP(t,e,n){return t instanceof Ou?o2(t,e):t instanceof Vu?l2(t,e):n}function a2(t,e){return t instanceof Uf?(function(i){return F0(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(e)?e:{integerValue:0}:null}class Lf extends pm{}class Ou extends pm{constructor(e){super(),this.elements=e}}function o2(t,e){const n=c2(e);for(const i of t.elements)n.some((a=>br(a,i)))||n.push(i);return{arrayValue:{values:n}}}class Vu extends pm{constructor(e){super(),this.elements=e}}function l2(t,e){let n=c2(e);for(const i of t.elements)n=n.filter((a=>!br(a,i)));return{arrayValue:{values:n}}}class Uf extends pm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function iE(t){return Dt(t.integerValue||t.doubleValue)}function c2(t){return Yy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function gP(t,e){return t.field.isEqual(e.field)&&(function(i,a){return i instanceof Ou&&a instanceof Ou||i instanceof Vu&&a instanceof Vu?kl(i.elements,a.elements,br):i instanceof Uf&&a instanceof Uf?br(i.Ae,a.Ae):i instanceof Lf&&a instanceof Lf})(t.transform,e.transform)}class yP{constructor(e,n){this.version=e,this.transformResults=n}}class mi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new mi}static exists(e){return new mi(void 0,e)}static updateTime(e){return new mi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ff(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class gm{}function u2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Zy(t.key,mi.none()):new td(t.key,t.data,mi.none());{const n=t.data,i=Mn.empty();let a=new Xt(un.comparator);for(let o of e.fields)if(!a.has(o)){let c=n.field(o);c===null&&o.length>1&&(o=o.popLast(),c=n.field(o)),c===null?i.delete(o):i.set(o,c),a=a.add(o)}return new ba(t.key,i,new Kn(a.toArray()),mi.none())}}function vP(t,e,n){t instanceof td?(function(a,o,c){const d=a.value.clone(),h=sE(a.fieldTransforms,o,c.transformResults);d.setAll(h),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof ba?(function(a,o,c){if(!ff(a.precondition,o))return void o.convertToUnknownDocument(c.version);const d=sE(a.fieldTransforms,o,c.transformResults),h=o.data;h.setAll(d2(a)),h.setAll(d),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):(function(a,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function vu(t,e,n,i){return t instanceof td?(function(o,c,d,h){if(!ff(o.precondition,c))return d;const f=o.value.clone(),g=aE(o.fieldTransforms,h,c);return f.setAll(g),c.convertToFoundDocument(c.version,f).setHasLocalMutations(),null})(t,e,n,i):t instanceof ba?(function(o,c,d,h){if(!ff(o.precondition,c))return d;const f=aE(o.fieldTransforms,h,c),g=c.data;return g.setAll(d2(o)),g.setAll(f),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((v=>v.field)))})(t,e,n,i):(function(o,c,d){return ff(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function bP(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),o=a2(i.transform,a||null);o!=null&&(n===null&&(n=Mn.empty()),n.set(i.field,o))}return n||null}function rE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&kl(i,a,((o,c)=>gP(o,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class td extends gm{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ba extends gm{constructor(e,n,i,a,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function d2(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function sE(t,e,n){const i=new Map;nt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const o=t[a],c=o.transform,d=e.data.field(o.field);i.set(o.field,pP(c,d,n[a]))}return i}function aE(t,e,n){const i=new Map;for(const a of t){const o=a.transform,c=n.data.field(a.field);i.set(a.field,mP(o,c,e))}return i}class Zy extends gm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _P extends gm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class wP{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&vP(o,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=vu(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=vu(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=r2();return this.mutations.forEach((a=>{const o=e.get(a.key),c=o.overlayedDocument;let d=this.applyToLocalView(c,o.mutatedFields);d=n.has(a.key)?null:d;const h=u2(c,d);h!==null&&i.set(a.key,h),c.isValidDocument()||c.convertToNoDocument(Oe.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ye())}isEqual(e){return this.batchId===e.batchId&&kl(this.mutations,e.mutations,((n,i)=>rE(n,i)))&&kl(this.baseMutations,e.baseMutations,((n,i)=>rE(n,i)))}}class Jy{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){nt(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return cP})();const o=e.mutations;for(let c=0;c<o.length;c++)a=a.insert(o[c].key,i[c].version);return new Jy(e,n,i,a)}}class TP{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class EP{constructor(e,n){this.count=e,this.unchangedNames=n}}var qt,Xe;function xP(t){switch(t){case re.OK:return ke(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return ke(15467,{code:t})}}function h2(t){if(t===void 0)return es("GRPC error has no .code"),re.UNKNOWN;switch(t){case qt.OK:return re.OK;case qt.CANCELLED:return re.CANCELLED;case qt.UNKNOWN:return re.UNKNOWN;case qt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case qt.INTERNAL:return re.INTERNAL;case qt.UNAVAILABLE:return re.UNAVAILABLE;case qt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case qt.NOT_FOUND:return re.NOT_FOUND;case qt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case qt.ABORTED:return re.ABORTED;case qt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case qt.DATA_LOSS:return re.DATA_LOSS;default:return ke(39323,{code:t})}}(Xe=qt||(qt={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";function SP(){return new TextEncoder}const AP=new ia([4294967295,4294967295],0);function oE(t){const e=SP().encode(t),n=new CA;return n.update(e),new Uint8Array(n.digest())}function lE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ia([n,i],0),new ia([a,o],0)]}class ev{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new uu(`Invalid padding: ${n}`);if(i<0)throw new uu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new uu(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new uu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ia.fromNumber(this.ge)}ye(e,n,i){let a=e.add(n.multiply(ia.fromNumber(i)));return a.compare(AP)===1&&(a=new ia([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=oE(e),[i,a]=lE(n);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,a,o);if(!this.we(c))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new ev(o,a,n);return i.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const n=oE(e),[i,a]=lE(n);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,a,o);this.Se(c)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class uu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ym{constructor(e,n,i,a,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,nd.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new ym(Oe.min(),a,new Tt(Ke),ts(),Ye())}}class nd{constructor(e,n,i,a,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new nd(i,n,Ye(),Ye(),Ye())}}class mf{constructor(e,n,i,a){this.be=e,this.removedTargetIds=n,this.key=i,this.De=a}}class f2{constructor(e,n){this.targetId=e,this.Ce=n}}class m2{constructor(e,n,i=hn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class cE{constructor(){this.ve=0,this.Fe=uE(),this.Me=hn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ye(),n=Ye(),i=Ye();return this.Fe.forEach(((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:ke(38017,{changeType:o})}})),new nd(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=uE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,nt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class CP{constructor(e){this.Ge=e,this.ze=new Map,this.je=ts(),this.Je=$h(),this.He=$h(),this.Ye=new Tt(Ke)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:ke(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,i=e.Ce.count,a=this.ot(n);if(a){const o=a.target;if(H0(o))if(i===0){const c=new xe(o.path);this.et(n,c,gn.newNoDocument(c,Oe.min()))}else nt(i===1,20013,{expectedCount:i});else{const c=this._t(n);if(c!==i){const d=this.ut(e),h=d?this.ct(d,e,c):1;if(h!==0){this.it(n);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:o=0}=n;let c,d;try{c=la(i).toUint8Array()}catch(h){if(h instanceof UA)return Il("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{d=new ev(c,a,o)}catch(h){return Il(h instanceof uu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return d.ge===0?null:d}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach((o=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.et(n,o,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((o,c)=>{const d=this.ot(c);if(d){if(o.current&&H0(d.target)){const h=new xe(d.target.path);this.It(h).has(c)||this.Et(c,h)||this.et(c,h,gn.newNoDocument(h,e))}o.Be&&(n.set(c,o.ke()),o.qe())}}));let i=Ye();this.He.forEach(((o,c)=>{let d=!0;c.forEachWhile((h=>{const f=this.ot(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(i=i.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(e)));const a=new ym(e,n,this.Ye,this.je,i);return this.je=ts(),this.Je=$h(),this.He=$h(),this.Ye=new Tt(Ke),a}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new cE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Xt(Ke),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Xt(Ke),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ye("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new cE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function $h(){return new Tt(xe.comparator)}function uE(){return new Tt(xe.comparator)}const RP={asc:"ASCENDING",desc:"DESCENDING"},NP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},IP={and:"AND",or:"OR"};class kP{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function G0(t,e){return t.useProto3Json||um(e)?e:{value:e}}function zf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function p2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function DP(t,e){return zf(t,e.toTimestamp())}function fr(t){return nt(!!t,49232),Oe.fromTimestamp((function(n){const i=oa(n);return new Je(i.seconds,i.nanos)})(t))}function tv(t,e){return K0(t,e).canonicalString()}function K0(t,e){const n=(function(a){return new ht(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function g2(t){const e=ht.fromString(t);return nt(w2(e),10190,{key:e.toString()}),e}function Y0(t,e){return tv(t.databaseId,e.path)}function Jg(t,e){const n=g2(e);if(n.get(1)!==t.databaseId.projectId)throw new me(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new me(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new xe(v2(n))}function y2(t,e){return tv(t.databaseId,e)}function MP(t){const e=g2(t);return e.length===4?ht.emptyPath():v2(e)}function Q0(t){return new ht(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function v2(t){return nt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function dE(t,e,n){return{name:Y0(t,e),fields:n.value.mapValue.fields}}function OP(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:ke(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=(function(f,g){return f.useProto3Json?(nt(g===void 0||typeof g=="string",58123),hn.fromBase64String(g||"")):(nt(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),hn.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(f){const g=f.code===void 0?re.UNKNOWN:h2(f.code);return new me(g,f.message||"")})(c);n=new m2(i,a,o,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Jg(t,i.document.name),o=fr(i.document.updateTime),c=i.document.createTime?fr(i.document.createTime):Oe.min(),d=new Mn({mapValue:{fields:i.document.fields}}),h=gn.newFoundDocument(a,o,c,d),f=i.targetIds||[],g=i.removedTargetIds||[];n=new mf(f,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Jg(t,i.document),o=i.readTime?fr(i.readTime):Oe.min(),c=gn.newNoDocument(a,o),d=i.removedTargetIds||[];n=new mf([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Jg(t,i.document),o=i.removedTargetIds||[];n=new mf([],o,a,null)}else{if(!("filter"in e))return ke(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:o}=i,c=new EP(a,o),d=i.targetId;n=new f2(d,c)}}return n}function VP(t,e){let n;if(e instanceof td)n={update:dE(t,e.key,e.value)};else if(e instanceof Zy)n={delete:Y0(t,e.key)};else if(e instanceof ba)n={update:dE(t,e.key,e.data),updateMask:HP(e.fieldMask)};else{if(!(e instanceof _P))return ke(16599,{Vt:e.type});n={verify:Y0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(o,c){const d=c.transform;if(d instanceof Lf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ou)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Vu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Uf)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw ke(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:DP(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ke(27497)})(t,e.precondition)),n}function PP(t,e){return t&&t.length>0?(nt(e!==void 0,14353),t.map((n=>(function(a,o){let c=a.updateTime?fr(a.updateTime):fr(o);return c.isEqual(Oe.min())&&(c=fr(o)),new yP(c,a.transformResults||[])})(n,e)))):[]}function jP(t,e){return{documents:[y2(t,e.path)]}}function LP(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=y2(t,a);const o=(function(f){if(f.length!==0)return _2(Vi.create(f,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const c=(function(f){if(f.length!==0)return f.map((g=>(function(_){return{field:dl(_.field),direction:BP(_.dir)}})(g)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=G0(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:a}}function UP(t){let e=MP(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){nt(i===1,65062);const g=n.from[0];g.allDescendants?a=g.collectionId:e=e.child(g.collectionId)}let o=[];n.where&&(o=(function(v){const _=b2(v);return _ instanceof Vi&&QA(_)?_.getFilters():[_]})(n.where));let c=[];n.orderBy&&(c=(function(v){return v.map((_=>(function(k){return new Mu(hl(k.field),(function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(_)))})(n.orderBy));let d=null;n.limit&&(d=(function(v){let _;return _=typeof v=="object"?v.value:v,um(_)?null:_})(n.limit));let h=null;n.startAt&&(h=(function(v){const _=!!v.before,x=v.values||[];return new Pf(x,_)})(n.startAt));let f=null;return n.endAt&&(f=(function(v){const _=!v.before,x=v.values||[];return new Pf(x,_)})(n.endAt)),rP(e,a,c,o,d,"F",h,f)}function zP(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function b2(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=hl(n.unaryFilter.field);return $t.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=hl(n.unaryFilter.field);return $t.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=hl(n.unaryFilter.field);return $t.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=hl(n.unaryFilter.field);return $t.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ke(61313);default:return ke(60726)}})(t):t.fieldFilter!==void 0?(function(n){return $t.create(hl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ke(58110);default:return ke(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Vi.create(n.compositeFilter.filters.map((i=>b2(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ke(1026)}})(n.compositeFilter.op))})(t):ke(30097,{filter:t})}function BP(t){return RP[t]}function FP(t){return NP[t]}function qP(t){return IP[t]}function dl(t){return{fieldPath:t.canonicalString()}}function hl(t){return un.fromServerFormat(t.fieldPath)}function _2(t){return t instanceof $t?(function(n){if(n.op==="=="){if(ZT(n.value))return{unaryFilter:{field:dl(n.field),op:"IS_NAN"}};if(WT(n.value))return{unaryFilter:{field:dl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ZT(n.value))return{unaryFilter:{field:dl(n.field),op:"IS_NOT_NAN"}};if(WT(n.value))return{unaryFilter:{field:dl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dl(n.field),op:FP(n.op),value:n.value}}})(t):t instanceof Vi?(function(n){const i=n.getFilters().map((a=>_2(a)));return i.length===1?i[0]:{compositeFilter:{op:qP(n.op),filters:i}}})(t):ke(54877,{filter:t})}function HP(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function w2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Zs{constructor(e,n,i,a,o=Oe.min(),c=Oe.min(),d=hn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=h}withSequenceNumber(e){return new Zs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class $P{constructor(e){this.yt=e}}function GP(t){const e=UP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?jf(e,e.limit,"L"):e}class KP{constructor(){this.Cn=new YP}addToCollectionParentIndex(e,n){return this.Cn.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(aa.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(aa.min())}updateCollectionGroup(e,n,i){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class YP{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new Xt(ht.comparator),o=!a.has(i);return this.index[n]=a.add(i),o}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Xt(ht.comparator)).toArray()}}const hE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},T2=41943040;class Dn{static withCacheSize(e){return new Dn(e,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(T2,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);class Ol{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ol(0)}static cr(){return new Ol(-1)}}const fE="LruGarbageCollector",QP=1048576;function mE([t,e],[n,i]){const a=Ke(t,n);return a===0?Ke(e,i):a}class XP{constructor(e){this.Ir=e,this.buffer=new Xt(mE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();mE(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class WP{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ye(fE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){$l(n)?ye(fE,"Ignoring IndexedDB error during garbage collection: ",n):await Hl(n)}await this.Vr(3e5)}))}}class ZP{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return ae.resolve(cm.ce);const i=new XP(n);return this.mr.forEachTarget(e,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(hE)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,a,o,c,d,h,f;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,c=Date.now(),this.nthSequenceNumber(e,a)))).next((v=>(i=v,d=Date.now(),this.removeTargets(e,i,n)))).next((v=>(o=v,h=Date.now(),this.removeOrphanedDocuments(e,i)))).next((v=>(f=Date.now(),cl()<=Ge.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-g}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${o} targets in `+(h-d)+`ms
	Removed ${v} documents in `+(f-h)+`ms
Total Duration: ${f-g}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:v}))))}}function JP(t,e){return new ZP(t,e)}class e6{constructor(){this.changes=new vo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,gn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ae.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class t6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class n6{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(i!==null&&vu(i.mutation,a,Kn.empty(),Je.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Ye()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Ye()){const a=to();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,i).next((o=>{let c=cu();return o.forEach(((d,h)=>{c=c.insert(d,h.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const i=to();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Ye())))}populateOverlays(e,n,i){const a=[];return i.forEach((o=>{n.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(e,a).next((o=>{o.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,i,a){let o=ts();const c=yu(),d=(function(){return yu()})();return n.forEach(((h,f)=>{const g=i.get(f.key);a.has(f.key)&&(g===void 0||g.mutation instanceof ba)?o=o.insert(f.key,f):g!==void 0?(c.set(f.key,g.mutation.getFieldMask()),vu(g.mutation,f,g.mutation.getFieldMask(),Je.now())):c.set(f.key,Kn.empty())})),this.recalculateAndSaveOverlays(e,o).next((h=>(h.forEach(((f,g)=>c.set(f,g))),n.forEach(((f,g)=>d.set(f,new t6(g,c.get(f)??null)))),d)))}recalculateAndSaveOverlays(e,n){const i=yu();let a=new Tt(((c,d)=>c-d)),o=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((h=>{const f=n.get(h);if(f===null)return;let g=i.get(h)||Kn.empty();g=d.applyToLocalView(f,g),i.set(h,g);const v=(a.get(d.batchId)||Ye()).add(h);a=a.insert(d.batchId,v)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const h=d.getNext(),f=h.key,g=h.value,v=r2();g.forEach((_=>{if(!o.has(_)){const x=u2(n.get(_),i.get(_));x!==null&&v.set(_,x),o=o.add(_)}})),c.push(this.documentOverlayCache.saveOverlays(e,f,v))}return ae.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,a){return(function(c){return xe.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):JA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next((o=>{const c=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-o.size):ae.resolve(to());let d=Nu,h=o;return c.next((f=>ae.forEach(f,((g,v)=>(d<v.largestBatchId&&(d=v.largestBatchId),o.get(g)?ae.resolve():this.remoteDocumentCache.getEntry(e,g).next((_=>{h=h.insert(g,_)}))))).next((()=>this.populateOverlays(e,f,o))).next((()=>this.computeViews(e,h,f,Ye()))).next((g=>({batchId:d,changes:i2(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new xe(n)).next((i=>{let a=cu();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const o=n.collectionGroup;let c=cu();return this.indexManager.getCollectionParents(e,o).next((d=>ae.forEach(d,(h=>{const f=(function(v,_){return new Gl(_,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,i,a).next((g=>{g.forEach(((v,_)=>{c=c.insert(v,_)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,i,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,a)))).next((c=>{o.forEach(((h,f)=>{const g=f.getKey();c.get(g)===null&&(c=c.insert(g,gn.newInvalidDocument(g)))}));let d=cu();return c.forEach(((h,f)=>{const g=o.get(h);g!==void 0&&vu(g.mutation,f,Kn.empty(),Je.now()),mm(n,f)&&(d=d.insert(h,f))})),d}))}}class i6{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ae.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:fr(a.createTime)}})(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:GP(a.bundledQuery),readTime:fr(a.readTime)}})(n)),ae.resolve()}}class r6{constructor(){this.overlays=new Tt(xe.comparator),this.qr=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const i=to();return ae.forEach(n,(a=>this.getOverlay(e,a).next((o=>{o!==null&&i.set(a,o)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((a,o)=>{this.St(e,n,o)})),ae.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(i)),ae.resolve()}getOverlaysForCollection(e,n,i){const a=to(),o=n.length+1,c=new xe(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const h=d.getNext().value,f=h.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&h.largestBatchId>i&&a.set(h.getKey(),h)}return ae.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let o=new Tt(((f,g)=>f-g));const c=this.overlays.getIterator();for(;c.hasNext();){const f=c.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>i){let g=o.get(f.largestBatchId);g===null&&(g=to(),o=o.insert(f.largestBatchId,g)),g.set(f.getKey(),f)}}const d=to(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((f,g)=>d.set(f,g))),!(d.size()>=a)););return ae.resolve(d)}St(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new TP(n,i));let o=this.qr.get(n);o===void 0&&(o=Ye(),this.qr.set(n,o)),this.qr.set(n,o.add(i.key))}}class s6{constructor(){this.sessionToken=hn.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}class nv{constructor(){this.Qr=new Xt(en.$r),this.Ur=new Xt(en.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new en(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Gr(new en(e,n))}zr(e,n){e.forEach((i=>this.removeReference(i,n)))}jr(e){const n=new xe(new ht([])),i=new en(n,e),a=new en(n,e+1),o=[];return this.Ur.forEachInRange([i,a],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new xe(new ht([])),i=new en(n,e),a=new en(n,e+1);let o=Ye();return this.Ur.forEachInRange([i,a],(c=>{o=o.add(c.key)})),o}containsKey(e){const n=new en(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class en{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return xe.comparator(e.key,n.key)||Ke(e.Yr,n.Yr)}static Kr(e,n){return Ke(e.Yr,n.Yr)||xe.comparator(e.key,n.key)}}class a6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Xt(en.$r)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new wP(o,n,i,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new en(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ae.resolve(c)}lookupMutationBatch(e,n){return ae.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.ei(i),o=a<0?0:a;return ae.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?Gy:this.tr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new en(n,0),a=new en(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,a],(c=>{const d=this.Xr(c.Yr);o.push(d)})),ae.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Xt(Ke);return n.forEach((a=>{const o=new en(a,0),c=new en(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(d=>{i=i.add(d.Yr)}))})),ae.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let o=i;xe.isDocumentKey(o)||(o=o.child(""));const c=new en(new xe(o),0);let d=new Xt(Ke);return this.Zr.forEachWhile((h=>{const f=h.key.path;return!!i.isPrefixOf(f)&&(f.length===a&&(d=d.add(h.Yr)),!0)}),c),ae.resolve(this.ti(d))}ti(e){const n=[];return e.forEach((i=>{const a=this.Xr(i);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){nt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return ae.forEach(n.mutations,(a=>{const o=new en(a.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,n){const i=new en(n,0),a=this.Zr.firstAfterOrEqual(i);return ae.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class o6{constructor(e){this.ri=e,this.docs=(function(){return new Tt(xe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),o=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ae.resolve(i?i.document.mutableCopy():gn.newInvalidDocument(n))}getEntries(e,n){let i=ts();return n.forEach((a=>{const o=this.docs.get(a);i=i.insert(a,o?o.document.mutableCopy():gn.newInvalidDocument(a))})),ae.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let o=ts();const c=n.path,d=new xe(c.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(d);for(;h.hasNext();){const{key:f,value:{document:g}}=h.getNext();if(!c.isPrefixOf(f.path))break;f.path.length>c.length+1||P5(V5(g),i)<=0||(a.has(g.key)||mm(n,g))&&(o=o.insert(g.key,g.mutableCopy()))}return ae.resolve(o)}getAllFromCollectionGroup(e,n,i,a){ke(9500)}ii(e,n){return ae.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new l6(this)}getSize(e){return ae.resolve(this.size)}}class l6 extends e6{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(i)})),ae.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class c6{constructor(e){this.persistence=e,this.si=new vo((n=>Qy(n)),Xy),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.oi=0,this._i=new nv,this.targetCount=0,this.ai=Ol.ur()}forEachTarget(e,n){return this.si.forEach(((i,a)=>n(a))),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),ae.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ol(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.Pr(n),ae.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,i){let a=0;const o=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&i.get(d.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),ae.waitFor(o).next((()=>a))}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return ae.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),ae.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const a=this.persistence.referenceDelegate,o=[];return a&&n.forEach((c=>{o.push(a.markPotentiallyOrphaned(e,c))})),ae.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return ae.resolve(i)}containsKey(e,n){return ae.resolve(this._i.containsKey(n))}}class E2{constructor(e,n){this.ui={},this.overlays={},this.ci=new cm(0),this.li=!1,this.li=!0,this.hi=new s6,this.referenceDelegate=e(this),this.Pi=new c6(this),this.indexManager=new KP,this.remoteDocumentCache=(function(a){return new o6(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new $P(n),this.Ii=new i6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new r6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new a6(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){ye("MemoryPersistence","Starting transaction:",e);const a=new u6(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((o=>this.referenceDelegate.di(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ai(e,n){return ae.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,n))))}}class u6 extends L5{constructor(e){super(),this.currentSequenceNumber=e}}class iv{constructor(e){this.persistence=e,this.Ri=new nv,this.Vi=null}static mi(e){return new iv(e)}get fi(){if(this.Vi)return this.Vi;throw ke(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),ae.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((o=>this.fi.add(o.toString())))})).next((()=>i.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.fi,(i=>{const a=xe.fromPath(i);return this.gi(e,a).next((o=>{o||n.removeEntry(a,Oe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ae.or([()=>ae.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Bf{constructor(e,n){this.persistence=e,this.pi=new vo((i=>B5(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=JP(this,n)}static mi(e,n){return new Bf(e,n)}Ei(){}di(e){return ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((a=>i+a))))}wr(e){let n=0;return this.pr(e,(i=>{n++})).next((()=>n))}pr(e,n){return ae.forEach(this.pi,((i,a)=>this.br(e,i,a).next((o=>o?ae.resolve():n(a)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,n).next((d=>{d||(i++,o.removeEntry(c,Oe.min()))})))).next((()=>o.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ae.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),ae.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ae.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=df(e.data.value)),n}br(e,n,i){return ae.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return ae.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class rv{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=a}static As(e,n){let i=Ye(),a=Ye();for(const o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new rv(e,n.fromCache,i,a)}}class d6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class h6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return jM()?8:U5(_n())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,a){const o={result:null};return this.ys(e,n).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(e,n,a,i).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new d6;return this.Ss(e,n,c).next((d=>{if(o.result=d,this.Vs)return this.bs(e,n,c,d.size)}))})).next((()=>o.result))}bs(e,n,i,a){return i.documentReadCount<this.fs?(cl()<=Ge.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",ul(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ae.resolve()):(cl()<=Ge.DEBUG&&ye("QueryEngine","Query:",ul(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(cl()<=Ge.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",ul(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hr(n))):ae.resolve())}ys(e,n){if(nE(n))return ae.resolve(null);let i=hr(n);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=jf(n,null,"F"),i=hr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((o=>{const c=Ye(...o);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,i).next((h=>{const f=this.Ds(n,d);return this.Cs(n,f,c,h.readTime)?this.ys(e,jf(n,null,"F")):this.vs(e,f,n,h)}))))})))))}ws(e,n,i,a){return nE(n)||a.isEqual(Oe.min())?ae.resolve(null):this.ps.getDocuments(e,i).next((o=>{const c=this.Ds(n,o);return this.Cs(n,c,i,a)?ae.resolve(null):(cl()<=Ge.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ul(n)),this.vs(e,c,n,O5(a,Nu)).next((d=>d)))}))}Ds(e,n){let i=new Xt(t2(e));return n.forEach(((a,o)=>{mm(e,o)&&(i=i.add(o))})),i}Cs(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(e,n,i){return cl()<=Ge.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",ul(n)),this.ps.getDocumentsMatchingQuery(e,n,aa.min(),i)}vs(e,n,i,a){return this.ps.getDocumentsMatchingQuery(e,i,a).next((o=>(n.forEach((c=>{o=o.insert(c.key,c)})),o)))}}const sv="LocalStore",f6=3e8;class m6{constructor(e,n,i,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new Tt(Ke),this.xs=new vo((o=>Qy(o)),Xy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new n6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function p6(t,e,n,i){return new m6(t,e,n,i)}async function x2(t,e){const n=Pe(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next((o=>(a=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(i)))).next((o=>{const c=[],d=[];let h=Ye();for(const f of a){c.push(f.batchId);for(const g of f.mutations)h=h.add(g.key)}for(const f of o){d.push(f.batchId);for(const g of f.mutations)h=h.add(g.key)}return n.localDocuments.getDocuments(i,h).next((f=>({Ls:f,removedBatchIds:c,addedBatchIds:d})))}))}))}function g6(t,e){const n=Pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,h,f,g){const v=f.batch,_=v.keys();let x=ae.resolve();return _.forEach((k=>{x=x.next((()=>g.getEntry(h,k))).next((A=>{const I=f.docVersions.get(k);nt(I!==null,48541),A.version.compareTo(I)<0&&(v.applyToRemoteDocument(A,f),A.isValidDocument()&&(A.setReadTime(f.commitVersion),g.addEntry(A)))}))})),x.next((()=>d.mutationQueue.removeMutationBatch(h,v)))})(n,i,e,o).next((()=>o.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(d){let h=Ye();for(let f=0;f<d.mutationResults.length;++f)d.mutationResults[f].transformResults.length>0&&(h=h.add(d.batch.mutations[f].key));return h})(e)))).next((()=>n.localDocuments.getDocuments(i,a)))}))}function S2(t){const e=Pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function y6(t,e){const n=Pe(t),i=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const d=[];e.targetChanges.forEach(((g,v)=>{const _=a.get(v);if(!_)return;d.push(n.Pi.removeMatchingKeys(o,g.removedDocuments,v).next((()=>n.Pi.addMatchingKeys(o,g.addedDocuments,v))));let x=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?x=x.withResumeToken(hn.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):g.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(g.resumeToken,i)),a=a.insert(v,x),(function(A,I,U){return A.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=f6?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(_,x,g)&&d.push(n.Pi.updateTargetData(o,x))}));let h=ts(),f=Ye();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(o,g))})),d.push(v6(o,c,e.documentUpdates).next((g=>{h=g.ks,f=g.qs}))),!i.isEqual(Oe.min())){const g=n.Pi.getLastRemoteSnapshotVersion(o).next((v=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i)));d.push(g)}return ae.waitFor(d).next((()=>c.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,h,f))).next((()=>h))})).then((o=>(n.Ms=a,o)))}function v6(t,e,n){let i=Ye(),a=Ye();return n.forEach((o=>i=i.add(o))),e.getEntries(t,i).next((o=>{let c=ts();return n.forEach(((d,h)=>{const f=o.get(d);h.isFoundDocument()!==f.isFoundDocument()&&(a=a.add(d)),h.isNoDocument()&&h.version.isEqual(Oe.min())?(e.removeEntry(d,h.readTime),c=c.insert(d,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),c=c.insert(d,h)):ye(sv,"Ignoring outdated watch update for ",d,". Current version:",f.version," Watch version:",h.version)})),{ks:c,qs:a}}))}function b6(t,e){const n=Pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Gy),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function _6(t,e){const n=Pe(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return n.Pi.getTargetData(i,e).next((o=>o?(a=o,ae.resolve(a)):n.Pi.allocateTargetId(i).next((c=>(a=new Zs(e,c,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=n.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i}))}async function X0(t,e,n){const i=Pe(t),a=i.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!$l(c))throw c;ye(sv,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ms=i.Ms.remove(e),i.xs.delete(a.target)}function pE(t,e,n){const i=Pe(t);let a=Oe.min(),o=Ye();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(h,f,g){const v=Pe(h),_=v.xs.get(g);return _!==void 0?ae.resolve(v.Ms.get(_)):v.Pi.getTargetData(f,g)})(i,c,hr(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,d.targetId).next((h=>{o=h}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,e,n?a:Oe.min(),n?o:Ye()))).next((d=>(w6(i,aP(e),d),{documents:d,Qs:o})))))}function w6(t,e,n){let i=t.Os.get(e)||Oe.min();n.forEach(((a,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),t.Os.set(e,i)}class gE{constructor(){this.activeTargetIds=hP()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class T6{constructor(){this.Mo=new gE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new gE,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class E6{Oo(e){}shutdown(){}}const yE="ConnectivityMonitor";class vE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ye(yE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ye(yE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Gh=null;function W0(){return Gh===null?Gh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Gh++,"0x"+Gh.toString(16)}const e0="RestConnection",x6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class S6{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===Of?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(e,n,i,a,o){const c=W0(),d=this.zo(e,n.toUriEncodedString());ye(e0,`Sending RPC '${e}' ${c}:`,d,i);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,a,o);const{host:f}=new URL(d),g=Bl(f);return this.Jo(e,d,h,i,g).then((v=>(ye(e0,`Received RPC '${e}' ${c}: `,v),v)),(v=>{throw Il(e0,`RPC '${e}' ${c} failed with error: `,v,"url: ",d,"request:",i),v}))}Ho(e,n,i,a,o,c){return this.Go(e,n,i,a,o)}jo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ql})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,o)=>e[o]=a)),i&&i.headers.forEach(((a,o)=>e[o]=a))}zo(e,n){const i=x6[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}class A6{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const mn="WebChannelConnection";class C6 extends S6{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,a,o){const c=W0();return new Promise(((d,h)=>{const f=new RA;f.setWithCredentials(!0),f.listenOnce(NA.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case uf.NO_ERROR:const v=f.getResponseJson();ye(mn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(v)),d(v);break;case uf.TIMEOUT:ye(mn,`RPC '${e}' ${c} timed out`),h(new me(re.DEADLINE_EXCEEDED,"Request time out"));break;case uf.HTTP_ERROR:const _=f.getStatus();if(ye(mn,`RPC '${e}' ${c} failed with status:`,_,"response text:",f.getResponseText()),_>0){let x=f.getResponseJson();Array.isArray(x)&&(x=x[0]);const k=x?.error;if(k&&k.status&&k.message){const A=(function(U){const B=U.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(B)>=0?B:re.UNKNOWN})(k.status);h(new me(A,k.message))}else h(new me(re.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new me(re.UNAVAILABLE,"Connection failed."));break;default:ke(9055,{l_:e,streamId:c,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{ye(mn,`RPC '${e}' ${c} completed.`)}}));const g=JSON.stringify(a);ye(mn,`RPC '${e}' ${c} sending request:`,a),f.send(n,"POST",g,i,15)}))}T_(e,n,i){const a=W0(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=DA(),d=kA(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,n,i),h.encodeInitMessageHeaders=!0;const g=o.join("");ye(mn,`Creating RPC '${e}' stream ${a}: ${g}`,h);const v=c.createWebChannel(g,h);this.I_(v);let _=!1,x=!1;const k=new A6({Yo:I=>{x?ye(mn,`Not sending because RPC '${e}' stream ${a} is closed:`,I):(_||(ye(mn,`Opening RPC '${e}' stream ${a} transport.`),v.open(),_=!0),ye(mn,`RPC '${e}' stream ${a} sending:`,I),v.send(I))},Zo:()=>v.close()}),A=(I,U,B)=>{I.listen(U,(j=>{try{B(j)}catch($){setTimeout((()=>{throw $}),0)}}))};return A(v,lu.EventType.OPEN,(()=>{x||(ye(mn,`RPC '${e}' stream ${a} transport opened.`),k.o_())})),A(v,lu.EventType.CLOSE,(()=>{x||(x=!0,ye(mn,`RPC '${e}' stream ${a} transport closed`),k.a_(),this.E_(v))})),A(v,lu.EventType.ERROR,(I=>{x||(x=!0,Il(mn,`RPC '${e}' stream ${a} transport errored. Name:`,I.name,"Message:",I.message),k.a_(new me(re.UNAVAILABLE,"The operation could not be completed")))})),A(v,lu.EventType.MESSAGE,(I=>{if(!x){const U=I.data[0];nt(!!U,16349);const B=U,j=B?.error||B[0]?.error;if(j){ye(mn,`RPC '${e}' stream ${a} received error:`,j);const $=j.status;let ne=(function(R){const M=qt[R];if(M!==void 0)return h2(M)})($),ee=j.message;ne===void 0&&(ne=re.INTERNAL,ee="Unknown error status: "+$+" with message "+j.message),x=!0,k.a_(new me(ne,ee)),v.close()}else ye(mn,`RPC '${e}' stream ${a} received:`,U),k.u_(U)}})),A(d,IA.STAT_EVENT,(I=>{I.stat===U0.PROXY?ye(mn,`RPC '${e}' stream ${a} detected buffering proxy`):I.stat===U0.NOPROXY&&ye(mn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{k.__()}),0),k}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function t0(){return typeof document<"u"?document:null}function vm(t){return new kP(t,!0)}class A2{constructor(e,n,i=1e3,a=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=a,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&ye("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const bE="PersistentStream";class C2{constructor(e,n,i,a,o,c,d,h){this.Mi=e,this.S_=i,this.b_=a,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new A2(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(es(n.toString()),es("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===n&&this.G_(i,a)}),(i=>{e((()=>{const a=new me(re.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ye(bE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ye(bE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class R6 extends C2{constructor(e,n,i,a,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,c),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=OP(this.serializer,e),i=(function(o){if(!("targetChange"in o))return Oe.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Oe.min():c.readTime?fr(c.readTime):Oe.min()})(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=Q0(this.serializer),n.addTarget=(function(o,c){let d;const h=c.target;if(d=H0(h)?{documents:jP(o,h)}:{query:LP(o,h).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=p2(o,c.resumeToken);const f=G0(o,c.expectedCount);f!==null&&(d.expectedCount=f)}else if(c.snapshotVersion.compareTo(Oe.min())>0){d.readTime=zf(o,c.snapshotVersion.toTimestamp());const f=G0(o,c.expectedCount);f!==null&&(d.expectedCount=f)}return d})(this.serializer,e);const i=zP(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=Q0(this.serializer),n.removeTarget=e,this.q_(n)}}class N6 extends C2{constructor(e,n,i,a,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return nt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){nt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=PP(e.writeResults,e.commitTime),i=fr(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=Q0(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>VP(this.serializer,i)))};this.q_(n)}}class I6{}class k6 extends I6{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new me(re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(e,K0(n,i),a,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new me(re.UNKNOWN,o.toString())}))}Ho(e,n,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,K0(n,i),a,c,d,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new me(re.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class D6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(es(n),this.aa=!1):ye("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const po="RemoteStore";class M6{constructor(e,n,i,a,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{bo(this)&&(ye(po,"Restarting streams for network reachability change."),await(async function(h){const f=Pe(h);f.Ea.add(4),await id(f),f.Ra.set("Unknown"),f.Ea.delete(4),await bm(f)})(this))}))})),this.Ra=new D6(i,a)}}async function bm(t){if(bo(t))for(const e of t.da)await e(!0)}async function id(t){for(const e of t.da)await e(!1)}function R2(t,e){const n=Pe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),cv(n)?lv(n):Kl(n).O_()&&ov(n,e))}function av(t,e){const n=Pe(t),i=Kl(n);n.Ia.delete(e),i.O_()&&N2(n,e),n.Ia.size===0&&(i.O_()?i.L_():bo(n)&&n.Ra.set("Unknown"))}function ov(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Kl(t).Y_(e)}function N2(t,e){t.Va.Ue(e),Kl(t).Z_(e)}function lv(t){t.Va=new CP({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Kl(t).start(),t.Ra.ua()}function cv(t){return bo(t)&&!Kl(t).x_()&&t.Ia.size>0}function bo(t){return Pe(t).Ea.size===0}function I2(t){t.Va=void 0}async function O6(t){t.Ra.set("Online")}async function V6(t){t.Ia.forEach(((e,n)=>{ov(t,e)}))}async function P6(t,e){I2(t),cv(t)?(t.Ra.ha(e),lv(t)):t.Ra.set("Unknown")}async function j6(t,e,n){if(t.Ra.set("Online"),e instanceof m2&&e.state===2&&e.cause)try{await(async function(a,o){const c=o.cause;for(const d of o.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))})(t,e)}catch(i){ye(po,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Ff(t,i)}else if(e instanceof mf?t.Va.Ze(e):e instanceof f2?t.Va.st(e):t.Va.tt(e),!n.isEqual(Oe.min()))try{const i=await S2(t.localStore);n.compareTo(i)>=0&&await(function(o,c){const d=o.Va.Tt(c);return d.targetChanges.forEach(((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const g=o.Ia.get(f);g&&o.Ia.set(f,g.withResumeToken(h.resumeToken,c))}})),d.targetMismatches.forEach(((h,f)=>{const g=o.Ia.get(h);if(!g)return;o.Ia.set(h,g.withResumeToken(hn.EMPTY_BYTE_STRING,g.snapshotVersion)),N2(o,h);const v=new Zs(g.target,h,f,g.sequenceNumber);ov(o,v)})),o.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(i){ye(po,"Failed to raise snapshot:",i),await Ff(t,i)}}async function Ff(t,e,n){if(!$l(e))throw e;t.Ea.add(1),await id(t),t.Ra.set("Offline"),n||(n=()=>S2(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ye(po,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await bm(t)}))}function k2(t,e){return e().catch((n=>Ff(t,n,e)))}async function _m(t){const e=Pe(t),n=ua(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Gy;for(;L6(e);)try{const a=await b6(e.localStore,i);if(a===null){e.Ta.length===0&&n.L_();break}i=a.batchId,U6(e,a)}catch(a){await Ff(e,a)}D2(e)&&M2(e)}function L6(t){return bo(t)&&t.Ta.length<10}function U6(t,e){t.Ta.push(e);const n=ua(t);n.O_()&&n.X_&&n.ea(e.mutations)}function D2(t){return bo(t)&&!ua(t).x_()&&t.Ta.length>0}function M2(t){ua(t).start()}async function z6(t){ua(t).ra()}async function B6(t){const e=ua(t);for(const n of t.Ta)e.ea(n.mutations)}async function F6(t,e,n){const i=t.Ta.shift(),a=Jy.from(i,e,n);await k2(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await _m(t)}async function q6(t,e){e&&ua(t).X_&&await(async function(i,a){if((function(c){return xP(c)&&c!==re.ABORTED})(a.code)){const o=i.Ta.shift();ua(i).B_(),await k2(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,a))),await _m(i)}})(t,e),D2(t)&&M2(t)}async function _E(t,e){const n=Pe(t);n.asyncQueue.verifyOperationInProgress(),ye(po,"RemoteStore received new credentials");const i=bo(n);n.Ea.add(3),await id(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await bm(n)}async function H6(t,e){const n=Pe(t);e?(n.Ea.delete(2),await bm(n)):e||(n.Ea.add(2),await id(n),n.Ra.set("Unknown"))}function Kl(t){return t.ma||(t.ma=(function(n,i,a){const o=Pe(n);return o.sa(),new R6(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:O6.bind(null,t),t_:V6.bind(null,t),r_:P6.bind(null,t),H_:j6.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),cv(t)?lv(t):t.Ra.set("Unknown")):(await t.ma.stop(),I2(t))}))),t.ma}function ua(t){return t.fa||(t.fa=(function(n,i,a){const o=Pe(n);return o.sa(),new N6(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:z6.bind(null,t),r_:q6.bind(null,t),ta:B6.bind(null,t),na:F6.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await _m(t)):(await t.fa.stop(),t.Ta.length>0&&(ye(po,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class uv{constructor(e,n,i,a,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=o,this.deferred=new Xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,o){const c=Date.now()+i,d=new uv(e,n,c,a,o);return d.start(i),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dv(t,e){if(es("AsyncQueue",`${e}: ${t}`),$l(t))return new me(re.UNAVAILABLE,`${e}: ${t}`);throw t}class xl{static emptySet(e){return new xl(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||xe.comparator(n.key,i.key):(n,i)=>xe.comparator(n.key,i.key),this.keyedMap=cu(),this.sortedSet=new Tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=i.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new xl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class wE{constructor(){this.ga=new Tt(xe.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ke(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class Vl{constructor(e,n,i,a,o,c,d,h,f){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,n,i,a,o){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new Vl(e,n,xl.emptySet(n),c,i,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}class $6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class G6{constructor(){this.queries=TE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=Pe(n),o=a.queries;a.queries=TE(),o.forEach(((c,d)=>{for(const h of d.Sa)h.onError(i)}))})(this,new me(re.ABORTED,"Firestore shutting down"))}}function TE(){return new vo((t=>e2(t)),fm)}async function hv(t,e){const n=Pe(t);let i=3;const a=e.query;let o=n.queries.get(a);o?!o.ba()&&e.Da()&&(i=2):(o=new $6,i=e.Da()?0:1);try{switch(i){case 0:o.wa=await n.onListen(a,!0);break;case 1:o.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=dv(c,`Initialization of query '${ul(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&mv(n)}async function fv(t,e){const n=Pe(t),i=e.query;let a=3;const o=n.queries.get(i);if(o){const c=o.Sa.indexOf(e);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?a=e.Da()?0:1:!o.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function K6(t,e){const n=Pe(t);let i=!1;for(const a of e){const o=a.query,c=n.queries.get(o);if(c){for(const d of c.Sa)d.Fa(a)&&(i=!0);c.wa=a}}i&&mv(n)}function Y6(t,e,n){const i=Pe(t),a=i.queries.get(e);if(a)for(const o of a.Sa)o.onError(n);i.queries.delete(e)}function mv(t){t.Ca.forEach((e=>{e.next()}))}var Z0,EE;(EE=Z0||(Z0={})).Ma="default",EE.Cache="cache";class pv{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Vl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Vl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Z0.Cache}}class O2{constructor(e){this.key=e}}class V2{constructor(e){this.key=e}}class Q6{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ye(),this.mutatedKeys=Ye(),this.eu=t2(e),this.tu=new xl(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new wE,a=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const h=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,f=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((g,v)=>{const _=a.get(g),x=mm(this.query,v)?v:null,k=!!_&&this.mutatedKeys.has(_.key),A=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let I=!1;_&&x?_.data.isEqual(x.data)?k!==A&&(i.track({type:3,doc:x}),I=!0):this.su(_,x)||(i.track({type:2,doc:x}),I=!0,(h&&this.eu(x,h)>0||f&&this.eu(x,f)<0)&&(d=!0)):!_&&x?(i.track({type:0,doc:x}),I=!0):_&&!x&&(i.track({type:1,doc:_}),I=!0,(h||f)&&(d=!0)),I&&(x?(c=c.add(x),o=A?o.add(g):o.delete(g)):(c=c.delete(g),o=o.delete(g)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const g=this.query.limitType==="F"?c.last():c.first();c=c.delete(g.key),o=o.delete(g.key),i.track({type:1,doc:g})}return{tu:c,iu:i,Cs:d,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((g,v)=>(function(x,k){const A=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke(20277,{Rt:I})}};return A(x)-A(k)})(g.type,v.type)||this.eu(g.doc,v.doc))),this.ou(i),a=a??!1;const d=n&&!a?this._u():[],h=this.Xa.size===0&&this.current&&!a?1:0,f=h!==this.Za;return this.Za=h,c.length!==0||f?{snapshot:new Vl(this.query,e.tu,o,c,e.mutatedKeys,h===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new wE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ye(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return e.forEach((i=>{this.Xa.has(i)||n.push(new V2(i))})),this.Xa.forEach((i=>{e.has(i)||n.push(new O2(i))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ye();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Vl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const gv="SyncEngine";class X6{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class W6{constructor(e){this.key=e,this.hu=!1}}class Z6{constructor(e,n,i,a,o,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new vo((d=>e2(d)),fm),this.Iu=new Map,this.Eu=new Set,this.du=new Tt(xe.comparator),this.Au=new Map,this.Ru=new nv,this.Vu={},this.mu=new Map,this.fu=Ol.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function J6(t,e,n=!0){const i=B2(t);let a;const o=i.Tu.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await P2(i,e,n,!0),a}async function ej(t,e){const n=B2(t);await P2(n,e,!0,!1)}async function P2(t,e,n,i){const a=await _6(t.localStore,hr(e)),o=a.targetId,c=t.sharedClientState.addLocalQueryTarget(o,n);let d;return i&&(d=await tj(t,e,o,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&R2(t.remoteStore,a),d}async function tj(t,e,n,i,a){t.pu=(v,_,x)=>(async function(A,I,U,B){let j=I.view.ru(U);j.Cs&&(j=await pE(A.localStore,I.query,!1).then((({documents:S})=>I.view.ru(S,j))));const $=B&&B.targetChanges.get(I.targetId),ne=B&&B.targetMismatches.get(I.targetId)!=null,ee=I.view.applyChanges(j,A.isPrimaryClient,$,ne);return SE(A,I.targetId,ee.au),ee.snapshot})(t,v,_,x);const o=await pE(t.localStore,e,!0),c=new Q6(e,o.Qs),d=c.ru(o.documents),h=nd.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),f=c.applyChanges(d,t.isPrimaryClient,h);SE(t,n,f.au);const g=new X6(e,n,c);return t.Tu.set(e,g),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function nj(t,e,n){const i=Pe(t),a=i.Tu.get(e),o=i.Iu.get(a.targetId);if(o.length>1)return i.Iu.set(a.targetId,o.filter((c=>!fm(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await X0(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),n&&av(i.remoteStore,a.targetId),J0(i,a.targetId)})).catch(Hl)):(J0(i,a.targetId),await X0(i.localStore,a.targetId,!0))}async function ij(t,e){const n=Pe(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),av(n.remoteStore,i.targetId))}async function rj(t,e,n){const i=dj(t);try{const a=await(function(c,d){const h=Pe(c),f=Je.now(),g=d.reduce(((x,k)=>x.add(k.key)),Ye());let v,_;return h.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let k=ts(),A=Ye();return h.Ns.getEntries(x,g).next((I=>{k=I,k.forEach(((U,B)=>{B.isValidDocument()||(A=A.add(U))}))})).next((()=>h.localDocuments.getOverlayedDocuments(x,k))).next((I=>{v=I;const U=[];for(const B of d){const j=bP(B,v.get(B.key).overlayedDocument);j!=null&&U.push(new ba(B.key,j,GA(j.value.mapValue),mi.exists(!0)))}return h.mutationQueue.addMutationBatch(x,f,U,d)})).next((I=>{_=I;const U=I.applyToLocalDocumentSet(v,A);return h.documentOverlayCache.saveOverlays(x,I.batchId,U)}))})).then((()=>({batchId:_.batchId,changes:i2(v)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(c,d,h){let f=c.Vu[c.currentUser.toKey()];f||(f=new Tt(Ke)),f=f.insert(d,h),c.Vu[c.currentUser.toKey()]=f})(i,a.batchId,n),await rd(i,a.changes),await _m(i.remoteStore)}catch(a){const o=dv(a,"Failed to persist write");n.reject(o)}}async function j2(t,e){const n=Pe(t);try{const i=await y6(n.localStore,e);e.targetChanges.forEach(((a,o)=>{const c=n.Au.get(o);c&&(nt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?nt(c.hu,14607):a.removedDocuments.size>0&&(nt(c.hu,42227),c.hu=!1))})),await rd(n,i,e)}catch(i){await Hl(i)}}function xE(t,e,n){const i=Pe(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach(((o,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const h=Pe(c);h.onlineState=d;let f=!1;h.queries.forEach(((g,v)=>{for(const _ of v.Sa)_.va(d)&&(f=!0)})),f&&mv(h)})(i.eventManager,e),a.length&&i.Pu.H_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function sj(t,e,n){const i=Pe(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Au.get(e),o=a&&a.key;if(o){let c=new Tt(xe.comparator);c=c.insert(o,gn.newNoDocument(o,Oe.min()));const d=Ye().add(o),h=new ym(Oe.min(),new Map,new Tt(Ke),c,d);await j2(i,h),i.du=i.du.remove(o),i.Au.delete(e),yv(i)}else await X0(i.localStore,e,!1).then((()=>J0(i,e,n))).catch(Hl)}async function aj(t,e){const n=Pe(t),i=e.batch.batchId;try{const a=await g6(n.localStore,e);U2(n,i,null),L2(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await rd(n,a)}catch(a){await Hl(a)}}async function oj(t,e,n){const i=Pe(t);try{const a=await(function(c,d){const h=Pe(c);return h.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let g;return h.mutationQueue.lookupMutationBatch(f,d).next((v=>(nt(v!==null,37113),g=v.keys(),h.mutationQueue.removeMutationBatch(f,v)))).next((()=>h.mutationQueue.performConsistencyCheck(f))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(f,g,d))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g))).next((()=>h.localDocuments.getDocuments(f,g)))}))})(i.localStore,e);U2(i,e,n),L2(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await rd(i,a)}catch(a){await Hl(a)}}function L2(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function U2(t,e,n){const i=Pe(t);let a=i.Vu[i.currentUser.toKey()];if(a){const o=a.get(e);o&&(n?o.reject(n):o.resolve(),a=a.remove(e)),i.Vu[i.currentUser.toKey()]=a}}function J0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((i=>{t.Ru.containsKey(i)||z2(t,i)}))}function z2(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(av(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),yv(t))}function SE(t,e,n){for(const i of n)i instanceof O2?(t.Ru.addReference(i.key,e),lj(t,i)):i instanceof V2?(ye(gv,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||z2(t,i.key)):ke(19791,{wu:i})}function lj(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(ye(gv,"New document in limbo: "+n),t.Eu.add(i),yv(t))}function yv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new xe(ht.fromString(e)),i=t.fu.next();t.Au.set(i,new W6(n)),t.du=t.du.insert(n,i),R2(t.remoteStore,new Zs(hr(hm(n.path)),i,"TargetPurposeLimboResolution",cm.ce))}}async function rd(t,e,n){const i=Pe(t),a=[],o=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((d,h)=>{c.push(i.pu(h,e,n).then((f=>{if((f||n)&&i.isPrimaryClient){const g=f?!f.fromCache:n?.targetChanges.get(h.targetId)?.current;i.sharedClientState.updateQueryState(h.targetId,g?"current":"not-current")}if(f){a.push(f);const g=rv.As(h.targetId,f);o.push(g)}})))})),await Promise.all(c),i.Pu.H_(a),await(async function(h,f){const g=Pe(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>ae.forEach(f,(_=>ae.forEach(_.Es,(x=>g.persistence.referenceDelegate.addReference(v,_.targetId,x))).next((()=>ae.forEach(_.ds,(x=>g.persistence.referenceDelegate.removeReference(v,_.targetId,x)))))))))}catch(v){if(!$l(v))throw v;ye(sv,"Failed to update sequence numbers: "+v)}for(const v of f){const _=v.targetId;if(!v.fromCache){const x=g.Ms.get(_),k=x.snapshotVersion,A=x.withLastLimboFreeSnapshotVersion(k);g.Ms=g.Ms.insert(_,A)}}})(i.localStore,o))}async function cj(t,e){const n=Pe(t);if(!n.currentUser.isEqual(e)){ye(gv,"User change. New user:",e.toKey());const i=await x2(n.localStore,e);n.currentUser=e,(function(o,c){o.mu.forEach((d=>{d.forEach((h=>{h.reject(new me(re.CANCELLED,c))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await rd(n,i.Ls)}}function uj(t,e){const n=Pe(t),i=n.Au.get(e);if(i&&i.hu)return Ye().add(i.key);{let a=Ye();const o=n.Iu.get(e);if(!o)return a;for(const c of o){const d=n.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function B2(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=j2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sj.bind(null,e),e.Pu.H_=K6.bind(null,e.eventManager),e.Pu.yu=Y6.bind(null,e.eventManager),e}function dj(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oj.bind(null,e),e}class qf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return p6(this.persistence,new h6,e.initialUser,this.serializer)}Cu(e){return new E2(iv.mi,this.serializer)}Du(e){return new T6}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qf.provider={build:()=>new qf};class hj extends qf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){nt(this.persistence.referenceDelegate instanceof Bf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new WP(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new E2((i=>Bf.mi(i,n)),this.serializer)}}class ey{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>xE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=cj.bind(null,this.syncEngine),await H6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new G6})()}createDatastore(e){const n=vm(e.databaseInfo.databaseId),i=(function(o){return new C6(o)})(e.databaseInfo);return(function(o,c,d,h){return new k6(o,c,d,h)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,a,o,c,d){return new M6(i,a,o,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>xE(this.syncEngine,n,0)),(function(){return vE.v()?new vE:new E6})())}createSyncEngine(e,n){return(function(a,o,c,d,h,f,g){const v=new Z6(a,o,c,d,h,f);return g&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Pe(n);ye(po,"RemoteStore shutting down."),i.Ea.add(5),await id(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ey.provider={build:()=>new ey};class vv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):es("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const da="FirestoreClient";class fj{constructor(e,n,i,a,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=pn.UNAUTHENTICATED,this.clientId=$y.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async c=>{ye(da,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(ye(da,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=dv(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function n0(t,e){t.asyncQueue.verifyOperationInProgress(),ye(da,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async a=>{i.isEqual(a)||(await x2(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function AE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await mj(t);ye(da,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>_E(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,a)=>_E(e.remoteStore,a))),t._onlineComponents=e}async function mj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ye(da,"Using user provided OfflineComponentProvider");try{await n0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===re.FAILED_PRECONDITION||a.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Il("Error using user provided cache. Falling back to memory cache: "+n),await n0(t,new qf)}}else ye(da,"Using default OfflineComponentProvider"),await n0(t,new hj(void 0));return t._offlineComponents}async function F2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ye(da,"Using user provided OnlineComponentProvider"),await AE(t,t._uninitializedComponentsProvider._online)):(ye(da,"Using default OnlineComponentProvider"),await AE(t,new ey))),t._onlineComponents}function pj(t){return F2(t).then((e=>e.syncEngine))}async function Hf(t){const e=await F2(t),n=e.eventManager;return n.onListen=J6.bind(null,e.syncEngine),n.onUnlisten=nj.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ej.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ij.bind(null,e.syncEngine),n}function gj(t,e,n={}){const i=new Xr;return t.asyncQueue.enqueueAndForget((async()=>(function(o,c,d,h,f){const g=new vv({next:_=>{g.Nu(),c.enqueueAndForget((()=>fv(o,v)));const x=_.docs.has(d);!x&&_.fromCache?f.reject(new me(re.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&_.fromCache&&h&&h.source==="server"?f.reject(new me(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(_)},error:_=>f.reject(_)}),v=new pv(hm(d.path),g,{includeMetadataChanges:!0,qa:!0});return hv(o,v)})(await Hf(t),t.asyncQueue,e,n,i))),i.promise}function yj(t,e,n={}){const i=new Xr;return t.asyncQueue.enqueueAndForget((async()=>(function(o,c,d,h,f){const g=new vv({next:_=>{g.Nu(),c.enqueueAndForget((()=>fv(o,v))),_.fromCache&&h.source==="server"?f.reject(new me(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(_)},error:_=>f.reject(_)}),v=new pv(d,g,{includeMetadataChanges:!0,qa:!0});return hv(o,v)})(await Hf(t),t.asyncQueue,e,n,i))),i.promise}function q2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const CE=new Map;const H2="firestore.googleapis.com",RE=!0;class NE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=H2,this.ssl=RE}else this.host=e.host,this.ssl=e.ssl??RE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=T2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<QP)throw new me(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}M5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=q2(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new me(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new me(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new me(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wm{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new E5;switch(i.type){case"firstParty":return new C5(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new me(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=CE.get(n);i&&(ye("ComponentProvider","Removing Datastore"),CE.delete(n),i.terminate())})(this),Promise.resolve()}}function vj(t,e,n,i={}){t=Vn(t,wm);const a=Bl(e),o=t._getSettings(),c={...o,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;a&&(jS(`https://${d}`),LS("Firestore",!0)),o.host!==H2&&o.host!==d&&Il("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...o,host:d,ssl:a,emulatorOptions:i};if(!co(h,c)&&(t._setSettings(h),i.mockUserToken)){let f,g;if(typeof i.mockUserToken=="string")f=i.mockUserToken,g=pn.MOCK_USER;else{f=RM(i.mockUserToken,t._app?.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new me(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new pn(v)}t._authCredentials=new x5(new OA(f,g))}}class ls{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ls(this.firestore,e,this._query)}}class At{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ra(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new At(this.firestore,e,this._key)}toJSON(){return{type:At._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(ed(n,At._jsonSchema))return new At(e,i||null,new xe(ht.fromString(n.referencePath)))}}At._jsonSchemaVersion="firestore/documentReference/1.0",At._jsonSchema={type:Gt("string",At._jsonSchemaVersion),referencePath:Gt("string")};class ra extends ls{constructor(e,n,i){super(e,n,hm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new At(this.firestore,null,new xe(e))}withConverter(e){return new ra(this.firestore,e,this._path)}}function Js(t,e,...n){if(t=wt(t),VA("collection","path",e),t instanceof wm){const i=ht.fromString(e,...n);return FT(i),new ra(t,null,i)}{if(!(t instanceof At||t instanceof ra))throw new me(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ht.fromString(e,...n));return FT(i),new ra(t.firestore,null,i)}}function yn(t,e,...n){if(t=wt(t),arguments.length===1&&(e=$y.newId()),VA("doc","path",e),t instanceof wm){const i=ht.fromString(e,...n);return BT(i),new At(t,null,new xe(i))}{if(!(t instanceof At||t instanceof ra))throw new me(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ht.fromString(e,...n));return BT(i),new At(t.firestore,t instanceof ra?t.converter:null,new xe(i))}}const IE="AsyncQueue";class kE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new A2(this,"async_queue_retry"),this._c=()=>{const i=t0();i&&ye(IE,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=t0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=t0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Xr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!$l(e))throw e;ye(IE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,es("INTERNAL UNHANDLED ERROR: ",DE(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=uv.createAndSchedule(this,e,n,i,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&ke(47125,{Pc:DE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function DE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function ME(t){return(function(n,i){if(typeof n!="object"||n===null)return!1;const a=n;for(const o of i)if(o in a&&typeof a[o]=="function")return!0;return!1})(t,["next","error","complete"])}class ns extends wm{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new kE,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kE(e),this._firestoreClient=void 0,await e}}}function bj(t,e){const n=typeof t=="object"?t:FS(),i=typeof t=="string"?t:Of,a=Vy(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const o=AM("firestore");o&&vj(a,...o)}return a}function Tm(t){if(t._terminated)throw new me(re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||_j(t),t._firestoreClient}function _j(t){const e=t._freezeSettings(),n=(function(a,o,c,d){return new H5(a,o,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,q2(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new fj(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(t._componentsProvider))}class hi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hi(hn.fromBase64String(e))}catch(n){throw new me(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new hi(hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:hi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ed(e,hi._jsonSchema))return hi.fromBase64String(e.bytes)}}hi._jsonSchemaVersion="firestore/bytes/1.0",hi._jsonSchema={type:Gt("string",hi._jsonSchemaVersion),bytes:Gt("string")};class Em{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class bv{constructor(e){this._methodName=e}}class mr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:mr._jsonSchemaVersion}}static fromJSON(e){if(ed(e,mr._jsonSchema))return new mr(e.latitude,e.longitude)}}mr._jsonSchemaVersion="firestore/geoPoint/1.0",mr._jsonSchema={type:Gt("string",mr._jsonSchemaVersion),latitude:Gt("number"),longitude:Gt("number")};class pr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==a[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:pr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ed(e,pr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new pr(e.vectorValues);throw new me(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}pr._jsonSchemaVersion="firestore/vectorValue/1.0",pr._jsonSchema={type:Gt("string",pr._jsonSchemaVersion),vectorValues:Gt("object")};const wj=/^__.*__$/;class Tj{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new ba(e,this.data,this.fieldMask,n,this.fieldTransforms):new td(e,this.data,n,this.fieldTransforms)}}class $2{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new ba(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function G2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke(40011,{Ac:t})}}class _v{constructor(e,n,i,a,o,c){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new _v({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return $f(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(G2(this.Ac)&&wj.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Ej{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||vm(e)}Cc(e,n,i,a=!1){return new _v({Ac:e,methodName:n,Dc:i,path:un.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xm(t){const e=t._freezeSettings(),n=vm(t._databaseId);return new Ej(t._databaseId,!!e.ignoreUndefinedProperties,n)}function K2(t,e,n,i,a,o={}){const c=t.Cc(o.merge||o.mergeFields?2:0,e,n,a);wv("Data must be an object, but it was:",c,i);const d=Y2(i,c);let h,f;if(o.merge)h=new Kn(c.fieldMask),f=c.fieldTransforms;else if(o.mergeFields){const g=[];for(const v of o.mergeFields){const _=ty(e,v,n);if(!c.contains(_))throw new me(re.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);X2(g,_)||g.push(_)}h=new Kn(g),f=c.fieldTransforms.filter((v=>h.covers(v.field)))}else h=null,f=c.fieldTransforms;return new Tj(new Mn(d),h,f)}class Sm extends bv{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sm}}function xj(t,e,n,i){const a=t.Cc(1,e,n);wv("Data must be an object, but it was:",a,i);const o=[],c=Mn.empty();va(i,((h,f)=>{const g=Tv(e,h,n);f=wt(f);const v=a.yc(g);if(f instanceof Sm)o.push(g);else{const _=sd(f,v);_!=null&&(o.push(g),c.set(g,_))}}));const d=new Kn(o);return new $2(c,d,a.fieldTransforms)}function Sj(t,e,n,i,a,o){const c=t.Cc(1,e,n),d=[ty(e,i,n)],h=[a];if(o.length%2!=0)throw new me(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)d.push(ty(e,o[_])),h.push(o[_+1]);const f=[],g=Mn.empty();for(let _=d.length-1;_>=0;--_)if(!X2(f,d[_])){const x=d[_];let k=h[_];k=wt(k);const A=c.yc(x);if(k instanceof Sm)f.push(x);else{const I=sd(k,A);I!=null&&(f.push(x),g.set(x,I))}}const v=new Kn(f);return new $2(g,v,c.fieldTransforms)}function Aj(t,e,n,i=!1){return sd(n,t.Cc(i?4:3,e))}function sd(t,e){if(Q2(t=wt(t)))return wv("Unsupported field value:",e,t),Y2(t,e);if(t instanceof bv)return(function(i,a){if(!G2(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,a){const o=[];let c=0;for(const d of i){let h=sd(d,a.wc(c));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),c++}return{arrayValue:{values:o}}})(t,e)}return(function(i,a){if((i=wt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return fP(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=Je.fromDate(i);return{timestampValue:zf(a.serializer,o)}}if(i instanceof Je){const o=new Je(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:zf(a.serializer,o)}}if(i instanceof mr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof hi)return{bytesValue:p2(a.serializer,i._byteString)};if(i instanceof At){const o=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(o))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:tv(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof pr)return(function(c,d){return{mapValue:{fields:{[HA]:{stringValue:$A},[Vf]:{arrayValue:{values:c.toArray().map((f=>{if(typeof f!="number")throw d.Sc("VectorValues must only contain numeric values.");return Wy(d.serializer,f)}))}}}}}})(i,a);throw a.Sc(`Unsupported field value: ${lm(i)}`)})(t,e)}function Y2(t,e){const n={};return LA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):va(t,((i,a)=>{const o=sd(a,e.mc(i));o!=null&&(n[i]=o)})),{mapValue:{fields:n}}}function Q2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Je||t instanceof mr||t instanceof hi||t instanceof At||t instanceof bv||t instanceof pr)}function wv(t,e,n){if(!Q2(n)||!PA(n)){const i=lm(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function ty(t,e,n){if((e=wt(e))instanceof Em)return e._internalPath;if(typeof e=="string")return Tv(t,e);throw $f("Field path arguments must be of type string or ",t,!1,void 0,n)}const Cj=new RegExp("[~\\*/\\[\\]]");function Tv(t,e,n){if(e.search(Cj)>=0)throw $f(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Em(...e.split("."))._internalPath}catch{throw $f(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function $f(t,e,n,i,a){const o=i&&!i.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let h="";return(o||c)&&(h+=" (found",o&&(h+=` in field ${i}`),c&&(h+=` in document ${a}`),h+=")"),new me(re.INVALID_ARGUMENT,d+t+h)}function X2(t,e){return t.some((n=>n.isEqual(e)))}class W2{constructor(e,n,i,a,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new At(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Rj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Am("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Rj extends W2{data(){return super.data()}}function Am(t,e){return typeof e=="string"?Tv(t,e):e instanceof Em?e._internalPath:e._delegate._internalPath}function Z2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new me(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ev{}class xv extends Ev{}function is(t,e,...n){let i=[];e instanceof Ev&&i.push(e),i=i.concat(n),(function(o){const c=o.filter((h=>h instanceof Sv)).length,d=o.filter((h=>h instanceof Cm)).length;if(c>1||c>0&&d>0)throw new me(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)t=a._apply(t);return t}class Cm extends xv{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Cm(e,n,i)}_apply(e){const n=this._parse(e);return J2(e._query,n),new ls(e.firestore,e.converter,$0(e._query,n))}_parse(e){const n=xm(e.firestore);return(function(o,c,d,h,f,g,v){let _;if(f.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new me(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){PE(v,g);const k=[];for(const A of v)k.push(VE(h,o,A));_={arrayValue:{values:k}}}else _=VE(h,o,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||PE(v,g),_=Aj(d,c,v,g==="in"||g==="not-in");return $t.create(f,g,_)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Kh(t,e,n){const i=e,a=Am("where",t);return Cm._create(a,i,n)}class Sv extends Ev{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Sv(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:Vi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,o){let c=a;const d=o.getFlattenedFilters();for(const h of d)J2(c,h),c=$0(c,h)})(e._query,n),new ls(e.firestore,e.converter,$0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Av extends xv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Av(e,n)}_apply(e){const n=(function(a,o,c){if(a.startAt!==null)throw new me(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new me(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Mu(o,c)})(e._query,this._field,this._direction);return new ls(e.firestore,e.converter,(function(a,o){const c=a.explicitOrderBy.concat([o]);return new Gl(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function Pu(t,e="asc"){const n=e,i=Am("orderBy",t);return Av._create(i,n)}class Cv extends xv{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new Cv(e,n,i)}_apply(e){return new ls(e.firestore,e.converter,jf(e._query,this._limit,this._limitType))}}function OE(t){return Cv._create("limit",t,"F")}function VE(t,e,n){if(typeof(n=wt(n))=="string"){if(n==="")throw new me(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!JA(e)&&n.indexOf("/")!==-1)throw new me(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(ht.fromString(n));if(!xe.isDocumentKey(i))throw new me(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return XT(t,new xe(i))}if(n instanceof At)return XT(t,n._key);throw new me(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lm(n)}.`)}function PE(t,e){if(!Array.isArray(t)||t.length===0)throw new me(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function J2(t,e){const n=(function(a,o){for(const c of a)for(const d of c.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new me(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Nj{convertValue(e,n="none"){switch(ca(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(la(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ke(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return va(e,((a,o)=>{i[a]=this.convertValue(o,n)})),i}convertVectorValue(e){const n=e.fields?.[Vf].arrayValue?.values?.map((i=>Dt(i.doubleValue)));return new pr(n)}convertGeoPoint(e){return new mr(Dt(e.latitude),Dt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=dm(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Iu(e));default:return null}}convertTimestamp(e){const n=oa(e);return new Je(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=ht.fromString(e);nt(w2(i),9688,{name:e});const a=new ku(i.get(1),i.get(3)),o=new xe(i.popFirst(5));return a.isEqual(n)||es(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}function eC(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}class du{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ro extends W2{constructor(e,n,i,a,o,c){super(e,n,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new pf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Am("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ro._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ro._jsonSchemaVersion="firestore/documentSnapshot/1.0",ro._jsonSchema={type:Gt("string",ro._jsonSchemaVersion),bundleSource:Gt("string","DocumentSnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class pf extends ro{data(e={}){return super.data(e)}}class so{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new du(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new pf(this._firestore,this._userDataWriter,i.key,i,new du(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const h=new pf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new du(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:h,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>o||d.type!==3)).map((d=>{const h=new pf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new du(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let f=-1,g=-1;return d.type!==0&&(f=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),g=c.indexOf(d.doc.key)),{type:Ij(d.type),doc:h,oldIndex:f,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=so._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=$y.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Ij(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke(61501,{type:t})}}function kj(t){t=Vn(t,At);const e=Vn(t.firestore,ns);return gj(Tm(e),t._key).then((n=>tC(e,t,n)))}so._jsonSchemaVersion="firestore/querySnapshot/1.0",so._jsonSchema={type:Gt("string",so._jsonSchemaVersion),bundleSource:Gt("string","QuerySnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class Rv extends Nj{constructor(e){super(),this.firestore=e}convertBytes(e){return new hi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new At(this.firestore,null,n)}}function Pl(t){t=Vn(t,ls);const e=Vn(t.firestore,ns),n=Tm(e),i=new Rv(e);return Z2(t._query),yj(n,t._query).then((a=>new so(e,i,t,a)))}function Sl(t,e,n){t=Vn(t,At);const i=Vn(t.firestore,ns),a=eC(t.converter,e,n);return Dm(i,[K2(xm(i),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,mi.none())])}function Rm(t,e,n,...i){t=Vn(t,At);const a=Vn(t.firestore,ns),o=xm(a);let c;return c=typeof(e=wt(e))=="string"||e instanceof Em?Sj(o,"updateDoc",t._key,e,n,i):xj(o,"updateDoc",t._key,e),Dm(a,[c.toMutation(t._key,mi.exists(!0))])}function Nm(t){return Dm(Vn(t.firestore,ns),[new Zy(t._key,mi.none())])}function Im(t,e){const n=Vn(t.firestore,ns),i=yn(t),a=eC(t.converter,e);return Dm(n,[K2(xm(t.firestore),"addDoc",i._key,a,t.converter!==null,{}).toMutation(i._key,mi.exists(!1))]).then((()=>i))}function km(t,...e){t=wt(t);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||ME(e[i])||(n=e[i++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(ME(e[i])){const h=e[i];e[i]=h.next?.bind(h),e[i+1]=h.error?.bind(h),e[i+2]=h.complete?.bind(h)}let o,c,d;if(t instanceof At)c=Vn(t.firestore,ns),d=hm(t._key.path),o={next:h=>{e[i]&&e[i](tC(c,t,h))},error:e[i+1],complete:e[i+2]};else{const h=Vn(t,ls);c=Vn(h.firestore,ns),d=h._query;const f=new Rv(c);o={next:g=>{e[i]&&e[i](new so(c,f,h,g))},error:e[i+1],complete:e[i+2]},Z2(t._query)}return(function(f,g,v,_){const x=new vv(_),k=new pv(g,x,v);return f.asyncQueue.enqueueAndForget((async()=>hv(await Hf(f),k))),()=>{x.Nu(),f.asyncQueue.enqueueAndForget((async()=>fv(await Hf(f),k)))}})(Tm(c),d,a,o)}function Dm(t,e){return(function(i,a){const o=new Xr;return i.asyncQueue.enqueueAndForget((async()=>rj(await pj(i),a,o))),o.promise})(Tm(t),e)}function tC(t,e,n){const i=n.docs.get(e._key),a=new Rv(t);return new ro(t,a,e._key,i,new du(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){ql=a})(Fl),Rl(new uo("firestore",((i,{instanceIdentifier:a,options:o})=>{const c=i.getProvider("app").getImmediate(),d=new ns(new S5(i.getProvider("auth-internal")),new R5(c,i.getProvider("app-check-internal")),(function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new me(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ku(f.options.projectId,g)})(c,a),c);return o={useFetchStreams:n,...o},d._setSettings(o),d}),"PUBLIC").setMultipleInstances(!0)),na(jT,LT,e),na(jT,LT,"esm2020")})();const Dj={apiKey:"AIzaSyDwUA0paVI6n01aENV5Q2aLwVz1DEDtNuA",authDomain:"personal-budget-pwa-5defb.firebaseapp.com",projectId:"personal-budget-pwa-5defb",storageBucket:"personal-budget-pwa-5defb.firebasestorage.app",messagingSenderId:"137454342284",appId:"1:137454342284:web:d7a8169fd53f437e42aba9"},nC=BS(Dj),qs=b5(nC),Mt=bj(nC),i0=t=>({id:t.uid,username:t.email||t.uid,displayName:t.displayName||t.email?.split("@")[0]||"User",email:t.email||void 0}),Mi=em()(ky(t=>({currentUser:null,isAuthenticated:!1,loginError:null,isLoading:!1,isInitialized:!1,isInitializing:!0,lastAuthTime:null,offlineGracePeriod:10080*60*1e3,lastVerificationEmailSent:null,login:async(e,n)=>{t({isLoading:!0,loginError:null});try{const a=(await nV(qs,e,n)).user;if(!a.emailVerified)return await AT(qs),t({currentUser:null,isAuthenticated:!1,isLoading:!1,loginError:"Please verify your email address before signing in. Check your email for a verification link."}),console.log(` Login blocked: ${a.email} not verified`),!1;const o=i0(a);return t({currentUser:o,isAuthenticated:!0,isLoading:!1,loginError:null,lastAuthTime:Date.now()}),console.log(` User logged in: ${o.email}`),!0}catch(i){console.error("Login error:",i),console.error("Error code:",i.code),console.error("Error message:",i.message);let a="Login failed. Please try again.";if(i.code)switch(i.code){case"auth/invalid-email":a="Invalid email address.";break;case"auth/user-disabled":a="This account has been disabled.";break;case"auth/user-not-found":a="No account found with this email.";break;case"auth/wrong-password":a="Incorrect password.";break;case"auth/too-many-requests":a="Too many failed attempts. Please try again later.";break;case"auth/network-request-failed":a="Network error. Please check your connection and try again.";break;case"auth/invalid-credential":a="Invalid email or password.";break;default:console.warn(`Unhandled Firebase error code: ${i.code}`),a="Authentication failed. Please try again.";break}else console.warn("Non-Firebase error in login:",i),a="An unexpected error occurred. Please try again.";return t({currentUser:null,isAuthenticated:!1,isLoading:!1,loginError:a}),!1}},register:async(e,n,i)=>{t({isLoading:!0,loginError:null});try{const o=(await tV(qs,e,n)).user;await rV(o,{displayName:i}),await ST(o);const c=i0(o);return t({currentUser:c,isAuthenticated:!1,isLoading:!1,loginError:null,lastVerificationEmailSent:Date.now()}),console.log(` User registered: ${c.email}, verification email sent`),!0}catch(a){console.error("Registration error:",a);let o="Registration failed. Please try again.";switch(a.code){case"auth/email-already-in-use":o="An account with this email already exists.";break;case"auth/invalid-email":o="Invalid email address.";break;case"auth/weak-password":o="Password should be at least 6 characters.";break;case"auth/operation-not-allowed":o="Email/password accounts are not enabled.";break}return t({currentUser:null,isAuthenticated:!1,isLoading:!1,loginError:o}),!1}},logout:async()=>{try{await AT(qs),console.log(" User logged out")}catch(e){console.error("Logout error:",e)}},clearError:()=>{t({loginError:null})},sendPasswordReset:async e=>{t({isLoading:!0,loginError:null});try{return await eV(qs,e),t({isLoading:!1}),!0}catch(n){console.error("Password reset error:",n);let i="Failed to send password reset email. Please try again.";switch(n.code){case"auth/user-not-found":i="No account found with this email.";break;case"auth/invalid-email":i="Invalid email address.";break;case"auth/too-many-requests":i="Too many attempts. Please try again later.";break}return t({isLoading:!1,loginError:i}),!1}},sendEmailVerification:async()=>{const e=qs.currentUser;if(!e)return t({loginError:"No user is currently signed in."}),!1;t({isLoading:!0,loginError:null});try{return await ST(e),t({isLoading:!1,lastVerificationEmailSent:Date.now()}),console.log(` Verification email sent to: ${e.email}`),!0}catch(n){console.error("Email verification error:",n);let i="Failed to send verification email. Please try again.";switch(n.code){case"auth/too-many-requests":i="Too many verification emails sent. Please wait before trying again.";break}return t({isLoading:!1,loginError:i}),!1}},resendEmailVerification:async()=>{const e=Mi.getState();if(e.lastVerificationEmailSent){const n=Date.now()-e.lastVerificationEmailSent,i=60*1e3;if(n<i){const a=Math.ceil((i-n)/1e3);return t({loginError:`Please wait ${a} seconds before requesting another verification email.`}),!1}}return e.sendEmailVerification()},deleteAccount:async e=>{const n=qs.currentUser;if(!n||!n.email)return t({loginError:"No user is currently signed in."}),!1;t({isLoading:!0,loginError:null});try{const i=yo.credential(n.email,e);return await J3(n,i),await lV(n),t({currentUser:null,isAuthenticated:!1,isLoading:!1,loginError:null,lastAuthTime:null}),console.log(` Account permanently deleted: ${n.email}`),!0}catch(i){console.error("Account deletion error:",i);let a="Failed to delete account. Please try again.";switch(i.code){case"auth/requires-recent-login":a="For security, please log out and log back in before deleting your account.";break;case"auth/wrong-password":a="Incorrect password. Please enter your current password.";break;case"auth/too-many-requests":a="Too many deletion attempts. Please wait before trying again.";break;case"auth/network-request-failed":a="Network error. Please check your connection and try again.";break}return t({isLoading:!1,loginError:a}),!1}},initializeAuth:()=>Mi.getState().isInitialized?()=>{}:(t({isInitialized:!1}),oV(qs,i=>{const a=Date.now(),o=Mi.getState(),c=i?i0(i):null,d=o.lastAuthTime&&a-o.lastAuthTime<o.offlineGracePeriod,f=typeof navigator<"u"&&!navigator.onLine&&o.isAuthenticated&&d&&!c,g=i?i.emailVerified:!0,v=i&&g||!!f,_=i?c:f?o.currentUser:null;t({currentUser:_,isAuthenticated:v,isInitialized:!0,isLoading:!1,loginError:null,lastAuthTime:i&&g?a:o.lastAuthTime}),_?console.log(` Auth state: User is signed in (${_.email})`,f?"(offline grace period)":g?"(verified)":"(unverified)"):console.log(" Auth state: User is signed out")}))}),{name:"auth-storage",partialize:t=>({isAuthenticated:t.isAuthenticated,currentUser:t.currentUser,lastAuthTime:t.lastAuthTime,offlineGracePeriod:t.offlineGracePeriod,lastVerificationEmailSent:t.lastVerificationEmailSent})})),r0=t=>Js(Mt,"users",t,"transactions"),cr={subscribeToTransactions:(t,e)=>{const n=is(r0(t),Pu("date","desc"));return km(n,a=>{const o=a.docs.map(c=>({id:c.id,...c.data()}));e(o)})},getAllTransactions:async t=>{console.log(` TransactionService.getAllTransactions: Fetching for user ${t}`);const e=is(r0(t),Pu("date","desc")),i=(await Pl(e)).docs.map(a=>({id:a.id,...a.data()}));return console.log(` Fetched ${i.length} transactions:`,i.map(a=>({id:a.id,description:a.description}))),i},addTransaction:async t=>{const{userId:e,id:n,...i}=t;if(!e)throw new Error("User ID is required to create transaction");console.log(` TransactionService.addTransaction: Adding transaction for user ${e}:`,i),console.log(` Original transaction had temp ID: ${n}`);try{console.log(" About to call addDoc with:",i);const a=await Im(r0(e),i);console.log(" addDoc succeeded, docRef:",a),console.log(` Document ID: ${a.id}`),console.log(` Document path: ${a.path}`);const o={id:a.id,...i,userId:e};return console.log(" Final result object:",o),o}catch(a){throw console.error(" addDoc failed:",a),console.error("Error message:",a.message),a}},updateTransaction:async(t,e,n)=>{const i=yn(Mt,"users",t,"transactions",e);return await Rm(i,n)},deleteTransaction:async(t,e)=>{console.log(` TransactionService.deleteTransaction: Deleting transaction ${e} for user ${t}`);try{const n=yn(Mt,"users",t,"transactions",e);console.log(` Deleting document at path: ${n.path}`),await Nm(n),console.log(` TransactionService.deleteTransaction: Successfully deleted transaction ${e}`)}catch(n){throw console.error(` TransactionService.deleteTransaction: Failed to delete transaction ${e}:`,n),console.error("Error message:",n.message),n}}},s0=t=>Js(Mt,"users",t,"envelopes"),Xs={subscribeToEnvelopes:(t,e)=>{const n=is(s0(t),Pu("orderIndex","asc"));return km(n,a=>{const o=a.docs.map(c=>({id:c.id,...c.data()}));e(o)})},getAllEnvelopes:async t=>{try{console.log(" EnvelopeService.getAllEnvelopes called for user:",t);const e=s0(t),a=(await Pl(e)).docs.map((o,c)=>({id:o.id,...o.data(),orderIndex:o.data().orderIndex??c})).sort((o,c)=>{const d=o.orderIndex??0,h=c.orderIndex??0;return d-h});return console.log(" Fetched envelopes:",a.length),a}catch(e){return console.error(" EnvelopeService.getAllEnvelopes failed:",e),[]}},createEnvelope:async t=>{const{userId:e,id:n,...i}=t;if(!e)throw new Error("User ID is required to create envelope");console.log(` EnvelopeService.createEnvelope: Adding envelope for user ${e}:`,i),console.log(` Original envelope had temp ID: ${n}`);try{const a=await Im(s0(e),i);console.log(" Envelope addDoc succeeded, docRef:",a),console.log(` Document ID: ${a.id}`);const o={id:a.id,...i,userId:e};return console.log(" Final envelope result object:",o),o}catch(a){throw console.error(" Envelope addDoc failed:",a),a}},saveEnvelope:async(t,e)=>{if(!e.id)throw new Error("Envelope ID is required for save operation");const n=yn(Mt,"users",t,"envelopes",e.id);return await Sl(n,e,{merge:!0})},updateBalance:async(t,e,n)=>{const i=yn(Mt,"users",t,"envelopes",e);return await Rm(i,{currentBalance:n,lastUpdated:new Date().toISOString()})},deleteEnvelope:async(t,e)=>{console.log(` EnvelopeService.deleteEnvelope: Deleting envelope ${e} for user ${t}`);const n=yn(Mt,"users",t,"envelopes",e);await Nm(n),console.log(` EnvelopeService.deleteEnvelope: Successfully deleted envelope ${e}`)}},Mj=({set:t,get:e,getCurrentUserId:n,isNetworkError:i})=>{const a=o=>({id:o.id,date:o.date?.toDate?.()?o.date.toDate().toISOString():o.date,amount:parseFloat(o.amount)||0,description:o.description||"",envelopeId:o.envelopeId||"",reconciled:o.reconciled||!1,type:o.type==="income"?"Income":o.type==="expense"?"Expense":"Transfer",transferId:o.transferId||void 0,userId:o.userId||void 0});return{createEnvelope:async o=>{const c=o.currentBalance&&o.currentBalance>0,d=c?{...o,currentBalance:0,orderIndex:o.orderIndex??0}:{...o,orderIndex:o.orderIndex??0},h=`temp-${Date.now()}-${Math.random()}`,f={...d,id:h};if(t(g=>({envelopes:[...g.envelopes,f],isLoading:!0})),c){console.log(` Creating initial deposit transaction locally first: ${f.name} (tempId: ${h})`);try{await e().addTransaction({description:"Initial Deposit",amount:o.currentBalance,envelopeId:h,date:new Date().toISOString(),type:"Income",reconciled:!1}),console.log(" Initial deposit transaction created locally");const g=e().getEnvelopeBalance(h);console.log(` Test balance for temp envelope ${h}: $${g.toNumber()}`)}catch(g){console.error(" Failed to create initial deposit transaction locally:",g)}}try{console.log(" Attempting Firebase envelope creation...");const g=n(),v={...d,id:"",userId:g},_=await Xs.createEnvelope(v);console.log(" Firebase envelope creation successful:",_);const x={id:_.id,name:_.name,currentBalance:_.currentBalance,lastUpdated:_.lastUpdated,isActive:_.isActive??!0,orderIndex:_.orderIndex??0,userId:_.userId};if(t(k=>({envelopes:k.envelopes.map(A=>A.id===h?x:A),isLoading:!1,pendingSync:!1})),c){console.log(` Updating transactions from temp envelope ID ${h} to real ID ${_.id}`),console.log(" Transactions before update:",e().transactions.map(A=>({id:A.id,envelopeId:A.envelopeId,description:A.description}))),t(A=>({transactions:A.transactions.map(I=>I.envelopeId===h?{...I,envelopeId:_.id}:I)})),console.log(" Transactions after envelopeId update:",e().transactions.map(A=>({id:A.id,envelopeId:A.envelopeId,description:A.description})));const k=e().transactions.filter(A=>A.envelopeId===_.id&&A.id&&A.id.startsWith("temp-"));console.log(` Found ${k.length} transactions to sync for envelope ${_.id}:`,k.map(A=>({id:A.id,envelopeId:A.envelopeId})));for(const A of k)try{console.log(" Syncing transaction:",A);const I={...A,amount:A.amount.toString(),type:A.type.toLowerCase(),date:Je.fromDate(new Date(A.date))},U=await cr.addTransaction(I);console.log(" Transaction synced:",U);const B=a(U);console.log(` Replacing temp transaction ${A.id} with Firebase transaction ${U.id}`),t(j=>({transactions:j.transactions.map($=>$.id===A.id?B:$)}))}catch(I){console.error(` Failed to sync transaction ${A.id}:`,I)}console.log(" Final transactions after sync:",e().transactions.map(A=>({id:A.id,envelopeId:A.envelopeId,description:A.description}))),t({pendingSync:!1}),console.log(` All transactions synced for envelope ${_.id}`)}}catch(g){console.error("Create Envelope Failed:",g),console.log("Error details:",{code:g?.code,message:g?.message,name:g?.name,isNetworkError:i(g)}),i(g)?(console.log(" Treating as offline scenario - keeping temp envelope and transactions"),t({isLoading:!1,pendingSync:!0,error:null})):(console.log(" Real error - removing temp envelope"),t(v=>({envelopes:v.envelopes.filter(_=>_.id!==h),transactions:v.transactions.filter(_=>_.envelopeId!==h),error:g.message,isLoading:!1})))}},addToEnvelope:async(o,c,d,h)=>{const f=h?typeof h=="string"?h:h.toISOString():new Date().toISOString();await e().addTransaction({description:d,amount:c,envelopeId:o,date:f,type:"Income",reconciled:!1})},spendFromEnvelope:async(o,c,d,h)=>{const f=h?typeof h=="string"?h:h.toISOString():new Date().toISOString();await e().addTransaction({description:d,amount:c,envelopeId:o,date:f,type:"Expense",reconciled:!1})},transferFunds:async(o,c,d,h,f)=>{console.log(`Transferring ${d} from ${o} to ${c} with note: ${h}`);const g=f?typeof f=="string"?f:f.toISOString():new Date().toISOString(),v=`transfer-${Date.now()}-${Math.random()}`;await e().addTransaction({description:`Transfer to ${e().envelopes.find(_=>_.id===c)?.name||"envelope"}`,amount:d,envelopeId:o,date:g,type:"Expense",transferId:v,reconciled:!1}),await e().addTransaction({description:`Transfer from ${e().envelopes.find(_=>_.id===o)?.name||"envelope"}`,amount:d,envelopeId:c,date:g,type:"Income",transferId:v,reconciled:!1})},deleteEnvelope:async o=>{const c=e().transactions.filter(d=>d.envelopeId===o);t(d=>({envelopes:d.envelopes.filter(h=>h.id!==o),transactions:d.transactions.filter(h=>h.envelopeId!==o),isLoading:!0}));try{const d=n();await Xs.deleteEnvelope(d,o);for(const h of c)h.id&&!h.id.startsWith("temp-")&&await cr.deleteTransaction(d,h.id);await e().removeEnvelopeFromTemplates(o),t({isLoading:!1})}catch(d){if(console.error("Delete Envelope Failed:",d),i(d))t({isLoading:!1,pendingSync:!0,error:null});else{const h=e().envelopes.find(f=>f.id===o);t(h?f=>({envelopes:[...f.envelopes,h],transactions:[...f.transactions,...c],error:d.message,isLoading:!1}):{error:d.message,isLoading:!1})}}},renameEnvelope:async(o,c)=>{t(d=>({envelopes:d.envelopes.map(h=>h.id===o?{...h,name:c}:h),isLoading:!0}));try{t({isLoading:!1})}catch(d){console.error("Rename Envelope Failed:",d),t({error:d.message,isLoading:!1})}}}},a0=t=>Js(Mt,"users",t,"distributionTemplates"),ui={subscribeToDistributionTemplates:(t,e)=>{const n=is(a0(t),Pu("lastUsed","desc"));return km(n,a=>{const o=a.docs.map(c=>({id:c.id,...c.data()}));e(o)})},getAllDistributionTemplates:async t=>{const e=is(a0(t),Pu("lastUsed","desc"));return(await Pl(e)).docs.map(i=>({id:i.id,...i.data()}))},createDistributionTemplate:async t=>{const{userId:e,id:n,...i}=t;if(!e)throw new Error("User ID is required to create distribution template");console.log(` DistributionTemplateService.createDistributionTemplate: Adding template for user ${e}:`,i);try{const a=await Im(a0(e),i);console.log(" Template addDoc succeeded, docRef:",a);const o={id:a.id,...i,userId:e};return console.log(" Final template result object:",o),o}catch(a){throw console.error(" Template addDoc failed:",a),a}},saveDistributionTemplate:async(t,e)=>{const n=yn(Mt,"users",t,"distributionTemplates",e.id);return await Sl(n,e,{merge:!0})},updateDistributionTemplate:async(t,e,n)=>{const i=yn(Mt,"users",t,"distributionTemplates",e);return await Rm(i,n)},deleteDistributionTemplate:async(t,e)=>{console.log(` DistributionTemplateService.deleteDistributionTemplate: Deleting template ${e} for user ${t}`);const n=yn(Mt,"users",t,"distributionTemplates",e);await Nm(n),console.log(` DistributionTemplateService.deleteDistributionTemplate: Successfully deleted template ${e}`)}},Oj=({set:t,get:e,getCurrentUserId:n,isNetworkError:i})=>({saveTemplate:async(a,o,c)=>{console.log(" saveTemplate called with:",{name:a,distributions:o,note:c});try{const d=n(),h={id:`temp-${Date.now()}`,userId:d,name:a,note:c,lastUsed:new Date().toISOString(),distributions:o};console.log(" Attempting Firebase template save..."),console.log(" Current online status:",navigator.onLine);try{const f=ui.createDistributionTemplate(h),g=new Promise((_,x)=>setTimeout(()=>x(new Error("Firebase timeout - likely offline")),5e3)),v=await Promise.race([f,g]);console.log(" Firebase template save succeeded (online mode):",v),console.log(" Template saved to Firebase - real-time subscription will update local state"),console.log(" Template saved to Firebase:",v),console.log(" Store now has templates:",e().distributionTemplates.length)}catch(f){throw console.log(" Firebase template save failed or timed out:",f.message),f}}catch(d){console.error(" Failed to save template to Firebase, saving locally:",d),console.log(" Error details:",{name:d?.name||"Unknown",message:d?.message||"Unknown",code:d?.code||"Unknown",isNetworkError:i(d)});const h=n(),f={id:`local-${Date.now()}`,userId:h,name:a,note:c,lastUsed:new Date().toISOString(),distributions:o};console.log(" Saving template locally (offline):",f),t(g=>({distributionTemplates:[...g.distributionTemplates,f],pendingSync:!0})),console.log(" Template saved locally as fallback:",f),console.log(" Store now has templates:",e().distributionTemplates.length)}},deleteTemplate:async a=>{try{const o=n();await ui.deleteDistributionTemplate(o,a),t(c=>({distributionTemplates:c.distributionTemplates.filter(d=>d.id!==a)})),console.log(" Template deleted from Firebase:",a)}catch(o){throw console.error(" Failed to delete template from Firebase:",o),o}},cleanupOrphanedTemplates:async()=>{console.log(" Cleaning up orphaned templates...");const a=e().distributionTemplates,o=e().envelopes,c=new Set(o.map(h=>h.id));let d=0;for(const h of a){const f={...h.distributions},g={};for(const[v,_]of Object.entries(h.distributions))c.has(v)&&(g[v]=_);if(Object.keys(g).length===0){console.log(` Deleting orphaned template: ${h.name}`);const v=n();await ui.deleteDistributionTemplate(v,h.id),d++}else if(JSON.stringify(g)!==JSON.stringify(f)){console.log(` Updating template ${h.name} - removed orphaned envelope references`);const v=n();await ui.updateDistributionTemplate(v,h.id,{distributions:g}),d++}}d>0?console.log(` Cleaned up ${d} templates`):console.log(" No orphaned templates found")},updateTemplateEnvelopeReferences:async(a,o)=>{console.log(` Updating template references: ${a}  ${o}`);const c=e().distributionTemplates;let d=0;for(const h of c)if(h.distributions[a]!==void 0){const f={...h.distributions};f[o]=f[a],delete f[a],console.log(` Updating template: ${h.name}`);const g=n();await ui.updateDistributionTemplate(g,h.id,{distributions:f}),d++}d>0&&console.log(` Updated ${d} templates with new envelope reference`)},removeEnvelopeFromTemplates:async a=>{console.log(` Removing envelope ${a} from all templates`);const o=e().distributionTemplates;let c=0,d=0;for(const h of o)if(h.distributions[a]!==void 0){const f={...h.distributions};if(delete f[a],Object.keys(f).length===0){console.log(` Deleting template ${h.name} - no envelopes left`);const g=n();await ui.deleteDistributionTemplate(g,h.id),d++}else{console.log(` Removing envelope from template: ${h.name}`);const g=n();await ui.updateDistributionTemplate(g,h.id,{distributions:f}),c++}}(c>0||d>0)&&console.log(` Updated ${c} templates, deleted ${d} empty templates`)}}),o0=t=>Js(Mt,"users",t,"appSettings"),Hr={subscribeToAppSettings:(t,e)=>{const n=is(o0(t),OE(1));return km(n,a=>{if(a.empty){e(null);return}const o=a.docs.map(c=>({id:c.id,...c.data()}))[0];e(o)})},getAppSettings:async t=>{const e=is(o0(t),OE(1)),n=await Pl(e);if(n.empty)return null;const i=n.docs[0];return{id:i.id,...i.data()}},createAppSettings:async t=>{const{userId:e,...n}=t;if(!e)throw new Error("User ID is required to create app settings");console.log(` AppSettingsService.createAppSettings: Creating settings for user ${e}:`,n);try{const i=await Im(o0(e),n);console.log(" Settings addDoc succeeded, docRef:",i);const a={id:i.id,...n,userId:e};return console.log(" Final settings result object:",a),a}catch(i){throw console.error(" Settings addDoc failed:",i),i}},saveAppSettings:async(t,e)=>{const n=yn(Mt,"users",t,"appSettings",e.id);return await Sl(n,e,{merge:!0})},updateAppSettings:async(t,e,n)=>{const i=yn(Mt,"users",t,"appSettings",e);return await Rm(i,n)},deleteAppSettings:async(t,e)=>{console.log(` AppSettingsService.deleteAppSettings: Deleting settings ${e} for user ${t}`);const n=yn(Mt,"users",t,"appSettings",e);await Nm(n),console.log(` AppSettingsService.deleteAppSettings: Successfully deleted settings ${e}`)}},iC=({set:t,get:e,getCurrentUserId:n})=>({updateAppSettings:async i=>{const a=e();if(!a.appSettings){try{await iC({set:t,get:e,getCurrentUserId:n}).initializeAppSettings();const o=e();if(o.appSettings){const c={...o.appSettings,...i};t({appSettings:c});const d=n();await Hr.updateAppSettings(d,o.appSettings.id,i),console.log(" App settings updated successfully")}}catch(o){console.error(" Failed to initialize/update settings:",o)}return}try{t(c=>({appSettings:{...c.appSettings,...i}}));const o=n();await Hr.updateAppSettings(o,a.appSettings.id,i),console.log(" App settings updated successfully")}catch(o){throw console.error(" Failed to update app settings:",o),t(c=>({appSettings:c.appSettings})),o}},initializeAppSettings:async()=>{try{const a={userId:n(),theme:"system"},o=await Hr.createAppSettings(a);t({appSettings:o}),console.log(" App settings initialized successfully")}catch(i){console.error(" Failed to initialize app settings:",i);const a=n();t({appSettings:{id:"local-settings",userId:a,theme:"system"}})}}}),Vj=t=>t==="income"?"Income":t==="expense"?"Expense":t==="transfer"?"Transfer":t,rC=t=>{const e=t.toLowerCase();return e==="income"||e==="expense"||e==="transfer"?e:"expense"},sC=t=>({id:t.id,date:t.date?.toDate?.()?t.date.toDate().toISOString():t.date,amount:typeof t.amount=="string"?parseFloat(t.amount)||0:t.amount,description:t.description||"",envelopeId:t.envelopeId||"",reconciled:t.reconciled??!1,type:Vj(t.type),transferId:t.transferId??void 0,userId:t.userId}),Pj=(t,e)=>({id:t.id,userId:e,envelopeId:t.envelopeId,amount:t.amount.toString(),date:Je.fromDate(new Date(t.date)),description:t.description,reconciled:t.reconciled??!1,type:rC(t.type),transferId:t.transferId??null}),jj=t=>({envelopeId:t.envelopeId,amount:t.amount.toString(),date:Je.fromDate(new Date(t.date)),description:t.description,reconciled:t.reconciled??!1,type:rC(t.type),transferId:t.transferId??null}),Lj=({set:t,get:e,getCurrentUserId:n,isNetworkError:i})=>({addTransaction:async a=>{const o=`temp-${Date.now()}-${Math.random()}`,c=n(),d={...a,id:o,userId:c};if(t(h=>({transactions:[...h.transactions,d],isLoading:!0})),a.envelopeId.startsWith("temp-"))console.log(` Skipping Firebase sync for transaction with temp envelopeId: ${a.envelopeId}`),t({isLoading:!1,pendingSync:!0});else try{const h=Pj(d,c),f=await cr.addTransaction(h);console.log(` Replacing temp transaction ${o} with Firebase transaction:`,f);const g=sC(f);t(v=>({transactions:v.transactions.map(_=>_.id===o?g:_),isLoading:!1,pendingSync:!1}))}catch(h){console.error("Add Transaction Failed:",h),i(h)?t({isLoading:!1,pendingSync:!0,error:null}):t(f=>({transactions:f.transactions.filter(g=>g.id!==o),error:h.message,isLoading:!1}))}},deleteTransaction:async a=>{const o=e().transactions.find(d=>d.id===a);if(!o)return;const c=[a];if(o.transferId){const d=e().transactions.find(h=>h.transferId===o.transferId&&h.id!==a);d&&d.id&&c.push(d.id)}t(d=>({transactions:d.transactions.filter(h=>h.id&&!c.includes(h.id)),isLoading:!0}));try{const d=n(),h=c.filter(f=>!f.startsWith("temp-"));for(const f of h)console.log(` About to delete transaction ID: ${f}`),await cr.deleteTransaction(d,f),console.log(` Deleted transaction ID: ${f}`);console.log(" All transaction deletions completed"),t({isLoading:!1})}catch(d){if(console.error("Delete Transaction Failed:",d),i(d))t({isLoading:!1,pendingSync:!0,error:null});else{const h=c.map(f=>e().transactions.find(g=>g.id===f)||o).filter(Boolean);t(f=>({transactions:[...f.transactions,...h],error:d.message,isLoading:!1}))}}},updateTransaction:async a=>{console.log(" updateTransaction called:",a),t(o=>({transactions:o.transactions.map(c=>c.id===a.id?a:c),isLoading:!0}));try{const o=n(),c=cr.updateTransaction(o,a.id,jj(a)),d=new Promise((h,f)=>setTimeout(()=>f(new Error("Firebase timeout - likely offline")),5e3));await Promise.race([c,d]),console.log(" Transaction updated in Firebase"),t({isLoading:!1})}catch(o){console.error("Update Transaction Failed:",o),console.log(" Error details:",{name:o?.name||"Unknown",message:o?.message||"Unknown",code:o?.code||"Unknown",isNetworkError:i(o)}),i(o)?(console.log(" Treating as offline scenario - keeping local transaction update"),t({isLoading:!1,pendingSync:!0,error:null})):t({error:o.message,isLoading:!1})}},restoreTransaction:async a=>{t(o=>({transactions:[...o.transactions,a],isLoading:!0}));try{t({isLoading:!1})}catch(o){console.error("Restore Transaction Failed:",o),t({error:o.message,isLoading:!1})}}}),Uj=({set:t,get:e,getCurrentUserId:n,isNetworkError:i,loadFallbackData:a,checkOnlineStatus:o,clearUserData:c})=>{const d=async()=>{const A=e(),I=n();if(A.resetPending){console.log(" fetchData: Reset pending detected, performing Firebase reset instead..."),await e().performFirebaseReset();return}console.log(" fetchData: Starting data fetch for user:",I),t({isLoading:!0,error:null});try{let U,B,j,$;[U,B,j,$]=await Promise.all([Xs.getAllEnvelopes(I).catch(S=>(console.error(" Failed to fetch envelopes:",S),[])),cr.getAllTransactions(I).catch(S=>(console.error(" Failed to fetch transactions:",S),[])),ui.getAllDistributionTemplates(I).catch(S=>(console.error(" Failed to fetch templates:",S),[])),Hr.getAppSettings(I).catch(S=>(console.error(" Failed to fetch settings:",S),null))]),console.log(" fetchData: Firebase calls completed"),console.log(" Fetched data counts:",{envelopes:U?.length||0,transactions:B?.length||0,templates:j?.length||0,settings:$?"found":"null"}),e().markOnlineFromFirebaseSuccess();const ne=(U?.length||0)>0||(B?.length||0)>0||(j?.length||0)>0;let ee=null;ne||(console.log(" No data from Firebase, loading fallback data..."),ee=await a(),ee&&(console.log(" Using fallback data for initialization"),U=ee.envelopes||[],B=ee.transactions||[],j=ee.distributionTemplates||[],$=ee.appSettings||null)),t(S=>{const R=oe=>oe.map(L=>({...L,date:L.date&&typeof L.date=="object"&&L.date.toDate?L.date.toDate().toISOString():L.date,type:L.type==="income"?"Income":L.type==="expense"?"Expense":L.type==="transfer"?"Transfer":L.type,amount:typeof L.amount=="string"?parseFloat(L.amount):L.amount})),M=oe=>({id:oe.id,name:oe.name,currentBalance:oe.currentBalance||0,lastUpdated:oe.lastUpdated,isActive:oe.isActive??!0,orderIndex:oe.orderIndex??0}),V=U.filter(oe=>!("orderIndex"in oe));V.length>0&&(console.log(` Migrating ${V.length} envelopes to add orderIndex...`),V.forEach((oe,L)=>{const J=L,ue=n();Xs.saveEnvelope(ue,{...oe,orderIndex:J}).then(()=>console.log(` Migrated envelope ${oe.name} with orderIndex ${J}`)).catch(de=>console.warn(`Failed to migrate envelope ${oe.id}:`,de))}));const D=U.map(M),F=new Set([...S.envelopes.map(oe=>oe.id),...U.map(oe=>oe.id)]),P=S.envelopes.filter(oe=>oe.id&&!U.some(L=>L.id===oe.id)&&!oe.id.startsWith("temp-")),je=S.transactions.filter(oe=>oe.id&&!B.some(L=>L.id===oe.id)&&(!oe.id.startsWith("temp-")||F.has(oe.envelopeId)));let Ce,K=[];navigator.onLine?(Ce=j,console.log(` Online mode: Using Firebase templates only (${Ce.length} templates)`)):(K=S.distributionTemplates.filter(oe=>oe.id&&!j.some(L=>L.id===oe.id)),Ce=j.concat(K),console.log(` Offline mode: Merged ${j.length} Firebase + ${K.length} local templates`)),console.log(" fetchData merge details:"),console.log("  Store envelopes:",S.envelopes.map(oe=>({id:oe.id,name:oe.name}))),console.log("  Firebase envelopes:",U.map(oe=>({id:oe.id,name:oe.name}))),console.log("  Store transactions:",S.transactions.map(oe=>({id:oe.id,envelopeId:oe.envelopeId,description:oe.description}))),console.log("  Firebase transactions:",B.map(oe=>({id:oe.id,envelopeId:oe.envelopeId,description:oe.description}))),console.log("  Store templates:",S.distributionTemplates.map(oe=>({id:oe.id,name:oe.name}))),console.log("  Firebase templates:",j.map(oe=>({id:oe.id,name:oe.name}))),console.log("  Local-only envelopes:",P.map(oe=>({id:oe.id,name:oe.name}))),console.log("  Local-only transactions:",je.map(oe=>({id:oe.id,envelopeId:oe.envelopeId,description:oe.description}))),console.log("  Local-only templates:",K.map(oe=>({id:oe.id,name:oe.name}))),console.log("  Total merged templates:",Ce.length,Ce.map(oe=>({id:oe.id,name:oe.name})));const ce=D.concat(P),pe=R(B).concat(je);let Ae=$;if($&&"isDarkMode"in $&&!("theme"in $)){const oe=$;if(Ae={...oe,theme:oe.isDarkMode?"dark":"light"},delete Ae.isDarkMode,Ae&&Ae.id){const L=n();Hr.updateAppSettings(L,Ae.id,{theme:Ae.theme}).catch(J=>console.warn("Failed to migrate app settings:",J))}}return{envelopes:ce,transactions:pe,distributionTemplates:Ce,appSettings:Ae,isLoading:!1,pendingSync:!1}})}catch(U){console.error("Sync Failed:",U),i(U)?t({isLoading:!1,pendingSync:!0}):t({error:U.message,isLoading:!1})}},h=async()=>{if(!e().isOnline)return;if(e().resetPending){console.log(" Sync detected pending reset - performing Firebase reset..."),t({pendingSync:!0});try{await e().performFirebaseReset(),console.log(" Pending reset completed during sync")}catch(I){console.error("Firebase reset during sync failed:",I)}return}t({pendingSync:!0});try{await e().fetchData()}catch(I){console.error("Manual sync failed:",I)}},f=async()=>{const A=await o();t({isOnline:A})},g=()=>{e().isOnline||(console.log(" Firebase operation succeeded - marking as online"),t({isOnline:!0}))},v=()=>{c()},_=async A=>{try{if(!A.envelopes||!A.transactions)return{success:!1,message:"Invalid backup format: Missing core data."};const I=n();console.log(` Importing data for user: ${I}`),console.log(" Clearing existing Firebase data before import..."),await x(),t({envelopes:[],transactions:[],distributionTemplates:[],appSettings:null,error:null,pendingSync:!0,isLoading:!0}),console.log(" Local state cleared before import");const U=A.envelopes.map(S=>({id:S.id||`imported-${Date.now()}-${Math.random()}`,name:S.name,currentBalance:S.currentBalance||S.budget||0,lastUpdated:new Date().toISOString(),isActive:S.isActive??!0,orderIndex:S.orderIndex??0,userId:I})),B=A.transactions.map(S=>({...S,id:S.id||`imported-${Date.now()}-${Math.random()}`,userId:I,date:S.date,amount:typeof S.amount=="number"?S.amount:parseFloat(S.amount)||0,type:S.type,reconciled:S.reconciled??!1})),j=(A.distributionTemplates||[]).map(S=>({...S,id:S.id||`imported-${Date.now()}-${Math.random()}`,userId:I})),$=A.appSettings?{...A.appSettings,id:A.appSettings.id||`settings-${I}`,userId:I}:null;console.log(` Importing: ${U.length} envelopes, ${B.length} transactions, ${j.length} templates`),t({envelopes:U,transactions:B,distributionTemplates:j,appSettings:$,error:null,pendingSync:!0});try{console.log(" Syncing imported data to Firebase...");for(const S of U)try{await Xs.saveEnvelope(I,S),console.log(` Synced envelope: ${S.name}`)}catch(R){console.error(` Failed to sync envelope ${S.name}:`,R)}for(const S of B)try{const R={...S,amount:S.amount.toString(),type:S.type.toLowerCase(),date:Je.fromDate(new Date(S.date))};await cr.addTransaction(R),console.log(` Synced transaction: ${S.description}`)}catch(R){console.error(` Failed to sync transaction ${S.description}:`,R)}for(const S of j)try{await ui.createDistributionTemplate(S),console.log(` Synced template: ${S.name}`)}catch(R){console.error(` Failed to sync template ${S.name}:`,R)}if($)try{await Hr.createAppSettings($),console.log(" Synced app settings")}catch(S){console.error(" Failed to sync app settings:",S)}console.log(" All imported data synced to Firebase"),t({pendingSync:!1,isLoading:!1})}catch(S){console.error(" Error syncing to Firebase:",S),t({pendingSync:!0})}const ne=j.length,ee=$?"Settings imported.":"";return{success:!0,message:`Imported and synced ${U.length} envelopes, ${B.length} transactions${ne>0?`, ${ne} templates`:""} to Firebase.${ee?` ${ee}`:""}`}}catch(I){return console.error("Import failed:",I),{success:!1,message:"Failed to import data. Check file format."}}},x=async()=>{console.log(" performFirebaseReset: Starting complete Firebase reset..."),t({isLoading:!0});try{const A=n();console.log(" Querying Firebase for all data to delete...");const[I,U,B,j]=await Promise.all([Xs.getAllEnvelopes(A).catch(S=>(console.error(" Failed to fetch envelopes for reset:",S),[])),cr.getAllTransactions(A).catch(S=>(console.error(" Failed to fetch transactions for reset:",S),[])),ui.getAllDistributionTemplates(A).catch(S=>(console.error(" Failed to fetch templates for reset:",S),[])),Hr.getAppSettings(A).catch(S=>(console.error(" Failed to fetch settings for reset:",S),null))]);console.log(` Found in Firebase: ${I.length} envelopes, ${U.length} transactions, ${B.length} templates`);let $=0;for(const S of I)if(S.id)try{await Xs.deleteEnvelope(A,S.id),$++,console.log(` Deleted envelope: ${S.name||S.id}`)}catch(R){console.error(` Failed to delete envelope ${S.id}:`,R)}let ne=0;for(const S of U)if(S.id)try{await cr.deleteTransaction(A,S.id),ne++,console.log(` Deleted transaction: ${S.id}`)}catch(R){console.error(` Failed to delete transaction ${S.id}:`,R)}let ee=0;for(const S of B)if(S.id)try{await ui.deleteDistributionTemplate(A,S.id),ee++,console.log(` Deleted template: ${S.name||S.id}`)}catch(R){console.error(` Failed to delete template ${S.id}:`,R)}if(j?.id)try{await Hr.deleteAppSettings(A,j.id),console.log(" Deleted app settings")}catch(S){console.error(" Failed to delete app settings:",S)}console.log(` Firebase reset complete: Deleted ${$} envelopes, ${ne} transactions, ${ee} templates`),t({resetPending:!1,isLoading:!1,pendingSync:!1})}catch(A){throw console.error(" Error during Firebase reset:",A),t({isLoading:!1,pendingSync:!0}),A}};return{fetchData:d,syncData:h,updateOnlineStatus:f,markOnlineFromFirebaseSuccess:g,handleUserLogout:v,importData:_,performFirebaseReset:x,resetData:async()=>{if(console.log(" Starting complete data reset (offline-first)..."),t({envelopes:[],transactions:[],distributionTemplates:[],appSettings:null,error:null,resetPending:!0,isLoading:!0}),console.log(" Local state cleared immediately"),e().isOnline){console.log(" Online - performing Firebase reset immediately...");try{await e().performFirebaseReset(),console.log(" Firebase reset completed immediately")}catch(I){console.error(" Firebase reset failed, will retry on next sync:",I),t({isLoading:!1,pendingSync:!0})}}else console.log(" Offline - Firebase reset will be performed when connection is restored"),t({isLoading:!1,pendingSync:!0})}}},zj=t=>sC(t),Bj=t=>({id:t.id,name:t.name||"",currentBalance:t.currentBalance||0,lastUpdated:t.lastUpdated,isActive:t.isActive??!0,orderIndex:t.orderIndex??0,userId:t.userId||void 0}),Fj=t=>({id:t.id,name:t.name||"",distributions:t.distributions||{},lastUsed:t.lastUsed?.toDate?.()?t.lastUsed.toDate().toISOString():t.lastUsed||new Date().toISOString(),note:t.note||"",userId:t.userId||void 0}),jE=(t,e)=>{if(window.__firebaseUnsubscribers){console.log(" Real-time subscriptions already active, skipping setup");return}console.log(" Setting up real-time Firebase subscriptions...");const n=Xs.subscribeToEnvelopes(e,c=>{const d=t.getState();if(d.isOnline&&!d.pendingSync&&!d.resetPending){console.log(" Real-time sync: Envelopes updated",c.length);const h=c.map(Bj);t.setState({envelopes:h})}}),i=cr.subscribeToTransactions(e,c=>{const d=t.getState();if(d.isOnline&&!d.pendingSync&&!d.resetPending){console.log(" Real-time sync: Transactions updated",c.length);const h=c.map(zj);t.setState({transactions:h})}}),a=ui.subscribeToDistributionTemplates(e,c=>{const d=t.getState();if(d.isOnline&&!d.pendingSync&&!d.resetPending){console.log(" Real-time sync: Templates updated from Firebase",c.length),console.log(" Firebase templates:",c.map(f=>({id:f.id,name:f.name})));const h=c.map(Fj);console.log(" Setting store templates to:",h.map(f=>({id:f.id,name:f.name}))),t.setState({distributionTemplates:h})}else console.log(" Real-time sync: Skipping template update (offline or pending changes)")}),o=Hr.subscribeToAppSettings(e,c=>{const d=t.getState();d.isOnline&&!d.pendingSync&&!d.resetPending&&(console.log(" Real-time sync: Settings updated",c?"found":"null"),t.setState({appSettings:c}))});window.__firebaseUnsubscribers={envelopes:n,transactions:i,templates:a,settings:o},console.log(" Real-time subscriptions active - cross-device sync enabled")},qj=t=>{const{useEnvelopeStore:e,useAuthStore:n,getCurrentUserId:i}=t;if(typeof window>"u")return;window.addEventListener("online",async()=>{console.log(" Browser online event detected"),await e.getState().updateOnlineStatus();const d=e.getState();d.isOnline&&(d.pendingSync||d.resetPending)&&(console.log(" Auto-syncing pending operations..."),d.syncData())}),window.addEventListener("offline",()=>{console.log(" Browser offline event detected"),e.setState({isOnline:!1})}),setTimeout(()=>{e.getState().updateOnlineStatus()},1e3);let a=null;const o=()=>{a&&clearInterval(a),a=setInterval(async()=>{const d=e.getState();if(!d.isOnline&&!d.testingConnectivity){console.log(" Periodic offline retry: testing connectivity..."),e.setState({testingConnectivity:!0});try{await(async()=>(await e.getState().updateOnlineStatus(),e.getState().isOnline))()?(console.log(" Periodic retry succeeded - back online!"),e.setState({isOnline:!0,testingConnectivity:!1}),(d.pendingSync||d.resetPending)&&e.getState().syncData(),a&&(clearInterval(a),a=null)):e.setState({testingConnectivity:!1})}catch(h){console.log(" Periodic retry failed:",h),e.setState({testingConnectivity:!1})}}else d.isOnline&&a&&(clearInterval(a),a=null)},3e4)};o(),e.subscribe(d=>{!d.isOnline&&!a&&(console.log(" Starting periodic connectivity retry"),o())});const c=n.getState();c.isAuthenticated&&c.currentUser&&(console.log(" User already authenticated on app load, setting up real-time subscriptions"),jE(e,i())),n.subscribe(d=>{if(d.isAuthenticated&&d.currentUser)console.log(" User authenticated, setting up real-time subscriptions"),jE(e,i());else if(!d.isAuthenticated&&!d.isLoading){if(console.log(" User logged out, clearing data and unsubscribing"),window.__firebaseUnsubscribers){const h=window.__firebaseUnsubscribers;h.envelopes&&h.envelopes(),h.transactions&&h.transactions(),h.templates&&h.templates(),h.settings&&h.settings(),delete window.__firebaseUnsubscribers,console.log(" Cleaned up Firebase subscriptions")}e.getState().handleUserLogout()}})},Hj=async()=>{try{console.log(" Attempting to load fallback data from backup file...");const t=await fetch("/HouseBudget_Backup_2025-11-25.json");if(t.ok){const e=await t.json();return console.log(" Loaded fallback data:",{envelopes:e.envelopes?.length||0,transactions:e.transactions?.length||0,templates:e.distributionTemplates?.length||0}),e}}catch(t){console.log(" Could not load fallback data:",t)}return null},fl=()=>{const{currentUser:t}=Mi.getState();if(!t)throw new Error("No authenticated user found");return t.id},$j=()=>{console.log(" Clearing user data on logout"),Yn.setState({envelopes:[],transactions:[],distributionTemplates:[],appSettings:null,isLoading:!1,error:null,isOnline:typeof navigator<"u"?navigator.onLine:!0,pendingSync:!1,resetPending:!1})},Gj=async()=>{if(typeof navigator>"u"||!navigator.onLine)return console.log(" Browser reports offline"),!1;const t=async(n,i={})=>{try{const a=new AbortController,o=setTimeout(()=>a.abort(),4e3);return await fetch(n,{method:"HEAD",mode:"no-cors",cache:"no-cache",signal:a.signal,...i}),clearTimeout(o),!0}catch(a){return console.log(` Connectivity test failed for ${n}:`,a instanceof Error?a.message:"Unknown error"),!1}},e=[t("https://httpbin.org/status/200",{method:"GET"}),t("https://www.cloudflare.com/favicon.ico"),t("https://cdn.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js"),t("https://www.google.com/favicon.ico")];console.log(" Testing connectivity with multiple endpoints...");try{const n=await Promise.allSettled(e),i=n.filter(o=>o.status==="fulfilled"&&o.value===!0).length,a=n.length;return i>0?(console.log(` Connectivity confirmed (${i}/${a} tests passed)`),!0):(console.log(` All connectivity tests failed (${a} tests)`),!1)}catch(n){return console.log(" Connectivity testing error:",n),!1}},Yh=t=>{const e=t?.code?.toLowerCase()||"",n=t?.message?.toLowerCase()||"",i=t?.name?.toLowerCase()||"";return!!(e==="unavailable"||e==="cancelled"||n.includes("network")||n.includes("offline")||n.includes("disconnected")||n.includes("connection")||n.includes("fetch")||n.includes("timeout")||n.includes("err_internet_disconnected")||n.includes("err_network_changed")||n.includes("err_connection_refused")||!navigator.onLine||i==="undefined"&&n==="undefined")},Yn=em()(ky((t,e)=>{const n=Mj({set:t,get:e,getCurrentUserId:fl,isNetworkError:Yh}),i=Oj({set:t,get:e,getCurrentUserId:fl,isNetworkError:Yh}),a=iC({set:t,get:e,getCurrentUserId:fl}),o=Lj({set:t,get:e,getCurrentUserId:fl,isNetworkError:Yh}),c=Uj({set:t,get:e,getCurrentUserId:fl,isNetworkError:Yh,loadFallbackData:Hj,checkOnlineStatus:Gj,clearUserData:$j});return{envelopes:[],transactions:[],distributionTemplates:[],appSettings:null,isLoading:!1,error:null,isOnline:typeof navigator<"u"?navigator.onLine:!0,pendingSync:!1,resetPending:!1,testingConnectivity:!1,addTransaction:o.addTransaction,createEnvelope:n.createEnvelope,addToEnvelope:n.addToEnvelope,spendFromEnvelope:n.spendFromEnvelope,transferFunds:n.transferFunds,deleteEnvelope:n.deleteEnvelope,deleteTransaction:o.deleteTransaction,updateTransaction:o.updateTransaction,restoreTransaction:o.restoreTransaction,renameEnvelope:n.renameEnvelope,saveTemplate:i.saveTemplate,deleteTemplate:i.deleteTemplate,updateAppSettings:a.updateAppSettings,initializeAppSettings:a.initializeAppSettings,cleanupOrphanedTemplates:i.cleanupOrphanedTemplates,updateTemplateEnvelopeReferences:i.updateTemplateEnvelopeReferences,removeEnvelopeFromTemplates:i.removeEnvelopeFromTemplates,fetchData:c.fetchData,syncData:c.syncData,updateOnlineStatus:c.updateOnlineStatus,markOnlineFromFirebaseSuccess:c.markOnlineFromFirebaseSuccess,handleUserLogout:c.handleUserLogout,importData:c.importData,performFirebaseReset:c.performFirebaseReset,resetData:c.resetData,getEnvelopeBalance:d=>{const h=e();if(!h.envelopes.find(I=>I.id===d))return console.log(` getEnvelopeBalance: Envelope ${d} not found`),new qr(0);const g=h.transactions.filter(I=>I.envelopeId===d),v=g.filter(I=>I.type==="Expense"),_=g.filter(I=>I.type==="Income"),x=v.reduce((I,U)=>I.plus(new qr(U.amount||0)),new qr(0));return _.reduce((I,U)=>I.plus(new qr(U.amount||0)),new qr(0)).minus(x)}}},{name:"envelope-storage",partialize:t=>({envelopes:t.envelopes,transactions:t.transactions,distributionTemplates:t.distributionTemplates,appSettings:t.appSettings})}));qj({useEnvelopeStore:Yn,useAuthStore:Mi,getCurrentUserId:fl});const aC=()=>{const[t,e]=O.useState(!1),n=O.useRef(null),{currentUser:i,logout:a}=Mi(),{handleUserLogout:o}=Yn(),c=pa();O.useEffect(()=>{const f=g=>{n.current&&!n.current.contains(g.target)&&e(!1)};if(t)return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[t]);const d=async()=>{if(window.confirm("Are you sure you want to log out? This will clear all your data from the app until you log back in."))try{o(),a(),c("/"),e(!1)}catch(f){console.error("Logout failed:",f)}};if(!i)return null;const h=i.displayName?.charAt(0)?.toUpperCase()||i.email?.charAt(0)?.toUpperCase()||"U";return b.jsxs("div",{className:"relative",ref:n,children:[b.jsxs("button",{onClick:()=>e(!t),className:"flex items-center gap-2 px-3 py-1.5 rounded-lg hover:bg-gray-100 dark:hover:bg-zinc-800 transition-colors",children:[b.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-sm font-semibold",children:h}),b.jsx("span",{className:"hidden sm:block text-sm font-medium text-gray-700 dark:text-gray-300",children:i.displayName||i.email?.split("@")[0]||"User"}),b.jsx(mD,{size:16,className:`text-gray-500 dark:text-gray-400 transition-transform ${t?"rotate-180":""}`})]}),t&&b.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-zinc-900 rounded-xl shadow-lg border border-gray-200 dark:border-zinc-800 overflow-hidden z-50",children:[b.jsx("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-zinc-800",children:b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center text-white font-semibold",children:h}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate",children:i.displayName||i.email?.split("@")[0]||"User"}),b.jsx("p",{className:"text-xs text-gray-500 dark:text-zinc-400 truncate",children:i.email})]})]})}),b.jsxs("div",{className:"py-1",children:[b.jsxs("button",{onClick:()=>{c("/settings"),e(!1)},className:"w-full px-4 py-2.5 flex items-center gap-3 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-zinc-800 transition-colors",children:[b.jsx(JD,{size:18,className:"text-gray-500 dark:text-gray-400"}),"Settings"]}),b.jsxs("button",{onClick:d,className:"w-full px-4 py-2.5 flex items-center gap-3 text-left text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/10 transition-colors",children:[b.jsx($D,{size:18}),"Log Out"]})]})]})]})},Kj=()=>{const{envelopes:t,transactions:e,fetchData:n,isOnline:i,pendingSync:a,syncData:o,isLoading:c,getEnvelopeBalance:d,testingConnectivity:h}=Yn(),f=pa();O.useEffect(()=>{t.length===0&&n()},[]);const g=[...t].sort((_,x)=>{const k=_.orderIndex??0,A=x.orderIndex??0;return k!==A?k-A:_.name.localeCompare(x.name)});console.log(" EnvelopeListView render - calculating balances"),console.log(" Current envelopes:",t.length),console.log(" Current transactions:",e.length);const v=t.reduce((_,x)=>{const k=d(x.id);return console.log(` Envelope ${x.name} (${x.id}): $${k.toNumber().toFixed(2)}`),_+k.toNumber()},0);return console.log(" Total balance:",v),b.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-black pb-20",children:[b.jsxs("header",{className:"bg-white dark:bg-black border-b dark:border-zinc-800 px-4 pt-[calc(env(safe-area-inset-top)+12px)] pb-4 sticky top-0 z-10",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("div",{className:"flex items-center gap-2",children:i?c?b.jsxs("div",{className:"flex items-center gap-1 text-blue-500",children:[b.jsx(lo,{size:16,className:"animate-spin"}),b.jsx("span",{className:"text-sm font-medium",children:"Syncing..."})]}):a?b.jsxs("button",{onClick:o,className:"flex items-center gap-1 text-orange-500 hover:text-orange-600 transition-colors",title:"Sync pending - tap to sync",children:[b.jsx(lo,{size:16}),b.jsx("span",{className:"text-sm font-medium",children:"Sync"})]}):b.jsxs("div",{className:"flex items-center gap-1 text-green-500",children:[b.jsx(v4,{size:16}),b.jsx("span",{className:"text-sm font-medium",children:"Online"})]}):b.jsxs("div",{className:"flex items-center gap-1 text-gray-500",children:[b.jsx(g4,{size:16}),b.jsx("span",{className:"text-sm font-medium",children:h?"Testing Connection...":c?"Offline (Saving...)":"Offline"})]})}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("button",{onClick:()=>f("/transactions"),className:"text-blue-500 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",title:"Transaction History",children:b.jsx(FD,{size:22})}),b.jsx("button",{onClick:()=>f("/monthly-budget-demo"),className:"text-purple-500 hover:text-purple-600 dark:hover:text-purple-400 transition-colors",title:"Monthly Budget Demo",children:b.jsx(LD,{size:22})}),b.jsx(aC,{})]})]}),b.jsx("div",{className:"mt-4",children:b.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-white",children:"Personal Budget"})})]}),b.jsxs("div",{className:"p-4 max-w-md mx-auto space-y-6",children:[b.jsx("section",{className:"bg-white dark:bg-zinc-900 rounded-2xl p-4 shadow-sm border border-gray-100 dark:border-zinc-800 space-y-4",children:b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("span",{className:"text-gray-600 dark:text-zinc-400 font-medium",children:"Total Balance"}),b.jsxs("span",{className:`text-2xl font-bold ${v>=0?"text-green-600 dark:text-emerald-400":"text-red-600 dark:text-red-400"}`,children:[v<0?"-":"","$",Math.abs(v).toFixed(2)]})]})}),b.jsx("section",{children:g.length===0?b.jsxs("div",{className:"text-center py-10 space-y-3",children:[b.jsx(m4,{className:"w-12 h-12 text-gray-300 dark:text-zinc-700 mx-auto"}),b.jsx("h3",{className:"text-gray-500 dark:text-zinc-400 font-medium",children:"No envelopes yet"}),b.jsx("button",{onClick:()=>f("/add-envelope"),className:"text-blue-600 dark:text-blue-300 font-medium",children:"Create First Envelope"})]}):b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"flex justify-between items-end px-1",children:[b.jsx("h2",{className:"text-sm font-bold text-gray-400 dark:text-zinc-500 uppercase tracking-wider",children:"My Envelopes"}),b.jsx("button",{className:"text-sm text-blue-600 dark:text-blue-300 font-medium",onClick:()=>f("/add-envelope"),children:"+ New Envelope"})]}),g.map(_=>b.jsxs("div",{onClick:()=>f(`/envelope/${_.id}`),className:"bg-white dark:bg-zinc-900 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-zinc-800 flex justify-between items-center active:scale-[0.99] transition-transform cursor-pointer",children:[b.jsx("div",{className:"flex flex-col",children:b.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:_.name})}),b.jsxs("span",{className:`font-bold ${d(_.id).toNumber()<0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-emerald-400"}`,children:[d(_.id).toNumber()<0?"-":"","$",Math.abs(d(_.id).toNumber()).toFixed(2)]})]},_.id))]})})]}),b.jsx("button",{onClick:()=>f("/add-transaction"),className:"fixed bottom-6 right-6 bg-blue-600 text-white p-4 rounded-full shadow-lg active:scale-90 transition-transform",children:b.jsx(tf,{size:28})})]})},Mm=em((t,e)=>({message:"",type:"neutral",isVisible:!1,undoAction:void 0,showToast:(n,i="neutral",a)=>{t({message:n,type:i,isVisible:!0,undoAction:a}),setTimeout(()=>{e().hideToast()},4e3)},hideToast:()=>{t({isVisible:!1})}})),oC=({isVisible:t,onClose:e,mode:n,currentEnvelope:i,initialTransaction:a})=>{const{addToEnvelope:o,spendFromEnvelope:c,updateTransaction:d,deleteTransaction:h}=Yn(),[f,g]=O.useState(""),[v,_]=O.useState(""),[x,k]=O.useState(new Date().toISOString().split("T")[0]);if(O.useEffect(()=>{if(!t)return;const j=window.setTimeout(()=>{if(n==="edit"&&a){g(a.amount.toString()),_(a.description);try{const $=new Date(a.date);isNaN($.getTime())?(console.warn("Invalid date in transaction:",a.date),k(new Date().toISOString().split("T")[0])):k($.toISOString().split("T")[0])}catch($){console.error("Error parsing transaction date:",$),k(new Date().toISOString().split("T")[0])}}else g(""),_(""),k(new Date().toISOString().split("T")[0])},0);return()=>window.clearTimeout(j)},[t,n,a]),!t)return null;const A=j=>{j.preventDefault();const $=parseFloat(f);isNaN($)||$<=0||(n==="add"?o(i.id,$,v,new Date(x)):n==="spend"?c(i.id,$,v,new Date(x)):n==="edit"&&a&&d({...a,amount:$,description:v,date:new Date(x).toISOString()}),e())},I=()=>{!a||!a.id||window.confirm("Are you sure you want to delete this transaction?")&&(h(a.id),e())},U=n==="add"?"Add Money":n==="spend"?"Spend Money":"Edit Transaction",B=n==="add"?"text-green-500":"text-red-500";return b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:b.jsxs("div",{className:"bg-white dark:bg-zinc-900 w-full max-w-md rounded-2xl border border-gray-200 dark:border-zinc-800 shadow-2xl overflow-hidden",children:[b.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 dark:border-zinc-800",children:[b.jsx("button",{onClick:e,className:"text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300 font-medium",children:"Cancel"}),b.jsx("h2",{className:"text-gray-900 dark:text-white font-semibold text-lg",children:U}),b.jsx("button",{onClick:A,className:"text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300 font-bold disabled:opacity-50",disabled:!f||parseFloat(f)<=0,children:"Save"})]}),b.jsxs("form",{onSubmit:A,className:"p-6 space-y-6",children:[b.jsxs("div",{className:"text-center",children:[b.jsx("label",{className:"block text-sm text-gray-600 dark:text-zinc-400 mb-1",children:"Amount"}),b.jsxs("div",{className:"relative inline-block",children:[b.jsx("span",{className:`absolute left-0 top-1/2 -translate-y-1/2 -translate-x-full pr-2 text-2xl ${B}`,children:"$"}),b.jsx("input",{type:"number",inputMode:"decimal",step:"0.01",value:f,onChange:j=>{const $=j.target.value;($===""||!isNaN(parseFloat($))&&parseFloat($)>=0)&&g($)},onKeyDown:j=>{(j.key==="e"||j.key==="E"||j.key==="+"||j.key==="-")&&j.preventDefault()},placeholder:"0.00",autoFocus:!0,className:`bg-transparent text-4xl font-bold text-center w-40 focus:outline-none ${B} placeholder-gray-700`})]})]}),b.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-lg p-3 border border-gray-200 dark:border-zinc-800 focus-within:border-blue-500 dark:focus-within:border-blue-400 transition-colors",children:[b.jsx("label",{className:"block text-xs text-gray-500 dark:text-zinc-400 mb-1",children:"Note"}),b.jsx("input",{type:"text",value:v,onChange:j=>_(j.target.value),placeholder:"What is this for?",className:"w-full bg-transparent text-gray-900 dark:text-white focus:outline-none"})]}),b.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-lg p-3 border border-gray-200 dark:border-zinc-800 focus-within:border-blue-500 dark:focus-within:border-blue-400 transition-colors",children:[b.jsx("label",{className:"block text-xs text-gray-500 dark:text-zinc-400 mb-1",children:"Date"}),b.jsx("input",{type:"date",value:x,onChange:j=>{console.log("Date changed to:",j.target.value),k(j.target.value)},required:!0,className:"w-full bg-transparent text-gray-900 dark:text-white focus:outline-none [color-scheme:dark]"})]}),n==="edit"&&b.jsx("div",{className:"pt-4 border-t border-gray-200 dark:border-zinc-800",children:b.jsxs("button",{type:"button",onClick:I,className:"w-full py-3 px-4 rounded-lg bg-white dark:bg-zinc-900 text-red-600 dark:text-red-400 font-semibold hover:bg-gray-50 dark:hover:bg-zinc-800 transition duration-150 flex items-center justify-center border border-gray-200 dark:border-zinc-800",children:[b.jsx(vS,{className:"w-5 h-5 mr-2"}),"Delete Transaction"]})})]})]})})},Yj=({isVisible:t,onClose:e,sourceEnvelope:n})=>{const{envelopes:i,transferFunds:a}=Yn(),[o,c]=O.useState(""),[d,h]=O.useState(""),[f,g]=O.useState(""),[v,_]=O.useState(new Date().toISOString().split("T")[0]),x=i.filter(I=>I.id!==n.id);if(O.useEffect(()=>{if(!t)return;const I=window.setTimeout(()=>{c(""),h(""),g(""),_(new Date().toISOString().split("T")[0])},0);return()=>window.clearTimeout(I)},[t]),!t)return null;const k=I=>{I.preventDefault();const U=parseFloat(d);isNaN(U)||U<=0||!o||(a(n.id,o,U,f,new Date(v)),e())},A=i.find(I=>I.id===o);return b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:b.jsxs("div",{className:"bg-white dark:bg-zinc-900 w-full max-w-md rounded-2xl border border-gray-200 dark:border-zinc-800 shadow-2xl overflow-hidden",children:[b.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 dark:border-zinc-800",children:[b.jsx("button",{onClick:e,className:"text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300 font-medium",children:"Cancel"}),b.jsx("h2",{className:"text-gray-900 dark:text-white font-semibold text-lg",children:"Transfer Money"}),b.jsx("button",{onClick:k,className:"text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300 font-bold disabled:opacity-50",disabled:!d||parseFloat(d)<=0||!o,children:"Transfer"})]}),b.jsxs("form",{onSubmit:k,className:"p-6 space-y-6",children:[b.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-lg p-3 border border-gray-200 dark:border-zinc-800",children:[b.jsx("label",{className:"block text-xs text-gray-500 dark:text-zinc-400 mb-1",children:"From"}),b.jsx("div",{className:"text-gray-900 dark:text-white font-medium",children:n.name})]}),b.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-lg p-3 border border-gray-200 dark:border-zinc-800 focus-within:border-blue-500 dark:focus-within:border-blue-400 transition-colors",children:[b.jsx("label",{className:"block text-xs text-gray-500 dark:text-zinc-400 mb-1",children:"To"}),b.jsxs("select",{value:o,onChange:I=>c(I.target.value),className:"w-full bg-transparent text-gray-900 dark:text-white focus:outline-none cursor-pointer",children:[b.jsx("option",{value:"",className:"bg-white dark:bg-zinc-900",children:"Select envelope..."}),x.map(I=>b.jsx("option",{value:I.id,className:"bg-white dark:bg-zinc-900",children:I.name},I.id))]})]}),b.jsxs("div",{className:"text-center",children:[b.jsx("label",{className:"block text-sm text-gray-600 dark:text-zinc-400 mb-1",children:"Amount"}),b.jsxs("div",{className:"relative inline-block",children:[b.jsx("span",{className:"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-full pr-2 text-2xl text-blue-600 dark:text-blue-400",children:"$"}),b.jsx("input",{type:"number",inputMode:"decimal",step:"0.01",value:d,onChange:I=>h(I.target.value),onKeyDown:I=>{(I.key==="e"||I.key==="E"||I.key==="+"||I.key==="-")&&I.preventDefault()},placeholder:"0.00",autoFocus:!0,className:"bg-transparent text-4xl font-bold text-center w-40 focus:outline-none text-blue-600 dark:text-blue-400 placeholder-gray-400 dark:placeholder-gray-600"})]})]}),b.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-lg p-3 border border-gray-200 dark:border-zinc-800 focus-within:border-blue-500 dark:focus-within:border-blue-400 transition-colors",children:[b.jsx("label",{className:"block text-xs text-gray-500 dark:text-zinc-400 mb-1",children:"Note (Optional)"}),b.jsx("input",{type:"text",value:f,onChange:I=>g(I.target.value),placeholder:"What is this transfer for?",className:"w-full bg-transparent text-gray-900 dark:text-white focus:outline-none"})]}),b.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-lg p-3 border border-gray-200 dark:border-zinc-800 focus-within:border-blue-500 dark:focus-within:border-blue-400 transition-colors",children:[b.jsx("label",{className:"block text-xs text-gray-500 dark:text-zinc-400 mb-1",children:"Date"}),b.jsx("input",{type:"date",value:v,onChange:I=>_(I.target.value),className:"w-full bg-transparent text-gray-900 dark:text-white focus:outline-none [color-scheme:dark]"})]}),A&&d&&parseFloat(d)>0&&b.jsxs("div",{className:"text-center text-sm text-gray-500 dark:text-zinc-400 pt-2 border-t border-gray-200 dark:border-zinc-800",children:["Moving ",b.jsxs("span",{className:"text-blue-600 dark:text-blue-400 font-bold",children:["$",parseFloat(d).toFixed(2)]})," from"," ",b.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:n.name})," to"," ",b.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:A.name})]})]})]})})},Qj=t=>{if(!t)return"No Date";try{let e;return t&&typeof t=="object"&&t.toDate&&typeof t.toDate=="function"?e=t.toDate():typeof t=="number"?t<1e10?e=new Date((t+978307200)*1e3):e=new Date(t):e=new Date(t),isNaN(e.getTime())?"Invalid Date":new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(e)}catch(e){return console.error("Date error:",e),"Error"}},Xj=t=>{const e=typeof t=="string"?parseFloat(t):t;return typeof e!="number"||isNaN(e)?"$0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(Math.abs(e))},lC=({transaction:t,envelopeName:e,onReconcile:n,onEdit:i})=>{if(!t)return null;const a=t.type==="Income",o=t.type==="Expense";let c="text-gray-900 dark:text-white";return a&&(c="text-green-600 dark:text-green-400"),o&&(c="text-red-600 dark:text-red-400"),b.jsxs("div",{onClick:i,className:"flex items-center justify-between p-4 bg-white dark:bg-zinc-900 active:bg-gray-50 dark:active:bg-zinc-800 transition-colors cursor-pointer group border-b border-gray-100 dark:border-zinc-800 last:border-0",children:[b.jsxs("div",{className:"flex flex-col gap-1 overflow-hidden",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"font-medium text-gray-900 dark:text-white truncate",children:t.description||"No Description"}),t.reconciled&&b.jsx("span",{className:"text-[10px] bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 px-1.5 py-0.5 rounded-full font-bold uppercase tracking-wide",children:"R"})]}),b.jsxs("div",{className:"text-xs text-gray-500 dark:text-zinc-500 flex items-center gap-1",children:[b.jsx("span",{children:Qj(t.date)}),e&&b.jsxs(b.Fragment,{children:[b.jsx("span",{children:""}),b.jsx("span",{className:"text-blue-500 dark:text-blue-400 truncate max-w-[150px]",children:e})]})]})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("div",{className:`font-bold font-mono whitespace-nowrap ${c}`,children:[o?"-":a?"+":"",Xj(t.amount)]}),n?b.jsx("button",{type:"button",onClick:d=>{d.stopPropagation(),n()},className:"p-1.5 rounded-full border border-transparent hover:border-green-200 dark:hover:border-green-500 transition-colors","aria-label":t.reconciled?"Mark as unreconciled":"Mark as reconciled",children:t.reconciled?b.jsx(Qw,{className:"text-green-500",size:20}):b.jsx(Xw,{className:"text-gray-400",size:20})}):b.jsx("span",{children:t.reconciled?b.jsx(Qw,{className:"text-green-500",size:20}):b.jsx(Xw,{className:"text-gray-400",size:20})})]})]})},Nv=O.createContext({});function Om(t){const e=O.useRef(null);return e.current===null&&(e.current=t()),e.current}const Iv=typeof window<"u",kv=Iv?O.useLayoutEffect:O.useEffect,Vm=O.createContext(null);function Dv(t,e){t.indexOf(e)===-1&&t.push(e)}function Mv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const rs=(t,e,n)=>n>e?e:n<t?t:n;let Ov=()=>{};const ss={},cC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function uC(t){return typeof t=="object"&&t!==null}const dC=t=>/^0[^.\s]+$/u.test(t);function Vv(t){let e;return()=>(e===void 0&&(e=t()),e)}const pi=t=>t,Wj=(t,e)=>n=>e(t(n)),ad=(...t)=>t.reduce(Wj),ju=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class Pv{constructor(){this.subscriptions=[]}add(e){return Dv(this.subscriptions,e),()=>Mv(this.subscriptions,e)}notify(e,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,i);else for(let o=0;o<a;o++){const c=this.subscriptions[o];c&&c(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const gr=t=>t*1e3,fi=t=>t/1e3;function hC(t,e){return e?t*(1e3/e):0}const fC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Zj=1e-7,Jj=12;function e9(t,e,n,i,a){let o,c,d=0;do c=e+(n-e)/2,o=fC(c,i,a)-t,o>0?n=c:e=c;while(Math.abs(o)>Zj&&++d<Jj);return c}function od(t,e,n,i){if(t===e&&n===i)return pi;const a=o=>e9(o,0,1,t,n);return o=>o===0||o===1?o:fC(a(o),e,i)}const mC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,pC=t=>e=>1-t(1-e),gC=od(.33,1.53,.69,.99),jv=pC(gC),yC=mC(jv),vC=t=>(t*=2)<1?.5*jv(t):.5*(2-Math.pow(2,-10*(t-1))),Lv=t=>1-Math.sin(Math.acos(t)),bC=pC(Lv),_C=mC(Lv),t9=od(.42,0,1,1),n9=od(0,0,.58,1),wC=od(.42,0,.58,1),i9=t=>Array.isArray(t)&&typeof t[0]!="number",TC=t=>Array.isArray(t)&&typeof t[0]=="number",r9={linear:pi,easeIn:t9,easeInOut:wC,easeOut:n9,circIn:Lv,circInOut:_C,circOut:bC,backIn:jv,backInOut:yC,backOut:gC,anticipate:vC},s9=t=>typeof t=="string",LE=t=>{if(TC(t)){Ov(t.length===4);const[e,n,i,a]=t;return od(e,n,i,a)}else if(s9(t))return r9[t];return t},Qh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function a9(t,e){let n=new Set,i=new Set,a=!1,o=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function h(g){c.has(g)&&(f.schedule(g),t()),g(d)}const f={schedule:(g,v=!1,_=!1)=>{const k=_&&a?n:i;return v&&c.add(g),k.has(g)||k.add(g),g},cancel:g=>{i.delete(g),c.delete(g)},process:g=>{if(d=g,a){o=!0;return}a=!0,[n,i]=[i,n],n.forEach(h),n.clear(),a=!1,o&&(o=!1,f.process(g))}};return f}const o9=40;function EC(t,e){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,c=Qh.reduce((j,$)=>(j[$]=a9(o),j),{}),{setup:d,read:h,resolveKeyframes:f,preUpdate:g,update:v,preRender:_,render:x,postRender:k}=c,A=()=>{const j=ss.useManualTiming?a.timestamp:performance.now();n=!1,ss.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(j-a.timestamp,o9),1)),a.timestamp=j,a.isProcessing=!0,d.process(a),h.process(a),f.process(a),g.process(a),v.process(a),_.process(a),x.process(a),k.process(a),a.isProcessing=!1,n&&e&&(i=!1,t(A))},I=()=>{n=!0,i=!0,a.isProcessing||t(A)};return{schedule:Qh.reduce((j,$)=>{const ne=c[$];return j[$]=(ee,S=!1,R=!1)=>(n||I(),ne.schedule(ee,S,R)),j},{}),cancel:j=>{for(let $=0;$<Qh.length;$++)c[Qh[$]].cancel(j)},state:a,steps:c}}const{schedule:vt,cancel:ha,state:ln,steps:l0}=EC(typeof requestAnimationFrame<"u"?requestAnimationFrame:pi,!0);let gf;function l9(){gf=void 0}const On={now:()=>(gf===void 0&&On.set(ln.isProcessing||ss.useManualTiming?ln.timestamp:performance.now()),gf),set:t=>{gf=t,queueMicrotask(l9)}},xC=t=>e=>typeof e=="string"&&e.startsWith(t),Uv=xC("--"),c9=xC("var(--"),zv=t=>c9(t)?u9.test(t.split("/*")[0].trim()):!1,u9=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Yl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Lu={...Yl,transform:t=>rs(0,1,t)},Xh={...Yl,default:1},bu=t=>Math.round(t*1e5)/1e5,Bv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function d9(t){return t==null}const h9=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Fv=(t,e)=>n=>!!(typeof n=="string"&&h9.test(n)&&n.startsWith(t)||e&&!d9(n)&&Object.prototype.hasOwnProperty.call(n,e)),SC=(t,e,n)=>i=>{if(typeof i!="string")return i;const[a,o,c,d]=i.match(Bv);return{[t]:parseFloat(a),[e]:parseFloat(o),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},f9=t=>rs(0,255,t),c0={...Yl,transform:t=>Math.round(f9(t))},no={test:Fv("rgb","red"),parse:SC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+c0.transform(t)+", "+c0.transform(e)+", "+c0.transform(n)+", "+bu(Lu.transform(i))+")"};function m9(t){let e="",n="",i="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const ny={test:Fv("#"),parse:m9,transform:no.transform},ld=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Hs=ld("deg"),yr=ld("%"),De=ld("px"),p9=ld("vh"),g9=ld("vw"),UE={...yr,parse:t=>yr.parse(t)/100,transform:t=>yr.transform(t*100)},gl={test:Fv("hsl","hue"),parse:SC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+yr.transform(bu(e))+", "+yr.transform(bu(n))+", "+bu(Lu.transform(i))+")"},Ht={test:t=>no.test(t)||ny.test(t)||gl.test(t),parse:t=>no.test(t)?no.parse(t):gl.test(t)?gl.parse(t):ny.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?no.transform(t):gl.transform(t),getAnimatableNone:t=>{const e=Ht.parse(t);return e.alpha=0,Ht.transform(e)}},y9=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function v9(t){return isNaN(t)&&typeof t=="string"&&(t.match(Bv)?.length||0)+(t.match(y9)?.length||0)>0}const AC="number",CC="color",b9="var",_9="var(",zE="${}",w9=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Uu(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},a=[];let o=0;const d=e.replace(w9,h=>(Ht.test(h)?(i.color.push(o),a.push(CC),n.push(Ht.parse(h))):h.startsWith(_9)?(i.var.push(o),a.push(b9),n.push(h)):(i.number.push(o),a.push(AC),n.push(parseFloat(h))),++o,zE)).split(zE);return{values:n,split:d,indexes:i,types:a}}function RC(t){return Uu(t).values}function NC(t){const{split:e,types:n}=Uu(t),i=e.length;return a=>{let o="";for(let c=0;c<i;c++)if(o+=e[c],a[c]!==void 0){const d=n[c];d===AC?o+=bu(a[c]):d===CC?o+=Ht.transform(a[c]):o+=a[c]}return o}}const T9=t=>typeof t=="number"?0:Ht.test(t)?Ht.getAnimatableNone(t):t;function E9(t){const e=RC(t);return NC(t)(e.map(T9))}const fa={test:v9,parse:RC,createTransformer:NC,getAnimatableNone:E9};function u0(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function x9({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let a=0,o=0,c=0;if(!e)a=o=c=n;else{const d=n<.5?n*(1+e):n+e-n*e,h=2*n-d;a=u0(h,d,t+1/3),o=u0(h,d,t),c=u0(h,d,t-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(c*255),alpha:i}}function Gf(t,e){return n=>n>0?e:t}const bt=(t,e,n)=>t+(e-t)*n,d0=(t,e,n)=>{const i=t*t,a=n*(e*e-i)+i;return a<0?0:Math.sqrt(a)},S9=[ny,no,gl],A9=t=>S9.find(e=>e.test(t));function BE(t){const e=A9(t);if(!e)return!1;let n=e.parse(t);return e===gl&&(n=x9(n)),n}const FE=(t,e)=>{const n=BE(t),i=BE(e);if(!n||!i)return Gf(t,e);const a={...n};return o=>(a.red=d0(n.red,i.red,o),a.green=d0(n.green,i.green,o),a.blue=d0(n.blue,i.blue,o),a.alpha=bt(n.alpha,i.alpha,o),no.transform(a))},iy=new Set(["none","hidden"]);function C9(t,e){return iy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function R9(t,e){return n=>bt(t,e,n)}function qv(t){return typeof t=="number"?R9:typeof t=="string"?zv(t)?Gf:Ht.test(t)?FE:k9:Array.isArray(t)?IC:typeof t=="object"?Ht.test(t)?FE:N9:Gf}function IC(t,e){const n=[...t],i=n.length,a=t.map((o,c)=>qv(o)(o,e[c]));return o=>{for(let c=0;c<i;c++)n[c]=a[c](o);return n}}function N9(t,e){const n={...t,...e},i={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(i[a]=qv(t[a])(t[a],e[a]));return a=>{for(const o in i)n[o]=i[o](a);return n}}function I9(t,e){const n=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const o=e.types[a],c=t.indexes[o][i[o]],d=t.values[c]??0;n[a]=d,i[o]++}return n}const k9=(t,e)=>{const n=fa.createTransformer(e),i=Uu(t),a=Uu(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?iy.has(t)&&!a.values.length||iy.has(e)&&!i.values.length?C9(t,e):ad(IC(I9(i,a),a.values),n):Gf(t,e)};function kC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?bt(t,e,n):qv(t)(t,e)}const D9=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>vt.update(e,n),stop:()=>ha(e),now:()=>ln.isProcessing?ln.timestamp:On.now()}},DC=(t,e,n=10)=>{let i="";const a=Math.max(Math.round(e/n),2);for(let o=0;o<a;o++)i+=Math.round(t(o/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Kf=2e4;function Hv(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Kf;)e+=n,i=t.next(e);return e>=Kf?1/0:e}function M9(t,e=100,n){const i=n({...t,keyframes:[0,e]}),a=Math.min(Hv(i),Kf);return{type:"keyframes",ease:o=>i.next(a*o).value/e,duration:fi(a)}}const O9=5;function MC(t,e,n){const i=Math.max(e-O9,0);return hC(n-t(i),e-i)}const St={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},h0=.001;function V9({duration:t=St.duration,bounce:e=St.bounce,velocity:n=St.velocity,mass:i=St.mass}){let a,o,c=1-e;c=rs(St.minDamping,St.maxDamping,c),t=rs(St.minDuration,St.maxDuration,fi(t)),c<1?(a=f=>{const g=f*c,v=g*t,_=g-n,x=ry(f,c),k=Math.exp(-v);return h0-_/x*k},o=f=>{const v=f*c*t,_=v*n+n,x=Math.pow(c,2)*Math.pow(f,2)*t,k=Math.exp(-v),A=ry(Math.pow(f,2),c);return(-a(f)+h0>0?-1:1)*((_-x)*k)/A}):(a=f=>{const g=Math.exp(-f*t),v=(f-n)*t+1;return-h0+g*v},o=f=>{const g=Math.exp(-f*t),v=(n-f)*(t*t);return g*v});const d=5/t,h=j9(a,o,d);if(t=gr(t),isNaN(h))return{stiffness:St.stiffness,damping:St.damping,duration:t};{const f=Math.pow(h,2)*i;return{stiffness:f,damping:c*2*Math.sqrt(i*f),duration:t}}}const P9=12;function j9(t,e,n){let i=n;for(let a=1;a<P9;a++)i=i-t(i)/e(i);return i}function ry(t,e){return t*Math.sqrt(1-e*e)}const L9=["duration","bounce"],U9=["stiffness","damping","mass"];function qE(t,e){return e.some(n=>t[n]!==void 0)}function z9(t){let e={velocity:St.velocity,stiffness:St.stiffness,damping:St.damping,mass:St.mass,isResolvedFromDuration:!1,...t};if(!qE(t,U9)&&qE(t,L9))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,o=2*rs(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:St.mass,stiffness:a,damping:o}}else{const n=V9(t);e={...e,...n,mass:St.mass},e.isResolvedFromDuration=!0}return e}function Yf(t=St.visualDuration,e=St.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=n;const o=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:o},{stiffness:h,damping:f,mass:g,duration:v,velocity:_,isResolvedFromDuration:x}=z9({...n,velocity:-fi(n.velocity||0)}),k=_||0,A=f/(2*Math.sqrt(h*g)),I=c-o,U=fi(Math.sqrt(h/g)),B=Math.abs(I)<5;i||(i=B?St.restSpeed.granular:St.restSpeed.default),a||(a=B?St.restDelta.granular:St.restDelta.default);let j;if(A<1){const ne=ry(U,A);j=ee=>{const S=Math.exp(-A*U*ee);return c-S*((k+A*U*I)/ne*Math.sin(ne*ee)+I*Math.cos(ne*ee))}}else if(A===1)j=ne=>c-Math.exp(-U*ne)*(I+(k+U*I)*ne);else{const ne=U*Math.sqrt(A*A-1);j=ee=>{const S=Math.exp(-A*U*ee),R=Math.min(ne*ee,300);return c-S*((k+A*U*I)*Math.sinh(R)+ne*I*Math.cosh(R))/ne}}const $={calculatedDuration:x&&v||null,next:ne=>{const ee=j(ne);if(x)d.done=ne>=v;else{let S=ne===0?k:0;A<1&&(S=ne===0?gr(k):MC(j,ne,ee));const R=Math.abs(S)<=i,M=Math.abs(c-ee)<=a;d.done=R&&M}return d.value=d.done?c:ee,d},toString:()=>{const ne=Math.min(Hv($),Kf),ee=DC(S=>$.next(ne*S).value,ne,30);return ne+"ms "+ee},toTransition:()=>{}};return $}Yf.applyToOptions=t=>{const e=M9(t,100,Yf);return t.ease=e.ease,t.duration=gr(e.duration),t.type="keyframes",t};function sy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:c,min:d,max:h,restDelta:f=.5,restSpeed:g}){const v=t[0],_={done:!1,value:v},x=R=>d!==void 0&&R<d||h!==void 0&&R>h,k=R=>d===void 0?h:h===void 0||Math.abs(d-R)<Math.abs(h-R)?d:h;let A=n*e;const I=v+A,U=c===void 0?I:c(I);U!==I&&(A=U-v);const B=R=>-A*Math.exp(-R/i),j=R=>U+B(R),$=R=>{const M=B(R),V=j(R);_.done=Math.abs(M)<=f,_.value=_.done?U:V};let ne,ee;const S=R=>{x(_.value)&&(ne=R,ee=Yf({keyframes:[_.value,k(_.value)],velocity:MC(j,R,_.value),damping:a,stiffness:o,restDelta:f,restSpeed:g}))};return S(0),{calculatedDuration:null,next:R=>{let M=!1;return!ee&&ne===void 0&&(M=!0,$(R),S(R)),ne!==void 0&&R>=ne?ee.next(R-ne):(!M&&$(R),_)}}}function B9(t,e,n){const i=[],a=n||ss.mix||kC,o=t.length-1;for(let c=0;c<o;c++){let d=a(t[c],t[c+1]);if(e){const h=Array.isArray(e)?e[c]||pi:e;d=ad(h,d)}i.push(d)}return i}function F9(t,e,{clamp:n=!0,ease:i,mixer:a}={}){const o=t.length;if(Ov(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=B9(e,i,a),h=d.length,f=g=>{if(c&&g<t[0])return e[0];let v=0;if(h>1)for(;v<t.length-2&&!(g<t[v+1]);v++);const _=ju(t[v],t[v+1],g);return d[v](_)};return n?g=>f(rs(t[0],t[o-1],g)):f}function q9(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const a=ju(0,e,i);t.push(bt(n,1,a))}}function H9(t){const e=[0];return q9(e,t.length-1),e}function $9(t,e){return t.map(n=>n*e)}function G9(t,e){return t.map(()=>e||wC).splice(0,t.length-1)}function _u({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const a=i9(i)?i.map(LE):LE(i),o={done:!1,value:e[0]},c=$9(n&&n.length===e.length?n:H9(e),t),d=F9(c,e,{ease:Array.isArray(a)?a:G9(e,a)});return{calculatedDuration:t,next:h=>(o.value=d(h),o.done=h>=t,o)}}const K9=t=>t!==null;function $v(t,{repeat:e,repeatType:n="loop"},i,a=1){const o=t.filter(K9),d=a<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!d||i===void 0?o[d]:i}const Y9={decay:sy,inertia:sy,tween:_u,keyframes:_u,spring:Yf};function OC(t){typeof t.type=="string"&&(t.type=Y9[t.type])}class Gv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const Q9=t=>t/100;class Kv extends Gv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==On.now()&&this.tick(On.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;OC(e);const{type:n=_u,repeat:i=0,repeatDelay:a=0,repeatType:o,velocity:c=0}=e;let{keyframes:d}=e;const h=n||_u;h!==_u&&typeof d[0]!="number"&&(this.mixKeyframes=ad(Q9,kC(d[0],d[1])),d=[0,100]);const f=h({...e,keyframes:d});o==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...d].reverse(),velocity:-c})),f.calculatedDuration===null&&(f.calculatedDuration=Hv(f));const{calculatedDuration:g}=f;this.calculatedDuration=g,this.resolvedDuration=g+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:a,mixKeyframes:o,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:h}=this;if(this.startTime===null)return i.next(0);const{delay:f=0,keyframes:g,repeat:v,repeatType:_,repeatDelay:x,type:k,onUpdate:A,finalKeyframe:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const U=this.currentTime-f*(this.playbackSpeed>=0?1:-1),B=this.playbackSpeed>=0?U<0:U>a;this.currentTime=Math.max(U,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let j=this.currentTime,$=i;if(v){const R=Math.min(this.currentTime,a)/d;let M=Math.floor(R),V=R%1;!V&&R>=1&&(V=1),V===1&&M--,M=Math.min(M,v+1),!!(M%2)&&(_==="reverse"?(V=1-V,x&&(V-=x/d)):_==="mirror"&&($=c)),j=rs(0,1,V)*d}const ne=B?{done:!1,value:g[0]}:$.next(j);o&&(ne.value=o(ne.value));let{done:ee}=ne;!B&&h!==null&&(ee=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ee);return S&&k!==sy&&(ne.value=$v(g,this.options,I,this.speed)),A&&A(ne.value),S&&this.finish(),ne}then(e,n){return this.finished.then(e,n)}get duration(){return fi(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+fi(e)}get time(){return fi(this.currentTime)}set time(e){e=gr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(On.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=fi(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=D9,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(On.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function X9(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const io=t=>t*180/Math.PI,ay=t=>{const e=io(Math.atan2(t[1],t[0]));return oy(e)},W9={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:ay,rotateZ:ay,skewX:t=>io(Math.atan(t[1])),skewY:t=>io(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},oy=t=>(t=t%360,t<0&&(t+=360),t),HE=ay,$E=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),GE=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Z9={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:$E,scaleY:GE,scale:t=>($E(t)+GE(t))/2,rotateX:t=>oy(io(Math.atan2(t[6],t[5]))),rotateY:t=>oy(io(Math.atan2(-t[2],t[0]))),rotateZ:HE,rotate:HE,skewX:t=>io(Math.atan(t[4])),skewY:t=>io(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function ly(t){return t.includes("scale")?1:0}function cy(t,e){if(!t||t==="none")return ly(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=Z9,a=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=W9,a=d}if(!a)return ly(e);const o=i[e],c=a[1].split(",").map(eL);return typeof o=="function"?o(c):c[o]}const J9=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return cy(n,e)};function eL(t){return parseFloat(t.trim())}const Ql=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Xl=new Set(Ql),KE=t=>t===Yl||t===De,tL=new Set(["x","y","z"]),nL=Ql.filter(t=>!tL.has(t));function iL(t){const e=[];return nL.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const ao={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>cy(e,"x"),y:(t,{transform:e})=>cy(e,"y")};ao.translateX=ao.x;ao.translateY=ao.y;const oo=new Set;let uy=!1,dy=!1,hy=!1;function VC(){if(dy){const t=Array.from(oo).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const a=iL(i);a.length&&(n.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([o,c])=>{i.getValue(o)?.set(c)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}dy=!1,uy=!1,oo.forEach(t=>t.complete(hy)),oo.clear()}function PC(){oo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(dy=!0)})}function rL(){hy=!0,PC(),VC(),hy=!1}class Yv{constructor(e,n,i,a,o,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=a,this.element=o,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(oo.add(this),uy||(uy=!0,vt.read(PC),vt.resolveKeyframes(VC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:a}=this;if(e[0]===null){const o=a?.get(),c=e[e.length-1];if(o!==void 0)e[0]=o;else if(i&&n){const d=i.readValue(n,c);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=c),a&&o===void 0&&a.set(e[0])}X9(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),oo.delete(this)}cancel(){this.state==="scheduled"&&(oo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const sL=t=>t.startsWith("--");function aL(t,e,n){sL(e)?t.style.setProperty(e,n):t.style[e]=n}const oL=Vv(()=>window.ScrollTimeline!==void 0),lL={};function cL(t,e){const n=Vv(t);return()=>lL[e]??n()}const jC=cL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),hu=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,YE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:hu([0,.65,.55,1]),circOut:hu([.55,0,1,.45]),backIn:hu([.31,.01,.66,-.59]),backOut:hu([.33,1.53,.69,.99])};function LC(t,e){if(t)return typeof t=="function"?jC()?DC(t,e):"ease-out":TC(t)?hu(t):Array.isArray(t)?t.map(n=>LC(n,e)||YE.easeOut):YE[t]}function uL(t,e,n,{delay:i=0,duration:a=300,repeat:o=0,repeatType:c="loop",ease:d="easeOut",times:h}={},f=void 0){const g={[e]:n};h&&(g.offset=h);const v=LC(d,a);Array.isArray(v)&&(g.easing=v);const _={delay:i,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:o+1,direction:c==="reverse"?"alternate":"normal"};return f&&(_.pseudoElement=f),t.animate(g,_)}function UC(t){return typeof t=="function"&&"applyToOptions"in t}function dL({type:t,...e}){return UC(t)&&jC()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class hL extends Gv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:a,pseudoElement:o,allowFlatten:c=!1,finalKeyframe:d,onComplete:h}=e;this.isPseudoElement=!!o,this.allowFlatten=c,this.options=e,Ov(typeof e.type!="string");const f=dL(e);this.animation=uL(n,i,a,f,o),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const g=$v(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(g):aL(n,i,g),this.animation.cancel()}h?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return fi(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+fi(e)}get time(){return fi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=gr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&oL()?(this.animation.timeline=e,pi):n(this)}}const zC={anticipate:vC,backInOut:yC,circInOut:_C};function fL(t){return t in zC}function mL(t){typeof t.ease=="string"&&fL(t.ease)&&(t.ease=zC[t.ease])}const QE=10;class pL extends hL{constructor(e){mL(e),OC(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:a,element:o,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new Kv({...c,autoplay:!1}),h=gr(this.finishedTime??this.time);n.setWithVelocity(d.sample(h-QE).value,d.sample(h).value,QE),d.stop()}}const XE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(fa.test(t)||t==="0")&&!t.startsWith("url("));function gL(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function yL(t,e,n,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],c=XE(a,e),d=XE(o,e);return!c||!d?!1:gL(t)||(n==="spring"||UC(n))&&i}function fy(t){t.duration=0,t.type="keyframes"}const vL=new Set(["opacity","clipPath","filter","transform"]),bL=Vv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function _L(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:a,damping:o,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:f}=e.owner.getProps();return bL()&&n&&vL.has(n)&&(n!=="transform"||!f)&&!h&&!i&&a!=="mirror"&&o!==0&&c!=="inertia"}const wL=40;class TL extends Gv{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:c="loop",keyframes:d,name:h,motionValue:f,element:g,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=On.now();const _={autoplay:e,delay:n,type:i,repeat:a,repeatDelay:o,repeatType:c,name:h,motionValue:f,element:g,...v},x=g?.KeyframeResolver||Yv;this.keyframeResolver=new x(d,(k,A,I)=>this.onKeyframesResolved(k,A,_,!I),h,f,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,a){this.keyframeResolver=void 0;const{name:o,type:c,velocity:d,delay:h,isHandoff:f,onUpdate:g}=i;this.resolvedAt=On.now(),yL(e,o,c,d)||((ss.instantAnimations||!h)&&g?.($v(e,i,n)),e[0]=e[e.length-1],fy(i),i.repeat=0);const _={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>wL?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},x=!f&&_L(_)?new pL({..._,element:_.motionValue.owner.current}):new Kv(_);x.finished.then(()=>this.notifyFinished()).catch(pi),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),rL()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const EL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function xL(t){const e=EL.exec(t);if(!e)return[,];const[,n,i,a]=e;return[`--${n??i}`,a]}function BC(t,e,n=1){const[i,a]=xL(t);if(!i)return;const o=window.getComputedStyle(e).getPropertyValue(i);if(o){const c=o.trim();return cC(c)?parseFloat(c):c}return zv(a)?BC(a,e,n+1):a}function Qv(t,e){return t?.[e]??t?.default??t}const FC=new Set(["width","height","top","left","right","bottom",...Ql]),SL={test:t=>t==="auto",parse:t=>t},qC=t=>e=>e.test(t),HC=[Yl,De,yr,Hs,g9,p9,SL],WE=t=>HC.find(qC(t));function AL(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||dC(t):!0}const CL=new Set(["brightness","contrast","saturate","opacity"]);function RL(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(Bv)||[];if(!i)return t;const a=n.replace(i,"");let o=CL.has(e)?1:0;return i!==n&&(o*=100),e+"("+o+a+")"}const NL=/\b([a-z-]*)\(.*?\)/gu,my={...fa,getAnimatableNone:t=>{const e=t.match(NL);return e?e.map(RL).join(" "):t}},ZE={...Yl,transform:Math.round},IL={rotate:Hs,rotateX:Hs,rotateY:Hs,rotateZ:Hs,scale:Xh,scaleX:Xh,scaleY:Xh,scaleZ:Xh,skew:Hs,skewX:Hs,skewY:Hs,distance:De,translateX:De,translateY:De,translateZ:De,x:De,y:De,z:De,perspective:De,transformPerspective:De,opacity:Lu,originX:UE,originY:UE,originZ:De},Xv={borderWidth:De,borderTopWidth:De,borderRightWidth:De,borderBottomWidth:De,borderLeftWidth:De,borderRadius:De,radius:De,borderTopLeftRadius:De,borderTopRightRadius:De,borderBottomRightRadius:De,borderBottomLeftRadius:De,width:De,maxWidth:De,height:De,maxHeight:De,top:De,right:De,bottom:De,left:De,padding:De,paddingTop:De,paddingRight:De,paddingBottom:De,paddingLeft:De,margin:De,marginTop:De,marginRight:De,marginBottom:De,marginLeft:De,backgroundPositionX:De,backgroundPositionY:De,...IL,zIndex:ZE,fillOpacity:Lu,strokeOpacity:Lu,numOctaves:ZE},kL={...Xv,color:Ht,backgroundColor:Ht,outlineColor:Ht,fill:Ht,stroke:Ht,borderColor:Ht,borderTopColor:Ht,borderRightColor:Ht,borderBottomColor:Ht,borderLeftColor:Ht,filter:my,WebkitFilter:my},$C=t=>kL[t];function GC(t,e){let n=$C(t);return n!==my&&(n=fa),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const DL=new Set(["auto","none","0"]);function ML(t,e,n){let i=0,a;for(;i<t.length&&!a;){const o=t[i];typeof o=="string"&&!DL.has(o)&&Uu(o).values.length&&(a=t[i]),i++}if(a&&n)for(const o of e)t[o]=GC(n,a)}class OL extends Yv{constructor(e,n,i,a,o){super(e,n,i,a,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let f=e[h];if(typeof f=="string"&&(f=f.trim(),zv(f))){const g=BC(f,n.current);g!==void 0&&(e[h]=g),h===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!FC.has(i)||e.length!==2)return;const[a,o]=e,c=WE(a),d=WE(o);if(c!==d)if(KE(c)&&KE(d))for(let h=0;h<e.length;h++){const f=e[h];typeof f=="string"&&(e[h]=parseFloat(f))}else ao[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||AL(e[a]))&&i.push(a);i.length&&ML(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ao[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const o=i.length-1,c=i[o];i[o]=ao[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,h])=>{e.getValue(d).set(h)}),this.resolveNoneKeyframes()}}function VL(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const a=n?.[t]??i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const KC=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function YC(t){return uC(t)&&"offsetHeight"in t}const JE=30,PL=t=>!isNaN(parseFloat(t));class jL{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=On.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=On.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=PL(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Pv);const i=this.events[e].add(n);return e==="change"?()=>{i(),vt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=On.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>JE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,JE);return hC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function jl(t,e){return new jL(t,e)}const{schedule:Wv}=EC(queueMicrotask,!1),Ii={x:!1,y:!1};function QC(){return Ii.x||Ii.y}function LL(t){return t==="x"||t==="y"?Ii[t]?null:(Ii[t]=!0,()=>{Ii[t]=!1}):Ii.x||Ii.y?null:(Ii.x=Ii.y=!0,()=>{Ii.x=Ii.y=!1})}function XC(t,e){const n=VL(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[n,a,()=>i.abort()]}function ex(t){return!(t.pointerType==="touch"||QC())}function UL(t,e,n={}){const[i,a,o]=XC(t,n),c=d=>{if(!ex(d))return;const{target:h}=d,f=e(h,d);if(typeof f!="function"||!h)return;const g=v=>{ex(v)&&(f(v),h.removeEventListener("pointerleave",g))};h.addEventListener("pointerleave",g,a)};return i.forEach(d=>{d.addEventListener("pointerenter",c,a)}),o}const WC=(t,e)=>e?t===e?!0:WC(t,e.parentElement):!1,Zv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,zL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function BL(t){return zL.has(t.tagName)||t.tabIndex!==-1}const yf=new WeakSet;function tx(t){return e=>{e.key==="Enter"&&t(e)}}function f0(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const FL=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=tx(()=>{if(yf.has(n))return;f0(n,"down");const a=tx(()=>{f0(n,"up")}),o=()=>f0(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function nx(t){return Zv(t)&&!QC()}function qL(t,e,n={}){const[i,a,o]=XC(t,n),c=d=>{const h=d.currentTarget;if(!nx(d))return;yf.add(h);const f=e(h,d),g=(x,k)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",_),yf.has(h)&&yf.delete(h),nx(x)&&typeof f=="function"&&f(x,{success:k})},v=x=>{g(x,h===window||h===document||n.useGlobalTarget||WC(h,x.target))},_=x=>{g(x,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",_,a)};return i.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),YC(d)&&(d.addEventListener("focus",f=>FL(f,a)),!BL(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),o}function ZC(t){return uC(t)&&"ownerSVGElement"in t}function HL(t){return ZC(t)&&t.tagName==="svg"}const vn=t=>!!(t&&t.getVelocity),$L=[...HC,Ht,fa],GL=t=>$L.find(qC(t)),Jv=O.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function ix(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function KL(...t){return e=>{let n=!1;const i=t.map(a=>{const o=ix(a,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let a=0;a<i.length;a++){const o=i[a];typeof o=="function"?o():ix(t[a],null)}}}}function YL(...t){return O.useCallback(KL(...t),t)}class QL extends O.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,a=YC(i)&&i.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=a-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function XL({children:t,isPresent:e,anchorX:n,root:i}){const a=O.useId(),o=O.useRef(null),c=O.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=O.useContext(Jv),h=YL(o,t?.ref);return O.useInsertionEffect(()=>{const{width:f,height:g,top:v,left:_,right:x}=c.current;if(e||!o.current||!f||!g)return;const k=n==="left"?`left: ${_}`:`right: ${x}`;o.current.dataset.motionPopId=a;const A=document.createElement("style");d&&(A.nonce=d);const I=i??document.head;return I.appendChild(A),A.sheet&&A.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${g}px !important;
            ${k}px !important;
            top: ${v}px !important;
          }
        `),()=>{I.contains(A)&&I.removeChild(A)}},[e]),b.jsx(QL,{isPresent:e,childRef:o,sizeRef:c,children:O.cloneElement(t,{ref:h})})}const WL=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:o,mode:c,anchorX:d,root:h})=>{const f=Om(ZL),g=O.useId();let v=!0,_=O.useMemo(()=>(v=!1,{id:g,initial:e,isPresent:n,custom:a,onExitComplete:x=>{f.set(x,!0);for(const k of f.values())if(!k)return;i&&i()},register:x=>(f.set(x,!1),()=>f.delete(x))}),[n,f,i]);return o&&v&&(_={..._}),O.useMemo(()=>{f.forEach((x,k)=>f.set(k,!1))},[n]),O.useEffect(()=>{!n&&!f.size&&i&&i()},[n]),c==="popLayout"&&(t=b.jsx(XL,{isPresent:n,anchorX:d,root:h,children:t})),b.jsx(Vm.Provider,{value:_,children:t})};function ZL(){return new Map}function JC(t=!0){const e=O.useContext(Vm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=e,o=O.useId();O.useEffect(()=>{if(t)return a(o)},[t]);const c=O.useCallback(()=>t&&i&&i(o),[o,i,t]);return!n&&i?[!1,c]:[!0]}const Wh=t=>t.key||"";function rx(t){const e=[];return O.Children.forEach(t,n=>{O.isValidElement(n)&&e.push(n)}),e}const zu=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:o="sync",propagate:c=!1,anchorX:d="left",root:h})=>{const[f,g]=JC(c),v=O.useMemo(()=>rx(t),[t]),_=c&&!f?[]:v.map(Wh),x=O.useRef(!0),k=O.useRef(v),A=Om(()=>new Map),[I,U]=O.useState(v),[B,j]=O.useState(v);kv(()=>{x.current=!1,k.current=v;for(let ee=0;ee<B.length;ee++){const S=Wh(B[ee]);_.includes(S)?A.delete(S):A.get(S)!==!0&&A.set(S,!1)}},[B,_.length,_.join("-")]);const $=[];if(v!==I){let ee=[...v];for(let S=0;S<B.length;S++){const R=B[S],M=Wh(R);_.includes(M)||(ee.splice(S,0,R),$.push(R))}return o==="wait"&&$.length&&(ee=$),j(rx(ee)),U(v),null}const{forceRender:ne}=O.useContext(Nv);return b.jsx(b.Fragment,{children:B.map(ee=>{const S=Wh(ee),R=c&&!f?!1:v===B||_.includes(S),M=()=>{if(A.has(S))A.set(S,!0);else return;let V=!0;A.forEach(D=>{D||(V=!1)}),V&&(ne?.(),j(k.current),c&&g?.(),i&&i())};return b.jsx(WL,{isPresent:R,initial:!x.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:o,root:h,onExitComplete:R?void 0:M,anchorX:d,children:ee},S)})})},eR=O.createContext({strict:!1}),sx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ll={};for(const t in sx)Ll[t]={isEnabled:e=>sx[t].some(n=>!!e[n])};function JL(t){for(const e in t)Ll[e]={...Ll[e],...t[e]}}const eU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Qf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||eU.has(t)}let tR=t=>!Qf(t);function tU(t){typeof t=="function"&&(tR=e=>e.startsWith("on")?!Qf(e):t(e))}try{tU(require("@emotion/is-prop-valid").default)}catch{}function nU(t,e,n){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(tR(a)||n===!0&&Qf(a)||!e&&!Qf(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}const Pm=O.createContext({});function jm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Bu(t){return typeof t=="string"||Array.isArray(t)}const eb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],tb=["initial",...eb];function Lm(t){return jm(t.animate)||tb.some(e=>Bu(t[e]))}function nR(t){return!!(Lm(t)||t.variants)}function iU(t,e){if(Lm(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Bu(n)?n:void 0,animate:Bu(i)?i:void 0}}return t.inherit!==!1?e:{}}function rU(t){const{initial:e,animate:n}=iU(t,O.useContext(Pm));return O.useMemo(()=>({initial:e,animate:n}),[ax(e),ax(n)])}function ax(t){return Array.isArray(t)?t.join(" "):t}const Fu={};function sU(t){for(const e in t)Fu[e]=t[e],Uv(e)&&(Fu[e].isCSSVariable=!0)}function iR(t,{layout:e,layoutId:n}){return Xl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Fu[t]||t==="opacity")}const aU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},oU=Ql.length;function lU(t,e,n){let i="",a=!0;for(let o=0;o<oU;o++){const c=Ql[o],d=t[c];if(d===void 0)continue;let h=!0;if(typeof d=="number"?h=d===(c.startsWith("scale")?1:0):h=parseFloat(d)===0,!h||n){const f=KC(d,Xv[c]);if(!h){a=!1;const g=aU[c]||c;i+=`${g}(${f}) `}n&&(e[c]=f)}}return i=i.trim(),n?i=n(e,a?"":i):a&&(i="none"),i}function nb(t,e,n){const{style:i,vars:a,transformOrigin:o}=t;let c=!1,d=!1;for(const h in e){const f=e[h];if(Xl.has(h)){c=!0;continue}else if(Uv(h)){a[h]=f;continue}else{const g=KC(f,Xv[h]);h.startsWith("origin")?(d=!0,o[h]=g):i[h]=g}}if(e.transform||(c||n?i.transform=lU(e,t.transform,n):i.transform&&(i.transform="none")),d){const{originX:h="50%",originY:f="50%",originZ:g=0}=o;i.transformOrigin=`${h} ${f} ${g}`}}const ib=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function rR(t,e,n){for(const i in e)!vn(e[i])&&!iR(i,n)&&(t[i]=e[i])}function cU({transformTemplate:t},e){return O.useMemo(()=>{const n=ib();return nb(n,e,t),Object.assign({},n.vars,n.style)},[e])}function uU(t,e){const n=t.style||{},i={};return rR(i,n,t),Object.assign(i,cU(t,e)),i}function dU(t,e){const n={},i=uU(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const hU={offset:"stroke-dashoffset",array:"stroke-dasharray"},fU={offset:"strokeDashoffset",array:"strokeDasharray"};function mU(t,e,n=1,i=0,a=!0){t.pathLength=1;const o=a?hU:fU;t[o.offset]=De.transform(-i);const c=De.transform(e),d=De.transform(n);t[o.array]=`${c} ${d}`}function sR(t,{attrX:e,attrY:n,attrScale:i,pathLength:a,pathSpacing:o=1,pathOffset:c=0,...d},h,f,g){if(nb(t,d,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:_}=t;v.transform&&(_.transform=v.transform,delete v.transform),(_.transform||v.transformOrigin)&&(_.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),_.transform&&(_.transformBox=g?.transformBox??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),i!==void 0&&(v.scale=i),a!==void 0&&mU(v,a,o,c,!1)}const aR=()=>({...ib(),attrs:{}}),oR=t=>typeof t=="string"&&t.toLowerCase()==="svg";function pU(t,e,n,i){const a=O.useMemo(()=>{const o=aR();return sR(o,e,oR(i),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};rR(o,t.style,t),a.style={...o,...a.style}}return a}const gU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function rb(t){return typeof t!="string"||t.includes("-")?!1:!!(gU.indexOf(t)>-1||/[A-Z]/u.test(t))}function yU(t,e,n,{latestValues:i},a,o=!1){const d=(rb(t)?pU:dU)(e,i,a,t),h=nU(e,typeof t=="string",o),f=t!==O.Fragment?{...h,...d,ref:n}:{},{children:g}=e,v=O.useMemo(()=>vn(g)?g.get():g,[g]);return O.createElement(t,{...f,children:v})}function ox(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function sb(t,e,n,i){if(typeof e=="function"){const[a,o]=ox(i);e=e(n!==void 0?n:t.custom,a,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,o]=ox(i);e=e(n!==void 0?n:t.custom,a,o)}return e}function vf(t){return vn(t)?t.get():t}function vU({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,a){return{latestValues:bU(n,i,a,t),renderState:e()}}function bU(t,e,n,i){const a={},o=i(t,{});for(const _ in o)a[_]=vf(o[_]);let{initial:c,animate:d}=t;const h=Lm(t),f=nR(t);e&&f&&!h&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let g=n?n.initial===!1:!1;g=g||c===!1;const v=g?d:c;if(v&&typeof v!="boolean"&&!jm(v)){const _=Array.isArray(v)?v:[v];for(let x=0;x<_.length;x++){const k=sb(t,_[x]);if(k){const{transitionEnd:A,transition:I,...U}=k;for(const B in U){let j=U[B];if(Array.isArray(j)){const $=g?j.length-1:0;j=j[$]}j!==null&&(a[B]=j)}for(const B in A)a[B]=A[B]}}}return a}const lR=t=>(e,n)=>{const i=O.useContext(Pm),a=O.useContext(Vm),o=()=>vU(t,e,i,a);return n?o():Om(o)};function ab(t,e,n){const{style:i}=t,a={};for(const o in i)(vn(i[o])||e.style&&vn(e.style[o])||iR(o,t)||n?.getValue(o)?.liveStyle!==void 0)&&(a[o]=i[o]);return a}const _U=lR({scrapeMotionValuesFromProps:ab,createRenderState:ib});function cR(t,e,n){const i=ab(t,e,n);for(const a in t)if(vn(t[a])||vn(e[a])){const o=Ql.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[o]=t[a]}return i}const wU=lR({scrapeMotionValuesFromProps:cR,createRenderState:aR}),TU=Symbol.for("motionComponentSymbol");function yl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function EU(t,e,n){return O.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):yl(n)&&(n.current=i))},[e])}const ob=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),xU="framerAppearId",uR="data-"+ob(xU),dR=O.createContext({});function SU(t,e,n,i,a){const{visualElement:o}=O.useContext(Pm),c=O.useContext(eR),d=O.useContext(Vm),h=O.useContext(Jv).reducedMotion,f=O.useRef(null);i=i||c.renderer,!f.current&&i&&(f.current=i(t,{visualState:e,parent:o,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:h}));const g=f.current,v=O.useContext(dR);g&&!g.projection&&a&&(g.type==="html"||g.type==="svg")&&AU(f.current,n,a,v);const _=O.useRef(!1);O.useInsertionEffect(()=>{g&&_.current&&g.update(n,d)});const x=n[uR],k=O.useRef(!!x&&!window.MotionHandoffIsComplete?.(x)&&window.MotionHasOptimisedAnimation?.(x));return kv(()=>{g&&(_.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),k.current&&g.animationState&&g.animationState.animateChanges())}),O.useEffect(()=>{g&&(!k.current&&g.animationState&&g.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(x)}),k.current=!1),g.enteringChildren=void 0)}),g}function AU(t,e,n,i){const{layoutId:a,layout:o,drag:c,dragConstraints:d,layoutScroll:h,layoutRoot:f,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:hR(t.parent)),t.projection.setOptions({layoutId:a,layout:o,alwaysMeasureLayout:!!c||d&&yl(d),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,crossfade:g,layoutScroll:h,layoutRoot:f})}function hR(t){if(t)return t.options.allowProjection!==!1?t.projection:hR(t.parent)}function m0(t,{forwardMotionProps:e=!1}={},n,i){n&&JL(n);const a=rb(t)?wU:_U;function o(d,h){let f;const g={...O.useContext(Jv),...d,layoutId:CU(d)},{isStatic:v}=g,_=rU(d),x=a(d,v);if(!v&&Iv){RU();const k=NU(g);f=k.MeasureLayout,_.visualElement=SU(t,x,g,i,k.ProjectionNode)}return b.jsxs(Pm.Provider,{value:_,children:[f&&_.visualElement?b.jsx(f,{visualElement:_.visualElement,...g}):null,yU(t,d,EU(x,_.visualElement,h),x,v,e)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=O.forwardRef(o);return c[TU]=t,c}function CU({layoutId:t}){const e=O.useContext(Nv).id;return e&&t!==void 0?e+"-"+t:t}function RU(t,e){O.useContext(eR).strict}function NU(t){const{drag:e,layout:n}=Ll;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function IU(t,e){if(typeof Proxy>"u")return m0;const n=new Map,i=(o,c)=>m0(o,c,t,e),a=(o,c)=>i(o,c);return new Proxy(a,{get:(o,c)=>c==="create"?i:(n.has(c)||n.set(c,m0(c,void 0,t,e)),n.get(c))})}function fR({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function kU({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function DU(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function p0(t){return t===void 0||t===1}function py({scale:t,scaleX:e,scaleY:n}){return!p0(t)||!p0(e)||!p0(n)}function eo(t){return py(t)||mR(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function mR(t){return lx(t.x)||lx(t.y)}function lx(t){return t&&t!=="0%"}function Xf(t,e,n){const i=t-n,a=e*i;return n+a}function cx(t,e,n,i,a){return a!==void 0&&(t=Xf(t,a,i)),Xf(t,n,i)+e}function gy(t,e=0,n=1,i,a){t.min=cx(t.min,e,n,i,a),t.max=cx(t.max,e,n,i,a)}function pR(t,{x:e,y:n}){gy(t.x,e.translate,e.scale,e.originPoint),gy(t.y,n.translate,n.scale,n.originPoint)}const ux=.999999999999,dx=1.0000000000001;function MU(t,e,n,i=!1){const a=n.length;if(!a)return;e.x=e.y=1;let o,c;for(let d=0;d<a;d++){o=n[d],c=o.projectionDelta;const{visualElement:h}=o.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&bl(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,pR(t,c)),i&&eo(o.latestValues)&&bl(t,o.latestValues))}e.x<dx&&e.x>ux&&(e.x=1),e.y<dx&&e.y>ux&&(e.y=1)}function vl(t,e){t.min=t.min+e,t.max=t.max+e}function hx(t,e,n,i,a=.5){const o=bt(t.min,t.max,a);gy(t,e,n,o,i)}function bl(t,e){hx(t.x,e.x,e.scaleX,e.scale,e.originX),hx(t.y,e.y,e.scaleY,e.scale,e.originY)}function gR(t,e){return fR(DU(t.getBoundingClientRect(),e))}function OU(t,e,n){const i=gR(t,n),{scroll:a}=e;return a&&(vl(i.x,a.offset.x),vl(i.y,a.offset.y)),i}const fx=()=>({translate:0,scale:1,origin:0,originPoint:0}),_l=()=>({x:fx(),y:fx()}),mx=()=>({min:0,max:0}),kt=()=>({x:mx(),y:mx()}),yy={current:null},yR={current:!1};function VU(){if(yR.current=!0,!!Iv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>yy.current=t.matches;t.addEventListener("change",e),e()}else yy.current=!1}const PU=new WeakMap;function jU(t,e,n){for(const i in e){const a=e[i],o=n[i];if(vn(a))t.addValue(i,a);else if(vn(o))t.addValue(i,jl(a,{owner:t}));else if(o!==a)if(t.hasValue(i)){const c=t.getValue(i);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(i);t.addValue(i,jl(c!==void 0?c:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const px=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class LU{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:o,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Yv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=On.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,vt.render(this.render,!1,!0))};const{latestValues:h,renderState:f}=c;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!o,this.isControllingVariants=Lm(n),this.isVariantNode=nR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const _ in v){const x=v[_];h[_]!==void 0&&vn(x)&&x.set(h[_])}}mount(e){this.current=e,PU.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),yR.current||VU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:yy.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ha(this.notifyUpdate),ha(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Xl.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&vt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ll){const n=Ll[e];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):kt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<px.length;i++){const a=px[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o="on"+a,c=e[o];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=jU(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=jl(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(cC(i)||dC(i))?i=parseFloat(i):!GL(i)&&fa.test(n)&&(i=GC(e,n)),this.setBaseTarget(e,vn(i)?i.get():i)),vn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const o=sb(this.props,n,this.presenceContext?.custom);o&&(i=o[e])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!vn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Pv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Wv.render(this.render)}}class vR extends LU{constructor(){super(...arguments),this.KeyframeResolver=OL}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;vn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function bR(t,{style:e,vars:n},i,a){const o=t.style;let c;for(c in e)o[c]=e[c];a?.applyProjectionStyles(o,i);for(c in n)o.setProperty(c,n[c])}function UU(t){return window.getComputedStyle(t)}class zU extends vR{constructor(){super(...arguments),this.type="html",this.renderInstance=bR}readValueFromInstance(e,n){if(Xl.has(n))return this.projection?.isProjecting?ly(n):J9(e,n);{const i=UU(e),a=(Uv(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return gR(e,n)}build(e,n,i){nb(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return ab(e,n,i)}}const _R=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function BU(t,e,n,i){bR(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(_R.has(a)?a:ob(a),e.attrs[a])}class FU extends vR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=kt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Xl.has(n)){const i=$C(n);return i&&i.default||0}return n=_R.has(n)?n:ob(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return cR(e,n,i)}build(e,n,i){sR(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,a){BU(e,n,i,a)}mount(e){this.isSVGTag=oR(e.tagName),super.mount(e)}}const qU=(t,e)=>rb(t)?new FU(e):new zU(e,{allowProjection:t!==O.Fragment});function Al(t,e,n){const i=t.getProps();return sb(i,e,n!==void 0?n:i.custom,t)}const vy=t=>Array.isArray(t);function HU(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,jl(n))}function $U(t){return vy(t)?t[t.length-1]||0:t}function lb(t,e){const n=Al(t,e);let{transitionEnd:i={},transition:a={},...o}=n||{};o={...o,...i};for(const c in o){const d=$U(o[c]);HU(t,c,d)}}function GU(t){return!!(vn(t)&&t.add)}function by(t,e){const n=t.getValue("willChange");if(GU(n))return n.add(e);if(!n&&ss.WillChange){const i=new ss.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function wR(t){return t.props[uR]}const KU=t=>t!==null;function YU(t,{repeat:e,repeatType:n="loop"},i){const a=t.filter(KU),o=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[o]}const QU={type:"spring",stiffness:500,damping:25,restSpeed:10},XU=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),WU={type:"keyframes",duration:.8},ZU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},JU=(t,{keyframes:e})=>e.length>2?WU:Xl.has(t)?t.startsWith("scale")?XU(e[1]):QU:ZU;function e8({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:o,repeatType:c,repeatDelay:d,from:h,elapsed:f,...g}){return!!Object.keys(g).length}const cb=(t,e,n,i={},a,o)=>c=>{const d=Qv(i,t)||{},h=d.delay||i.delay||0;let{elapsed:f=0}=i;f=f-gr(h);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-f,onUpdate:_=>{e.set(_),d.onUpdate&&d.onUpdate(_)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:o?void 0:a};e8(d)||Object.assign(g,JU(t,g)),g.duration&&(g.duration=gr(g.duration)),g.repeatDelay&&(g.repeatDelay=gr(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(fy(g),g.delay===0&&(v=!0)),(ss.instantAnimations||ss.skipAnimations)&&(v=!0,fy(g),g.delay=0),g.allowFlatten=!d.type&&!d.ease,v&&!o&&e.get()!==void 0){const _=YU(g.keyframes,d);if(_!==void 0){vt.update(()=>{g.onUpdate(_),g.onComplete()});return}}return d.isSync?new Kv(g):new TL(g)};function t8({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function TR(t,e,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:c,...d}=e;i&&(o=i);const h=[],f=a&&t.animationState&&t.animationState.getState()[a];for(const g in d){const v=t.getValue(g,t.latestValues[g]??null),_=d[g];if(_===void 0||f&&t8(f,g))continue;const x={delay:n,...Qv(o||{},g)},k=v.get();if(k!==void 0&&!v.isAnimating&&!Array.isArray(_)&&_===k&&!x.velocity)continue;let A=!1;if(window.MotionHandoffAnimation){const U=wR(t);if(U){const B=window.MotionHandoffAnimation(U,g,vt);B!==null&&(x.startTime=B,A=!0)}}by(t,g),v.start(cb(g,v,_,t.shouldReduceMotion&&FC.has(g)?{type:!1}:x,t,A));const I=v.animation;I&&h.push(I)}return c&&Promise.all(h).then(()=>{vt.update(()=>{c&&lb(t,c)})}),h}function ER(t,e,n,i=0,a=1){const o=Array.from(t).sort((f,g)=>f.sortNodePosition(g)).indexOf(e),c=t.size,d=(c-1)*i;return typeof n=="function"?n(o,c):a===1?o*i:d-o*i}function _y(t,e,n={}){const i=Al(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const o=i?()=>Promise.all(TR(t,i,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:f=0,staggerChildren:g,staggerDirection:v}=a;return n8(t,e,h,f,g,v,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[h,f]=d==="beforeChildren"?[o,c]:[c,o];return h().then(()=>f())}else return Promise.all([o(),c(n.delay)])}function n8(t,e,n=0,i=0,a=0,o=1,c){const d=[];for(const h of t.variantChildren)h.notify("AnimationStart",e),d.push(_y(h,e,{...c,delay:n+(typeof i=="function"?0:i)+ER(t.variantChildren,h,i,a,o)}).then(()=>h.notify("AnimationComplete",e)));return Promise.all(d)}function xR(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(o=>_y(t,o,n));i=Promise.all(a)}else if(typeof e=="string")i=_y(t,e,n);else{const a=typeof e=="function"?Al(t,e,n.custom):e;i=Promise.all(TR(t,a,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function SR(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const i8=tb.length;function AR(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?AR(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<i8;n++){const i=tb[n],a=t.props[i];(Bu(a)||a===!1)&&(e[i]=a)}return e}const r8=[...eb].reverse(),s8=eb.length;function a8(t){return e=>Promise.all(e.map(({animation:n,options:i})=>xR(t,n,i)))}function o8(t){let e=a8(t),n=gx(),i=!0;const a=h=>(f,g)=>{const v=Al(t,g,h==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:_,transitionEnd:x,...k}=v;f={...f,...k,...x}}return f};function o(h){e=h(t)}function c(h){const{props:f}=t,g=AR(t.parent)||{},v=[],_=new Set;let x={},k=1/0;for(let I=0;I<s8;I++){const U=r8[I],B=n[U],j=f[U]!==void 0?f[U]:g[U],$=Bu(j),ne=U===h?B.isActive:null;ne===!1&&(k=I);let ee=j===g[U]&&j!==f[U]&&$;if(ee&&i&&t.manuallyAnimateOnMount&&(ee=!1),B.protectedKeys={...x},!B.isActive&&ne===null||!j&&!B.prevProp||jm(j)||typeof j=="boolean")continue;const S=l8(B.prevProp,j);let R=S||U===h&&B.isActive&&!ee&&$||I>k&&$,M=!1;const V=Array.isArray(j)?j:[j];let D=V.reduce(a(U),{});ne===!1&&(D={});const{prevResolvedValues:F={}}=B,P={...F,...D},je=ce=>{R=!0,_.has(ce)&&(M=!0,_.delete(ce)),B.needsAnimating[ce]=!0;const pe=t.getValue(ce);pe&&(pe.liveStyle=!1)};for(const ce in P){const pe=D[ce],Ae=F[ce];if(x.hasOwnProperty(ce))continue;let oe=!1;vy(pe)&&vy(Ae)?oe=!SR(pe,Ae):oe=pe!==Ae,oe?pe!=null?je(ce):_.add(ce):pe!==void 0&&_.has(ce)?je(ce):B.protectedKeys[ce]=!0}B.prevProp=j,B.prevResolvedValues=D,B.isActive&&(x={...x,...D}),i&&t.blockInitialAnimation&&(R=!1);const Ce=ee&&S;R&&(!Ce||M)&&v.push(...V.map(ce=>{const pe={type:U};if(typeof ce=="string"&&i&&!Ce&&t.manuallyAnimateOnMount&&t.parent){const{parent:Ae}=t,oe=Al(Ae,ce);if(Ae.enteringChildren&&oe){const{delayChildren:L}=oe.transition||{};pe.delay=ER(Ae.enteringChildren,t,L)}}return{animation:ce,options:pe}}))}if(_.size){const I={};if(typeof f.initial!="boolean"){const U=Al(t,Array.isArray(f.initial)?f.initial[0]:f.initial);U&&U.transition&&(I.transition=U.transition)}_.forEach(U=>{const B=t.getBaseTarget(U),j=t.getValue(U);j&&(j.liveStyle=!0),I[U]=B??null}),v.push({animation:I})}let A=!!v.length;return i&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(A=!1),i=!1,A?e(v):Promise.resolve()}function d(h,f){if(n[h].isActive===f)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(h,f)),n[h].isActive=f;const g=c(h);for(const v in n)n[v].protectedKeys={};return g}return{animateChanges:c,setActive:d,setAnimateFunction:o,getState:()=>n,reset:()=>{n=gx()}}}function l8(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!SR(e,t):!1}function Wa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function gx(){return{animate:Wa(!0),whileInView:Wa(),whileHover:Wa(),whileTap:Wa(),whileDrag:Wa(),whileFocus:Wa(),exit:Wa()}}class _a{constructor(e){this.isMounted=!1,this.node=e}update(){}}class c8 extends _a{constructor(e){super(e),e.animationState||(e.animationState=o8(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();jm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let u8=0;class d8 extends _a{constructor(){super(...arguments),this.id=u8++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const h8={animation:{Feature:c8},exit:{Feature:d8}};function qu(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function cd(t){return{point:{x:t.pageX,y:t.pageY}}}const f8=t=>e=>Zv(e)&&t(e,cd(e));function wu(t,e,n,i){return qu(t,e,f8(n),i)}const CR=1e-4,m8=1-CR,p8=1+CR,RR=.01,g8=0-RR,y8=0+RR;function xn(t){return t.max-t.min}function v8(t,e,n){return Math.abs(t-e)<=n}function yx(t,e,n,i=.5){t.origin=i,t.originPoint=bt(e.min,e.max,t.origin),t.scale=xn(n)/xn(e),t.translate=bt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=m8&&t.scale<=p8||isNaN(t.scale))&&(t.scale=1),(t.translate>=g8&&t.translate<=y8||isNaN(t.translate))&&(t.translate=0)}function Tu(t,e,n,i){yx(t.x,e.x,n.x,i?i.originX:void 0),yx(t.y,e.y,n.y,i?i.originY:void 0)}function vx(t,e,n){t.min=n.min+e.min,t.max=t.min+xn(e)}function b8(t,e,n){vx(t.x,e.x,n.x),vx(t.y,e.y,n.y)}function bx(t,e,n){t.min=e.min-n.min,t.max=t.min+xn(e)}function Eu(t,e,n){bx(t.x,e.x,n.x),bx(t.y,e.y,n.y)}function ci(t){return[t("x"),t("y")]}const NR=({current:t})=>t?t.ownerDocument.defaultView:null,_x=(t,e)=>Math.abs(t-e);function _8(t,e){const n=_x(t.x,e.x),i=_x(t.y,e.y);return Math.sqrt(n**2+i**2)}class IR{constructor(e,n,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:o=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=y0(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,k=_8(_.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!k)return;const{point:A}=_,{timestamp:I}=ln;this.history.push({...A,timestamp:I});const{onStart:U,onMove:B}=this.handlers;x||(U&&U(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),B&&B(this.lastMoveEvent,_)},this.handlePointerMove=(_,x)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=g0(x,this.transformPagePoint),vt.update(this.updatePoint,!0)},this.handlePointerUp=(_,x)=>{this.end();const{onEnd:k,onSessionEnd:A,resumeAnimation:I}=this.handlers;if(this.dragSnapToOrigin&&I&&I(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const U=y0(_.type==="pointercancel"?this.lastMoveEventInfo:g0(x,this.transformPagePoint),this.history);this.startEvent&&k&&k(_,U),A&&A(_,U)},!Zv(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=c,this.contextWindow=a||window;const d=cd(e),h=g0(d,this.transformPagePoint),{point:f}=h,{timestamp:g}=ln;this.history=[{...f,timestamp:g}];const{onSessionStart:v}=n;v&&v(e,y0(h,this.history)),this.removeListeners=ad(wu(this.contextWindow,"pointermove",this.handlePointerMove),wu(this.contextWindow,"pointerup",this.handlePointerUp),wu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ha(this.updatePoint)}}function g0(t,e){return e?{point:e(t.point)}:t}function wx(t,e){return{x:t.x-e.x,y:t.y-e.y}}function y0({point:t},e){return{point:t,delta:wx(t,kR(e)),offset:wx(t,w8(e)),velocity:T8(e,.1)}}function w8(t){return t[0]}function kR(t){return t[t.length-1]}function T8(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const a=kR(t);for(;n>=0&&(i=t[n],!(a.timestamp-i.timestamp>gr(e)));)n--;if(!i)return{x:0,y:0};const o=fi(a.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const c={x:(a.x-i.x)/o,y:(a.y-i.y)/o};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function E8(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?bt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?bt(n,t,i.max):Math.min(t,n)),t}function Tx(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function x8(t,{top:e,left:n,bottom:i,right:a}){return{x:Tx(t.x,n,a),y:Tx(t.y,e,i)}}function Ex(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function S8(t,e){return{x:Ex(t.x,e.x),y:Ex(t.y,e.y)}}function A8(t,e){let n=.5;const i=xn(t),a=xn(e);return a>i?n=ju(e.min,e.max-i,t.min):i>a&&(n=ju(t.min,t.max-a,e.min)),rs(0,1,n)}function C8(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const wy=.35;function R8(t=wy){return t===!1?t=0:t===!0&&(t=wy),{x:xx(t,"left","right"),y:xx(t,"top","bottom")}}function xx(t,e,n){return{min:Sx(t,e),max:Sx(t,n)}}function Sx(t,e){return typeof t=="number"?t:t[e]||0}const N8=new WeakMap;class I8{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=kt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const o=v=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(cd(v).point)},c=(v,_)=>{const{drag:x,dragPropagation:k,onDragStart:A}=this.getProps();if(x&&!k&&(this.openDragLock&&this.openDragLock(),this.openDragLock=LL(x),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=_,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ci(U=>{let B=this.getAxisMotionValue(U).get()||0;if(yr.test(B)){const{projection:j}=this.visualElement;if(j&&j.layout){const $=j.layout.layoutBox[U];$&&(B=xn($)*(parseFloat(B)/100))}}this.originPoint[U]=B}),A&&vt.postRender(()=>A(v,_)),by(this.visualElement,"transform");const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},d=(v,_)=>{this.latestPointerEvent=v,this.latestPanInfo=_;const{dragPropagation:x,dragDirectionLock:k,onDirectionLock:A,onDrag:I}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:U}=_;if(k&&this.currentDirection===null){this.currentDirection=k8(U),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",_.point,U),this.updateAxis("y",_.point,U),this.visualElement.render(),I&&I(v,_)},h=(v,_)=>{this.latestPointerEvent=v,this.latestPanInfo=_,this.stop(v,_),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>ci(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new IR(e,{onSessionStart:o,onStart:c,onMove:d,onSessionEnd:h,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:i,contextWindow:NR(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,a=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!a||!i)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&vt.postRender(()=>d(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:a}=this.getProps();if(!i||!Zh(e,a,this.currentDirection))return;const o=this.getAxisMotionValue(e);let c=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(c=E8(c,this.constraints[e],this.elastic[e])),o.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&yl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=x8(i.layoutBox,e):this.constraints=!1,this.elastic=R8(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ci(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=C8(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!yl(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=OU(i,a.root,this.visualElement.getTransformPagePoint());let c=S8(a.layout.layoutBox,o);if(n){const d=n(kU(c));this.hasMutatedConstraints=!!d,d&&(c=fR(d))}return c}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:o,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),h=this.constraints||{},f=ci(g=>{if(!Zh(g,n,this.currentDirection))return;let v=h&&h[g]||{};c&&(v={min:0,max:0});const _=a?200:1e6,x=a?40:1e7,k={type:"inertia",velocity:i?e[g]:0,bounceStiffness:_,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...o,...v};return this.startAxisValueAnimation(g,k)});return Promise.all(f).then(d)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return by(this.visualElement,e),i.start(cb(e,i,0,n,this.visualElement,!1))}stopAnimation(){ci(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ci(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){ci(n=>{const{drag:i}=this.getProps();if(!Zh(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[n];o.set(e[n]-bt(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!yl(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ci(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const h=d.get();a[c]=A8({min:h,max:h},this.constraints[c])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),ci(c=>{if(!Zh(c,e,null))return;const d=this.getAxisMotionValue(c),{min:h,max:f}=this.constraints[c];d.set(bt(h,f,a[c]))})}addListeners(){if(!this.visualElement.current)return;N8.set(this.visualElement,this);const e=this.visualElement.current,n=wu(e,"pointerdown",h=>{const{drag:f,dragListener:g=!0}=this.getProps();f&&g&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();yl(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,o=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),vt.read(i);const c=qu(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:f})=>{this.isDragging&&f&&(ci(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=h[g].translate,v.set(v.get()+h[g].translate))}),this.visualElement.render())}));return()=>{c(),n(),o(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:c=wy,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:o,dragElastic:c,dragMomentum:d}}}function Zh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function k8(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class D8 extends _a{constructor(e){super(e),this.removeGroupControls=pi,this.removeListeners=pi,this.controls=new I8(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||pi}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ax=t=>(e,n)=>{t&&vt.postRender(()=>t(e,n))};class M8 extends _a{constructor(){super(...arguments),this.removePointerDownListener=pi}onPointerDown(e){this.session=new IR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:NR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:Ax(e),onStart:Ax(n),onMove:i,onEnd:(o,c)=>{delete this.session,a&&vt.postRender(()=>a(o,c))}}}mount(){this.removePointerDownListener=wu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const bf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Cx(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ru={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(De.test(t))t=parseFloat(t);else return t;const n=Cx(t,e.target.x),i=Cx(t,e.target.y);return`${n}% ${i}%`}},O8={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,a=fa.parse(t);if(a.length>5)return i;const o=fa.createTransformer(t),c=typeof a[0]!="number"?1:0,d=n.x.scale*e.x,h=n.y.scale*e.y;a[0+c]/=d,a[1+c]/=h;const f=bt(d,h,.5);return typeof a[2+c]=="number"&&(a[2+c]/=f),typeof a[3+c]=="number"&&(a[3+c]/=f),o(a)}};let v0=!1;class V8 extends O.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:o}=e;sU(P8),o&&(n.group&&n.group.add(o),i&&i.register&&a&&i.register(o),v0&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),bf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:a,isPresent:o}=this.props,{projection:c}=i;return c&&(c.isPresent=o,v0=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==o?c.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?c.promote():c.relegate()||vt.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Wv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=e;v0=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function DR(t){const[e,n]=JC(),i=O.useContext(Nv);return b.jsx(V8,{...t,layoutGroup:i,switchLayoutGroup:O.useContext(dR),isPresent:e,safeToRemove:n})}const P8={borderRadius:{...ru,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ru,borderTopRightRadius:ru,borderBottomLeftRadius:ru,borderBottomRightRadius:ru,boxShadow:O8};function j8(t,e,n){const i=vn(t)?t:jl(t);return i.start(cb("",i,e,n)),i.animation}const L8=(t,e)=>t.depth-e.depth;class U8{constructor(){this.children=[],this.isDirty=!1}add(e){Dv(this.children,e),this.isDirty=!0}remove(e){Mv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(L8),this.isDirty=!1,this.children.forEach(e)}}function z8(t,e){const n=On.now(),i=({timestamp:a})=>{const o=a-n;o>=e&&(ha(i),t(o-e))};return vt.setup(i,!0),()=>ha(i)}const MR=["TopLeft","TopRight","BottomLeft","BottomRight"],B8=MR.length,Rx=t=>typeof t=="string"?parseFloat(t):t,Nx=t=>typeof t=="number"||De.test(t);function F8(t,e,n,i,a,o){a?(t.opacity=bt(0,n.opacity??1,q8(i)),t.opacityExit=bt(e.opacity??1,0,H8(i))):o&&(t.opacity=bt(e.opacity??1,n.opacity??1,i));for(let c=0;c<B8;c++){const d=`border${MR[c]}Radius`;let h=Ix(e,d),f=Ix(n,d);if(h===void 0&&f===void 0)continue;h||(h=0),f||(f=0),h===0||f===0||Nx(h)===Nx(f)?(t[d]=Math.max(bt(Rx(h),Rx(f),i),0),(yr.test(f)||yr.test(h))&&(t[d]+="%")):t[d]=f}(e.rotate||n.rotate)&&(t.rotate=bt(e.rotate||0,n.rotate||0,i))}function Ix(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const q8=OR(0,.5,bC),H8=OR(.5,.95,pi);function OR(t,e,n){return i=>i<t?0:i>e?1:n(ju(t,e,i))}function kx(t,e){t.min=e.min,t.max=e.max}function li(t,e){kx(t.x,e.x),kx(t.y,e.y)}function Dx(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Mx(t,e,n,i,a){return t-=e,t=Xf(t,1/n,i),a!==void 0&&(t=Xf(t,1/a,i)),t}function $8(t,e=0,n=1,i=.5,a,o=t,c=t){if(yr.test(e)&&(e=parseFloat(e),e=bt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=bt(o.min,o.max,i);t===o&&(d-=e),t.min=Mx(t.min,e,n,d,a),t.max=Mx(t.max,e,n,d,a)}function Ox(t,e,[n,i,a],o,c){$8(t,e[n],e[i],e[a],e.scale,o,c)}const G8=["x","scaleX","originX"],K8=["y","scaleY","originY"];function Vx(t,e,n,i){Ox(t.x,e,G8,n?n.x:void 0,i?i.x:void 0),Ox(t.y,e,K8,n?n.y:void 0,i?i.y:void 0)}function Px(t){return t.translate===0&&t.scale===1}function VR(t){return Px(t.x)&&Px(t.y)}function jx(t,e){return t.min===e.min&&t.max===e.max}function Y8(t,e){return jx(t.x,e.x)&&jx(t.y,e.y)}function Lx(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function PR(t,e){return Lx(t.x,e.x)&&Lx(t.y,e.y)}function Ux(t){return xn(t.x)/xn(t.y)}function zx(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Q8{constructor(){this.members=[]}add(e){Dv(this.members,e),e.scheduleRender()}remove(e){if(Mv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const o=this.members[a];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function X8(t,e,n){let i="";const a=t.x.translate/e.x,o=t.y.translate/e.y,c=n?.z||0;if((a||o||c)&&(i=`translate3d(${a}px, ${o}px, ${c}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:g,rotateX:v,rotateY:_,skewX:x,skewY:k}=n;f&&(i=`perspective(${f}px) ${i}`),g&&(i+=`rotate(${g}deg) `),v&&(i+=`rotateX(${v}deg) `),_&&(i+=`rotateY(${_}deg) `),x&&(i+=`skewX(${x}deg) `),k&&(i+=`skewY(${k}deg) `)}const d=t.x.scale*e.x,h=t.y.scale*e.y;return(d!==1||h!==1)&&(i+=`scale(${d}, ${h})`),i||"none"}const b0=["","X","Y","Z"],W8=1e3;let Z8=0;function _0(t,e,n,i){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function jR(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=wR(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",vt,!(a||o))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&jR(i)}function LR({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(c={},d=e?.()){this.id=Z8++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(tz),this.nodes.forEach(sz),this.nodes.forEach(az),this.nodes.forEach(nz)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new U8)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Pv),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const h=this.eventHandlers.get(c);h&&h.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=ZC(c)&&!HL(c),this.instance=c;const{layoutId:d,layout:h,visualElement:f}=this.options;if(f&&!f.current&&f.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||d)&&(this.isLayoutDirty=!0),t){let g,v=0;const _=()=>this.root.updateBlockedByResize=!1;vt.read(()=>{v=window.innerWidth}),t(c,()=>{const x=window.innerWidth;x!==v&&(v=x,this.root.updateBlockedByResize=!0,g&&g(),g=z8(_,250),bf.hasAnimatedSinceResize&&(bf.hasAnimatedSinceResize=!1,this.nodes.forEach(qx)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&f&&(d||h)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:_,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||f.getDefaultTransition()||dz,{onLayoutAnimationStart:A,onLayoutAnimationComplete:I}=f.getProps(),U=!this.targetLayout||!PR(this.targetLayout,x),B=!v&&_;if(this.options.layoutRoot||this.resumeFrom||B||v&&(U||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const j={...Qv(k,"layout"),onPlay:A,onComplete:I};(f.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j),this.setAnimationOrigin(g,B)}else v||qx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ha(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(oz),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&jR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:d,layout:h}=this.options;if(d===void 0&&!h)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Bx);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Fx);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(rz),this.nodes.forEach(J8),this.nodes.forEach(ez)):this.nodes.forEach(Fx),this.clearAllSnapshots();const d=On.now();ln.delta=rs(0,1e3/60,d-ln.timestamp),ln.timestamp=d,ln.isProcessing=!0,l0.update.process(ln),l0.preRender.process(ln),l0.render.process(ln),ln.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Wv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(iz),this.sharedNodes.forEach(lz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,vt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){vt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!xn(this.snapshot.measuredBox.x)&&!xn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=kt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!VR(this.projectionDelta),h=this.getTransformTemplate(),f=h?h(this.latestValues,""):void 0,g=f!==this.prevTransformTemplateValue;c&&this.instance&&(d||eo(this.latestValues)||g)&&(a(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let h=this.removeElementScroll(d);return c&&(h=this.removeTransform(h)),hz(h),{animationId:this.root.animationId,measuredBox:d,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return kt();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(fz))){const{scroll:f}=this.root;f&&(vl(d.x,f.offset.x),vl(d.y,f.offset.y))}return d}removeElementScroll(c){const d=kt();if(li(d,c),this.scroll?.wasRoot)return d;for(let h=0;h<this.path.length;h++){const f=this.path[h],{scroll:g,options:v}=f;f!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&li(d,c),vl(d.x,g.offset.x),vl(d.y,g.offset.y))}return d}applyTransform(c,d=!1){const h=kt();li(h,c);for(let f=0;f<this.path.length;f++){const g=this.path[f];!d&&g.options.layoutScroll&&g.scroll&&g!==g.root&&bl(h,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),eo(g.latestValues)&&bl(h,g.latestValues)}return eo(this.latestValues)&&bl(h,this.latestValues),h}removeTransform(c){const d=kt();li(d,c);for(let h=0;h<this.path.length;h++){const f=this.path[h];if(!f.instance||!eo(f.latestValues))continue;py(f.latestValues)&&f.updateSnapshot();const g=kt(),v=f.measurePageBox();li(g,v),Vx(d,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,g)}return eo(this.latestValues)&&Vx(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ln.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==d;if(!(c||h&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=ln.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kt(),this.relativeTargetOrigin=kt(),Eu(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),li(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=kt(),this.targetWithTransforms=kt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),b8(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):li(this.target,this.layout.layoutBox),pR(this.target,this.targetDelta)):li(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kt(),this.relativeTargetOrigin=kt(),Eu(this.relativeTargetOrigin,this.target,_.target),li(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||py(this.parent.latestValues)||mR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let h=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(h=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===ln.timestamp&&(h=!1),h)return;const{layout:f,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||g))return;li(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,_=this.treeScale.y;MU(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=kt());const{target:x}=c;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Dx(this.prevProjectionDelta.x,this.projectionDelta.x),Dx(this.prevProjectionDelta.y,this.projectionDelta.y)),Tu(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==_||!zx(this.projectionDelta.x,this.prevProjectionDelta.x)||!zx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=_l(),this.projectionDelta=_l(),this.projectionDeltaWithTransform=_l()}setAnimationOrigin(c,d=!1){const h=this.snapshot,f=h?h.latestValues:{},g={...this.latestValues},v=_l();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const _=kt(),x=h?h.source:void 0,k=this.layout?this.layout.source:void 0,A=x!==k,I=this.getStack(),U=!I||I.members.length<=1,B=!!(A&&!U&&this.options.crossfade===!0&&!this.path.some(uz));this.animationProgress=0;let j;this.mixTargetDelta=$=>{const ne=$/1e3;Hx(v.x,c.x,ne),Hx(v.y,c.y,ne),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Eu(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),cz(this.relativeTarget,this.relativeTargetOrigin,_,ne),j&&Y8(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=kt()),li(j,this.relativeTarget)),A&&(this.animationValues=g,F8(g,f,this.latestValues,ne,B,U)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ne},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ha(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=vt.update(()=>{bf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=jl(0)),this.currentAnimation=j8(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(W8),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:h,layout:f,latestValues:g}=c;if(!(!d||!h||!f)){if(this!==c&&this.layout&&f&&UR(this.options.animationType,this.layout.layoutBox,f.layoutBox)){h=this.target||kt();const v=xn(this.layout.layoutBox.x);h.x.min=c.target.x.min,h.x.max=h.x.min+v;const _=xn(this.layout.layoutBox.y);h.y.min=c.target.y.min,h.y.max=h.y.min+_}li(d,h),bl(d,g),Tu(this.projectionDeltaWithTransform,this.layoutCorrected,d,g)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new Q8),this.sharedNodes.get(c).add(d);const f=d.options.initialPromotionConfig;d.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:h}={}){const f=this.getStack();f&&f.promote(this,h),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:h}=c;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(d=!0),!d)return;const f={};h.z&&_0("z",c,f,this.animationValues);for(let g=0;g<b0.length;g++)_0(`rotate${b0[g]}`,c,f,this.animationValues),_0(`skew${b0[g]}`,c,f,this.animationValues);c.render();for(const g in f)c.setStaticValue(g,f[g]),this.animationValues&&(this.animationValues[g]=f[g]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=vf(d?.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=vf(d?.pointerEvents)||""),this.hasProjected&&!eo(this.latestValues)&&(c.transform=h?h({},""):"none",this.hasProjected=!1);return}c.visibility="";const g=f.animationValues||f.latestValues;this.applyTransformsToTarget();let v=X8(this.projectionDeltaWithTransform,this.treeScale,g);h&&(v=h(g,v)),c.transform=v;const{x:_,y:x}=this.projectionDelta;c.transformOrigin=`${_.origin*100}% ${x.origin*100}% 0`,f.animationValues?c.opacity=f===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:c.opacity=f===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const k in Fu){if(g[k]===void 0)continue;const{correct:A,applyTo:I,isCSSVariable:U}=Fu[k],B=v==="none"?g[k]:A(g[k],f);if(I){const j=I.length;for(let $=0;$<j;$++)c[I[$]]=B}else U?this.options.visualElement.renderState.vars[k]=B:c[k]=B}this.options.layoutId&&(c.pointerEvents=f===this?vf(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(Bx),this.root.sharedNodes.clear()}}}function J8(t){t.updateLayout()}function ez(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:a}=t.options,o=e.source!==t.layout.source;a==="size"?ci(g=>{const v=o?e.measuredBox[g]:e.layoutBox[g],_=xn(v);v.min=n[g].min,v.max=v.min+_}):UR(a,e.layoutBox,n)&&ci(g=>{const v=o?e.measuredBox[g]:e.layoutBox[g],_=xn(n[g]);v.max=v.min+_,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+_)});const c=_l();Tu(c,n,e.layoutBox);const d=_l();o?Tu(d,t.applyTransform(i,!0),e.measuredBox):Tu(d,n,e.layoutBox);const h=!VR(c);let f=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:_}=g;if(v&&_){const x=kt();Eu(x,e.layoutBox,v.layoutBox);const k=kt();Eu(k,n,_.layoutBox),PR(x,k)||(f=!0),g.options.layoutRoot&&(t.relativeTarget=k,t.relativeTargetOrigin=x,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:d,layoutDelta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function tz(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function nz(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function iz(t){t.clearSnapshot()}function Bx(t){t.clearMeasurements()}function Fx(t){t.isLayoutDirty=!1}function rz(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function qx(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function sz(t){t.resolveTargetDelta()}function az(t){t.calcProjection()}function oz(t){t.resetSkewAndRotation()}function lz(t){t.removeLeadSnapshot()}function Hx(t,e,n){t.translate=bt(e.translate,0,n),t.scale=bt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function $x(t,e,n,i){t.min=bt(e.min,n.min,i),t.max=bt(e.max,n.max,i)}function cz(t,e,n,i){$x(t.x,e.x,n.x,i),$x(t.y,e.y,n.y,i)}function uz(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const dz={duration:.45,ease:[.4,0,.1,1]},Gx=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Kx=Gx("applewebkit/")&&!Gx("chrome/")?Math.round:pi;function Yx(t){t.min=Kx(t.min),t.max=Kx(t.max)}function hz(t){Yx(t.x),Yx(t.y)}function UR(t,e,n){return t==="position"||t==="preserve-aspect"&&!v8(Ux(e),Ux(n),.2)}function fz(t){return t!==t.root&&t.scroll?.wasRoot}const mz=LR({attachResizeListener:(t,e)=>qu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),w0={current:void 0},zR=LR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!w0.current){const t=new mz({});t.mount(window),t.setOptions({layoutScroll:!0}),w0.current=t}return w0.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),pz={pan:{Feature:M8},drag:{Feature:D8,ProjectionNode:zR,MeasureLayout:DR}};function Qx(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,o=i[a];o&&vt.postRender(()=>o(e,cd(e)))}class gz extends _a{mount(){const{current:e}=this.node;e&&(this.unmount=UL(e,(n,i)=>(Qx(this.node,i,"Start"),a=>Qx(this.node,a,"End"))))}unmount(){}}class yz extends _a{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ad(qu(this.node.current,"focus",()=>this.onFocus()),qu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Xx(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),o=i[a];o&&vt.postRender(()=>o(e,cd(e)))}class vz extends _a{mount(){const{current:e}=this.node;e&&(this.unmount=qL(e,(n,i)=>(Xx(this.node,i,"Start"),(a,{success:o})=>Xx(this.node,a,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ty=new WeakMap,T0=new WeakMap,bz=t=>{const e=Ty.get(t.target);e&&e(t)},_z=t=>{t.forEach(bz)};function wz({root:t,...e}){const n=t||document;T0.has(n)||T0.set(n,{});const i=T0.get(n),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(_z,{root:t,...e})),i[a]}function Tz(t,e,n){const i=wz(e);return Ty.set(t,n),i.observe(t),()=>{Ty.delete(t),i.unobserve(t)}}const Ez={some:0,all:1};class xz extends _a{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:o}=e,c={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:Ez[a]},d=h=>{const{isIntersecting:f}=h;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),_=f?g:v;_&&_(h)};return Tz(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Sz(e,n))&&this.startObserver()}unmount(){}}function Sz({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Az={inView:{Feature:xz},tap:{Feature:vz},focus:{Feature:yz},hover:{Feature:gz}},Cz={layout:{ProjectionNode:zR,MeasureLayout:DR}},Rz={...h8,...Az,...pz,...Cz},Ul=IU(Rz,qU);function Nz(t){t.values.forEach(e=>e.stop())}function Ey(t,e){[...e].reverse().forEach(i=>{const a=t.getVariant(i);a&&lb(t,a),t.variantChildren&&t.variantChildren.forEach(o=>{Ey(o,e)})})}function Iz(t,e){if(Array.isArray(e))return Ey(t,e);if(typeof e=="string")return Ey(t,[e]);lb(t,e)}function kz(){const t=new Set,e={subscribe(n){return t.add(n),()=>void t.delete(n)},start(n,i){const a=[];return t.forEach(o=>{a.push(xR(o,n,{transitionOverride:i}))}),Promise.all(a)},set(n){return t.forEach(i=>{Iz(i,n)})},stop(){t.forEach(n=>{Nz(n)})},mount(){return()=>{e.stop()}}};return e}function Dz(){const t=Om(kz);return kv(t.mount,[]),t}const Mz=Dz,Wf=({children:t,onDelete:e,threshold:n=-100})=>{const i=Mz(),[a,o]=O.useState(!1),c=O.useRef(0),d=()=>{o(!0),c.current=Date.now()},h=async(f,g)=>{const v=g.offset.x,_=g.velocity.x;if(setTimeout(()=>o(!1),100),v<n||v<-50&&_<-500){const x=e();x===!1?i.start({x:0}):x instanceof Promise&&x.then(k=>{k===!1&&i.start({x:0})})}else i.start({x:0})};return b.jsxs("div",{className:"relative w-full overflow-hidden mb-2 rounded-xl group",children:[b.jsx("div",{className:"absolute inset-0 bg-red-500 flex items-center justify-end pr-6 rounded-xl",children:b.jsx(nf,{className:"text-white w-6 h-6"})}),b.jsx(Ul.div,{drag:"x",dragConstraints:{left:-500,right:0},dragElastic:.1,onDragStart:d,onDragEnd:h,animate:i,className:"relative bg-white dark:bg-zinc-900 z-10 rounded-xl",style:{touchAction:"pan-y",pointerEvents:a?"none":"auto"},children:t})]})},Wx=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t),Oz=()=>{const{id:t}=ck(),{envelopes:e,transactions:n,fetchData:i,isLoading:a,deleteEnvelope:o,renameEnvelope:c,updateTransaction:d,deleteTransaction:h,restoreTransaction:f,getEnvelopeBalance:g}=Yn(),{showToast:v}=Mm(),_=pa(),x=ma(),[k,A]=O.useState(!1),[I,U]=O.useState(!1),[B,j]=O.useState(!1),[$,ne]=O.useState(null);O.useEffect(()=>{e.length===0&&i()},[]);const ee=e.find(D=>D.id===t);if(!ee)return a?b.jsx("div",{className:"flex justify-center items-center h-screen bg-white dark:bg-black text-gray-900 dark:text-white",children:b.jsx("p",{children:"Loading envelope..."})}):b.jsx("div",{className:"flex justify-center items-center h-screen bg-white dark:bg-black text-gray-900 dark:text-white",children:b.jsx("p",{children:"Envelope not found."})});const S=n.filter(D=>D.envelopeId===ee.id).sort((D,F)=>new Date(F.date).getTime()-new Date(D.date).getTime()),R=()=>{x.state?.fromGlobalFAB?_("/"):_(-1)},M=()=>{t&&(o(t),_(-1))},V=D=>{const F={...D,reconciled:!D.reconciled};d(F)};return b.jsxs("div",{className:"min-h-screen bg-white dark:bg-black text-gray-900 dark:text-white p-4",children:[b.jsxs("header",{className:"flex justify-between items-center pt-[calc(env(safe-area-inset-top)+12px)] pb-4 sticky top-0 bg-white dark:bg-black z-10 border-b border-gray-100 dark:border-zinc-800",children:[b.jsx("button",{onClick:()=>{const D=prompt("Rename envelope:",ee.name);D&&D.trim()&&t&&c(t,D)},className:"text-blue-600 dark:text-blue-400 font-medium",children:"Rename"}),b.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:ee.name}),b.jsx("button",{onClick:R,className:"text-blue-600 dark:text-blue-400 font-bold",children:"Done"})]}),b.jsxs("section",{className:"mt-4 bg-white dark:bg-zinc-900 rounded-lg p-4 shadow-lg mb-4 border border-gray-100 dark:border-zinc-800",children:[b.jsxs("div",{className:"flex justify-between items-center mb-2",children:[b.jsx("span",{className:"text-lg font-headline text-gray-900 dark:text-white",children:"Current Balance"}),(()=>{const D=g(ee.id).toNumber();return console.log(`Debug: Envelope ${ee.name} Balance:`,D),b.jsx("span",{className:`text-xl font-bold ${D<0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:Wx(D)})})()]}),b.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-500 dark:text-zinc-400",children:[b.jsx("span",{children:"Budget"}),b.jsx("span",{children:Wx(ee.currentBalance||0)})]})]}),b.jsxs("section",{className:"bg-white dark:bg-zinc-900 rounded-lg shadow-lg mb-4 divide-y divide-gray-100 dark:divide-zinc-800 border border-gray-100 dark:border-zinc-800",children:[b.jsxs("button",{className:"flex items-center w-full p-4 text-left text-green-600 dark:text-green-400 hover:bg-gray-100 dark:hover:bg-zinc-800 transition duration-150",onClick:()=>A(!0),children:[b.jsx(wD,{className:"w-5 h-5 mr-3"}),"Add Money"]}),b.jsxs("button",{className:"flex items-center w-full p-4 text-left text-red-600 dark:text-red-400 hover:bg-gray-100 dark:hover:bg-zinc-800 transition duration-150",onClick:()=>U(!0),children:[b.jsx(bD,{className:"w-5 h-5 mr-3"}),"Spend Money"]}),b.jsxs("button",{className:"flex items-center w-full p-4 text-left text-blue-600 dark:text-blue-400 hover:bg-gray-100 dark:hover:bg-zinc-800 transition duration-150",onClick:()=>j(!0),children:[b.jsx(uD,{className:"w-5 h-5 mr-3"}),"Transfer Money"]})]}),b.jsxs("section",{className:"mt-6",children:[b.jsx("h2",{className:"text-sm font-semibold uppercase text-gray-500 dark:text-zinc-400 mb-2 px-2",children:"Transaction History"}),b.jsx("div",{className:"bg-white dark:bg-zinc-900 rounded-lg shadow-lg divide-y divide-gray-100 dark:divide-zinc-800 border border-gray-100 dark:border-zinc-800",children:S.length===0?b.jsx("p",{className:"p-4 text-center text-gray-500 dark:text-zinc-400",children:"No transactions yet for this envelope."}):b.jsx(zu,{initial:!1,mode:"popLayout",children:S.map(D=>b.jsx(Ul.div,{layout:!0,initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},children:b.jsx(Wf,{onDelete:()=>{if(!D.id)return;const F={...D};h(D.id),v("Transaction deleted","neutral",()=>f(F))},children:b.jsx(lC,{transaction:D,onReconcile:()=>V(D),onEdit:()=>ne(D)})})},D.id))})})]}),b.jsx("div",{className:"mt-8",children:b.jsxs("button",{className:"w-full py-3 px-4 rounded-lg bg-white dark:bg-zinc-900 text-red-600 dark:text-red-400 font-semibold hover:bg-gray-100 dark:hover:bg-zinc-800 transition duration-150 flex items-center justify-center border border-gray-100 dark:border-zinc-800",onClick:()=>{confirm(`Are you sure you want to delete "${ee.name}"? This will delete all transactions.`)&&M()},children:[b.jsx(vS,{className:"w-5 h-5 mr-2"}),"Delete Envelope"]})}),(k||I||$)&&b.jsx(oC,{isVisible:k||I||!!$,onClose:()=>{A(!1),U(!1),ne(null)},mode:k?"add":I?"spend":"edit",currentEnvelope:ee,initialTransaction:$}),B&&b.jsx(Yj,{isVisible:B,onClose:()=>j(!1),sourceEnvelope:ee})]})},Vz="1.1.0",Pz={version:Vz},jz=()=>{const t=pa(),e=O.useRef(null),{envelopes:n,transactions:i,distributionTemplates:a,resetData:o,importData:c,getEnvelopeBalance:d,appSettings:h,updateAppSettings:f,initializeAppSettings:g,cleanupOrphanedTemplates:v}=Yn(),{currentUser:_,deleteAccount:x}=Mi(),[k,A]=O.useState(null),[I,U]=O.useState(()=>localStorage.getItem("lastBackupDate")||"Never"),[B,j]=O.useState(!1),[$,ne]=O.useState(!1),[ee,S]=O.useState(""),[R,M]=O.useState(!1),V=978307200,D=h?.theme??"system";O.useEffect(()=>{h||g().catch(L=>{console.error("Failed to initialize app settings:",L)})},[h,g]);const F=(L,J)=>{A({type:L,text:J}),setTimeout(()=>A(null),3500)},P=O.useMemo(()=>{const L=n.length,J=i.length,ue=a.length,de=n.reduce((fe,Se)=>fe+d(Se.id).toNumber(),0),ge=0,we=i.reduce((fe,Se)=>{let pt=0;if(typeof Se.date=="string"){const jn=Date.parse(Se.date);pt=Number.isNaN(jn)?0:jn}else typeof Se.date=="number"&&(pt=Se.date<2e9?(Se.date+V)*1e3:Se.date);return Math.max(fe,pt)},0),_e=ge||we?new Date(Math.max(ge,we)).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}):"Never";return{envelopeCount:L,transactionCount:J,templateCount:ue,totalBalance:de,lastUpdated:_e}},[n,i,a]),je=()=>{try{const L={appVersion:"2.0 (PWA)",backupDate:Date.now(),appSettings:h||{theme:"system"},envelopes:n.map(we=>({...we,currentBalance:d(we.id).toNumber(),lastUpdated:new Date().toISOString()})),transactions:i,distributionTemplates:a},J=new Blob([JSON.stringify(L,null,2)],{type:"application/json"}),ue=URL.createObjectURL(J),de=document.createElement("a");de.href=ue,de.download=`HouseBudget_Backup_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(de),de.click(),document.body.removeChild(de),URL.revokeObjectURL(ue);const ge=new Date().toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"});localStorage.setItem("lastBackupDate",ge),U(ge),F("success","Backup downloaded successfully.")}catch(L){console.error(L),F("error","Failed to create backup file.")}},Ce=()=>{try{const L=["Date","Description","Amount","Type","Envelope","Reconciled"],J=i.map(_e=>{const fe=n.find(jn=>jn.id===_e.envelopeId)?.name||"Unknown",Se=(_e.description||"").replace(/"/g,'""');let pt="Invalid Date";if(_e.date){if(typeof _e.date=="string")pt=_e.date.split("T")[0];else if(typeof _e.date=="number"){const jn=_e.date<2e9?(_e.date+V)*1e3:_e.date;pt=new Date(jn).toISOString().split("T")[0]}}return[pt,`"${Se}"`,_e.amount.toFixed(2),_e.type,`"${fe}"`,_e.reconciled?"Yes":"No"].join(",")}),ue=[L.join(","),...J].join(`
`),de=new Blob([ue],{type:"text/csv;charset=utf-8;"}),ge=URL.createObjectURL(de),we=document.createElement("a");we.href=ge,we.download=`HouseBudget_Transactions_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(we),we.click(),document.body.removeChild(we),URL.revokeObjectURL(ge),F("success","CSV export ready to open in Excel/Numbers.")}catch(L){console.error(L),F("error","Failed to export CSV.")}},K=()=>{e.current?.click()},ce=L=>{const J=L.target.files?.[0];if(!J)return;const ue=new FileReader;ue.onload=async de=>{try{const ge=JSON.parse(de.target?.result),we=await c(ge);if(!we.success){F("error",we.message);return}if(ge.appSettings?.theme)try{await f({theme:ge.appSettings.theme})}catch(_e){console.error("Failed to update imported settings:",_e)}else if(ge.appSettings?.isDarkMode!==void 0)try{const _e=ge.appSettings.isDarkMode?"dark":"light";await f({theme:_e})}catch(_e){console.error("Failed to update imported settings:",_e)}F("success",`Loaded ${ge.envelopes?.length??0} envelopes, ${ge.transactions?.length??0} transactions, and ${ge.distributionTemplates?.length??0} templates.`)}catch(ge){console.error(ge),F("error","Invalid backup file. Please verify the JSON.")}},ue.readAsText(J),L.target.value=""},pe=async()=>{j(!0);try{F("success","Scanning templates for orphaned references..."),await v(),F("success","Orphaned templates have been cleaned up successfully.")}catch(L){console.error("Template cleanup failed:",L),F("error","Failed to clean up orphaned templates. Check console for details.")}finally{j(!1)}},Ae=async()=>{if(window.confirm("Are you sure? This will permanently delete all envelopes, transactions, templates, and settings from the cloud. This action cannot be undone."))try{await o(),F("success","All data has been permanently deleted."),t("/")}catch(L){console.error("Reset failed:",L),F("error","Failed to delete all data. Some data may remain.")}},oe=async()=>{if(!ee.trim()){F("error","Please enter your password to confirm account deletion.");return}ne(!0);try{await o(),await x(ee)?F("success","Your account has been permanently deleted."):F("error","Failed to delete account. Please try again.")}catch(L){console.error("Account deletion failed:",L),F("error","Failed to delete account. Please try again.")}finally{ne(!1),M(!1),S("")}};return b.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-black transition-colors duration-200",children:[b.jsx("header",{className:"bg-white dark:bg-black border-b dark:border-zinc-800 px-4 pt-[calc(env(safe-area-inset-top)+12px)] pb-3 sticky top-0 z-20 flex items-center justify-between shadow-sm",children:b.jsxs("div",{className:"flex items-center",children:[b.jsx("button",{onClick:()=>t(-1),className:"mr-3 text-blue-600 dark:text-blue-400 font-medium",children:"Done"}),b.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Settings"})]})}),b.jsxs("div",{className:"p-4 space-y-6 max-w-2xl mx-auto",children:[k&&b.jsxs("div",{className:`px-4 py-3 rounded-2xl text-sm font-medium flex items-center gap-2 ${k.type==="success"?"bg-green-50 text-green-700 dark:bg-emerald-900/30 dark:text-emerald-200":"bg-red-50 text-red-700 dark:bg-red-900/30 dark:text-red-200"}`,children:[k.type==="success"?b.jsx(Iy,{size:18}):b.jsx(nf,{size:18}),k.text]}),b.jsx("section",{children:b.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl border border-gray-100 dark:border-zinc-800 shadow-sm p-5 space-y-3",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(Ww,{className:"text-blue-500",size:22}),b.jsxs("div",{children:[b.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Backup & Restore"}),b.jsx("p",{className:"text-sm text-gray-500 dark:text-zinc-400",children:"Create backups of all your data including envelopes, transactions, templates, and settings."})]})]}),b.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 pt-2",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500 dark:text-zinc-500",children:"Envelopes"}),b.jsx("p",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:P.envelopeCount})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500 dark:text-zinc-500",children:"Transactions"}),b.jsx("p",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:P.transactionCount})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500 dark:text-zinc-500",children:"Templates"}),b.jsx("p",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:P.templateCount})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500 dark:text-zinc-500",children:"Data Last Modified"}),b.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:P.lastUpdated})]})]})]})}),b.jsxs("section",{children:[b.jsx("h2",{className:"text-xs font-bold text-gray-500 dark:text-zinc-500 uppercase mb-2 px-1",children:"Appearance"}),b.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl border border-gray-100 dark:border-zinc-800 shadow-sm p-4",children:[b.jsxs("div",{className:"flex items-center justify-between mb-3",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[D==="light"&&b.jsx("span",{className:"text-orange-500 text-lg",children:""}),D==="dark"&&b.jsx("span",{className:"text-purple-500 text-lg",children:""}),D==="system"&&b.jsx("span",{className:"text-gray-500 text-lg",children:""}),b.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:"Theme"})]}),b.jsx("span",{className:"text-sm text-gray-500 dark:text-zinc-400 capitalize",children:D})]}),b.jsx("div",{className:"text-xs text-gray-500 dark:text-zinc-500 mb-3",children:"Choose your preferred appearance."}),b.jsx("div",{className:"flex gap-2",children:[{label:"Light",value:"light"},{label:"Dark",value:"dark"},{label:"System",value:"system"}].map(L=>b.jsx("button",{onClick:async()=>{try{await f({theme:L.value})}catch(J){console.error("Failed to update theme setting:",J)}},className:`flex-1 py-2 rounded-lg text-sm font-medium border transition-colors ${D===L.value?"bg-blue-50 dark:bg-blue-900/30 border-blue-500 text-blue-700 dark:text-blue-200":"border-gray-200 dark:border-zinc-700 text-gray-600 dark:text-zinc-400 hover:border-gray-300 dark:hover:border-zinc-600"}`,children:L.label},L.value))})]})]}),b.jsxs("section",{children:[b.jsx("h2",{className:"text-xs font-bold text-gray-500 dark:text-zinc-500 uppercase mb-2 px-1",children:"Actions"}),b.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl overflow-hidden border border-gray-100 dark:border-zinc-800 shadow-sm divide-y divide-gray-100 dark:divide-zinc-800",children:[b.jsxs("button",{onClick:je,className:"w-full p-4 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-zinc-800/50 transition-colors",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(Ww,{className:"text-blue-500",size:20}),b.jsxs("div",{className:"flex flex-col items-start",children:[b.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:"Create Backup"}),b.jsxs("span",{className:"text-xs text-gray-500 dark:text-zinc-400",children:["Last backup: ",I]})]})]}),b.jsx(Za,{className:"text-gray-400",size:18})]}),b.jsxs("button",{onClick:K,className:"w-full p-4 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-zinc-800/50 transition-colors",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(u4,{className:"text-blue-500",size:20}),b.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:"Restore from Backup"})]}),b.jsx(Za,{className:"text-gray-400",size:18})]}),b.jsxs("button",{onClick:Ce,className:"w-full p-4 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-zinc-800/50 transition-colors",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(DD,{className:"text-blue-500",size:20}),b.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:"Export Transactions (CSV)"})]}),b.jsx(Za,{className:"text-gray-400",size:18})]}),b.jsxs("button",{onClick:pe,disabled:B,className:`w-full p-4 flex items-center justify-between transition-colors ${B?"bg-gray-50 dark:bg-zinc-800/50 cursor-not-allowed":"hover:bg-gray-50 dark:hover:bg-zinc-800/50"}`,children:[b.jsxs("div",{className:"flex items-center gap-3",children:[B?b.jsx(Zw,{className:"text-blue-500 animate-spin",size:20}):b.jsx(lo,{className:"text-blue-500",size:20}),b.jsx("span",{className:`font-medium ${B?"text-gray-500 dark:text-zinc-400":"text-gray-900 dark:text-white"}`,children:B?"Cleaning Templates...":"Clean Up Orphaned Templates"})]}),B?b.jsx("div",{className:"text-gray-400 text-sm",children:"Working..."}):b.jsx(Za,{className:"text-gray-400",size:18})]}),b.jsx("input",{type:"file",ref:e,onChange:ce,accept:".json",className:"hidden"})]})]}),b.jsxs("section",{children:[b.jsx("h2",{className:"text-xs font-bold text-gray-500 dark:text-zinc-500 uppercase mb-2 px-1",children:"Tips"}),b.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl border border-gray-100 dark:border-zinc-800 shadow-sm p-4 text-sm text-gray-600 dark:text-zinc-300 space-y-2",children:[b.jsx("p",{children:"Create regular backups before major changes."}),b.jsx("p",{children:"Store backups in iCloud, Files, or another safe location."}),b.jsx("p",{children:"Backups are plain JSON files and can be inspected in any text editor."}),b.jsx("p",{children:"Restoring replaces all current envelopes, transactions, templates, and settings."})]})]}),b.jsxs("section",{children:[b.jsx("h2",{className:"text-xs font-bold text-gray-500 dark:text-zinc-500 uppercase mb-2 px-1",children:"Danger Zone"}),b.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl overflow-hidden border border-gray-100 dark:border-zinc-800 shadow-sm",children:[b.jsxs("button",{onClick:Ae,className:"w-full p-4 flex items-center justify-between hover:bg-red-50 dark:hover:bg-red-900/10 transition-colors group border-b border-gray-100 dark:border-zinc-800",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(nf,{className:"text-red-500 group-hover:text-red-600",size:20}),b.jsx("span",{className:"text-red-500 group-hover:text-red-600 font-medium",children:"Reset All Data"})]}),b.jsx(Za,{className:"text-gray-400",size:18})]}),b.jsxs("button",{onClick:()=>M(!0),className:"w-full p-4 flex items-center justify-between hover:bg-red-50 dark:hover:bg-red-900/10 transition-colors group",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(nf,{className:"text-red-600 group-hover:text-red-700",size:20}),b.jsx("span",{className:"text-red-600 group-hover:text-red-700 font-medium",children:"Delete Account"})]}),b.jsx(Za,{className:"text-gray-400",size:18})]})]}),b.jsxs("div",{className:"px-1 pt-2 text-xs text-gray-500 dark:text-zinc-500 space-y-1",children:[b.jsx("div",{children:"This clears every envelope, transaction, and template. Use with caution."}),b.jsx("div",{children:"Deleting your account permanently removes all data and cannot be undone."})]})]}),b.jsxs("div",{className:"text-center pt-4 pb-12 text-xs text-gray-400 dark:text-zinc-500 font-medium",children:["House Budget PWA  App Version ",Pz.version]})]}),R&&b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:b.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl max-w-md w-full p-6 shadow-xl",children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"w-10 h-10 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center",children:b.jsx(bS,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Delete Account"})]}),b.jsx("button",{onClick:()=>M(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:b.jsx(Ku,{size:20})})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:[b.jsx("p",{className:"text-sm text-red-800 dark:text-red-200 font-medium mb-2",children:"This action cannot be undone"}),b.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:"Deleting your account will permanently remove all your data including envelopes, transactions, templates, and settings. This action is irreversible."})]}),b.jsxs("div",{children:[b.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Account Email: ",b.jsx("span",{className:"font-semibold",children:_?.email})]}),b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirm Password"}),b.jsx("input",{type:"password",value:ee,onChange:L=>S(L.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 dark:bg-gray-700 dark:text-white",placeholder:"Enter your password",disabled:$})]}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx("button",{onClick:()=>M(!1),disabled:$,className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors disabled:opacity-50",children:"Cancel"}),b.jsx("button",{onClick:oe,disabled:$||!ee.trim(),className:"flex-1 px-4 py-2 bg-red-600 hover:bg-red-700 disabled:bg-red-400 text-white rounded-md transition-colors disabled:cursor-not-allowed flex items-center justify-center gap-2",children:$?b.jsxs(b.Fragment,{children:[b.jsx(Zw,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):"Delete Account"})]})]})]})})]})},Lz=()=>{const t=pa(),{createEnvelope:e}=Yn(),[n,i]=O.useState(""),[a,o]=O.useState(""),c=d=>{if(d.preventDefault(),!n.trim())return;const h=parseFloat(a),f=isNaN(h)?0:h,g=Yn.getState().envelopes,_=(g.length>0?Math.max(...g.map(x=>x.orderIndex??0)):-1)+1;e({name:n,currentBalance:f,lastUpdated:new Date().toISOString(),isActive:!0,orderIndex:_}),t("/")};return b.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-black",children:[b.jsxs("header",{className:"bg-white dark:bg-black border-b dark:border-zinc-800 px-4 pt-[calc(env(safe-area-inset-top)+12px)] pb-3 sticky top-0 z-10 flex items-center shadow-sm",children:[b.jsx("button",{onClick:()=>t("/"),className:"mr-3 text-gray-600 dark:text-zinc-400 hover:text-gray-900 dark:hover:text-white",children:b.jsx(Su,{size:24})}),b.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"New Envelope"})]}),b.jsx("div",{className:"p-4 max-w-md mx-auto",children:b.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl shadow-sm border border-gray-100 dark:border-zinc-800 overflow-hidden",children:[b.jsx("div",{className:"p-6 bg-blue-50 dark:bg-zinc-800 border-b border-blue-100 dark:border-zinc-700 flex justify-center py-8",children:b.jsx("div",{className:"w-20 h-20 bg-blue-100 dark:bg-zinc-700 text-blue-600 dark:text-blue-400 rounded-full flex items-center justify-center",children:b.jsx(OD,{size:40})})}),b.jsxs("form",{onSubmit:c,className:"p-6 space-y-6",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-zinc-300",children:"Envelope Name"}),b.jsx("input",{type:"text",id:"name",value:n,onChange:d=>i(d.target.value),placeholder:"e.g. Groceries, Rent, Fun Money",className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-zinc-700 bg-white dark:bg-zinc-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-zinc-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",autoFocus:!0,required:!0})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{htmlFor:"balance",className:"block text-sm font-medium text-gray-700 dark:text-zinc-300",children:"Initial Deposit (Optional)"}),b.jsxs("div",{className:"relative",children:[b.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-zinc-500 font-semibold",children:"$"}),b.jsx("input",{type:"number",id:"balance",value:a,onChange:d=>o(d.target.value),onKeyDown:d=>{(d.key==="e"||d.key==="E"||d.key==="+"||d.key==="-")&&d.preventDefault()},placeholder:"0.00",step:"0.01",className:"w-full pl-8 pr-4 py-3 rounded-xl border border-gray-200 dark:border-zinc-700 bg-white dark:bg-zinc-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-zinc-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all"})]}),b.jsx("p",{className:"text-xs text-gray-500 dark:text-zinc-500",children:'This creates an "Initial Deposit" income transaction. You can also add money later via the "Distribute Funds" screen.'})]}),b.jsxs("div",{className:"pt-4 flex gap-3",children:[b.jsx("button",{type:"button",onClick:()=>t("/"),className:"flex-1 py-3 px-4 rounded-xl border border-gray-200 dark:border-zinc-700 text-gray-600 dark:text-zinc-400 font-semibold bg-white dark:bg-zinc-800 hover:bg-gray-50 dark:hover:bg-zinc-700 transition-colors",children:"Cancel"}),b.jsx("button",{type:"submit",disabled:!n.trim(),className:`flex-1 py-3 px-4 rounded-xl font-semibold shadow-sm text-white transition-colors ${n.trim()?"bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600":"bg-gray-300 dark:bg-zinc-600 cursor-not-allowed"}`,children:"Create Envelope"})]})]})]})})]})},Uz=()=>{const t=pa(),{envelopes:e,getEnvelopeBalance:n,addToEnvelope:i,spendFromEnvelope:a}=Yn(),[o,c]=O.useState(""),[d,h]=O.useState(""),[f,g]=O.useState(new Date().toISOString().split("T")[0]),[v,_]=O.useState(""),[x,k]=O.useState("expense"),A=o&&parseFloat(o)>0&&v,I=j=>{if(j.preventDefault(),!A)return;const $=parseFloat(o),ne=new Date(f);x==="income"?i(v,$,d,ne):a(v,$,d,ne),t("/")},U=[...e].sort((j,$)=>{const ne=j.orderIndex??0,ee=$.orderIndex??0;return ne!==ee?ne-ee:j.name.localeCompare($.name)}),B=x==="income"?"text-green-500":"text-red-500";return b.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-black",children:[b.jsxs("header",{className:"bg-white dark:bg-black border-b border-gray-200 dark:border-zinc-800 px-4 pt-[calc(env(safe-area-inset-top)+12px)] pb-3 sticky top-0 z-10 flex items-center justify-between",children:[b.jsx("button",{onClick:()=>t(-1),className:"text-blue-600 dark:text-blue-400 font-medium",children:"Cancel"}),b.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"New Transaction"}),b.jsx("button",{onClick:I,disabled:!A,className:"text-blue-600 dark:text-blue-400 font-bold disabled:opacity-50 disabled:cursor-not-allowed",children:"Save"})]}),b.jsx("div",{className:"p-4 max-w-md mx-auto",children:b.jsxs("form",{onSubmit:I,className:"space-y-6",children:[b.jsx("div",{className:"bg-white dark:bg-zinc-900 rounded-xl border border-gray-200 dark:border-zinc-800 overflow-hidden",children:b.jsxs("div",{className:"flex",children:[b.jsx("button",{type:"button",onClick:()=>k("expense"),className:`flex-1 px-4 py-3 text-center font-medium transition-colors ${x==="expense"?"bg-red-500 text-white":"text-gray-600 dark:text-zinc-400 hover:bg-gray-50 dark:hover:bg-zinc-800"}`,children:"Expense"}),b.jsx("button",{type:"button",onClick:()=>k("income"),className:`flex-1 px-4 py-3 text-center font-medium transition-colors ${x==="income"?"bg-green-500 text-white":"text-gray-600 dark:text-zinc-400 hover:bg-gray-50 dark:hover:bg-zinc-800"}`,children:"Income"})]})}),b.jsxs("div",{className:"text-center",children:[b.jsx("label",{className:"block text-sm text-gray-600 dark:text-zinc-400 mb-1",children:"Amount"}),b.jsxs("div",{className:"relative inline-block",children:[b.jsx("span",{className:`absolute left-0 top-1/2 -translate-y-1/2 -translate-x-full pr-2 text-2xl ${B}`,children:"$"}),b.jsx("input",{type:"number",inputMode:"decimal",step:"0.01",value:o,onChange:j=>{const $=j.target.value;($===""||!isNaN(parseFloat($))&&parseFloat($)>=0)&&c($)},onKeyDown:j=>{(j.key==="e"||j.key==="E"||j.key==="+"||j.key==="-")&&j.preventDefault()},placeholder:"0.00",autoFocus:!0,className:`bg-transparent text-4xl font-bold text-center w-40 focus:outline-none ${B} placeholder-gray-700`})]})]}),b.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-lg p-3 border border-gray-200 dark:border-zinc-800 focus-within:border-blue-500 dark:focus-within:border-blue-400 transition-colors",children:[b.jsx("label",{className:"block text-xs text-gray-500 dark:text-zinc-400 mb-1",children:"Note"}),b.jsx("input",{type:"text",value:d,onChange:j=>h(j.target.value),placeholder:"What is this for?",className:"w-full bg-transparent text-gray-900 dark:text-white focus:outline-none"})]}),b.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-lg p-3 border border-gray-200 dark:border-zinc-800 focus-within:border-blue-500 dark:focus-within:border-blue-400 transition-colors",children:[b.jsx("label",{className:"block text-xs text-gray-500 dark:text-zinc-400 mb-1",children:"Date"}),b.jsx("input",{type:"date",value:f,onChange:j=>g(j.target.value),className:"w-full bg-transparent text-gray-900 dark:text-white focus:outline-none"})]}),b.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-lg p-3 border border-gray-200 dark:border-zinc-800 focus-within:border-blue-500 dark:focus-within:border-blue-400 transition-colors",children:[b.jsx("label",{className:"block text-xs text-gray-500 dark:text-zinc-400 mb-1",children:"Envelope"}),b.jsxs("select",{value:v,onChange:j=>_(j.target.value),className:"w-full bg-transparent text-gray-900 dark:text-white focus:outline-none",children:[b.jsx("option",{value:"",children:"Select an envelope"}),U.map(j=>b.jsxs("option",{value:j.id,children:[j.name," ($",n(j.id).toNumber().toFixed(2),")"]},j.id))]})]})]})})]})},zz=()=>{const t=pa(),{transactions:e,envelopes:n,updateTransaction:i,deleteTransaction:a,restoreTransaction:o}=Yn(),{showToast:c}=Mm(),[d,h]=O.useState(!1),[f,g]=O.useState(""),[v,_]=O.useState("all"),[x,k]=O.useState("All"),[A,I]=O.useState(!1),[U,B]=O.useState(()=>{const V=new Date;return V.setMonth(V.getMonth()-1),V.toISOString().split("T")[0]}),[j,$]=O.useState(()=>new Date().toISOString().split("T")[0]),[ne,ee]=O.useState(null),S=O.useMemo(()=>e.map(D=>{if(!D)return null;let F=D.date;if(typeof D.date=="number"){const je=(D.date+978307200)*1e3;F=new Date(je).toISOString()}else if(!D.date||typeof D.date!="string")return null;return{...D,date:F}}).filter(Boolean).filter(D=>{if(f){const P=f.toLowerCase(),je=n.find(ce=>ce.id===D.envelopeId)?.name.toLowerCase()||"",Ce=D.amount.toFixed(2);if(!(D.description.toLowerCase().includes(P)||je.includes(P)||Ce.includes(P)))return!1}if(v!=="all"&&D.envelopeId!==v||x!=="All"&&D.type!==x||!D.date||typeof D.date!="string")return!1;const F=D.date.split("T")[0];return!(F<U||F>j||A&&!D.reconciled)}).sort((D,F)=>new Date(F.date).getTime()-new Date(D.date).getTime()),[e,n,f,v,x,U,j,A]),R=ne?n.find(V=>V.id===ne.envelopeId):null,M=V=>{const D={...V,reconciled:!V.reconciled};i(D)};return b.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-black pb-20 transition-colors duration-200",children:[b.jsxs("header",{className:"bg-white dark:bg-black border-b dark:border-zinc-800 px-4 pt-[calc(env(safe-area-inset-top)+12px)] pb-3 sticky top-0 z-20 flex items-center justify-between shadow-sm",children:[b.jsxs("div",{className:"flex items-center",children:[b.jsx("button",{onClick:()=>t(-1),className:"mr-3 text-gray-600 hover:text-gray-900 dark:text-zinc-400 dark:hover:text-white transition-colors",children:b.jsx(Su,{size:24})}),b.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"All Transactions"})]}),b.jsx("button",{onClick:()=>h(!d),className:`p-2 rounded-full transition-colors ${d?"bg-blue-100 text-blue-600 dark:bg-blue-900/40 dark:text-blue-400":"text-gray-400 dark:text-zinc-600 hover:bg-gray-100 dark:hover:bg-zinc-800"}`,children:b.jsx(PD,{size:20,className:d?"fill-current":""})})]}),b.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out bg-white dark:bg-zinc-900 border-b dark:border-zinc-800 ${d?"max-h-[500px] opacity-100":"max-h-0 opacity-0"}`,children:b.jsxs("div",{className:"p-4 space-y-4",children:[b.jsxs("div",{className:"relative",children:[b.jsx(WD,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),b.jsx("input",{type:"text",placeholder:"Search transactions...",value:f,onChange:V=>g(V.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-100 dark:bg-zinc-800 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none dark:text-white"}),f&&b.jsx("button",{onClick:()=>g(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",children:b.jsx(Ku,{size:16})})]}),b.jsxs("div",{className:"space-y-1",children:[b.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Envelope"}),b.jsxs("select",{value:v,onChange:V=>_(V.target.value),className:"w-full p-2 rounded-lg bg-gray-100 dark:bg-zinc-800 border-r-8 border-transparent text-sm dark:text-white outline-none",children:[b.jsx("option",{value:"all",children:"All Envelopes"}),n.sort((V,D)=>V.name.localeCompare(D.name)).map(V=>b.jsx("option",{value:V.id,children:V.name},V.id))]})]}),b.jsx("div",{className:"bg-gray-100 dark:bg-zinc-800 p-1 rounded-lg flex",children:["All","Income","Expense"].map(V=>b.jsx("button",{onClick:()=>k(V),className:`flex-1 py-1.5 text-xs font-semibold rounded-md transition-all ${x===V?"bg-white dark:bg-zinc-700 text-gray-900 dark:text-white shadow-sm":"text-gray-500 dark:text-zinc-500 hover:text-gray-700"}`,children:V},V))}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{className:"space-y-1",children:[b.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"From"}),b.jsx("div",{className:"relative",children:b.jsx("input",{type:"date",value:U,onChange:V=>B(V.target.value),className:"w-full p-2 bg-gray-100 dark:bg-zinc-800 rounded-lg text-sm dark:text-white outline-none [color-scheme:light] dark:[color-scheme:dark]"})})]}),b.jsxs("div",{className:"space-y-1",children:[b.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"To"}),b.jsx("div",{className:"relative",children:b.jsx("input",{type:"date",value:j,onChange:V=>$(V.target.value),className:"w-full p-2 bg-gray-100 dark:bg-zinc-800 rounded-lg text-sm dark:text-white outline-none [color-scheme:light] dark:[color-scheme:dark]"})})]})]}),b.jsxs("div",{className:"flex items-center justify-between pt-2",children:[b.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-zinc-300",children:"Show only reconciled"}),b.jsx("button",{onClick:()=>I(!A),className:`w-11 h-6 rounded-full transition-colors relative ${A?"bg-green-500":"bg-gray-300 dark:bg-zinc-700"}`,children:b.jsx("span",{className:`absolute top-1 left-1 w-4 h-4 bg-white rounded-full transition-transform ${A?"translate-x-5":"translate-x-0"}`})})]})]})}),b.jsx("div",{className:"p-4 max-w-2xl mx-auto",children:b.jsx("div",{className:"bg-white dark:bg-zinc-900 rounded-xl shadow-sm border border-gray-100 dark:border-zinc-800 overflow-hidden",children:S.length===0?b.jsx("div",{className:"p-8 text-center text-gray-500 dark:text-zinc-500",children:"No transactions match your filters."}):b.jsx(zu,{initial:!1,mode:"popLayout",children:S.map(V=>{const D=n.find(F=>F.id===V.envelopeId);return b.jsx(Ul.div,{layout:!0,initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},children:b.jsx(Wf,{onDelete:()=>{if(!V.id)return;const F={...V};a(V.id),c("Transaction deleted","neutral",()=>o(F))},children:b.jsx(lC,{transaction:V,envelopeName:D?.name||"Unknown Envelope",onReconcile:()=>M(V),onEdit:()=>{D?ee(V):alert("Cannot edit: Envelope deleted.")}})})},V.id)})})})}),ne&&R&&b.jsx(oC,{isVisible:!!ne,onClose:()=>ee(null),mode:"edit",currentEnvelope:R,initialTransaction:ne})]})},BR=[{id:"length",label:"Minimum 12 characters",regex:/^.{12,}$/},{id:"uppercase",label:"At least one uppercase letter (A-Z)",regex:/[A-Z]/},{id:"lowercase",label:"At least one lowercase letter (a-z)",regex:/[a-z]/},{id:"number",label:"At least one number (0-9)",regex:/\d/},{id:"special",label:"At least one special character (!@#$%^&*)",regex:/[!@#$%^&*]/}],Bz=t=>{if(!t)return{score:0,level:"weak",color:"text-gray-400",label:"Enter password"};const i=BR.map(d=>({...d,met:d.regex.test(t)})).filter(d=>d.met).length;let a,o,c;return i<=1?(a="weak",o="text-red-500",c="Weak"):i<=3?(a="medium",o="text-yellow-500",c="Medium"):i===4?(a="strong",o="text-blue-500",c="Strong"):(a="very-strong",o="text-green-500",c="Very Strong"),{score:i,level:a,color:o,label:c}},ub=t=>{const e=BR.map(a=>({...a,met:a.regex.test(t)})),n=Bz(t),i=e.every(a=>a.met);return{requirements:e,strength:n,isValid:i,isEmpty:!t.trim()}},Fz=({password:t,className:e=""})=>{const{strength:n,isEmpty:i}=ub(t);return i?null:b.jsxs("div",{className:`flex items-center gap-2 ${e}`,children:[b.jsx("div",{className:"flex-1",children:b.jsx("div",{className:"flex gap-1",children:[1,2,3,4].map(a=>b.jsx("div",{className:`h-1 flex-1 rounded-full ${a<=n.score?n.score<=1?"bg-red-500":n.score<=3?"bg-yellow-500":n.score===4?"bg-blue-500":"bg-green-500":"bg-gray-200 dark:bg-gray-700"}`},a))})}),b.jsx("span",{className:`text-sm font-medium ${n.color}`,children:n.label})]})},qz=({password:t,className:e=""})=>{const{requirements:n,isEmpty:i}=ub(t);return i?null:b.jsx("div",{className:`space-y-1 ${e}`,children:n.map(a=>b.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.met?b.jsx(hD,{className:"h-4 w-4 text-green-500 flex-shrink-0"}):b.jsx(Ku,{className:"h-4 w-4 text-red-500 flex-shrink-0"}),b.jsx("span",{className:a.met?"text-green-700 dark:text-green-300":"text-gray-600 dark:text-gray-400",children:a.label})]},a.id))})},Hz=()=>{const[t,e]=O.useState(""),[n,i]=O.useState(""),[a,o]=O.useState(""),[c,d]=O.useState(!1),[h,f]=O.useState(!1),[g,v]=O.useState(!1),[_,x]=O.useState(!1),{login:k,register:A,sendPasswordReset:I,isLoading:U,loginError:B,clearError:j}=Mi(),$=ub(n),ne=async S=>{if(S.preventDefault(),j(),t.trim()&&n.trim())if(h){if(!a.trim()||!$.isValid)return;await A(t.trim(),n,a.trim())}else await k(t.trim(),n)},ee=async S=>{S.preventDefault(),t.trim()&&await I(t.trim())&&x(!0)};return O.useEffect(()=>{e(""),i(""),o(""),x(!1)},[h,g]),b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 px-4",children:b.jsxs("div",{className:"max-w-md w-full space-y-8",children:[b.jsx("div",{className:"text-center",children:b.jsxs("div",{className:"flex flex-col items-center gap-3 mb-2",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("img",{src:"/personal-budget-pwa/icon-192.png",alt:"Personal Budget Logo",className:"w-10 h-10"}),b.jsx("h1",{className:"text-4xl font-bold text-blue-600 dark:text-blue-400",children:"Personal Budget"})]}),b.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Simple envelope budgeting for personal finance"})]})}),b.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-8",children:g?b.jsxs("form",{onSubmit:ee,className:"space-y-6",children:[b.jsxs("div",{className:"text-center mb-2",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Reset Password"}),b.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Enter your email and we'll send you a link to reset your password."})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"reset-email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:b.jsx(S0,{className:"h-5 w-5 text-gray-400"})}),b.jsx("input",{id:"reset-email",type:"email",value:t,onChange:S=>e(S.target.value),className:"w-full pl-10 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Enter your email",required:!0,disabled:U,autoComplete:"email"})]})]}),_?b.jsxs("div",{className:"text-center py-4",children:[b.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 dark:bg-green-900/30",children:b.jsx(S0,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),b.jsx("h3",{className:"mt-3 text-lg font-medium text-gray-900 dark:text-white",children:"Check your email"}),b.jsxs("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:["We've sent a password reset link to ",b.jsx("span",{className:"font-medium",children:t})]}),b.jsxs("button",{type:"button",onClick:()=>v(!1),className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[b.jsx(Su,{className:"-ml-1 mr-2 h-4 w-4"}),"Back to login"]})]}):b.jsxs(b.Fragment,{children:[b.jsx("button",{type:"submit",disabled:U||!t.trim(),className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-medium py-2 px-4 rounded-md transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:cursor-not-allowed",children:U?"Sending...":"Send Reset Link"}),b.jsx("div",{className:"mt-4 text-center",children:b.jsxs("button",{type:"button",onClick:()=>v(!1),className:"text-sm text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300 font-medium",disabled:U,children:[b.jsx(Su,{className:"inline-block h-4 w-4 -ml-1 mr-1"}),"Back to login"]})})]})]}):b.jsxs("form",{onSubmit:ne,className:"space-y-6",children:[b.jsxs("div",{className:"text-center mb-6",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:h?"Create Account":"Sign In"}),b.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:h?"Create a new account to get started":"Sign in to your account"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),b.jsx("input",{id:"email",type:"email",value:t,onChange:S=>e(S.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Enter your email",required:!0,disabled:U,autoComplete:"username"})]}),h&&b.jsxs("div",{children:[b.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Display Name"}),b.jsx("input",{id:"displayName",type:"text",value:a,onChange:S=>o(S.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Enter your display name",required:!0,disabled:U})]}),b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Password"}),!h&&b.jsx("button",{type:"button",onClick:()=>v(!0),className:"text-sm text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300 font-medium",disabled:U,children:"Forgot password?"})]}),b.jsxs("div",{className:"relative",children:[b.jsx("input",{id:"password",type:c?"text":"password",value:n,onChange:S=>i(S.target.value),className:`w-full px-3 py-2 pr-10 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white ${h&&n&&!$.isValid?"border-red-500 dark:border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"Enter your password",required:!0,disabled:U,autoComplete:h?"new-password":"current-password"}),b.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 focus:outline-none",disabled:U,children:c?b.jsx(RD,{className:"h-5 w-5"}):b.jsx(ID,{className:"h-5 w-5"})})]}),h&&n&&b.jsx("div",{className:"mt-2",children:b.jsx(Fz,{password:n})}),h&&n&&b.jsx("div",{className:"mt-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-md",children:b.jsx(qz,{password:n})})]}),B&&b.jsxs("div",{className:"text-red-600 dark:text-red-400 text-sm text-center bg-red-50 dark:bg-red-900/20 p-3 rounded-md",children:[B,B.includes("verify your email")&&b.jsx("div",{className:"mt-3",children:b.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:"Please check your email and click the verification link to continue."})})]}),b.jsx("button",{type:"submit",disabled:U||!t.trim()||!n.trim()||h&&!a.trim()||h&&!$.isValid,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-medium py-2 px-4 rounded-md transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:cursor-not-allowed",children:U?h?"Creating Account...":"Signing in...":h?"Create Account":"Sign In"}),b.jsx("div",{className:"mt-6 text-center",children:b.jsxs("button",{type:"button",onClick:()=>{f(!h),v(!1)},className:"text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300 text-sm font-medium flex items-center justify-center gap-2 mx-auto",disabled:U,children:[b.jsx(h4,{className:"h-4 w-4"}),h?"Already have an account? Sign In":"Don't have an account? Sign Up"]})})]})})]})})},Zx=()=>{const[t,e]=O.useState(!1),[n,i]=O.useState(!1),{currentUser:a,resendEmailVerification:o,logout:c,loginError:d}=Mi();O.useEffect(()=>{a||console.warn("EmailVerificationView: No current user, this should not happen")},[a]);const h=async()=>{e(!0),i(!1);const g=await o();e(!1),g&&(i(!0),setTimeout(()=>i(!1),3e3))},f=async()=>{await c()};return a?b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 px-4",children:b.jsxs("div",{className:"max-w-md w-full space-y-8",children:[b.jsx("div",{className:"text-center",children:b.jsx("div",{className:"flex flex-col items-center gap-3 mb-2",children:b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("img",{src:"/personal-budget-pwa/icon-192.png",alt:"House Budget Logo",className:"w-10 h-10"}),b.jsx("h1",{className:"text-4xl font-bold text-blue-600 dark:text-blue-400",children:"House Budget"})]})})}),b.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-8",children:b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 dark:bg-green-900/30 mb-4",children:b.jsx(S0,{className:"h-8 w-8 text-green-600 dark:text-green-400"})}),b.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Check your email"}),b.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:["We've sent a verification link to"," ",b.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:a.email})]}),b.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 mb-6",children:b.jsxs("div",{className:"flex items-start gap-3",children:[b.jsx(Iy,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),b.jsxs("div",{className:"text-left",children:[b.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200 font-medium",children:"What to do next:"}),b.jsxs("ol",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1 space-y-1",children:[b.jsx("li",{children:"1. Open your email inbox"}),b.jsx("li",{children:"2. Find the email from House Budget"}),b.jsx("li",{children:'3. Click the "Verify Email" link'}),b.jsx("li",{children:"4. Return here and sign in"})]})]})]})}),d&&b.jsx("div",{className:"text-red-600 dark:text-red-400 text-sm mb-4 p-3 bg-red-50 dark:bg-red-900/20 rounded-md",children:d}),n&&b.jsx("div",{className:"text-green-600 dark:text-green-400 text-sm mb-4 p-3 bg-green-50 dark:bg-green-900/20 rounded-md",children:"Verification email sent successfully!"}),b.jsx("button",{onClick:h,disabled:t,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-medium py-2 px-4 rounded-md transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:cursor-not-allowed mb-4 flex items-center justify-center gap-2",children:t?b.jsxs(b.Fragment,{children:[b.jsx(lo,{className:"h-4 w-4 animate-spin"}),"Sending..."]}):b.jsxs(b.Fragment,{children:[b.jsx(lo,{className:"h-4 w-4"}),"Resend verification email"]})}),b.jsxs("button",{onClick:f,className:"text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300 text-sm font-medium flex items-center justify-center gap-2 mx-auto",children:[b.jsx(Su,{className:"h-4 w-4"}),"Back to sign in"]})]})}),b.jsx("div",{className:"text-center",children:b.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Didn't receive the email? Check your spam folder or try resending."})})]})}):null};class or{static instance;static getInstance(){return or.instance||(or.instance=new or),or.instance}async getMonthlyBudget(e,n){try{const i=yn(Mt,"monthlyBudgets",`${e}_${n}`),a=await kj(i);if(a.exists()){const o=a.data();return{id:o.id,userId:o.userId,month:o.month,totalIncome:parseFloat(o.totalIncome),availableToBudget:parseFloat(o.availableToBudget),createdAt:o.createdAt.toDate().toISOString(),updatedAt:o.updatedAt.toDate().toISOString()}}return null}catch(i){throw console.error("Error getting monthly budget:",i),i}}async createOrUpdateMonthlyBudget(e){try{const n=Je.now(),i=`${e.userId}_${e.month}`,a={id:i,userId:e.userId,month:e.month,totalIncome:e.totalIncome.toString(),availableToBudget:e.availableToBudget.toString(),createdAt:n,updatedAt:n};return await Sl(yn(Mt,"monthlyBudgets",i),a),{...e,id:i,createdAt:n.toDate().toISOString(),updatedAt:n.toDate().toISOString()}}catch(n){throw console.error("Error creating/updating monthly budget:",n),n}}async getIncomeSources(e,n){try{const i=is(Js(Mt,"incomeSources"),Kh("userId","==",e),Kh("month","==",n));return(await Pl(i)).docs.map(o=>{const c=o.data();return{id:c.id,userId:c.userId,month:c.month,name:c.name,amount:parseFloat(c.amount),frequency:c.frequency,category:c.category,createdAt:c.createdAt.toDate().toISOString(),updatedAt:c.updatedAt.toDate().toISOString()}})}catch(i){throw console.error("Error getting income sources:",i),i}}async createIncomeSource(e){try{const n=Je.now(),i=yn(Js(Mt,"incomeSources")),a={id:i.id,userId:e.userId,month:e.month,name:e.name,amount:e.amount.toString(),frequency:e.frequency||"monthly",...e.category&&{category:e.category},createdAt:n,updatedAt:n};return await Sl(i,a),{...e,frequency:e.frequency||"monthly",id:i.id,createdAt:n.toDate().toISOString(),updatedAt:n.toDate().toISOString()}}catch(n){throw console.error("Error creating income source:",n),n}}async getEnvelopeAllocations(e,n){try{const i=is(Js(Mt,"envelopeAllocations"),Kh("userId","==",e),Kh("month","==",n));return(await Pl(i)).docs.map(o=>{const c=o.data();return{id:c.id,userId:c.userId,envelopeId:c.envelopeId,month:c.month,budgetedAmount:parseFloat(c.budgetedAmount),createdAt:c.createdAt.toDate().toISOString(),updatedAt:c.updatedAt.toDate().toISOString()}})}catch(i){throw console.error("Error getting envelope allocations:",i),i}}async createEnvelopeAllocation(e){try{const n=Je.now(),i=yn(Js(Mt,"envelopeAllocations")),a={id:i.id,userId:e.userId,envelopeId:e.envelopeId,month:e.month,budgetedAmount:e.budgetedAmount.toString(),createdAt:n,updatedAt:n};return await Sl(i,a),{...e,id:i.id,createdAt:n.toDate().toISOString(),updatedAt:n.toDate().toISOString()}}catch(n){throw console.error("Error creating envelope allocation:",n),n}}async copyMonthData(e,n,i){try{const a=await this.getIncomeSources(e,n);for(const f of a)await this.createIncomeSource({...f,month:i});const o=await this.getEnvelopeAllocations(e,n);for(const f of o)await this.createEnvelopeAllocation({...f,month:i});const c=a.reduce((f,g)=>f+g.amount,0),d=o.reduce((f,g)=>f+g.budgetedAmount,0),h=c-d;await this.createOrUpdateMonthlyBudget({userId:e,month:i,totalIncome:c,availableToBudget:h})}catch(a){throw console.error("Error copying month data:",a),a}}async calculateAvailableToBudget(e,n){try{const i=await this.getIncomeSources(e,n),a=await this.getEnvelopeAllocations(e,n),o=i.reduce((d,h)=>d+h.amount,0),c=a.reduce((d,h)=>d+h.budgetedAmount,0);return o-c}catch(i){throw console.error("Error calculating available to budget:",i),i}}}const $z=()=>{const t=new Date;return`${t.getFullYear()}-${(t.getMonth()+1).toString().padStart(2,"0")}`},su=()=>{const t=Mi.getState().currentUser;if(!t)throw new Error("User not authenticated");return t.id},ar=em()(ky((t,e)=>({currentMonth:$z(),monthlyBudget:null,incomeSources:[],envelopeAllocations:[],isLoading:!1,error:null,setCurrentMonth:n=>{t({currentMonth:n}),e().fetchMonthlyData()},fetchMonthlyData:async()=>{try{t({isLoading:!0,error:null});const n=su(),i=e().currentMonth,a=or.getInstance(),[o,c,d]=await Promise.all([a.getMonthlyBudget(n,i),a.getIncomeSources(n,i),a.getEnvelopeAllocations(n,i)]);t({monthlyBudget:o,incomeSources:c,envelopeAllocations:d,isLoading:!1})}catch(n){console.error("Error fetching monthly data:",n),t({error:n instanceof Error?n.message:"Failed to fetch monthly data",isLoading:!1})}},createIncomeSource:async n=>{try{const i=su(),a=e().currentMonth,c=await or.getInstance().createIncomeSource({...n,userId:i,month:a});t(d=>({incomeSources:[...d.incomeSources,c]})),await e().refreshAvailableToBudget()}catch(i){throw console.error("Error creating income source:",i),i}},updateIncomeSource:async(n,i)=>{try{await e().deleteIncomeSource(n),i.name!==void 0&&i.amount!==void 0&&await e().createIncomeSource({name:i.name,amount:i.amount,frequency:"monthly"})}catch(a){throw console.error("Error updating income source:",a),a}},deleteIncomeSource:async n=>{try{t(i=>({incomeSources:i.incomeSources.filter(a=>a.id!==n)})),await e().refreshAvailableToBudget()}catch(i){throw console.error("Error deleting income source:",i),i}},restoreIncomeSource:async n=>{try{t(i=>({incomeSources:[...i.incomeSources,n]})),await e().refreshAvailableToBudget()}catch(i){throw console.error("Error restoring income source:",i),i}},createEnvelopeAllocation:async n=>{try{const i=su(),a=e().currentMonth,c=await or.getInstance().createEnvelopeAllocation({...n,userId:i,month:a});t(d=>({envelopeAllocations:[...d.envelopeAllocations,c]})),await e().refreshAvailableToBudget()}catch(i){throw console.error("Error creating envelope allocation:",i),i}},updateEnvelopeAllocation:async(n,i)=>{try{await e().deleteEnvelopeAllocation(n),i.envelopeId!==void 0&&i.budgetedAmount!==void 0&&await e().createEnvelopeAllocation({envelopeId:i.envelopeId,budgetedAmount:i.budgetedAmount})}catch(a){throw console.error("Error updating envelope allocation:",a),a}},deleteEnvelopeAllocation:async n=>{try{t(i=>({envelopeAllocations:i.envelopeAllocations.filter(a=>a.id!==n)})),await e().refreshAvailableToBudget()}catch(i){throw console.error("Error deleting envelope allocation:",i),i}},setEnvelopeAllocation:async(n,i)=>{try{const a=e().envelopeAllocations.find(o=>o.envelopeId===n);a?await e().updateEnvelopeAllocation(a.id,{budgetedAmount:i}):await e().createEnvelopeAllocation({envelopeId:n,budgetedAmount:i})}catch(a){throw console.error("Error setting envelope allocation:",a),a}},copyFromPreviousMonth:async()=>{try{t({isLoading:!0,error:null});const n=su(),i=e().currentMonth,[a,o]=i.split("-").map(Number);let c=a,d=o-1;d<1&&(c=a-1,d=12);const h=`${c}-${d.toString().padStart(2,"0")}`;await or.getInstance().copyMonthData(n,h,i),await e().fetchMonthlyData()}catch(n){console.error("Error copying from previous month:",n),t({error:n instanceof Error?n.message:"Failed to copy month data",isLoading:!1})}},calculateAvailableToBudget:()=>{const n=e(),i=n.incomeSources.reduce((o,c)=>o+c.amount,0),a=n.envelopeAllocations.reduce((o,c)=>o+c.budgetedAmount,0);return i-a},refreshAvailableToBudget:async()=>{try{const n=su(),i=e().currentMonth,a=or.getInstance(),o=await a.calculateAvailableToBudget(n,i),c=e().monthlyBudget;if(c){const d={...c,availableToBudget:o};await a.createOrUpdateMonthlyBudget(d),t({monthlyBudget:d})}else{const d=e().incomeSources.reduce((f,g)=>f+g.amount,0),h=await a.createOrUpdateMonthlyBudget({userId:n,month:i,totalIncome:d,availableToBudget:o});t({monthlyBudget:h})}}catch(n){console.error("Error refreshing available to budget:",n)}},loadDemoData:(n,i)=>{t({incomeSources:n,envelopeAllocations:i,isLoading:!1})}}),{name:"monthly-budget-store",partialize:t=>({currentMonth:t.currentMonth})})),Gz=({currentMonth:t,onMonthChange:e})=>{const[n,i]=t.split("-").map(Number),o=["January","February","March","April","May","June","July","August","September","October","November","December"][i-1],c=()=>{let f=n,g=i-1;g<1&&(f=n-1,g=12);const v=`${f}-${g.toString().padStart(2,"0")}`;e(v)},d=()=>{let f=n,g=i+1;g>12&&(f=n+1,g=1);const v=`${f}-${g.toString().padStart(2,"0")}`;e(v)},h=()=>{const f=new Date,g=`${f.getFullYear()}-${(f.getMonth()+1).toString().padStart(2,"0")}`;e(g)};return b.jsx("div",{className:"bg-white dark:bg-black border-b dark:border-zinc-800 px-4 py-3",children:b.jsxs("div",{className:"flex items-center justify-between max-w-md mx-auto",children:[b.jsx("button",{onClick:c,className:"p-2 text-gray-600 dark:text-zinc-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-zinc-800 rounded-lg transition-colors","aria-label":"Previous month",children:b.jsx(gD,{size:20})}),b.jsx("div",{className:"flex-1 text-center",children:b.jsxs("button",{onClick:h,className:"text-lg font-semibold text-gray-900 dark:text-white hover:text-blue-600 dark:hover:text-blue-400 transition-colors",title:"Click to go to current month",children:[o," ",n]})}),b.jsx("button",{onClick:d,className:"p-2 text-gray-600 dark:text-zinc-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-zinc-800 rounded-lg transition-colors","aria-label":"Next month",children:b.jsx(Za,{size:20})})]})})},Kz=({amount:t,totalIncome:e,totalAllocated:n,isLoading:i=!1})=>{const a=e>0?n/e*100:0,o=Math.abs(t)<.01,c=t<0,d=t>0,f=o?{icon:Iy,color:"text-green-600 dark:text-emerald-400",bgColor:"bg-green-50 dark:bg-emerald-900/20",borderColor:"border-green-200 dark:border-emerald-800",title:"Budget Balanced!",subtitle:"Every dollar has a job"}:c?{icon:s4,color:"text-red-600 dark:text-red-400",bgColor:"bg-red-50 dark:bg-red-900/20",borderColor:"border-red-200 dark:border-red-800",title:"Over Budget",subtitle:"Reduce allocations or add income"}:{icon:t4,color:"text-blue-600 dark:text-blue-400",bgColor:"bg-blue-50 dark:bg-blue-900/20",borderColor:"border-blue-200 dark:border-blue-800",title:"Available to Budget",subtitle:"Assign money to envelopes"},g=f.icon;return i?b.jsxs("div",{className:"bg-gray-50 dark:bg-zinc-900 rounded-2xl p-6 border border-gray-200 dark:border-zinc-800 animate-pulse",children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsx("div",{className:"h-6 bg-gray-200 dark:bg-zinc-700 rounded w-32"}),b.jsx("div",{className:"h-8 bg-gray-200 dark:bg-zinc-700 rounded w-20"})]}),b.jsx("div",{className:"h-2 bg-gray-200 dark:bg-zinc-700 rounded"})]}):b.jsxs("div",{className:`rounded-2xl p-6 border ${f.bgColor} ${f.borderColor}`,children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:`p-2 rounded-xl ${f.bgColor} ${f.borderColor}`,children:b.jsx(g,{size:24,className:f.color})}),b.jsxs("div",{children:[b.jsx("h3",{className:`font-semibold ${f.color}`,children:f.title}),b.jsx("p",{className:"text-sm text-gray-600 dark:text-zinc-400",children:f.subtitle})]})]}),b.jsxs("div",{className:"text-right",children:[b.jsxs("div",{className:`text-3xl font-bold ${f.color}`,children:[c?"-":"","$",Math.abs(t).toFixed(2)]}),o&&b.jsx("div",{className:"text-sm text-green-600 dark:text-emerald-400 font-medium",children:"Perfect Balance"})]})]}),!o&&e>0&&b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex justify-between text-sm text-gray-600 dark:text-zinc-400",children:[b.jsx("span",{children:"Allocated"}),b.jsxs("span",{children:[a.toFixed(0),"% of income"]})]}),b.jsx("div",{className:"w-full bg-gray-200 dark:bg-zinc-700 rounded-full h-2",children:b.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${c?"bg-red-500":d?"bg-blue-500":"bg-green-500"}`,style:{width:`${Math.min(a,100)}%`}})}),b.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-zinc-500",children:[b.jsxs("span",{children:["$",n.toFixed(2)," allocated"]}),b.jsxs("span",{children:["$",e.toFixed(2)," income"]})]})]}),b.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-zinc-700",children:b.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["$",e.toFixed(2)]}),b.jsx("div",{className:"text-sm text-gray-600 dark:text-zinc-400",children:"Total Income"})]}),b.jsxs("div",{children:[b.jsxs("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["$",n.toFixed(2)]}),b.jsx("div",{className:"text-sm text-gray-600 dark:text-zinc-400",children:"Allocated"})]})]})})]})},Yz=({isVisible:t,onClose:e,mode:n,initialIncomeSource:i})=>{const{createIncomeSource:a,updateIncomeSource:o}=ar(),[c,d]=O.useState(""),[h,f]=O.useState(""),[g,v]=O.useState(!1);O.useEffect(()=>{if(!t)return;const x=window.setTimeout(()=>{n==="edit"&&i?(d(i.name),f(i.amount.toString())):(d(""),f(""))},0);return()=>window.clearTimeout(x)},[t,n,i]);const _=async x=>{if(x.preventDefault(),!(!c.trim()||!h||parseFloat(h)<=0)){v(!0);try{n==="add"?await a({name:c.trim(),amount:parseFloat(h)}):n==="edit"&&i&&await o(i.id,{name:c.trim(),amount:parseFloat(h)}),e()}catch(k){console.error("Error saving income source:",k)}finally{v(!1)}}};return t?b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:b.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[b.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-zinc-800",children:[b.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:n==="add"?"Add Income Source":"Edit Income Source"}),b.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:hover:text-zinc-300 transition-colors",children:""})]}),b.jsxs("form",{onSubmit:_,className:"p-6 space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-zinc-300 mb-1",children:"Income Source Name *"}),b.jsx("input",{type:"text",value:c,onChange:x=>d(x.target.value),placeholder:"e.g., Primary Job, Freelance, Investments",className:"w-full px-3 py-2 border border-gray-300 dark:border-zinc-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-zinc-800 dark:text-white",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-zinc-300 mb-1",children:"Amount *"}),b.jsxs("div",{className:"relative",children:[b.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-zinc-400",children:"$"}),b.jsx("input",{type:"number",value:h,onChange:x=>f(x.target.value),placeholder:"0.00",step:"0.01",min:"0",className:"w-full pl-8 pr-3 py-2 border border-gray-300 dark:border-zinc-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-zinc-800 dark:text-white",required:!0})]})]}),b.jsxs("div",{className:"flex gap-3 pt-4",children:[b.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 text-gray-700 dark:text-zinc-300 border border-gray-300 dark:border-zinc-700 rounded-lg hover:bg-gray-50 dark:hover:bg-zinc-800 transition-colors",children:"Cancel"}),b.jsx("button",{type:"submit",disabled:g||!c.trim()||!h||parseFloat(h)<=0,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:g?"Saving...":n==="add"?"Add Income":"Save Changes"})]})]})]})}):null},Qz=({isVisible:t,onClose:e,initialAllocation:n,getEnvelopeName:i,onEnvelopeNameUpdate:a})=>{const[o,c]=O.useState(""),[d,h]=O.useState(""),[f,g]=O.useState(!1);O.useEffect(()=>{if(!t)return;const _=window.setTimeout(()=>{n?(c(i(n.envelopeId)),h(n.budgetedAmount.toString())):(c(""),h(""))},0);return()=>window.clearTimeout(_)},[t,n,i]);const v=async _=>{if(_.preventDefault(),!(!o.trim()||!d||parseFloat(d)<=0)){g(!0);try{if(n){o.trim()!==i(n.envelopeId)&&a?.(n.envelopeId,o.trim());const x=parseFloat(d),k=ar.getState().envelopeAllocations.map(A=>A.id===n.id?{...A,budgetedAmount:x}:A);ar.setState({envelopeAllocations:k})}e()}catch(x){console.error("Error saving envelope allocation:",x)}finally{g(!1)}}};return t?b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:b.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[b.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-zinc-800",children:[b.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Edit Envelope Allocation"}),b.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:hover:text-zinc-300 transition-colors",children:""})]}),b.jsxs("form",{onSubmit:v,className:"p-6 space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-zinc-300 mb-1",children:"Envelope Name *"}),b.jsx("input",{type:"text",value:o,onChange:_=>c(_.target.value),placeholder:"e.g., Groceries, Gas, Entertainment",className:"w-full px-3 py-2 border border-gray-300 dark:border-zinc-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-zinc-800 dark:text-white",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-zinc-300 mb-1",children:"Budgeted Amount *"}),b.jsxs("div",{className:"relative",children:[b.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-zinc-400",children:"$"}),b.jsx("input",{type:"number",value:d,onChange:_=>h(_.target.value),placeholder:"0.00",step:"0.01",min:"0",className:"w-full pl-8 pr-3 py-2 border border-gray-300 dark:border-zinc-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-zinc-800 dark:text-white",required:!0})]})]}),b.jsxs("div",{className:"flex gap-3 pt-4",children:[b.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 text-gray-700 dark:text-zinc-300 border border-gray-300 dark:border-zinc-700 rounded-lg hover:bg-gray-50 dark:hover:bg-zinc-800 transition-colors",children:"Cancel"}),b.jsx("button",{type:"submit",disabled:f||!o.trim()||!d||parseFloat(d)<=0,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:f?"Saving...":"Save Changes"})]})]})]})}):null},Xz=({isOpen:t,onClose:e,onEnvelopeCreated:n})=>{const{setEnvelopeAllocation:i}=ar(),[a,o]=O.useState(""),[c,d]=O.useState(""),[h,f]=O.useState(!1),[g,v]=O.useState(!1),_=async k=>{if(k.preventDefault(),!(!a.trim()||!c)){f(!0);try{const A=`env-${a.toLowerCase().replace(/\s+/g,"-")}-${Date.now()}`,I=parseFloat(c)||0;await i(A,I),v(!0),setTimeout(()=>{v(!1),e(),n&&n(A,a.trim()),o(""),d("")},1500)}catch(A){console.error("Error creating envelope:",A)}finally{f(!1)}}},x=()=>{o(""),d(""),v(!1),e()};return t?b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:b.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-xl max-w-md w-full",children:[b.jsxs("div",{className:"flex items-center justify-between p-4 border-b dark:border-zinc-800",children:[b.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Add New Envelope"}),b.jsx("button",{onClick:x,className:"p-1 hover:bg-gray-100 dark:hover:bg-zinc-800 rounded-lg transition-colors",children:b.jsx(Ku,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]}),b.jsxs("div",{className:"p-4",children:[g&&b.jsxs("div",{className:"mb-4 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg flex items-center gap-2",children:[b.jsx(YD,{className:"w-4 h-4 text-green-600 dark:text-green-400 flex-shrink-0"}),b.jsx("span",{className:"text-sm text-green-700 dark:text-green-300",children:"Envelope created successfully!"})]}),b.jsxs("form",{onSubmit:_,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Envelope Name"}),b.jsx("input",{type:"text",value:a,onChange:k=>o(k.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-zinc-700 rounded-lg bg-white dark:bg-zinc-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Groceries, Gas, Entertainment",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Budgeted Amount"}),b.jsxs("div",{className:"relative",children:[b.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:"$"}),b.jsx("input",{type:"number",step:"0.01",min:"0",value:c,onChange:k=>d(k.target.value),className:"w-full pl-8 pr-3 py-2 border border-gray-300 dark:border-zinc-700 rounded-lg bg-white dark:bg-zinc-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00",required:!0})]})]}),b.jsxs("div",{className:"flex gap-3 pt-4",children:[b.jsx("button",{type:"button",onClick:x,className:"flex-1 px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-zinc-800 hover:bg-gray-200 dark:hover:bg-zinc-700 rounded-lg transition-colors",children:"Cancel"}),b.jsx("button",{type:"submit",disabled:h||!a.trim()||!c,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 dark:disabled:bg-zinc-700 text-white rounded-lg transition-colors disabled:cursor-not-allowed",children:h?"Creating...":"Create Envelope"})]})]})]})]})}):null},rr={currentMonth:"2025-01",incomeSources:[{id:"income-1",userId:"demo-user",month:"2025-01",name:"Primary Job",amount:4e3,frequency:"monthly",category:"salary",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"income-2",userId:"demo-user",month:"2025-01",name:"Freelance",amount:800,frequency:"monthly",category:"side-hustle",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}],envelopeAllocations:[{id:"alloc-1",userId:"demo-user",envelopeId:"env-groceries",month:"2025-01",budgetedAmount:600,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"alloc-2",userId:"demo-user",envelopeId:"env-gas",month:"2025-01",budgetedAmount:200,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"alloc-3",userId:"demo-user",envelopeId:"env-utilities",month:"2025-01",budgetedAmount:300,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}]},Jx={"env-groceries":"Groceries","env-gas":"Gas","env-utilities":"Utilities","env-entertainment":"Entertainment","env-savings":"Emergency Savings","env-dining":"Dining Out","env-clothing":"Clothing","env-insurance":"Insurance","env-subscriptions":"Subscriptions","env-gifts":"Gifts"},Wz=()=>{const{currentMonth:t,incomeSources:e,envelopeAllocations:n,isLoading:i,calculateAvailableToBudget:a,deleteIncomeSource:o,restoreIncomeSource:c,deleteEnvelopeAllocation:d}=ar(),{showToast:h}=Mm(),f=fe=>{ar.setState({currentMonth:fe}),fe===rr.currentMonth?ar.setState({incomeSources:rr.incomeSources,envelopeAllocations:rr.envelopeAllocations,isLoading:!1}):ar.setState({incomeSources:[],envelopeAllocations:[],isLoading:!1})},g=()=>{t!==rr.currentMonth&&ar.setState({incomeSources:rr.incomeSources.map(fe=>({...fe,month:t,id:`${fe.id}-${t}`})),envelopeAllocations:rr.envelopeAllocations.map(fe=>({...fe,month:t,id:`${fe.id}-${t}`})),isLoading:!1})},[v,_]=O.useState(!1),[x,k]=O.useState(!1),[A,I]=O.useState("add"),[U,B]=O.useState(null),[j,$]=O.useState(!1),[ne,ee]=O.useState(null),[S,R]=O.useState(!1),[M,V]=O.useState(!1),[D,F]=O.useState({}),P=O.useRef(null),je=()=>{I("add"),B(null),k(!0)},Ce=()=>{V(!0)},K=(fe,Se)=>{F(pt=>({...pt,[fe]:Se}))},ce=fe=>{P.current&&(clearTimeout(P.current),P.current=null),!S&&(I("edit"),B(fe),k(!0))},pe=async fe=>{P.current&&(clearTimeout(P.current),P.current=null),R(!0);try{const Se={...fe};return await o(fe.id),h(`Deleted "${fe.name}"`,"neutral",()=>c(Se)),setTimeout(()=>{R(!1)},500),!0}catch(Se){return console.error("Error deleting income source:",Se),setTimeout(()=>{R(!1)},500),!1}},Ae=()=>{k(!1),B(null)},oe=()=>{$(!1),ee(null)},L=(fe,Se)=>{F(pt=>({...pt,[fe]:Se}))},J=async fe=>{try{const Se=n.find(pt=>pt.id===fe);return Se?(await d(fe),h(`Deleted "${_e(Se.envelopeId)}" allocation`,"neutral",()=>{console.log("Would restore allocation:",Se),h("Restore not implemented in demo","neutral")}),!0):!1}catch(Se){return console.error("Error deleting envelope allocation:",Se),!1}},ue=fe=>{P.current&&(clearTimeout(P.current),P.current=null),!S&&($(!0),ee(fe))};O.useEffect(()=>{(()=>{v||(ar.setState({currentMonth:rr.currentMonth,incomeSources:rr.incomeSources,envelopeAllocations:rr.envelopeAllocations,isLoading:!1}),_(!0))})()},[v]),O.useEffect(()=>()=>{P.current&&clearTimeout(P.current)},[]);const de=a(),ge=e.reduce((fe,Se)=>fe+Se.amount,0),we=n.reduce((fe,Se)=>fe+Se.budgetedAmount,0),_e=fe=>D[fe]?D[fe]:Jx[fe]?Jx[fe]:fe.replace("env-","").split("-").map(pt=>pt.charAt(0).toUpperCase()+pt.slice(1)).join(" ")||fe;return b.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-black pb-20",children:[b.jsxs("header",{className:"bg-white dark:bg-black border-b dark:border-zinc-800 px-4 pt-[calc(env(safe-area-inset-top)+12px)] pb-4 sticky top-0 z-10",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("div",{className:"flex items-center gap-2",children:b.jsxs("div",{className:"flex items-center gap-1 text-blue-500",children:[b.jsx(lo,{size:16,className:i?"animate-spin":""}),b.jsx("span",{className:"text-sm font-medium",children:i?"Loading...":"Demo Ready"})]})}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("button",{onClick:g,className:"text-blue-600 dark:text-blue-300 hover:text-blue-700 dark:hover:text-blue-200 transition-colors text-sm font-medium",disabled:i||t===rr.currentMonth,children:"Copy Month"}),b.jsx(aC,{})]})]}),b.jsxs("div",{className:"mt-4",children:[b.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-white",children:"Zero-Based Budget Demo"}),b.jsx("p",{className:"text-gray-600 dark:text-zinc-400 mt-1",children:"EveryDollar-style monthly budgeting"})]})]}),b.jsxs("div",{className:"p-4 max-w-md mx-auto space-y-6",children:[b.jsx(Gz,{currentMonth:t,onMonthChange:f}),b.jsx(Kz,{amount:de,totalIncome:ge,totalAllocated:we,isLoading:i}),b.jsxs("section",{className:"bg-white dark:bg-zinc-900 rounded-2xl p-4 shadow-sm border border-gray-100 dark:border-zinc-800",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Income Sources"}),b.jsx("button",{onClick:je,className:"text-blue-600 dark:text-blue-300 hover:text-blue-700 dark:hover:text-blue-200 transition-colors",children:b.jsx(tf,{size:20})})]}),e.length===0?b.jsx("div",{className:"text-center py-6",children:b.jsx("p",{className:"text-gray-500 dark:text-zinc-400 text-sm",children:"No income sources yet. Add your monthly income to get started."})}):b.jsx("div",{className:"space-y-3",children:b.jsx(zu,{initial:!1,mode:"popLayout",children:e.map(fe=>b.jsx(Ul.div,{layout:!0,initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},children:b.jsx(Wf,{onDelete:()=>pe(fe),children:b.jsxs("div",{className:"flex justify-between items-center py-3 px-4 bg-gray-50 dark:bg-zinc-800 rounded-xl cursor-pointer",onClick:()=>ce(fe),children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:fe.name}),b.jsx("p",{className:"text-sm text-gray-600 dark:text-zinc-400",children:"Monthly income"})]}),b.jsx("div",{className:"flex items-center justify-end gap-2",children:b.jsxs("p",{className:"font-semibold text-green-600 dark:text-emerald-400",children:["$",fe.amount.toFixed(2)]})})]})})},fe.id))})})]}),b.jsxs("section",{className:"bg-white dark:bg-zinc-900 rounded-2xl p-4 shadow-sm border border-gray-100 dark:border-zinc-800",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Envelope Allocations"}),b.jsx("button",{onClick:Ce,className:"text-blue-600 dark:text-blue-300 hover:text-blue-700 dark:hover:text-blue-200 transition-colors",children:b.jsx(tf,{size:20})})]}),n.length===0?b.jsx("div",{className:"text-center py-6",children:b.jsx("p",{className:"text-gray-500 dark:text-zinc-400 text-sm",children:"No allocations yet. Fund envelopes from your available budget."})}):b.jsx("div",{className:"space-y-3",children:b.jsx(zu,{initial:!1,mode:"popLayout",children:n.map(fe=>b.jsx(Ul.div,{layout:!0,initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},children:b.jsx(Wf,{onDelete:()=>J(fe.id),children:b.jsxs("div",{className:"flex justify-between items-center py-3 px-4 bg-gray-50 dark:bg-zinc-800 rounded-xl cursor-pointer",onClick:()=>ue(fe),children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:_e(fe.envelopeId)}),b.jsx("p",{className:"text-sm text-gray-600 dark:text-zinc-400",children:"Budgeted this month"})]}),b.jsx("div",{className:"flex items-center justify-end gap-2",children:b.jsxs("p",{className:"font-semibold text-blue-600 dark:text-blue-400",children:["$",fe.budgetedAmount.toFixed(2)]})})]})})},fe.id))})})]}),b.jsxs("section",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-2xl p-4 border border-blue-200 dark:border-blue-800",children:[b.jsx("h3",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"Demo Instructions"}),b.jsxs("ul",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1",children:[b.jsx("li",{children:" Use month selector to navigate between months"}),b.jsx("li",{children:' "Copy Month" copies data from previous month'}),b.jsx("li",{children:" Available to Budget shows your zero-based progress"}),b.jsx("li",{children:" Swipe income/envelope items to delete, tap to edit amounts"}),b.jsx("li",{children:" Goal: Get Available to Budget to $0.00"})]})]})]}),b.jsx("button",{className:"fixed bottom-6 right-6 bg-blue-600 text-white p-4 rounded-full shadow-lg active:scale-90 transition-transform",onClick:()=>{},children:b.jsx(tf,{size:28})}),b.jsx(Yz,{isVisible:x,onClose:Ae,mode:A,initialIncomeSource:U}),b.jsx(Xz,{isOpen:M,onClose:()=>V(!1),onEnvelopeCreated:K}),b.jsx(Qz,{isVisible:j,onClose:oe,initialAllocation:ne,getEnvelopeName:_e,onEnvelopeNameUpdate:L})]})},Zz=()=>{const{message:t,type:e,isVisible:n,undoAction:i,hideToast:a}=Mm(),o=()=>{switch(e){case"success":return"bg-green-500 dark:bg-green-600 text-white";case"error":return"bg-red-500 dark:bg-red-600 text-white";case"neutral":default:return"bg-gray-800 dark:bg-gray-900 text-white border border-gray-200 dark:border-gray-700"}};return b.jsx(zu,{children:n&&b.jsx(Ul.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},transition:{type:"spring",damping:25,stiffness:300},className:"fixed bottom-0 left-4 right-4 z-50 mb-[calc(env(safe-area-inset-bottom)+20px)]",children:b.jsxs("div",{className:`rounded-xl shadow-lg p-4 flex items-center justify-between ${o()}`,children:[b.jsx("div",{className:"flex items-center flex-1 min-w-0",children:b.jsx("span",{className:"text-sm font-medium truncate pr-2",children:t})}),b.jsxs("div",{className:"flex items-center gap-2 ml-3 flex-shrink-0",children:[i&&b.jsxs("button",{onClick:()=>{i(),a()},className:"px-3 py-1.5 bg-white/20 hover:bg-white/30 rounded-lg text-xs font-bold transition-colors",children:[b.jsx(l4,{size:14,className:"inline mr-1"}),"Undo"]}),b.jsx("button",{onClick:a,className:"p-1 hover:bg-black/10 dark:hover:bg-white/10 rounded-full transition-colors",children:b.jsx(Ku,{size:16})})]})]})})})};class Ni extends O.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("ErrorBoundary caught an error:",e,n),this.setState({error:e,errorInfo:n}),this.props.onError&&this.props.onError(e,n)}componentDidUpdate(e){this.props.resetKeys&&this.props.resetOnPropsChange&&this.props.resetKeys.some((i,a)=>i!==e.resetKeys?.[a])&&this.state.hasError&&this.resetErrorBoundary()}resetErrorBoundary=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};render(){return this.state.hasError?this.props.fallback?this.props.fallback:b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 px-4",children:b.jsxs("div",{className:"max-w-md w-full bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6",children:[b.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto mb-4 bg-red-100 dark:bg-red-900/30 rounded-full",children:b.jsx(bS,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),b.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white text-center mb-2",children:"Something went wrong"}),b.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-center mb-6",children:"We're sorry, but something unexpected happened. You can try refreshing or going back to the home screen."}),!1,b.jsxs("div",{className:"flex flex-col gap-3",children:[b.jsxs("button",{onClick:this.resetErrorBoundary,className:"flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-md transition-colors",children:[b.jsx(lo,{className:"h-4 w-4"}),"Try Again"]}),b.jsxs("button",{onClick:()=>window.location.href="/#/",className:"flex items-center justify-center gap-2 px-4 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-900 dark:text-white font-medium rounded-md transition-colors",children:[b.jsx(zD,{className:"h-4 w-4"}),"Go to Home"]})]})]})}):this.props.children}}function Jz(){const[t,e]=O.useState(!0),{appSettings:n}=Yn(),{isAuthenticated:i,isInitialized:a,initializeAuth:o,lastAuthTime:c,offlineGracePeriod:d,currentUser:h}=Mi();if(O.useEffect(()=>{const v=setTimeout(()=>{e(!1)},2e3);return()=>clearTimeout(v)},[]),O.useEffect(()=>o(),[o]),O.useEffect(()=>{const v=document.documentElement,_=window.matchMedia("(prefers-color-scheme: dark)"),x=()=>{const k=n?.theme??"system",A=_.matches;k==="dark"||k==="system"&&A?v.classList.add("dark"):v.classList.remove("dark")};if(x(),n?.theme==="system")return _.addEventListener("change",x),()=>_.removeEventListener("change",x)},[n]),t||!a)return b.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-blue-600 text-white dark:bg-black",children:b.jsx("div",{className:"text-3xl font-bold animate-pulse",children:"Personal Budget"})});if(!i)return h?b.jsx(Ni,{children:b.jsx(Zx,{})}):b.jsx(Ni,{children:b.jsx(Hz,{})});const g=typeof navigator<"u"&&!navigator.onLine&&i&&c&&Date.now()-c<d;return b.jsxs(Ni,{children:[g&&b.jsx("div",{className:"bg-yellow-100 dark:bg-yellow-900 border-l-4 border-yellow-500 text-yellow-700 dark:text-yellow-200 p-4",children:b.jsxs("div",{className:"flex",children:[b.jsx("div",{className:"flex-shrink-0",children:b.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),b.jsx("div",{className:"ml-3",children:b.jsxs("p",{className:"text-sm",children:[b.jsx("strong",{children:"Offline Access:"})," You're using cached authentication. Expires in"," ",Math.ceil((d-(Date.now()-c))/(1440*60*1e3))," ","days. Connect to internet to refresh."]})})]})}),b.jsx(Kk,{children:b.jsxs(xk,{children:[b.jsx(Fr,{path:"/",element:b.jsx(Ni,{children:b.jsx(Kj,{})})}),b.jsx(Fr,{path:"/envelope/:id",element:b.jsx(Ni,{children:b.jsx(Oz,{})})}),b.jsx(Fr,{path:"/add-envelope",element:b.jsx(Ni,{children:b.jsx(Lz,{})})}),b.jsx(Fr,{path:"/add-transaction",element:b.jsx(Ni,{children:b.jsx(Uz,{})})}),b.jsx(Fr,{path:"/transactions",element:b.jsx(Ni,{children:b.jsx(zz,{})})}),b.jsx(Fr,{path:"/settings",element:b.jsx(Ni,{children:b.jsx(jz,{})})}),b.jsx(Fr,{path:"/verify-email",element:b.jsx(Ni,{children:b.jsx(Zx,{})})}),b.jsx(Fr,{path:"/monthly-budget-demo",element:b.jsx(Ni,{children:b.jsx(Wz,{})})})]})}),b.jsx(Zz,{})]})}DI({onNeedRefresh(){},onOfflineReady(){console.log("App is ready for offline work")}});RI.createRoot(document.getElementById("root")).render(b.jsx(O.StrictMode,{children:b.jsx(Jz,{})}));
