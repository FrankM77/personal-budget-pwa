(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function bI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Og={exports:{}},ou={};var Dw;function _I(){if(Dw)return ou;Dw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var d in a)d!=="key"&&(o[d]=a[d])}else o=a;return a=o.ref,{$$typeof:t,type:i,key:c,ref:a!==void 0?a:null,props:o}}return ou.Fragment=e,ou.jsx=n,ou.jsxs=n,ou}var Mw;function wI(){return Mw||(Mw=1,Og.exports=_I()),Og.exports}var b=wI(),Vg={exports:{}},Ve={};var Ow;function TI(){if(Ow)return Ve;Ow=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),_=Symbol.iterator;function x(V){return V===null||typeof V!="object"?null:(V=_&&V[_]||V["@@iterator"],typeof V=="function"?V:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,N={};function D(V,Z,de){this.props=V,this.context=Z,this.refs=N,this.updater=de||k}D.prototype.isReactComponent={},D.prototype.setState=function(V,Z){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Z,"setState")},D.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function j(){}j.prototype=D.prototype;function U(V,Z,de){this.props=V,this.context=Z,this.refs=N,this.updater=de||k}var Q=U.prototype=new j;Q.constructor=U,C(Q,D.prototype),Q.isPureReactComponent=!0;var re=Array.isArray;function ne(){}var S={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function M(V,Z,de){var he=de.ref;return{$$typeof:t,type:V,key:Z,ref:he!==void 0?he:null,props:de}}function z(V,Z){return M(V.type,Z,V.props)}function O(V){return typeof V=="object"&&V!==null&&V.$$typeof===t}function F(V){var Z={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(de){return Z[de]})}var L=/\/+/g;function ze(V,Z){return typeof V=="object"&&V!==null&&V.key!=null?F(""+V.key):Z.toString(36)}function ce(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(ne,ne):(V.status="pending",V.then(function(Z){V.status==="pending"&&(V.status="fulfilled",V.value=Z)},function(Z){V.status==="pending"&&(V.status="rejected",V.reason=Z)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function $(V,Z,de,he,ye){var _e=typeof V;(_e==="undefined"||_e==="boolean")&&(V=null);var Ee=!1;if(V===null)Ee=!0;else switch(_e){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(V.$$typeof){case t:case e:Ee=!0;break;case g:return Ee=V._init,$(Ee(V._payload),Z,de,he,ye)}}if(Ee)return ye=ye(V),Ee=he===""?"."+ze(V,0):he,re(ye)?(de="",Ee!=null&&(de=Ee.replace(L,"$&/")+"/"),$(ye,Z,de,"",function(tn){return tn})):ye!=null&&(O(ye)&&(ye=z(ye,de+(ye.key==null||V&&V.key===ye.key?"":(""+ye.key).replace(L,"$&/")+"/")+Ee)),Z.push(ye)),1;Ee=0;var ct=he===""?".":he+":";if(re(V))for(var Fe=0;Fe<V.length;Fe++)he=V[Fe],_e=ct+ze(he,Fe),Ee+=$(he,Z,de,_e,ye);else if(Fe=x(V),typeof Fe=="function")for(V=Fe.call(V),Fe=0;!(he=V.next()).done;)he=he.value,_e=ct+ze(he,Fe++),Ee+=$(he,Z,de,_e,ye);else if(_e==="object"){if(typeof V.then=="function")return $(ce(V),Z,de,he,ye);throw Z=String(V),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function ee(V,Z,de){if(V==null)return V;var he=[],ye=0;return $(V,he,"","",function(_e){return Z.call(de,_e,ye++)}),he}function me(V){if(V._status===-1){var Z=V._result;Z=Z(),Z.then(function(de){(V._status===0||V._status===-1)&&(V._status=1,V._result=de)},function(de){(V._status===0||V._status===-1)&&(V._status=2,V._result=de)}),V._status===-1&&(V._status=0,V._result=Z)}if(V._status===1)return V._result.default;throw V._result}var Te=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},oe={map:ee,forEach:function(V,Z,de){ee(V,function(){Z.apply(this,arguments)},de)},count:function(V){var Z=0;return ee(V,function(){Z++}),Z},toArray:function(V){return ee(V,function(Z){return Z})||[]},only:function(V){if(!O(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Ve.Activity=v,Ve.Children=oe,Ve.Component=D,Ve.Fragment=n,Ve.Profiler=a,Ve.PureComponent=U,Ve.StrictMode=i,Ve.Suspense=h,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(V){return S.H.useMemoCache(V)}},Ve.cache=function(V){return function(){return V.apply(null,arguments)}},Ve.cacheSignal=function(){return null},Ve.cloneElement=function(V,Z,de){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var he=C({},V.props),ye=V.key;if(Z!=null)for(_e in Z.key!==void 0&&(ye=""+Z.key),Z)!R.call(Z,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&Z.ref===void 0||(he[_e]=Z[_e]);var _e=arguments.length-2;if(_e===1)he.children=de;else if(1<_e){for(var Ee=Array(_e),ct=0;ct<_e;ct++)Ee[ct]=arguments[ct+2];he.children=Ee}return M(V.type,ye,he)},Ve.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:o,_context:V},V},Ve.createElement=function(V,Z,de){var he,ye={},_e=null;if(Z!=null)for(he in Z.key!==void 0&&(_e=""+Z.key),Z)R.call(Z,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(ye[he]=Z[he]);var Ee=arguments.length-2;if(Ee===1)ye.children=de;else if(1<Ee){for(var ct=Array(Ee),Fe=0;Fe<Ee;Fe++)ct[Fe]=arguments[Fe+2];ye.children=ct}if(V&&V.defaultProps)for(he in Ee=V.defaultProps,Ee)ye[he]===void 0&&(ye[he]=Ee[he]);return M(V,_e,ye)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(V){return{$$typeof:d,render:V}},Ve.isValidElement=O,Ve.lazy=function(V){return{$$typeof:g,_payload:{_status:-1,_result:V},_init:me}},Ve.memo=function(V,Z){return{$$typeof:f,type:V,compare:Z===void 0?null:Z}},Ve.startTransition=function(V){var Z=S.T,de={};S.T=de;try{var he=V(),ye=S.S;ye!==null&&ye(de,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(ne,Te)}catch(_e){Te(_e)}finally{Z!==null&&de.types!==null&&(Z.types=de.types),S.T=Z}},Ve.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},Ve.use=function(V){return S.H.use(V)},Ve.useActionState=function(V,Z,de){return S.H.useActionState(V,Z,de)},Ve.useCallback=function(V,Z){return S.H.useCallback(V,Z)},Ve.useContext=function(V){return S.H.useContext(V)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(V,Z){return S.H.useDeferredValue(V,Z)},Ve.useEffect=function(V,Z){return S.H.useEffect(V,Z)},Ve.useEffectEvent=function(V){return S.H.useEffectEvent(V)},Ve.useId=function(){return S.H.useId()},Ve.useImperativeHandle=function(V,Z,de){return S.H.useImperativeHandle(V,Z,de)},Ve.useInsertionEffect=function(V,Z){return S.H.useInsertionEffect(V,Z)},Ve.useLayoutEffect=function(V,Z){return S.H.useLayoutEffect(V,Z)},Ve.useMemo=function(V,Z){return S.H.useMemo(V,Z)},Ve.useOptimistic=function(V,Z){return S.H.useOptimistic(V,Z)},Ve.useReducer=function(V,Z,de){return S.H.useReducer(V,Z,de)},Ve.useRef=function(V){return S.H.useRef(V)},Ve.useState=function(V){return S.H.useState(V)},Ve.useSyncExternalStore=function(V,Z,de){return S.H.useSyncExternalStore(V,Z,de)},Ve.useTransition=function(){return S.H.useTransition()},Ve.version="19.2.0",Ve}var Vw;function Ey(){return Vw||(Vw=1,Vg.exports=TI()),Vg.exports}var P=Ey();const Hh=bI(P);var Pg={exports:{}},lu={},jg={exports:{}},Lg={};var Pw;function EI(){return Pw||(Pw=1,(function(t){function e($,ee){var me=$.length;$.push(ee);e:for(;0<me;){var Te=me-1>>>1,oe=$[Te];if(0<a(oe,ee))$[Te]=ee,$[me]=oe,me=Te;else break e}}function n($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var ee=$[0],me=$.pop();if(me!==ee){$[0]=me;e:for(var Te=0,oe=$.length,V=oe>>>1;Te<V;){var Z=2*(Te+1)-1,de=$[Z],he=Z+1,ye=$[he];if(0>a(de,me))he<oe&&0>a(ye,de)?($[Te]=ye,$[he]=me,Te=he):($[Te]=de,$[Z]=me,Te=Z);else if(he<oe&&0>a(ye,me))$[Te]=ye,$[he]=me,Te=he;else break e}}return ee}function a($,ee){var me=$.sortIndex-ee.sortIndex;return me!==0?me:$.id-ee.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var h=[],f=[],g=1,v=null,_=3,x=!1,k=!1,C=!1,N=!1,D=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function Q($){for(var ee=n(f);ee!==null;){if(ee.callback===null)i(f);else if(ee.startTime<=$)i(f),ee.sortIndex=ee.expirationTime,e(h,ee);else break;ee=n(f)}}function re($){if(C=!1,Q($),!k)if(n(h)!==null)k=!0,ne||(ne=!0,F());else{var ee=n(f);ee!==null&&ce(re,ee.startTime-$)}}var ne=!1,S=-1,R=5,M=-1;function z(){return N?!0:!(t.unstable_now()-M<R)}function O(){if(N=!1,ne){var $=t.unstable_now();M=$;var ee=!0;try{e:{k=!1,C&&(C=!1,j(S),S=-1),x=!0;var me=_;try{t:{for(Q($),v=n(h);v!==null&&!(v.expirationTime>$&&z());){var Te=v.callback;if(typeof Te=="function"){v.callback=null,_=v.priorityLevel;var oe=Te(v.expirationTime<=$);if($=t.unstable_now(),typeof oe=="function"){v.callback=oe,Q($),ee=!0;break t}v===n(h)&&i(h),Q($)}else i(h);v=n(h)}if(v!==null)ee=!0;else{var V=n(f);V!==null&&ce(re,V.startTime-$),ee=!1}}break e}finally{v=null,_=me,x=!1}ee=void 0}}finally{ee?F():ne=!1}}}var F;if(typeof U=="function")F=function(){U(O)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,ze=L.port2;L.port1.onmessage=O,F=function(){ze.postMessage(null)}}else F=function(){D(O,0)};function ce($,ee){S=D(function(){$(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function($){switch(_){case 1:case 2:case 3:var ee=3;break;default:ee=_}var me=_;_=ee;try{return $()}finally{_=me}},t.unstable_requestPaint=function(){N=!0},t.unstable_runWithPriority=function($,ee){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var me=_;_=$;try{return ee()}finally{_=me}},t.unstable_scheduleCallback=function($,ee,me){var Te=t.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Te+me:Te):me=Te,$){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=me+oe,$={id:g++,callback:ee,priorityLevel:$,startTime:me,expirationTime:oe,sortIndex:-1},me>Te?($.sortIndex=me,e(f,$),n(h)===null&&$===n(f)&&(C?(j(S),S=-1):C=!0,ce(re,me-Te))):($.sortIndex=oe,e(h,$),k||x||(k=!0,ne||(ne=!0,F()))),$},t.unstable_shouldYield=z,t.unstable_wrapCallback=function($){var ee=_;return function(){var me=_;_=ee;try{return $.apply(this,arguments)}finally{_=me}}}})(Lg)),Lg}var jw;function xI(){return jw||(jw=1,jg.exports=EI()),jg.exports}var Ug={exports:{}},_n={};var Lw;function SI(){if(Lw)return _n;Lw=1;var t=Ey();function e(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(h,f,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:h,containerInfo:f,implementation:g}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return _n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,_n.createPortal=function(h,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(h,f,null,g)},_n.flushSync=function(h){var f=c.T,g=i.p;try{if(c.T=null,i.p=2,h)return h()}finally{c.T=f,i.p=g,i.d.f()}},_n.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(h,f))},_n.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},_n.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var g=f.as,v=d(g,f.crossOrigin),_=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?i.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:v,integrity:_,fetchPriority:x}):g==="script"&&i.d.X(h,{crossOrigin:v,integrity:_,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},_n.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=d(f.as,f.crossOrigin);i.d.M(h,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(h)},_n.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,v=d(g,f.crossOrigin);i.d.L(h,g,{crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},_n.preloadModule=function(h,f){if(typeof h=="string")if(f){var g=d(f.as,f.crossOrigin);i.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(h)},_n.requestFormReset=function(h){i.d.r(h)},_n.unstable_batchedUpdates=function(h,f){return h(f)},_n.useFormState=function(h,f,g){return c.H.useFormState(h,f,g)},_n.useFormStatus=function(){return c.H.useHostTransitionStatus()},_n.version="19.2.0",_n}var Uw;function AI(){if(Uw)return Ug.exports;Uw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ug.exports=SI(),Ug.exports}var zw;function CI(){if(zw)return lu;zw=1;var t=xI(),e=Ey(),n=AI();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function c(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function d(r){if(r.tag===31){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function h(r){if(o(r)!==r)throw Error(i(188))}function f(r){var s=r.alternate;if(!s){if(s=o(r),s===null)throw Error(i(188));return s!==r?null:r}for(var l=r,u=s;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(u=p.return,u!==null){l=u;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return h(p),r;if(y===u)return h(p),s;y=y.sibling}throw Error(i(188))}if(l.return!==u.return)l=p,u=y;else{for(var T=!1,A=p.child;A;){if(A===l){T=!0,l=p,u=y;break}if(A===u){T=!0,u=p,l=y;break}A=A.sibling}if(!T){for(A=y.child;A;){if(A===l){T=!0,l=y,u=p;break}if(A===u){T=!0,u=y,l=p;break}A=A.sibling}if(!T)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?r:s}function g(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=g(r),s!==null)return s;r=r.sibling}return null}var v=Object.assign,_=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),U=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function F(r){return r===null||typeof r!="object"?null:(r=O&&r[O]||r["@@iterator"],typeof r=="function"?r:null)}var L=Symbol.for("react.client.reference");function ze(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===L?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case C:return"Fragment";case D:return"Profiler";case N:return"StrictMode";case re:return"Suspense";case ne:return"SuspenseList";case M:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case k:return"Portal";case U:return r.displayName||"Context";case j:return(r._context.displayName||"Context")+".Consumer";case Q:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case S:return s=r.displayName||null,s!==null?s:ze(r.type)||"Memo";case R:s=r._payload,r=r._init;try{return ze(r(s))}catch{}}return null}var ce=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Te=[],oe=-1;function V(r){return{current:r}}function Z(r){0>oe||(r.current=Te[oe],Te[oe]=null,oe--)}function de(r,s){oe++,Te[oe]=r.current,r.current=s}var he=V(null),ye=V(null),_e=V(null),Ee=V(null);function ct(r,s){switch(de(_e,s),de(ye,r),de(he,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?tw(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=tw(s),r=nw(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}Z(he),de(he,r)}function Fe(){Z(he),Z(ye),Z(_e)}function tn(r){r.memoizedState!==null&&de(Ee,r);var s=he.current,l=nw(s,r.type);s!==l&&(de(ye,r),de(he,l))}function Rn(r){ye.current===r&&(Z(he),Z(ye)),Ee.current===r&&(Z(Ee),iu._currentValue=me)}var vs,bs;function ri(r){if(vs===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);vs=s&&s[1]||"",bs=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vs+r+bs}var Ma=!1;function Dr(r,s){if(!r||Ma)return"";Ma=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(J){var X=J}Reflect.construct(r,[],ae)}else{try{ae.call()}catch(J){X=J}r.call(ae.prototype)}}else{try{throw Error()}catch(J){X=J}(ae=r())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(J){if(J&&X&&typeof J.stack=="string")return[J.stack,X.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),T=y[0],A=y[1];if(T&&A){var B=T.split(`
`),Y=A.split(`
`);for(p=u=0;u<B.length&&!B[u].includes("DetermineComponentFrameRoot");)u++;for(;p<Y.length&&!Y[p].includes("DetermineComponentFrameRoot");)p++;if(u===B.length||p===Y.length)for(u=B.length-1,p=Y.length-1;1<=u&&0<=p&&B[u]!==Y[p];)p--;for(;1<=u&&0<=p;u--,p--)if(B[u]!==Y[p]){if(u!==1||p!==1)do if(u--,p--,0>p||B[u]!==Y[p]){var te=`
`+B[u].replace(" at new "," at ");return r.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",r.displayName)),te}while(1<=u&&0<=p);break}}}finally{Ma=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?ri(l):""}function Oa(r,s){switch(r.tag){case 26:case 27:case 5:return ri(r.type);case 16:return ri("Lazy");case 13:return r.child!==s&&s!==null?ri("Suspense Fallback"):ri("Suspense");case 19:return ri("SuspenseList");case 0:case 15:return Dr(r.type,!1);case 11:return Dr(r.type.render,!1);case 1:return Dr(r.type,!0);case 31:return ri("Activity");default:return""}}function Va(r){try{var s="",l=null;do s+=Oa(r,l),l=r,r=r.return;while(r);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var pe=Object.prototype.hasOwnProperty,Me=t.unstable_scheduleCallback,Lt=t.unstable_cancelCallback,bn=t.unstable_shouldYield,kt=t.unstable_requestPaint,Wt=t.unstable_now,Gi=t.unstable_getCurrentPriorityLevel,Ci=t.unstable_ImmediatePriority,Je=t.unstable_UserBlockingPriority,on=t.unstable_NormalPriority,Mn=t.unstable_LowPriority,_s=t.unstable_IdlePriority,yd=t.log,vd=t.unstable_setDisableYieldValue,Ri=null,ln=null;function si(r){if(typeof yd=="function"&&vd(r),ln&&typeof ln.setStrictMode=="function")try{ln.setStrictMode(Ri,r)}catch{}}var Dt=Math.clz32?Math.clz32:_d,bd=Math.log,Oo=Math.LN2;function _d(r){return r>>>=0,r===0?32:31-(bd(r)/Oo|0)|0}var Ki=256,Pa=262144,Ut=4194304;function Yi(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Qi(r,s,l){var u=r.pendingLanes;if(u===0)return 0;var p=0,y=r.suspendedLanes,T=r.pingedLanes;r=r.warmLanes;var A=u&134217727;return A!==0?(u=A&~y,u!==0?p=Yi(u):(T&=A,T!==0?p=Yi(T):l||(l=A&~r,l!==0&&(p=Yi(l))))):(A=u&~y,A!==0?p=Yi(A):T!==0?p=Yi(T):l||(l=u&~r,l!==0&&(p=Yi(l)))),p===0?0:s!==0&&s!==p&&(s&y)===0&&(y=p&-p,l=s&-s,y>=l||y===32&&(l&4194048)!==0)?s:p}function Ni(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Lm(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wd(){var r=Ut;return Ut<<=1,(Ut&62914560)===0&&(Ut=4194304),r}function Xi(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function ja(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Um(r,s,l,u,p,y){var T=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var A=r.entanglements,B=r.expirationTimes,Y=r.hiddenUpdates;for(l=T&~l;0<l;){var te=31-Dt(l),ae=1<<te;A[te]=0,B[te]=-1;var X=Y[te];if(X!==null)for(Y[te]=null,te=0;te<X.length;te++){var J=X[te];J!==null&&(J.lane&=-536870913)}l&=~ae}u!==0&&La(r,u,0),y!==0&&p===0&&r.tag!==0&&(r.suspendedLanes|=y&~(T&~s))}function La(r,s,l){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-Dt(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|l&261930}function lc(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var u=31-Dt(l),p=1<<u;p&s|r[u]&s&&(r[u]|=s),l&=~p}}function cc(r,s){var l=s&-s;return l=(l&42)!==0?1:Ua(l),(l&(r.suspendedLanes|s))!==0?0:l}function Ua(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Mr(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Td(){var r=ee.p;return r!==0?r:(r=window.event,r===void 0?32:Sw(r.type))}function Ii(r,s){var l=ee.p;try{return ee.p=r,s()}finally{ee.p=l}}var ki=Math.random().toString(36).slice(2),zt="__reactFiber$"+ki,nn="__reactProps$"+ki,Wi="__reactContainer$"+ki,Vo="__reactEvents$"+ki,zm="__reactListeners$"+ki,Ed="__reactHandles$"+ki,xd="__reactResources$"+ki,Zi="__reactMarker$"+ki;function Po(r){delete r[zt],delete r[nn],delete r[Vo],delete r[zm],delete r[Ed]}function Ji(r){var s=r[zt];if(s)return s;for(var l=r.parentNode;l;){if(s=l[Wi]||l[zt]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=cw(r);r!==null;){if(l=r[zt])return l;r=cw(r)}return s}r=l,l=r.parentNode}return null}function ai(r){if(r=r[zt]||r[Wi]){var s=r.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return r}return null}function Kn(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function er(r){var s=r[xd];return s||(s=r[xd]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Bt(r){r[Zi]=!0}var uc=new Set,dc={};function tr(r,s){nr(r,s),nr(r+"Capture",s)}function nr(r,s){for(dc[r]=s,r=0;r<s.length;r++)uc.add(s[r])}var hc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fc={},mc={};function Sd(r){return pe.call(mc,r)?!0:pe.call(fc,r)?!1:hc.test(r)?mc[r]=!0:(fc[r]=!0,!1)}function jo(r,s,l){if(Sd(s))if(l===null)r.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+l)}}function Yn(r,s,l){if(l===null)r.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+l)}}function Ft(r,s,l,u){if(u===null)r.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(s,l,""+u)}}function rn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ws(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function pc(r,s,l){var u=Object.getOwnPropertyDescriptor(r.constructor.prototype,s);if(!r.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,y=u.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(T){l=""+T,y.call(this,T)}}),Object.defineProperty(r,s,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function st(r){if(!r._valueTracker){var s=ws(r)?"checked":"value";r._valueTracker=pc(r,s,""+r[s])}}function za(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),u="";return r&&(u=ws(r)?r.checked?"true":"false":r.value),r=u,r!==l?(s.setValue(r),!0):!1}function ir(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Ba=/[\n"\\]/g;function On(r){return r.replace(Ba,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Lo(r,s,l,u,p,y,T,A){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),s!=null?T==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+rn(s)):r.value!==""+rn(s)&&(r.value=""+rn(s)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),s!=null?gc(r,T,rn(s)):l!=null?gc(r,T,rn(l)):u!=null&&r.removeAttribute("value"),p==null&&y!=null&&(r.defaultChecked=!!y),p!=null&&(r.checked=p&&typeof p!="function"&&typeof p!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?r.name=""+rn(A):r.removeAttribute("name")}function Ad(r,s,l,u,p,y,T,A){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),s!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||s!=null)){st(r);return}l=l!=null?""+rn(l):"",s=s!=null?""+rn(s):l,A||s===r.value||(r.value=s),r.defaultValue=s}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=A?r.checked:!!u,r.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T),st(r)}function gc(r,s,l){s==="number"&&ir(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function Ts(r,s,l,u){if(r=r.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<r.length;l++)p=s.hasOwnProperty("$"+r[l].value),r[l].selected!==p&&(r[l].selected=p),p&&u&&(r[l].defaultSelected=!0)}else{for(l=""+rn(l),s=null,p=0;p<r.length;p++){if(r[p].value===l){r[p].selected=!0,u&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function Cd(r,s,l){if(s!=null&&(s=""+rn(s),s!==r.value&&(r.value=s),l==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=l!=null?""+rn(l):""}function Es(r,s,l,u){if(s==null){if(u!=null){if(l!=null)throw Error(i(92));if(ce(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),s=l}l=rn(s),r.defaultValue=l,u=r.textContent,u===l&&u!==""&&u!==null&&(r.value=u),st(r)}function Vn(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var Rd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yc(r,s,l){var u=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,l):typeof l!="number"||l===0||Rd.has(s)?s==="float"?r.cssFloat=l:r[s]=(""+l).trim():r[s]=l+"px"}function vc(r,s,l){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var p in s)u=s[p],s.hasOwnProperty(p)&&l[p]!==u&&yc(r,p,u)}else for(var y in s)s.hasOwnProperty(y)&&yc(r,y,s[y])}function Uo(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zo(r){return xs.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Di(){}var bc=null;function oi(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ss=null,rr=null;function Fa(r){var s=ai(r);if(s&&(r=s.stateNode)){var l=r[nn]||null;e:switch(r=s.stateNode,s.type){case"input":if(Lo(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+On(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var u=l[s];if(u!==r&&u.form===r.form){var p=u[nn]||null;if(!p)throw Error(i(90));Lo(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<l.length;s++)u=l[s],u.form===r.form&&za(u)}break e;case"textarea":Cd(r,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&Ts(r,!!l.multiple,s,!1)}}}var Bo=!1;function As(r,s,l){if(Bo)return r(s,l);Bo=!0;try{var u=r(s);return u}finally{if(Bo=!1,(Ss!==null||rr!==null)&&(Th(),Ss&&(s=Ss,r=rr,rr=Ss=null,Fa(s),r)))for(s=0;s<r.length;s++)Fa(r[s])}}function Mi(r,s){var l=r.stateNode;if(l===null)return null;var u=l[nn]||null;if(u===null)return null;l=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(i(231,s,typeof l));return l}var li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qa=!1;if(li)try{var ut={};Object.defineProperty(ut,"passive",{get:function(){qa=!0}}),window.addEventListener("test",ut,ut),window.removeEventListener("test",ut,ut)}catch{qa=!1}var sr=null,_c=null,Ha=null;function wc(){if(Ha)return Ha;var r,s=_c,l=s.length,u,p="value"in sr?sr.value:sr.textContent,y=p.length;for(r=0;r<l&&s[r]===p[r];r++);var T=l-r;for(u=1;u<=T&&s[l-u]===p[y-u];u++);return Ha=p.slice(r,1<u?1-u:void 0)}function $a(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Or(){return!0}function Oi(){return!1}function cn(r){function s(l,u,p,y,T){this._reactName=l,this._targetInst=p,this.type=u,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(l=r[A],this[A]=l?l(y):y[A]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Or:Oi,this.isPropagationStopped=Oi,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Or)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Or)},persist:function(){},isPersistent:Or}),s}var Vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ar=cn(Vr),Cs=v({},Vr,{view:0,detail:0}),Tc=cn(Cs),Rs,Fo,or,qo=v({},Cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ns,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==or&&(or&&r.type==="mousemove"?(Rs=r.screenX-or.screenX,Fo=r.screenY-or.screenY):Fo=Rs=0,or=r),Rs)},movementY:function(r){return"movementY"in r?r.movementY:Fo}}),Ec=cn(qo),Ga=v({},qo,{dataTransfer:0}),Id=cn(Ga),kd=v({},Cs,{relatedTarget:0}),Ka=cn(kd),xc=v({},Vr,{animationName:0,elapsedTime:0,pseudoElement:0}),Dd=cn(xc),Ho=v({},Vr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Md=cn(Ho),Od=v({},Vr,{data:0}),lr=cn(Od),Vd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ld(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=jd[r])?!!s[r]:!1}function Ns(){return Ld}var Nn=v({},Cs,{key:function(r){if(r.key){var s=Vd[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=$a(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Pd[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ns,charCode:function(r){return r.type==="keypress"?$a(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?$a(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Ud=cn(Nn),zd=v({},qo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pr=cn(zd),m=v({},Cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ns}),w=cn(m),E=v({},Vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),I=cn(E),G=v({},qo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),W=cn(G),fe=v({},Vr,{newState:0,oldState:0}),je=cn(fe),Mt=[9,13,27,32],nt=li&&"CompositionEvent"in window,bt=null;li&&"documentMode"in document&&(bt=document.documentMode);var ci=li&&"TextEvent"in window&&!bt,cr=li&&(!nt||bt&&8<bt&&11>=bt),Vi=" ",Pi=!1;function Ya(r,s){switch(r){case"keyup":return Mt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $o(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Go=!1;function qR(r,s){switch(r){case"compositionend":return $o(s);case"keypress":return s.which!==32?null:(Pi=!0,Vi);case"textInput":return r=s.data,r===Vi&&Pi?null:r;default:return null}}function HR(r,s){if(Go)return r==="compositionend"||!nt&&Ya(r,s)?(r=wc(),Ha=_c=sr=null,Go=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return cr&&s.locale!=="ko"?null:s.data;default:return null}}var $R={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hb(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!$R[r.type]:s==="textarea"}function fb(r,s,l,u){Ss?rr?rr.push(u):rr=[u]:Ss=u,s=Nh(s,"onChange"),0<s.length&&(l=new ar("onChange","change",null,l,u),r.push({event:l,listeners:s}))}var Sc=null,Ac=null;function GR(r){Q_(r,0)}function Bd(r){var s=Kn(r);if(za(s))return r}function mb(r,s){if(r==="change")return s}var pb=!1;if(li){var Bm;if(li){var Fm="oninput"in document;if(!Fm){var gb=document.createElement("div");gb.setAttribute("oninput","return;"),Fm=typeof gb.oninput=="function"}Bm=Fm}else Bm=!1;pb=Bm&&(!document.documentMode||9<document.documentMode)}function yb(){Sc&&(Sc.detachEvent("onpropertychange",vb),Ac=Sc=null)}function vb(r){if(r.propertyName==="value"&&Bd(Ac)){var s=[];fb(s,Ac,r,oi(r)),As(GR,s)}}function KR(r,s,l){r==="focusin"?(yb(),Sc=s,Ac=l,Sc.attachEvent("onpropertychange",vb)):r==="focusout"&&yb()}function YR(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Bd(Ac)}function QR(r,s){if(r==="click")return Bd(s)}function XR(r,s){if(r==="input"||r==="change")return Bd(s)}function WR(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Qn=typeof Object.is=="function"?Object.is:WR;function Cc(r,s){if(Qn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),u=Object.keys(s);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var p=l[u];if(!pe.call(s,p)||!Qn(r[p],s[p]))return!1}return!0}function bb(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function _b(r,s){var l=bb(r);r=0;for(var u;l;){if(l.nodeType===3){if(u=r+l.textContent.length,r<=s&&u>=s)return{node:l,offset:s-r};r=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=bb(l)}}function wb(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?wb(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Tb(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=ir(r.document);s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=ir(r.document)}return s}function qm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var ZR=li&&"documentMode"in document&&11>=document.documentMode,Ko=null,Hm=null,Rc=null,$m=!1;function Eb(r,s,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;$m||Ko==null||Ko!==ir(u)||(u=Ko,"selectionStart"in u&&qm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Rc&&Cc(Rc,u)||(Rc=u,u=Nh(Hm,"onSelect"),0<u.length&&(s=new ar("onSelect","select",null,s,l),r.push({event:s,listeners:u}),s.target=Ko)))}function Qa(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var Yo={animationend:Qa("Animation","AnimationEnd"),animationiteration:Qa("Animation","AnimationIteration"),animationstart:Qa("Animation","AnimationStart"),transitionrun:Qa("Transition","TransitionRun"),transitionstart:Qa("Transition","TransitionStart"),transitioncancel:Qa("Transition","TransitionCancel"),transitionend:Qa("Transition","TransitionEnd")},Gm={},xb={};li&&(xb=document.createElement("div").style,"AnimationEvent"in window||(delete Yo.animationend.animation,delete Yo.animationiteration.animation,delete Yo.animationstart.animation),"TransitionEvent"in window||delete Yo.transitionend.transition);function Xa(r){if(Gm[r])return Gm[r];if(!Yo[r])return r;var s=Yo[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in xb)return Gm[r]=s[l];return r}var Sb=Xa("animationend"),Ab=Xa("animationiteration"),Cb=Xa("animationstart"),JR=Xa("transitionrun"),eN=Xa("transitionstart"),tN=Xa("transitioncancel"),Rb=Xa("transitionend"),Nb=new Map,Km="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Km.push("scrollEnd");function ji(r,s){Nb.set(r,s),tr(s,[r])}var Fd=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},ui=[],Qo=0,Ym=0;function qd(){for(var r=Qo,s=Ym=Qo=0;s<r;){var l=ui[s];ui[s++]=null;var u=ui[s];ui[s++]=null;var p=ui[s];ui[s++]=null;var y=ui[s];if(ui[s++]=null,u!==null&&p!==null){var T=u.pending;T===null?p.next=p:(p.next=T.next,T.next=p),u.pending=p}y!==0&&Ib(l,p,y)}}function Hd(r,s,l,u){ui[Qo++]=r,ui[Qo++]=s,ui[Qo++]=l,ui[Qo++]=u,Ym|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Qm(r,s,l,u){return Hd(r,s,l,u),$d(r)}function Wa(r,s){return Hd(r,null,null,s),$d(r)}function Ib(r,s,l){r.lanes|=l;var u=r.alternate;u!==null&&(u.lanes|=l);for(var p=!1,y=r.return;y!==null;)y.childLanes|=l,u=y.alternate,u!==null&&(u.childLanes|=l),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(p=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,p&&s!==null&&(p=31-Dt(l),r=y.hiddenUpdates,u=r[p],u===null?r[p]=[s]:u.push(s),s.lane=l|536870912),y):null}function $d(r){if(50<Xc)throw Xc=0,rg=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Xo={};function nN(r,s,l,u){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(r,s,l,u){return new nN(r,s,l,u)}function Xm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function jr(r,s){var l=r.alternate;return l===null?(l=Xn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function kb(r,s){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,s=l.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Gd(r,s,l,u,p,y){var T=0;if(u=r,typeof r=="function")Xm(r)&&(T=1);else if(typeof r=="string")T=oI(r,l,he.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case M:return r=Xn(31,l,s,p),r.elementType=M,r.lanes=y,r;case C:return Za(l.children,p,y,s);case N:T=8,p|=24;break;case D:return r=Xn(12,l,s,p|2),r.elementType=D,r.lanes=y,r;case re:return r=Xn(13,l,s,p),r.elementType=re,r.lanes=y,r;case ne:return r=Xn(19,l,s,p),r.elementType=ne,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case U:T=10;break e;case j:T=9;break e;case Q:T=11;break e;case S:T=14;break e;case R:T=16,u=null;break e}T=29,l=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=Xn(T,l,s,p),s.elementType=r,s.type=u,s.lanes=y,s}function Za(r,s,l,u){return r=Xn(7,r,u,s),r.lanes=l,r}function Wm(r,s,l){return r=Xn(6,r,null,s),r.lanes=l,r}function Db(r){var s=Xn(18,null,null,0);return s.stateNode=r,s}function Zm(r,s,l){return s=Xn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var Mb=new WeakMap;function di(r,s){if(typeof r=="object"&&r!==null){var l=Mb.get(r);return l!==void 0?l:(s={value:r,source:s,stack:Va(s)},Mb.set(r,s),s)}return{value:r,source:s,stack:Va(s)}}var Wo=[],Zo=0,Kd=null,Nc=0,hi=[],fi=0,Is=null,ur=1,dr="";function Lr(r,s){Wo[Zo++]=Nc,Wo[Zo++]=Kd,Kd=r,Nc=s}function Ob(r,s,l){hi[fi++]=ur,hi[fi++]=dr,hi[fi++]=Is,Is=r;var u=ur;r=dr;var p=32-Dt(u)-1;u&=~(1<<p),l+=1;var y=32-Dt(s)+p;if(30<y){var T=p-p%5;y=(u&(1<<T)-1).toString(32),u>>=T,p-=T,ur=1<<32-Dt(s)+p|l<<p|u,dr=y+r}else ur=1<<y|l<<p|u,dr=r}function Jm(r){r.return!==null&&(Lr(r,1),Ob(r,1,0))}function ep(r){for(;r===Kd;)Kd=Wo[--Zo],Wo[Zo]=null,Nc=Wo[--Zo],Wo[Zo]=null;for(;r===Is;)Is=hi[--fi],hi[fi]=null,dr=hi[--fi],hi[fi]=null,ur=hi[--fi],hi[fi]=null}function Vb(r,s){hi[fi++]=ur,hi[fi++]=dr,hi[fi++]=Is,ur=s.id,dr=s.overflow,Is=r}var un=null,yt=null,Xe=!1,ks=null,mi=!1,tp=Error(i(519));function Ds(r){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ic(di(s,r)),tp}function Pb(r){var s=r.stateNode,l=r.type,u=r.memoizedProps;switch(s[zt]=r,s[nn]=u,l){case"dialog":He("cancel",s),He("close",s);break;case"iframe":case"object":case"embed":He("load",s);break;case"video":case"audio":for(l=0;l<Zc.length;l++)He(Zc[l],s);break;case"source":He("error",s);break;case"img":case"image":case"link":He("error",s),He("load",s);break;case"details":He("toggle",s);break;case"input":He("invalid",s),Ad(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":He("invalid",s);break;case"textarea":He("invalid",s),Es(s,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||u.suppressHydrationWarning===!0||J_(s.textContent,l)?(u.popover!=null&&(He("beforetoggle",s),He("toggle",s)),u.onScroll!=null&&He("scroll",s),u.onScrollEnd!=null&&He("scrollend",s),u.onClick!=null&&(s.onclick=Di),s=!0):s=!1,s||Ds(r,!0)}function jb(r){for(un=r.return;un;)switch(un.tag){case 5:case 31:case 13:mi=!1;return;case 27:case 3:mi=!0;return;default:un=un.return}}function Jo(r){if(r!==un)return!1;if(!Xe)return jb(r),Xe=!0,!1;var s=r.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||bg(r.type,r.memoizedProps)),l=!l),l&&yt&&Ds(r),jb(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));yt=lw(r)}else if(s===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));yt=lw(r)}else s===27?(s=yt,Gs(r.type)?(r=xg,xg=null,yt=r):yt=s):yt=un?gi(r.stateNode.nextSibling):null;return!0}function Ja(){yt=un=null,Xe=!1}function np(){var r=ks;return r!==null&&(Un===null?Un=r:Un.push.apply(Un,r),ks=null),r}function Ic(r){ks===null?ks=[r]:ks.push(r)}var ip=V(null),eo=null,Ur=null;function Ms(r,s,l){de(ip,s._currentValue),s._currentValue=l}function zr(r){r._currentValue=ip.current,Z(ip)}function rp(r,s,l){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===l)break;r=r.return}}function sp(r,s,l,u){var p=r.child;for(p!==null&&(p.return=r);p!==null;){var y=p.dependencies;if(y!==null){var T=p.child;y=y.firstContext;e:for(;y!==null;){var A=y;y=p;for(var B=0;B<s.length;B++)if(A.context===s[B]){y.lanes|=l,A=y.alternate,A!==null&&(A.lanes|=l),rp(y.return,l,r),u||(T=null);break e}y=A.next}}else if(p.tag===18){if(T=p.return,T===null)throw Error(i(341));T.lanes|=l,y=T.alternate,y!==null&&(y.lanes|=l),rp(T,l,r),T=null}else T=p.child;if(T!==null)T.return=p;else for(T=p;T!==null;){if(T===r){T=null;break}if(p=T.sibling,p!==null){p.return=T.return,T=p;break}T=T.return}p=T}}function el(r,s,l,u){r=null;for(var p=s,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var T=p.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var A=p.type;Qn(p.pendingProps.value,T.value)||(r!==null?r.push(A):r=[A])}}else if(p===Ee.current){if(T=p.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(r!==null?r.push(iu):r=[iu])}p=p.return}r!==null&&sp(s,r,l,u),s.flags|=262144}function Yd(r){for(r=r.firstContext;r!==null;){if(!Qn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function to(r){eo=r,Ur=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function dn(r){return Lb(eo,r)}function Qd(r,s){return eo===null&&to(r),Lb(r,s)}function Lb(r,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Ur===null){if(r===null)throw Error(i(308));Ur=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Ur=Ur.next=s;return l}var iN=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(l,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(l){return l()})}},rN=t.unstable_scheduleCallback,sN=t.unstable_NormalPriority,qt={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ap(){return{controller:new iN,data:new Map,refCount:0}}function kc(r){r.refCount--,r.refCount===0&&rN(sN,function(){r.controller.abort()})}var Dc=null,op=0,tl=0,nl=null;function aN(r,s){if(Dc===null){var l=Dc=[];op=0,tl=ug(),nl={status:"pending",value:void 0,then:function(u){l.push(u)}}}return op++,s.then(Ub,Ub),s}function Ub(){if(--op===0&&Dc!==null){nl!==null&&(nl.status="fulfilled");var r=Dc;Dc=null,tl=0,nl=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function oN(r,s){var l=[],u={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var p=0;p<l.length;p++)(0,l[p])(s)},function(p){for(u.status="rejected",u.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),u}var zb=$.S;$.S=function(r,s){E_=Wt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&aN(r,s),zb!==null&&zb(r,s)};var no=V(null);function lp(){var r=no.current;return r!==null?r:mt.pooledCache}function Xd(r,s){s===null?de(no,no.current):de(no,s.pool)}function Bb(){var r=lp();return r===null?null:{parent:qt._currentValue,pool:r}}var il=Error(i(460)),cp=Error(i(474)),Wd=Error(i(542)),Zd={then:function(){}};function Fb(r){return r=r.status,r==="fulfilled"||r==="rejected"}function qb(r,s,l){switch(l=r[l],l===void 0?r.push(s):l!==s&&(s.then(Di,Di),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,$b(r),r;default:if(typeof s.status=="string")s.then(Di,Di);else{if(r=mt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=u}},function(u){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,$b(r),r}throw ro=s,il}}function io(r){try{var s=r._init;return s(r._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(ro=l,il):l}}var ro=null;function Hb(){if(ro===null)throw Error(i(459));var r=ro;return ro=null,r}function $b(r){if(r===il||r===Wd)throw Error(i(483))}var rl=null,Mc=0;function Jd(r){var s=Mc;return Mc+=1,rl===null&&(rl=[]),qb(rl,r,s)}function Oc(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function eh(r,s){throw s.$$typeof===_?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function Gb(r){function s(H,q){if(r){var K=H.deletions;K===null?(H.deletions=[q],H.flags|=16):K.push(q)}}function l(H,q){if(!r)return null;for(;q!==null;)s(H,q),q=q.sibling;return null}function u(H){for(var q=new Map;H!==null;)H.key!==null?q.set(H.key,H):q.set(H.index,H),H=H.sibling;return q}function p(H,q){return H=jr(H,q),H.index=0,H.sibling=null,H}function y(H,q,K){return H.index=K,r?(K=H.alternate,K!==null?(K=K.index,K<q?(H.flags|=67108866,q):K):(H.flags|=67108866,q)):(H.flags|=1048576,q)}function T(H){return r&&H.alternate===null&&(H.flags|=67108866),H}function A(H,q,K,ie){return q===null||q.tag!==6?(q=Wm(K,H.mode,ie),q.return=H,q):(q=p(q,K),q.return=H,q)}function B(H,q,K,ie){var Se=K.type;return Se===C?te(H,q,K.props.children,ie,K.key):q!==null&&(q.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===R&&io(Se)===q.type)?(q=p(q,K.props),Oc(q,K),q.return=H,q):(q=Gd(K.type,K.key,K.props,null,H.mode,ie),Oc(q,K),q.return=H,q)}function Y(H,q,K,ie){return q===null||q.tag!==4||q.stateNode.containerInfo!==K.containerInfo||q.stateNode.implementation!==K.implementation?(q=Zm(K,H.mode,ie),q.return=H,q):(q=p(q,K.children||[]),q.return=H,q)}function te(H,q,K,ie,Se){return q===null||q.tag!==7?(q=Za(K,H.mode,ie,Se),q.return=H,q):(q=p(q,K),q.return=H,q)}function ae(H,q,K){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Wm(""+q,H.mode,K),q.return=H,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case x:return K=Gd(q.type,q.key,q.props,null,H.mode,K),Oc(K,q),K.return=H,K;case k:return q=Zm(q,H.mode,K),q.return=H,q;case R:return q=io(q),ae(H,q,K)}if(ce(q)||F(q))return q=Za(q,H.mode,K,null),q.return=H,q;if(typeof q.then=="function")return ae(H,Jd(q),K);if(q.$$typeof===U)return ae(H,Qd(H,q),K);eh(H,q)}return null}function X(H,q,K,ie){var Se=q!==null?q.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return Se!==null?null:A(H,q,""+K,ie);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case x:return K.key===Se?B(H,q,K,ie):null;case k:return K.key===Se?Y(H,q,K,ie):null;case R:return K=io(K),X(H,q,K,ie)}if(ce(K)||F(K))return Se!==null?null:te(H,q,K,ie,null);if(typeof K.then=="function")return X(H,q,Jd(K),ie);if(K.$$typeof===U)return X(H,q,Qd(H,K),ie);eh(H,K)}return null}function J(H,q,K,ie,Se){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return H=H.get(K)||null,A(q,H,""+ie,Se);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case x:return H=H.get(ie.key===null?K:ie.key)||null,B(q,H,ie,Se);case k:return H=H.get(ie.key===null?K:ie.key)||null,Y(q,H,ie,Se);case R:return ie=io(ie),J(H,q,K,ie,Se)}if(ce(ie)||F(ie))return H=H.get(K)||null,te(q,H,ie,Se,null);if(typeof ie.then=="function")return J(H,q,K,Jd(ie),Se);if(ie.$$typeof===U)return J(H,q,K,Qd(q,ie),Se);eh(q,ie)}return null}function be(H,q,K,ie){for(var Se=null,et=null,we=q,Ue=q=0,Ge=null;we!==null&&Ue<K.length;Ue++){we.index>Ue?(Ge=we,we=null):Ge=we.sibling;var tt=X(H,we,K[Ue],ie);if(tt===null){we===null&&(we=Ge);break}r&&we&&tt.alternate===null&&s(H,we),q=y(tt,q,Ue),et===null?Se=tt:et.sibling=tt,et=tt,we=Ge}if(Ue===K.length)return l(H,we),Xe&&Lr(H,Ue),Se;if(we===null){for(;Ue<K.length;Ue++)we=ae(H,K[Ue],ie),we!==null&&(q=y(we,q,Ue),et===null?Se=we:et.sibling=we,et=we);return Xe&&Lr(H,Ue),Se}for(we=u(we);Ue<K.length;Ue++)Ge=J(we,H,Ue,K[Ue],ie),Ge!==null&&(r&&Ge.alternate!==null&&we.delete(Ge.key===null?Ue:Ge.key),q=y(Ge,q,Ue),et===null?Se=Ge:et.sibling=Ge,et=Ge);return r&&we.forEach(function(Ws){return s(H,Ws)}),Xe&&Lr(H,Ue),Se}function Ce(H,q,K,ie){if(K==null)throw Error(i(151));for(var Se=null,et=null,we=q,Ue=q=0,Ge=null,tt=K.next();we!==null&&!tt.done;Ue++,tt=K.next()){we.index>Ue?(Ge=we,we=null):Ge=we.sibling;var Ws=X(H,we,tt.value,ie);if(Ws===null){we===null&&(we=Ge);break}r&&we&&Ws.alternate===null&&s(H,we),q=y(Ws,q,Ue),et===null?Se=Ws:et.sibling=Ws,et=Ws,we=Ge}if(tt.done)return l(H,we),Xe&&Lr(H,Ue),Se;if(we===null){for(;!tt.done;Ue++,tt=K.next())tt=ae(H,tt.value,ie),tt!==null&&(q=y(tt,q,Ue),et===null?Se=tt:et.sibling=tt,et=tt);return Xe&&Lr(H,Ue),Se}for(we=u(we);!tt.done;Ue++,tt=K.next())tt=J(we,H,Ue,tt.value,ie),tt!==null&&(r&&tt.alternate!==null&&we.delete(tt.key===null?Ue:tt.key),q=y(tt,q,Ue),et===null?Se=tt:et.sibling=tt,et=tt);return r&&we.forEach(function(vI){return s(H,vI)}),Xe&&Lr(H,Ue),Se}function ft(H,q,K,ie){if(typeof K=="object"&&K!==null&&K.type===C&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case x:e:{for(var Se=K.key;q!==null;){if(q.key===Se){if(Se=K.type,Se===C){if(q.tag===7){l(H,q.sibling),ie=p(q,K.props.children),ie.return=H,H=ie;break e}}else if(q.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===R&&io(Se)===q.type){l(H,q.sibling),ie=p(q,K.props),Oc(ie,K),ie.return=H,H=ie;break e}l(H,q);break}else s(H,q);q=q.sibling}K.type===C?(ie=Za(K.props.children,H.mode,ie,K.key),ie.return=H,H=ie):(ie=Gd(K.type,K.key,K.props,null,H.mode,ie),Oc(ie,K),ie.return=H,H=ie)}return T(H);case k:e:{for(Se=K.key;q!==null;){if(q.key===Se)if(q.tag===4&&q.stateNode.containerInfo===K.containerInfo&&q.stateNode.implementation===K.implementation){l(H,q.sibling),ie=p(q,K.children||[]),ie.return=H,H=ie;break e}else{l(H,q);break}else s(H,q);q=q.sibling}ie=Zm(K,H.mode,ie),ie.return=H,H=ie}return T(H);case R:return K=io(K),ft(H,q,K,ie)}if(ce(K))return be(H,q,K,ie);if(F(K)){if(Se=F(K),typeof Se!="function")throw Error(i(150));return K=Se.call(K),Ce(H,q,K,ie)}if(typeof K.then=="function")return ft(H,q,Jd(K),ie);if(K.$$typeof===U)return ft(H,q,Qd(H,K),ie);eh(H,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,q!==null&&q.tag===6?(l(H,q.sibling),ie=p(q,K),ie.return=H,H=ie):(l(H,q),ie=Wm(K,H.mode,ie),ie.return=H,H=ie),T(H)):l(H,q)}return function(H,q,K,ie){try{Mc=0;var Se=ft(H,q,K,ie);return rl=null,Se}catch(we){if(we===il||we===Wd)throw we;var et=Xn(29,we,null,H.mode);return et.lanes=ie,et.return=H,et}finally{}}}var so=Gb(!0),Kb=Gb(!1),Os=!1;function up(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dp(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Vs(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ps(r,s,l){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(it&2)!==0){var p=u.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),u.pending=s,s=$d(r),Ib(r,null,l),s}return Hd(r,u,s,l),$d(r)}function Vc(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var u=s.lanes;u&=r.pendingLanes,l|=u,s.lanes=l,lc(r,l)}}function hp(r,s){var l=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?p=y=T:y=y.next=T,l=l.next}while(l!==null);y===null?p=y=s:y=y.next=s}else p=y=s;l={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}var fp=!1;function Pc(){if(fp){var r=nl;if(r!==null)throw r}}function jc(r,s,l,u){fp=!1;var p=r.updateQueue;Os=!1;var y=p.firstBaseUpdate,T=p.lastBaseUpdate,A=p.shared.pending;if(A!==null){p.shared.pending=null;var B=A,Y=B.next;B.next=null,T===null?y=Y:T.next=Y,T=B;var te=r.alternate;te!==null&&(te=te.updateQueue,A=te.lastBaseUpdate,A!==T&&(A===null?te.firstBaseUpdate=Y:A.next=Y,te.lastBaseUpdate=B))}if(y!==null){var ae=p.baseState;T=0,te=Y=B=null,A=y;do{var X=A.lane&-536870913,J=X!==A.lane;if(J?($e&X)===X:(u&X)===X){X!==0&&X===tl&&(fp=!0),te!==null&&(te=te.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var be=r,Ce=A;X=s;var ft=l;switch(Ce.tag){case 1:if(be=Ce.payload,typeof be=="function"){ae=be.call(ft,ae,X);break e}ae=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Ce.payload,X=typeof be=="function"?be.call(ft,ae,X):be,X==null)break e;ae=v({},ae,X);break e;case 2:Os=!0}}X=A.callback,X!==null&&(r.flags|=64,J&&(r.flags|=8192),J=p.callbacks,J===null?p.callbacks=[X]:J.push(X))}else J={lane:X,tag:A.tag,payload:A.payload,callback:A.callback,next:null},te===null?(Y=te=J,B=ae):te=te.next=J,T|=X;if(A=A.next,A===null){if(A=p.shared.pending,A===null)break;J=A,A=J.next,J.next=null,p.lastBaseUpdate=J,p.shared.pending=null}}while(!0);te===null&&(B=ae),p.baseState=B,p.firstBaseUpdate=Y,p.lastBaseUpdate=te,y===null&&(p.shared.lanes=0),Bs|=T,r.lanes=T,r.memoizedState=ae}}function Yb(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function Qb(r,s){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)Yb(l[r],s)}var sl=V(null),th=V(0);function Xb(r,s){r=Qr,de(th,r),de(sl,s),Qr=r|s.baseLanes}function mp(){de(th,Qr),de(sl,sl.current)}function pp(){Qr=th.current,Z(sl),Z(th)}var Wn=V(null),pi=null;function js(r){var s=r.alternate;de(Ot,Ot.current&1),de(Wn,r),pi===null&&(s===null||sl.current!==null||s.memoizedState!==null)&&(pi=r)}function gp(r){de(Ot,Ot.current),de(Wn,r),pi===null&&(pi=r)}function Wb(r){r.tag===22?(de(Ot,Ot.current),de(Wn,r),pi===null&&(pi=r)):Ls()}function Ls(){de(Ot,Ot.current),de(Wn,Wn.current)}function Zn(r){Z(Wn),pi===r&&(pi=null),Z(Ot)}var Ot=V(0);function nh(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Tg(l)||Eg(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Br=0,Le=null,dt=null,Ht=null,ih=!1,al=!1,ao=!1,rh=0,Lc=0,ol=null,lN=0;function At(){throw Error(i(321))}function yp(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!Qn(r[l],s[l]))return!1;return!0}function vp(r,s,l,u,p,y){return Br=y,Le=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,$.H=r===null||r.memoizedState===null?O1:Mp,ao=!1,y=l(u,p),ao=!1,al&&(y=Jb(s,l,u,p)),Zb(r),y}function Zb(r){$.H=Bc;var s=dt!==null&&dt.next!==null;if(Br=0,Ht=dt=Le=null,ih=!1,Lc=0,ol=null,s)throw Error(i(300));r===null||$t||(r=r.dependencies,r!==null&&Yd(r)&&($t=!0))}function Jb(r,s,l,u){Le=r;var p=0;do{if(al&&(ol=null),Lc=0,al=!1,25<=p)throw Error(i(301));if(p+=1,Ht=dt=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}$.H=V1,y=s(l,u)}while(al);return y}function cN(){var r=$.H,s=r.useState()[0];return s=typeof s.then=="function"?Uc(s):s,r=r.useState()[0],(dt!==null?dt.memoizedState:null)!==r&&(Le.flags|=1024),s}function bp(){var r=rh!==0;return rh=0,r}function _p(r,s,l){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~l}function wp(r){if(ih){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ih=!1}Br=0,Ht=dt=Le=null,al=!1,Lc=rh=0,ol=null}function In(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?Le.memoizedState=Ht=r:Ht=Ht.next=r,Ht}function Vt(){if(dt===null){var r=Le.alternate;r=r!==null?r.memoizedState:null}else r=dt.next;var s=Ht===null?Le.memoizedState:Ht.next;if(s!==null)Ht=s,dt=r;else{if(r===null)throw Le.alternate===null?Error(i(467)):Error(i(310));dt=r,r={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},Ht===null?Le.memoizedState=Ht=r:Ht=Ht.next=r}return Ht}function sh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Uc(r){var s=Lc;return Lc+=1,ol===null&&(ol=[]),r=qb(ol,r,s),s=Le,(Ht===null?s.memoizedState:Ht.next)===null&&(s=s.alternate,$.H=s===null||s.memoizedState===null?O1:Mp),r}function ah(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Uc(r);if(r.$$typeof===U)return dn(r)}throw Error(i(438,String(r)))}function Tp(r){var s=null,l=Le.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var u=Le.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=sh(),Le.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(r),u=0;u<r;u++)l[u]=z;return s.index++,l}function Fr(r,s){return typeof s=="function"?s(r):s}function oh(r){var s=Vt();return Ep(s,dt,r)}function Ep(r,s,l){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var p=r.baseQueue,y=u.pending;if(y!==null){if(p!==null){var T=p.next;p.next=y.next,y.next=T}s.baseQueue=p=y,u.pending=null}if(y=r.baseState,p===null)r.memoizedState=y;else{s=p.next;var A=T=null,B=null,Y=s,te=!1;do{var ae=Y.lane&-536870913;if(ae!==Y.lane?($e&ae)===ae:(Br&ae)===ae){var X=Y.revertLane;if(X===0)B!==null&&(B=B.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),ae===tl&&(te=!0);else if((Br&X)===X){Y=Y.next,X===tl&&(te=!0);continue}else ae={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},B===null?(A=B=ae,T=y):B=B.next=ae,Le.lanes|=X,Bs|=X;ae=Y.action,ao&&l(y,ae),y=Y.hasEagerState?Y.eagerState:l(y,ae)}else X={lane:ae,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},B===null?(A=B=X,T=y):B=B.next=X,Le.lanes|=ae,Bs|=ae;Y=Y.next}while(Y!==null&&Y!==s);if(B===null?T=y:B.next=A,!Qn(y,r.memoizedState)&&($t=!0,te&&(l=nl,l!==null)))throw l;r.memoizedState=y,r.baseState=T,r.baseQueue=B,u.lastRenderedState=y}return p===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function xp(r){var s=Vt(),l=s.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=r;var u=l.dispatch,p=l.pending,y=s.memoizedState;if(p!==null){l.pending=null;var T=p=p.next;do y=r(y,T.action),T=T.next;while(T!==p);Qn(y,s.memoizedState)||($t=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,u]}function e1(r,s,l){var u=Le,p=Vt(),y=Xe;if(y){if(l===void 0)throw Error(i(407));l=l()}else l=s();var T=!Qn((dt||p).memoizedState,l);if(T&&(p.memoizedState=l,$t=!0),p=p.queue,Cp(i1.bind(null,u,p,r),[r]),p.getSnapshot!==s||T||Ht!==null&&Ht.memoizedState.tag&1){if(u.flags|=2048,ll(9,{destroy:void 0},n1.bind(null,u,p,l,s),null),mt===null)throw Error(i(349));y||(Br&127)!==0||t1(u,s,l)}return l}function t1(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=Le.updateQueue,s===null?(s=sh(),Le.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function n1(r,s,l,u){s.value=l,s.getSnapshot=u,r1(s)&&s1(r)}function i1(r,s,l){return l(function(){r1(s)&&s1(r)})}function r1(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!Qn(r,l)}catch{return!0}}function s1(r){var s=Wa(r,2);s!==null&&zn(s,r,2)}function Sp(r){var s=In();if(typeof r=="function"){var l=r;if(r=l(),ao){si(!0);try{l()}finally{si(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:r},s}function a1(r,s,l,u){return r.baseState=l,Ep(r,dt,typeof u=="function"?u:Fr)}function uN(r,s,l,u,p){if(uh(r))throw Error(i(485));if(r=s.action,r!==null){var y={payload:p,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){y.listeners.push(T)}};$.T!==null?l(!0):y.isTransition=!1,u(y),l=s.pending,l===null?(y.next=s.pending=y,o1(s,y)):(y.next=l.next,s.pending=l.next=y)}}function o1(r,s){var l=s.action,u=s.payload,p=r.state;if(s.isTransition){var y=$.T,T={};$.T=T;try{var A=l(p,u),B=$.S;B!==null&&B(T,A),l1(r,s,A)}catch(Y){Ap(r,s,Y)}finally{y!==null&&T.types!==null&&(y.types=T.types),$.T=y}}else try{y=l(p,u),l1(r,s,y)}catch(Y){Ap(r,s,Y)}}function l1(r,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){c1(r,s,u)},function(u){return Ap(r,s,u)}):c1(r,s,l)}function c1(r,s,l){s.status="fulfilled",s.value=l,u1(s),r.state=l,s=r.pending,s!==null&&(l=s.next,l===s?r.pending=null:(l=l.next,s.next=l,o1(r,l)))}function Ap(r,s,l){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=l,u1(s),s=s.next;while(s!==u)}r.action=null}function u1(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function d1(r,s){return s}function h1(r,s){if(Xe){var l=mt.formState;if(l!==null){e:{var u=Le;if(Xe){if(yt){t:{for(var p=yt,y=mi;p.nodeType!==8;){if(!y){p=null;break t}if(p=gi(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){yt=gi(p.nextSibling),u=p.data==="F!";break e}}Ds(u)}u=!1}u&&(s=l[0])}}return l=In(),l.memoizedState=l.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:d1,lastRenderedState:s},l.queue=u,l=k1.bind(null,Le,u),u.dispatch=l,u=Sp(!1),y=Dp.bind(null,Le,!1,u.queue),u=In(),p={state:s,dispatch:null,action:r,pending:null},u.queue=p,l=uN.bind(null,Le,p,y,l),p.dispatch=l,u.memoizedState=r,[s,l,!1]}function f1(r){var s=Vt();return m1(s,dt,r)}function m1(r,s,l){if(s=Ep(r,s,d1)[0],r=oh(Fr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Uc(s)}catch(T){throw T===il?Wd:T}else u=s;s=Vt();var p=s.queue,y=p.dispatch;return l!==s.memoizedState&&(Le.flags|=2048,ll(9,{destroy:void 0},dN.bind(null,p,l),null)),[u,y,r]}function dN(r,s){r.action=s}function p1(r){var s=Vt(),l=dt;if(l!==null)return m1(s,l,r);Vt(),s=s.memoizedState,l=Vt();var u=l.queue.dispatch;return l.memoizedState=r,[s,u,!1]}function ll(r,s,l,u){return r={tag:r,create:l,deps:u,inst:s,next:null},s=Le.updateQueue,s===null&&(s=sh(),Le.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=r.next=r:(u=l.next,l.next=r,r.next=u,s.lastEffect=r),r}function g1(){return Vt().memoizedState}function lh(r,s,l,u){var p=In();Le.flags|=r,p.memoizedState=ll(1|s,{destroy:void 0},l,u===void 0?null:u)}function ch(r,s,l,u){var p=Vt();u=u===void 0?null:u;var y=p.memoizedState.inst;dt!==null&&u!==null&&yp(u,dt.memoizedState.deps)?p.memoizedState=ll(s,y,l,u):(Le.flags|=r,p.memoizedState=ll(1|s,y,l,u))}function y1(r,s){lh(8390656,8,r,s)}function Cp(r,s){ch(2048,8,r,s)}function hN(r){Le.flags|=4;var s=Le.updateQueue;if(s===null)s=sh(),Le.updateQueue=s,s.events=[r];else{var l=s.events;l===null?s.events=[r]:l.push(r)}}function v1(r){var s=Vt().memoizedState;return hN({ref:s,nextImpl:r}),function(){if((it&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function b1(r,s){return ch(4,2,r,s)}function _1(r,s){return ch(4,4,r,s)}function w1(r,s){if(typeof s=="function"){r=r();var l=s(r);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function T1(r,s,l){l=l!=null?l.concat([r]):null,ch(4,4,w1.bind(null,s,r),l)}function Rp(){}function E1(r,s){var l=Vt();s=s===void 0?null:s;var u=l.memoizedState;return s!==null&&yp(s,u[1])?u[0]:(l.memoizedState=[r,s],r)}function x1(r,s){var l=Vt();s=s===void 0?null:s;var u=l.memoizedState;if(s!==null&&yp(s,u[1]))return u[0];if(u=r(),ao){si(!0);try{r()}finally{si(!1)}}return l.memoizedState=[u,s],u}function Np(r,s,l){return l===void 0||(Br&1073741824)!==0&&($e&261930)===0?r.memoizedState=s:(r.memoizedState=l,r=S_(),Le.lanes|=r,Bs|=r,l)}function S1(r,s,l,u){return Qn(l,s)?l:sl.current!==null?(r=Np(r,l,u),Qn(r,s)||($t=!0),r):(Br&42)===0||(Br&1073741824)!==0&&($e&261930)===0?($t=!0,r.memoizedState=l):(r=S_(),Le.lanes|=r,Bs|=r,s)}function A1(r,s,l,u,p){var y=ee.p;ee.p=y!==0&&8>y?y:8;var T=$.T,A={};$.T=A,Dp(r,!1,s,l);try{var B=p(),Y=$.S;if(Y!==null&&Y(A,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var te=oN(B,u);zc(r,s,te,ti(r))}else zc(r,s,u,ti(r))}catch(ae){zc(r,s,{then:function(){},status:"rejected",reason:ae},ti())}finally{ee.p=y,T!==null&&A.types!==null&&(T.types=A.types),$.T=T}}function fN(){}function Ip(r,s,l,u){if(r.tag!==5)throw Error(i(476));var p=C1(r).queue;A1(r,p,s,me,l===null?fN:function(){return R1(r),l(u)})}function C1(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:me},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:l},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function R1(r){var s=C1(r);s.next===null&&(s=r.alternate.memoizedState),zc(r,s.next.queue,{},ti())}function kp(){return dn(iu)}function N1(){return Vt().memoizedState}function I1(){return Vt().memoizedState}function mN(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var l=ti();r=Vs(l);var u=Ps(s,r,l);u!==null&&(zn(u,s,l),Vc(u,s,l)),s={cache:ap()},r.payload=s;return}s=s.return}}function pN(r,s,l){var u=ti();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},uh(r)?D1(s,l):(l=Qm(r,s,l,u),l!==null&&(zn(l,r,u),M1(l,s,u)))}function k1(r,s,l){var u=ti();zc(r,s,l,u)}function zc(r,s,l,u){var p={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(uh(r))D1(s,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var T=s.lastRenderedState,A=y(T,l);if(p.hasEagerState=!0,p.eagerState=A,Qn(A,T))return Hd(r,s,p,0),mt===null&&qd(),!1}catch{}finally{}if(l=Qm(r,s,p,u),l!==null)return zn(l,r,u),M1(l,s,u),!0}return!1}function Dp(r,s,l,u){if(u={lane:2,revertLane:ug(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},uh(r)){if(s)throw Error(i(479))}else s=Qm(r,l,u,2),s!==null&&zn(s,r,2)}function uh(r){var s=r.alternate;return r===Le||s!==null&&s===Le}function D1(r,s){al=ih=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function M1(r,s,l){if((l&4194048)!==0){var u=s.lanes;u&=r.pendingLanes,l|=u,s.lanes=l,lc(r,l)}}var Bc={readContext:dn,use:ah,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At};Bc.useEffectEvent=At;var O1={readContext:dn,use:ah,useCallback:function(r,s){return In().memoizedState=[r,s===void 0?null:s],r},useContext:dn,useEffect:y1,useImperativeHandle:function(r,s,l){l=l!=null?l.concat([r]):null,lh(4194308,4,w1.bind(null,s,r),l)},useLayoutEffect:function(r,s){return lh(4194308,4,r,s)},useInsertionEffect:function(r,s){lh(4,2,r,s)},useMemo:function(r,s){var l=In();s=s===void 0?null:s;var u=r();if(ao){si(!0);try{r()}finally{si(!1)}}return l.memoizedState=[u,s],u},useReducer:function(r,s,l){var u=In();if(l!==void 0){var p=l(s);if(ao){si(!0);try{l(s)}finally{si(!1)}}}else p=s;return u.memoizedState=u.baseState=p,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:p},u.queue=r,r=r.dispatch=pN.bind(null,Le,r),[u.memoizedState,r]},useRef:function(r){var s=In();return r={current:r},s.memoizedState=r},useState:function(r){r=Sp(r);var s=r.queue,l=k1.bind(null,Le,s);return s.dispatch=l,[r.memoizedState,l]},useDebugValue:Rp,useDeferredValue:function(r,s){var l=In();return Np(l,r,s)},useTransition:function(){var r=Sp(!1);return r=A1.bind(null,Le,r.queue,!0,!1),In().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,l){var u=Le,p=In();if(Xe){if(l===void 0)throw Error(i(407));l=l()}else{if(l=s(),mt===null)throw Error(i(349));($e&127)!==0||t1(u,s,l)}p.memoizedState=l;var y={value:l,getSnapshot:s};return p.queue=y,y1(i1.bind(null,u,y,r),[r]),u.flags|=2048,ll(9,{destroy:void 0},n1.bind(null,u,y,l,s),null),l},useId:function(){var r=In(),s=mt.identifierPrefix;if(Xe){var l=dr,u=ur;l=(u&~(1<<32-Dt(u)-1)).toString(32)+l,s="_"+s+"R_"+l,l=rh++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=lN++,s="_"+s+"r_"+l.toString(32)+"_";return r.memoizedState=s},useHostTransitionStatus:kp,useFormState:h1,useActionState:h1,useOptimistic:function(r){var s=In();s.memoizedState=s.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Dp.bind(null,Le,!0,l),l.dispatch=s,[r,s]},useMemoCache:Tp,useCacheRefresh:function(){return In().memoizedState=mN.bind(null,Le)},useEffectEvent:function(r){var s=In(),l={impl:r};return s.memoizedState=l,function(){if((it&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},Mp={readContext:dn,use:ah,useCallback:E1,useContext:dn,useEffect:Cp,useImperativeHandle:T1,useInsertionEffect:b1,useLayoutEffect:_1,useMemo:x1,useReducer:oh,useRef:g1,useState:function(){return oh(Fr)},useDebugValue:Rp,useDeferredValue:function(r,s){var l=Vt();return S1(l,dt.memoizedState,r,s)},useTransition:function(){var r=oh(Fr)[0],s=Vt().memoizedState;return[typeof r=="boolean"?r:Uc(r),s]},useSyncExternalStore:e1,useId:N1,useHostTransitionStatus:kp,useFormState:f1,useActionState:f1,useOptimistic:function(r,s){var l=Vt();return a1(l,dt,r,s)},useMemoCache:Tp,useCacheRefresh:I1};Mp.useEffectEvent=v1;var V1={readContext:dn,use:ah,useCallback:E1,useContext:dn,useEffect:Cp,useImperativeHandle:T1,useInsertionEffect:b1,useLayoutEffect:_1,useMemo:x1,useReducer:xp,useRef:g1,useState:function(){return xp(Fr)},useDebugValue:Rp,useDeferredValue:function(r,s){var l=Vt();return dt===null?Np(l,r,s):S1(l,dt.memoizedState,r,s)},useTransition:function(){var r=xp(Fr)[0],s=Vt().memoizedState;return[typeof r=="boolean"?r:Uc(r),s]},useSyncExternalStore:e1,useId:N1,useHostTransitionStatus:kp,useFormState:p1,useActionState:p1,useOptimistic:function(r,s){var l=Vt();return dt!==null?a1(l,dt,r,s):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:Tp,useCacheRefresh:I1};V1.useEffectEvent=v1;function Op(r,s,l,u){s=r.memoizedState,l=l(u,s),l=l==null?s:v({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Vp={enqueueSetState:function(r,s,l){r=r._reactInternals;var u=ti(),p=Vs(u);p.payload=s,l!=null&&(p.callback=l),s=Ps(r,p,u),s!==null&&(zn(s,r,u),Vc(s,r,u))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var u=ti(),p=Vs(u);p.tag=1,p.payload=s,l!=null&&(p.callback=l),s=Ps(r,p,u),s!==null&&(zn(s,r,u),Vc(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=ti(),u=Vs(l);u.tag=2,s!=null&&(u.callback=s),s=Ps(r,u,l),s!==null&&(zn(s,r,l),Vc(s,r,l))}};function P1(r,s,l,u,p,y,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,y,T):s.prototype&&s.prototype.isPureReactComponent?!Cc(l,u)||!Cc(p,y):!0}function j1(r,s,l,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,u),s.state!==r&&Vp.enqueueReplaceState(s,s.state,null)}function oo(r,s){var l=s;if("ref"in s){l={};for(var u in s)u!=="ref"&&(l[u]=s[u])}if(r=r.defaultProps){l===s&&(l=v({},l));for(var p in r)l[p]===void 0&&(l[p]=r[p])}return l}function L1(r){Fd(r)}function U1(r){console.error(r)}function z1(r){Fd(r)}function dh(r,s){try{var l=r.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function B1(r,s,l){try{var u=r.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Pp(r,s,l){return l=Vs(l),l.tag=3,l.payload={element:null},l.callback=function(){dh(r,s)},l}function F1(r){return r=Vs(r),r.tag=3,r}function q1(r,s,l,u){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var y=u.value;r.payload=function(){return p(y)},r.callback=function(){B1(s,l,u)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){B1(s,l,u),typeof p!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function gN(r,s,l,u,p){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=l.alternate,s!==null&&el(s,l,p,!0),l=Wn.current,l!==null){switch(l.tag){case 31:case 13:return pi===null?Eh():l.alternate===null&&Ct===0&&(Ct=3),l.flags&=-257,l.flags|=65536,l.lanes=p,u===Zd?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([u]):s.add(u),og(r,u,p)),!1;case 22:return l.flags|=65536,u===Zd?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([u]):l.add(u)),og(r,u,p)),!1}throw Error(i(435,l.tag))}return og(r,u,p),Eh(),!1}if(Xe)return s=Wn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,u!==tp&&(r=Error(i(422),{cause:u}),Ic(di(r,l)))):(u!==tp&&(s=Error(i(423),{cause:u}),Ic(di(s,l))),r=r.current.alternate,r.flags|=65536,p&=-p,r.lanes|=p,u=di(u,l),p=Pp(r.stateNode,u,p),hp(r,p),Ct!==4&&(Ct=2)),!1;var y=Error(i(520),{cause:u});if(y=di(y,l),Qc===null?Qc=[y]:Qc.push(y),Ct!==4&&(Ct=2),s===null)return!0;u=di(u,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,r=p&-p,l.lanes|=r,r=Pp(l.stateNode,u,r),hp(l,r),!1;case 1:if(s=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Fs===null||!Fs.has(y))))return l.flags|=65536,p&=-p,l.lanes|=p,p=F1(p),q1(p,r,l,u),hp(l,p),!1}l=l.return}while(l!==null);return!1}var jp=Error(i(461)),$t=!1;function hn(r,s,l,u){s.child=r===null?Kb(s,null,l,u):so(s,r.child,l,u)}function H1(r,s,l,u,p){l=l.render;var y=s.ref;if("ref"in u){var T={};for(var A in u)A!=="ref"&&(T[A]=u[A])}else T=u;return to(s),u=vp(r,s,l,T,y,p),A=bp(),r!==null&&!$t?(_p(r,s,p),qr(r,s,p)):(Xe&&A&&Jm(s),s.flags|=1,hn(r,s,u,p),s.child)}function $1(r,s,l,u,p){if(r===null){var y=l.type;return typeof y=="function"&&!Xm(y)&&y.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=y,G1(r,s,y,u,p)):(r=Gd(l.type,null,u,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,!$p(r,p)){var T=y.memoizedProps;if(l=l.compare,l=l!==null?l:Cc,l(T,u)&&r.ref===s.ref)return qr(r,s,p)}return s.flags|=1,r=jr(y,u),r.ref=s.ref,r.return=s,s.child=r}function G1(r,s,l,u,p){if(r!==null){var y=r.memoizedProps;if(Cc(y,u)&&r.ref===s.ref)if($t=!1,s.pendingProps=u=y,$p(r,p))(r.flags&131072)!==0&&($t=!0);else return s.lanes=r.lanes,qr(r,s,p)}return Lp(r,s,l,u,p)}function K1(r,s,l,u){var p=u.children,y=r!==null?r.memoizedState:null;if(r===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(y=y!==null?y.baseLanes|l:l,r!==null){for(u=s.child=r.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;u=p&~y}else u=0,s.child=null;return Y1(r,s,y,l,u)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Xd(s,y!==null?y.cachePool:null),y!==null?Xb(s,y):mp(),Wb(s);else return u=s.lanes=536870912,Y1(r,s,y!==null?y.baseLanes|l:l,l,u)}else y!==null?(Xd(s,y.cachePool),Xb(s,y),Ls(),s.memoizedState=null):(r!==null&&Xd(s,null),mp(),Ls());return hn(r,s,p,l),s.child}function Fc(r,s){return r!==null&&r.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Y1(r,s,l,u,p){var y=lp();return y=y===null?null:{parent:qt._currentValue,pool:y},s.memoizedState={baseLanes:l,cachePool:y},r!==null&&Xd(s,null),mp(),Wb(s),r!==null&&el(r,s,u,!0),s.childLanes=p,null}function hh(r,s){return s=mh({mode:s.mode,children:s.children},r.mode),s.ref=r.ref,r.child=s,s.return=r,s}function Q1(r,s,l){return so(s,r.child,null,l),r=hh(s,s.pendingProps),r.flags|=2,Zn(s),s.memoizedState=null,r}function yN(r,s,l){var u=s.pendingProps,p=(s.flags&128)!==0;if(s.flags&=-129,r===null){if(Xe){if(u.mode==="hidden")return r=hh(s,u),s.lanes=536870912,Fc(null,r);if(gp(s),(r=yt)?(r=ow(r,mi),r=r!==null&&r.data==="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:Is!==null?{id:ur,overflow:dr}:null,retryLane:536870912,hydrationErrors:null},l=Db(r),l.return=s,s.child=l,un=s,yt=null)):r=null,r===null)throw Ds(s);return s.lanes=536870912,null}return hh(s,u)}var y=r.memoizedState;if(y!==null){var T=y.dehydrated;if(gp(s),p)if(s.flags&256)s.flags&=-257,s=Q1(r,s,l);else if(s.memoizedState!==null)s.child=r.child,s.flags|=128,s=null;else throw Error(i(558));else if($t||el(r,s,l,!1),p=(l&r.childLanes)!==0,$t||p){if(u=mt,u!==null&&(T=cc(u,l),T!==0&&T!==y.retryLane))throw y.retryLane=T,Wa(r,T),zn(u,r,T),jp;Eh(),s=Q1(r,s,l)}else r=y.treeContext,yt=gi(T.nextSibling),un=s,Xe=!0,ks=null,mi=!1,r!==null&&Vb(s,r),s=hh(s,u),s.flags|=4096;return s}return r=jr(r.child,{mode:u.mode,children:u.children}),r.ref=s.ref,s.child=r,r.return=s,r}function fh(r,s){var l=s.ref;if(l===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(r===null||r.ref!==l)&&(s.flags|=4194816)}}function Lp(r,s,l,u,p){return to(s),l=vp(r,s,l,u,void 0,p),u=bp(),r!==null&&!$t?(_p(r,s,p),qr(r,s,p)):(Xe&&u&&Jm(s),s.flags|=1,hn(r,s,l,p),s.child)}function X1(r,s,l,u,p,y){return to(s),s.updateQueue=null,l=Jb(s,u,l,p),Zb(r),u=bp(),r!==null&&!$t?(_p(r,s,y),qr(r,s,y)):(Xe&&u&&Jm(s),s.flags|=1,hn(r,s,l,y),s.child)}function W1(r,s,l,u,p){if(to(s),s.stateNode===null){var y=Xo,T=l.contextType;typeof T=="object"&&T!==null&&(y=dn(T)),y=new l(u,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Vp,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=u,y.state=s.memoizedState,y.refs={},up(s),T=l.contextType,y.context=typeof T=="object"&&T!==null?dn(T):Xo,y.state=s.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(Op(s,l,T,u),y.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(T=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),T!==y.state&&Vp.enqueueReplaceState(y,y.state,null),jc(s,u,y,p),Pc(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){y=s.stateNode;var A=s.memoizedProps,B=oo(l,A);y.props=B;var Y=y.context,te=l.contextType;T=Xo,typeof te=="object"&&te!==null&&(T=dn(te));var ae=l.getDerivedStateFromProps;te=typeof ae=="function"||typeof y.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,te||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A||Y!==T)&&j1(s,y,u,T),Os=!1;var X=s.memoizedState;y.state=X,jc(s,u,y,p),Pc(),Y=s.memoizedState,A||X!==Y||Os?(typeof ae=="function"&&(Op(s,l,ae,u),Y=s.memoizedState),(B=Os||P1(s,l,B,u,X,Y,T))?(te||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Y),y.props=u,y.state=Y,y.context=T,u=B):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{y=s.stateNode,dp(r,s),T=s.memoizedProps,te=oo(l,T),y.props=te,ae=s.pendingProps,X=y.context,Y=l.contextType,B=Xo,typeof Y=="object"&&Y!==null&&(B=dn(Y)),A=l.getDerivedStateFromProps,(Y=typeof A=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==ae||X!==B)&&j1(s,y,u,B),Os=!1,X=s.memoizedState,y.state=X,jc(s,u,y,p),Pc();var J=s.memoizedState;T!==ae||X!==J||Os||r!==null&&r.dependencies!==null&&Yd(r.dependencies)?(typeof A=="function"&&(Op(s,l,A,u),J=s.memoizedState),(te=Os||P1(s,l,te,u,X,J,B)||r!==null&&r.dependencies!==null&&Yd(r.dependencies))?(Y||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,J,B),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,J,B)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===r.memoizedProps&&X===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&X===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=J),y.props=u,y.state=J,y.context=B,u=te):(typeof y.componentDidUpdate!="function"||T===r.memoizedProps&&X===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&X===r.memoizedState||(s.flags|=1024),u=!1)}return y=u,fh(r,s),u=(s.flags&128)!==0,y||u?(y=s.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,r!==null&&u?(s.child=so(s,r.child,null,p),s.child=so(s,null,l,p)):hn(r,s,l,p),s.memoizedState=y.state,r=s.child):r=qr(r,s,p),r}function Z1(r,s,l,u){return Ja(),s.flags|=256,hn(r,s,l,u),s.child}var Up={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zp(r){return{baseLanes:r,cachePool:Bb()}}function Bp(r,s,l){return r=r!==null?r.childLanes&~l:0,s&&(r|=ei),r}function J1(r,s,l){var u=s.pendingProps,p=!1,y=(s.flags&128)!==0,T;if((T=y)||(T=r!==null&&r.memoizedState===null?!1:(Ot.current&2)!==0),T&&(p=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,r===null){if(Xe){if(p?js(s):Ls(),(r=yt)?(r=ow(r,mi),r=r!==null&&r.data!=="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:Is!==null?{id:ur,overflow:dr}:null,retryLane:536870912,hydrationErrors:null},l=Db(r),l.return=s,s.child=l,un=s,yt=null)):r=null,r===null)throw Ds(s);return Eg(r)?s.lanes=32:s.lanes=536870912,null}var A=u.children;return u=u.fallback,p?(Ls(),p=s.mode,A=mh({mode:"hidden",children:A},p),u=Za(u,p,l,null),A.return=s,u.return=s,A.sibling=u,s.child=A,u=s.child,u.memoizedState=zp(l),u.childLanes=Bp(r,T,l),s.memoizedState=Up,Fc(null,u)):(js(s),Fp(s,A))}var B=r.memoizedState;if(B!==null&&(A=B.dehydrated,A!==null)){if(y)s.flags&256?(js(s),s.flags&=-257,s=qp(r,s,l)):s.memoizedState!==null?(Ls(),s.child=r.child,s.flags|=128,s=null):(Ls(),A=u.fallback,p=s.mode,u=mh({mode:"visible",children:u.children},p),A=Za(A,p,l,null),A.flags|=2,u.return=s,A.return=s,u.sibling=A,s.child=u,so(s,r.child,null,l),u=s.child,u.memoizedState=zp(l),u.childLanes=Bp(r,T,l),s.memoizedState=Up,s=Fc(null,u));else if(js(s),Eg(A)){if(T=A.nextSibling&&A.nextSibling.dataset,T)var Y=T.dgst;T=Y,u=Error(i(419)),u.stack="",u.digest=T,Ic({value:u,source:null,stack:null}),s=qp(r,s,l)}else if($t||el(r,s,l,!1),T=(l&r.childLanes)!==0,$t||T){if(T=mt,T!==null&&(u=cc(T,l),u!==0&&u!==B.retryLane))throw B.retryLane=u,Wa(r,u),zn(T,r,u),jp;Tg(A)||Eh(),s=qp(r,s,l)}else Tg(A)?(s.flags|=192,s.child=r.child,s=null):(r=B.treeContext,yt=gi(A.nextSibling),un=s,Xe=!0,ks=null,mi=!1,r!==null&&Vb(s,r),s=Fp(s,u.children),s.flags|=4096);return s}return p?(Ls(),A=u.fallback,p=s.mode,B=r.child,Y=B.sibling,u=jr(B,{mode:"hidden",children:u.children}),u.subtreeFlags=B.subtreeFlags&65011712,Y!==null?A=jr(Y,A):(A=Za(A,p,l,null),A.flags|=2),A.return=s,u.return=s,u.sibling=A,s.child=u,Fc(null,u),u=s.child,A=r.child.memoizedState,A===null?A=zp(l):(p=A.cachePool,p!==null?(B=qt._currentValue,p=p.parent!==B?{parent:B,pool:B}:p):p=Bb(),A={baseLanes:A.baseLanes|l,cachePool:p}),u.memoizedState=A,u.childLanes=Bp(r,T,l),s.memoizedState=Up,Fc(r.child,u)):(js(s),l=r.child,r=l.sibling,l=jr(l,{mode:"visible",children:u.children}),l.return=s,l.sibling=null,r!==null&&(T=s.deletions,T===null?(s.deletions=[r],s.flags|=16):T.push(r)),s.child=l,s.memoizedState=null,l)}function Fp(r,s){return s=mh({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function mh(r,s){return r=Xn(22,r,null,s),r.lanes=0,r}function qp(r,s,l){return so(s,r.child,null,l),r=Fp(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function e_(r,s,l){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),rp(r.return,s,l)}function Hp(r,s,l,u,p,y){var T=r.memoizedState;T===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:p,treeForkCount:y}:(T.isBackwards=s,T.rendering=null,T.renderingStartTime=0,T.last=u,T.tail=l,T.tailMode=p,T.treeForkCount=y)}function t_(r,s,l){var u=s.pendingProps,p=u.revealOrder,y=u.tail;u=u.children;var T=Ot.current,A=(T&2)!==0;if(A?(T=T&1|2,s.flags|=128):T&=1,de(Ot,T),hn(r,s,u,l),u=Xe?Nc:0,!A&&r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&e_(r,l,s);else if(r.tag===19)e_(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(p){case"forwards":for(l=s.child,p=null;l!==null;)r=l.alternate,r!==null&&nh(r)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),Hp(s,!1,p,l,y,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&nh(r)===null){s.child=p;break}r=p.sibling,p.sibling=l,l=p,p=r}Hp(s,!0,l,null,y,u);break;case"together":Hp(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function qr(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),Bs|=s.lanes,(l&s.childLanes)===0)if(r!==null){if(el(r,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,l=jr(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=jr(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function $p(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Yd(r)))}function vN(r,s,l){switch(s.tag){case 3:ct(s,s.stateNode.containerInfo),Ms(s,qt,r.memoizedState.cache),Ja();break;case 27:case 5:tn(s);break;case 4:ct(s,s.stateNode.containerInfo);break;case 10:Ms(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,gp(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(js(s),s.flags|=128,null):(l&s.child.childLanes)!==0?J1(r,s,l):(js(s),r=qr(r,s,l),r!==null?r.sibling:null);js(s);break;case 19:var p=(r.flags&128)!==0;if(u=(l&s.childLanes)!==0,u||(el(r,s,l,!1),u=(l&s.childLanes)!==0),p){if(u)return t_(r,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),de(Ot,Ot.current),u)break;return null;case 22:return s.lanes=0,K1(r,s,l,s.pendingProps);case 24:Ms(s,qt,r.memoizedState.cache)}return qr(r,s,l)}function n_(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps)$t=!0;else{if(!$p(r,l)&&(s.flags&128)===0)return $t=!1,vN(r,s,l);$t=(r.flags&131072)!==0}else $t=!1,Xe&&(s.flags&1048576)!==0&&Ob(s,Nc,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(r=io(s.elementType),s.type=r,typeof r=="function")Xm(r)?(u=oo(r,u),s.tag=1,s=W1(null,s,r,u,l)):(s.tag=0,s=Lp(null,s,r,u,l));else{if(r!=null){var p=r.$$typeof;if(p===Q){s.tag=11,s=H1(null,s,r,u,l);break e}else if(p===S){s.tag=14,s=$1(null,s,r,u,l);break e}}throw s=ze(r)||r,Error(i(306,s,""))}}return s;case 0:return Lp(r,s,s.type,s.pendingProps,l);case 1:return u=s.type,p=oo(u,s.pendingProps),W1(r,s,u,p,l);case 3:e:{if(ct(s,s.stateNode.containerInfo),r===null)throw Error(i(387));u=s.pendingProps;var y=s.memoizedState;p=y.element,dp(r,s),jc(s,u,null,l);var T=s.memoizedState;if(u=T.cache,Ms(s,qt,u),u!==y.cache&&sp(s,[qt],l,!0),Pc(),u=T.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=Z1(r,s,u,l);break e}else if(u!==p){p=di(Error(i(424)),s),Ic(p),s=Z1(r,s,u,l);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(yt=gi(r.firstChild),un=s,Xe=!0,ks=null,mi=!0,l=Kb(s,null,u,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ja(),u===p){s=qr(r,s,l);break e}hn(r,s,u,l)}s=s.child}return s;case 26:return fh(r,s),r===null?(l=fw(s.type,null,s.pendingProps,null))?s.memoizedState=l:Xe||(l=s.type,r=s.pendingProps,u=Ih(_e.current).createElement(l),u[zt]=s,u[nn]=r,fn(u,l,r),Bt(u),s.stateNode=u):s.memoizedState=fw(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return tn(s),r===null&&Xe&&(u=s.stateNode=uw(s.type,s.pendingProps,_e.current),un=s,mi=!0,p=yt,Gs(s.type)?(xg=p,yt=gi(u.firstChild)):yt=p),hn(r,s,s.pendingProps.children,l),fh(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&Xe&&((p=u=yt)&&(u=YN(u,s.type,s.pendingProps,mi),u!==null?(s.stateNode=u,un=s,yt=gi(u.firstChild),mi=!1,p=!0):p=!1),p||Ds(s)),tn(s),p=s.type,y=s.pendingProps,T=r!==null?r.memoizedProps:null,u=y.children,bg(p,y)?u=null:T!==null&&bg(p,T)&&(s.flags|=32),s.memoizedState!==null&&(p=vp(r,s,cN,null,null,l),iu._currentValue=p),fh(r,s),hn(r,s,u,l),s.child;case 6:return r===null&&Xe&&((r=l=yt)&&(l=QN(l,s.pendingProps,mi),l!==null?(s.stateNode=l,un=s,yt=null,r=!0):r=!1),r||Ds(s)),null;case 13:return J1(r,s,l);case 4:return ct(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=so(s,null,u,l):hn(r,s,u,l),s.child;case 11:return H1(r,s,s.type,s.pendingProps,l);case 7:return hn(r,s,s.pendingProps,l),s.child;case 8:return hn(r,s,s.pendingProps.children,l),s.child;case 12:return hn(r,s,s.pendingProps.children,l),s.child;case 10:return u=s.pendingProps,Ms(s,s.type,u.value),hn(r,s,u.children,l),s.child;case 9:return p=s.type._context,u=s.pendingProps.children,to(s),p=dn(p),u=u(p),s.flags|=1,hn(r,s,u,l),s.child;case 14:return $1(r,s,s.type,s.pendingProps,l);case 15:return G1(r,s,s.type,s.pendingProps,l);case 19:return t_(r,s,l);case 31:return yN(r,s,l);case 22:return K1(r,s,l,s.pendingProps);case 24:return to(s),u=dn(qt),r===null?(p=lp(),p===null&&(p=mt,y=ap(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=l),p=y),s.memoizedState={parent:u,cache:p},up(s),Ms(s,qt,p)):((r.lanes&l)!==0&&(dp(r,s),jc(s,null,null,l),Pc()),p=r.memoizedState,y=s.memoizedState,p.parent!==u?(p={parent:u,cache:u},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),Ms(s,qt,u)):(u=y.cache,Ms(s,qt,u),u!==p.cache&&sp(s,[qt],l,!0))),hn(r,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Hr(r){r.flags|=4}function Gp(r,s,l,u,p){if((s=(r.mode&32)!==0)&&(s=!1),s){if(r.flags|=16777216,(p&335544128)===p)if(r.stateNode.complete)r.flags|=8192;else if(N_())r.flags|=8192;else throw ro=Zd,cp}else r.flags&=-16777217}function i_(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!vw(s))if(N_())r.flags|=8192;else throw ro=Zd,cp}function ph(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?wd():536870912,r.lanes|=s,hl|=s)}function qc(r,s){if(!Xe)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function vt(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,u=0;if(s)for(var p=r.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=u,r.childLanes=l,s}function bN(r,s,l){var u=s.pendingProps;switch(ep(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(s),null;case 1:return vt(s),null;case 3:return l=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),zr(qt),Fe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(Jo(s)?Hr(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,np())),vt(s),null;case 26:var p=s.type,y=s.memoizedState;return r===null?(Hr(s),y!==null?(vt(s),i_(s,y)):(vt(s),Gp(s,p,null,u,l))):y?y!==r.memoizedState?(Hr(s),vt(s),i_(s,y)):(vt(s),s.flags&=-16777217):(r=r.memoizedProps,r!==u&&Hr(s),vt(s),Gp(s,p,r,u,l)),null;case 27:if(Rn(s),l=_e.current,p=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Hr(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return vt(s),null}r=he.current,Jo(s)?Pb(s):(r=uw(p,u,l),s.stateNode=r,Hr(s))}return vt(s),null;case 5:if(Rn(s),p=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Hr(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return vt(s),null}if(y=he.current,Jo(s))Pb(s);else{var T=Ih(_e.current);switch(y){case 1:y=T.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:y=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":y=T.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":y=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":y=T.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?T.createElement("select",{is:u.is}):T.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?T.createElement(p,{is:u.is}):T.createElement(p)}}y[zt]=s,y[nn]=u;e:for(T=s.child;T!==null;){if(T.tag===5||T.tag===6)y.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===s)break e;for(;T.sibling===null;){if(T.return===null||T.return===s)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}s.stateNode=y;e:switch(fn(y,p,u),p){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Hr(s)}}return vt(s),Gp(s,s.type,r===null?null:r.memoizedProps,s.pendingProps,l),null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&Hr(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=_e.current,Jo(s)){if(r=s.stateNode,l=s.memoizedProps,u=null,p=un,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}r[zt]=s,r=!!(r.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||J_(r.nodeValue,l)),r||Ds(s,!0)}else r=Ih(r).createTextNode(u),r[zt]=s,s.stateNode=r}return vt(s),null;case 31:if(l=s.memoizedState,r===null||r.memoizedState!==null){if(u=Jo(s),l!==null){if(r===null){if(!u)throw Error(i(318));if(r=s.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[zt]=s}else Ja(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;vt(s),r=!1}else l=np(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=l),r=!0;if(!r)return s.flags&256?(Zn(s),s):(Zn(s),null);if((s.flags&128)!==0)throw Error(i(558))}return vt(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(p=Jo(s),u!==null&&u.dehydrated!==null){if(r===null){if(!p)throw Error(i(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[zt]=s}else Ja(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;vt(s),p=!1}else p=np(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(Zn(s),s):(Zn(s),null)}return Zn(s),(s.flags&128)!==0?(s.lanes=l,s):(l=u!==null,r=r!==null&&r.memoizedState!==null,l&&(u=s.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==p&&(u.flags|=2048)),l!==r&&l&&(s.child.flags|=8192),ph(s,s.updateQueue),vt(s),null);case 4:return Fe(),r===null&&mg(s.stateNode.containerInfo),vt(s),null;case 10:return zr(s.type),vt(s),null;case 19:if(Z(Ot),u=s.memoizedState,u===null)return vt(s),null;if(p=(s.flags&128)!==0,y=u.rendering,y===null)if(p)qc(u,!1);else{if(Ct!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(y=nh(r),y!==null){for(s.flags|=128,qc(u,!1),r=y.updateQueue,s.updateQueue=r,ph(s,r),s.subtreeFlags=0,r=l,l=s.child;l!==null;)kb(l,r),l=l.sibling;return de(Ot,Ot.current&1|2),Xe&&Lr(s,u.treeForkCount),s.child}r=r.sibling}u.tail!==null&&Wt()>_h&&(s.flags|=128,p=!0,qc(u,!1),s.lanes=4194304)}else{if(!p)if(r=nh(y),r!==null){if(s.flags|=128,p=!0,r=r.updateQueue,s.updateQueue=r,ph(s,r),qc(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!Xe)return vt(s),null}else 2*Wt()-u.renderingStartTime>_h&&l!==536870912&&(s.flags|=128,p=!0,qc(u,!1),s.lanes=4194304);u.isBackwards?(y.sibling=s.child,s.child=y):(r=u.last,r!==null?r.sibling=y:s.child=y,u.last=y)}return u.tail!==null?(r=u.tail,u.rendering=r,u.tail=r.sibling,u.renderingStartTime=Wt(),r.sibling=null,l=Ot.current,de(Ot,p?l&1|2:l&1),Xe&&Lr(s,u.treeForkCount),r):(vt(s),null);case 22:case 23:return Zn(s),pp(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(l&536870912)!==0&&(s.flags&128)===0&&(vt(s),s.subtreeFlags&6&&(s.flags|=8192)):vt(s),l=s.updateQueue,l!==null&&ph(s,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==l&&(s.flags|=2048),r!==null&&Z(no),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),zr(qt),vt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function _N(r,s){switch(ep(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return zr(qt),Fe(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Rn(s),null;case 31:if(s.memoizedState!==null){if(Zn(s),s.alternate===null)throw Error(i(340));Ja()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 13:if(Zn(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Ja()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Z(Ot),null;case 4:return Fe(),null;case 10:return zr(s.type),null;case 22:case 23:return Zn(s),pp(),r!==null&&Z(no),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return zr(qt),null;case 25:return null;default:return null}}function r_(r,s){switch(ep(s),s.tag){case 3:zr(qt),Fe();break;case 26:case 27:case 5:Rn(s);break;case 4:Fe();break;case 31:s.memoizedState!==null&&Zn(s);break;case 13:Zn(s);break;case 19:Z(Ot);break;case 10:zr(s.type);break;case 22:case 23:Zn(s),pp(),r!==null&&Z(no);break;case 24:zr(qt)}}function Hc(r,s){try{var l=s.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var p=u.next;l=p;do{if((l.tag&r)===r){u=void 0;var y=l.create,T=l.inst;u=y(),T.destroy=u}l=l.next}while(l!==p)}}catch(A){ot(s,s.return,A)}}function Us(r,s,l){try{var u=s.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var y=p.next;u=y;do{if((u.tag&r)===r){var T=u.inst,A=T.destroy;if(A!==void 0){T.destroy=void 0,p=s;var B=l,Y=A;try{Y()}catch(te){ot(p,B,te)}}}u=u.next}while(u!==y)}}catch(te){ot(s,s.return,te)}}function s_(r){var s=r.updateQueue;if(s!==null){var l=r.stateNode;try{Qb(s,l)}catch(u){ot(r,r.return,u)}}}function a_(r,s,l){l.props=oo(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(u){ot(r,s,u)}}function $c(r,s){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof l=="function"?r.refCleanup=l(u):l.current=u}}catch(p){ot(r,s,p)}}function hr(r,s){var l=r.ref,u=r.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(p){ot(r,s,p)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){ot(r,s,p)}else l.current=null}function o_(r){var s=r.type,l=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(p){ot(r,r.return,p)}}function Kp(r,s,l){try{var u=r.stateNode;FN(u,r.type,l,s),u[nn]=s}catch(p){ot(r,r.return,p)}}function l_(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Gs(r.type)||r.tag===4}function Yp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||l_(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Gs(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Qp(r,s,l){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(r),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Di));else if(u!==4&&(u===27&&Gs(r.type)&&(l=r.stateNode,s=null),r=r.child,r!==null))for(Qp(r,s,l),r=r.sibling;r!==null;)Qp(r,s,l),r=r.sibling}function gh(r,s,l){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(u!==4&&(u===27&&Gs(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(gh(r,s,l),r=r.sibling;r!==null;)gh(r,s,l),r=r.sibling}function c_(r){var s=r.stateNode,l=r.memoizedProps;try{for(var u=r.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);fn(s,u,l),s[zt]=r,s[nn]=l}catch(y){ot(r,r.return,y)}}var $r=!1,Gt=!1,Xp=!1,u_=typeof WeakSet=="function"?WeakSet:Set,sn=null;function wN(r,s){if(r=r.containerInfo,yg=jh,r=Tb(r),qm(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var p=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var T=0,A=-1,B=-1,Y=0,te=0,ae=r,X=null;t:for(;;){for(var J;ae!==l||p!==0&&ae.nodeType!==3||(A=T+p),ae!==y||u!==0&&ae.nodeType!==3||(B=T+u),ae.nodeType===3&&(T+=ae.nodeValue.length),(J=ae.firstChild)!==null;)X=ae,ae=J;for(;;){if(ae===r)break t;if(X===l&&++Y===p&&(A=T),X===y&&++te===u&&(B=T),(J=ae.nextSibling)!==null)break;ae=X,X=ae.parentNode}ae=J}l=A===-1||B===-1?null:{start:A,end:B}}else l=null}l=l||{start:0,end:0}}else l=null;for(vg={focusedElem:r,selectionRange:l},jh=!1,sn=s;sn!==null;)if(s=sn,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,sn=r;else for(;sn!==null;){switch(s=sn,y=s.alternate,r=s.flags,s.tag){case 0:if((r&4)!==0&&(r=s.updateQueue,r=r!==null?r.events:null,r!==null))for(l=0;l<r.length;l++)p=r[l],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,l=s,p=y.memoizedProps,y=y.memoizedState,u=l.stateNode;try{var be=oo(l.type,p);r=u.getSnapshotBeforeUpdate(be,y),u.__reactInternalSnapshotBeforeUpdate=r}catch(Ce){ot(l,l.return,Ce)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,l=r.nodeType,l===9)wg(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":wg(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,sn=r;break}sn=s.return}}function d_(r,s,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Kr(r,l),u&4&&Hc(5,l);break;case 1:if(Kr(r,l),u&4)if(r=l.stateNode,s===null)try{r.componentDidMount()}catch(T){ot(l,l.return,T)}else{var p=oo(l.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(p,s,r.__reactInternalSnapshotBeforeUpdate)}catch(T){ot(l,l.return,T)}}u&64&&s_(l),u&512&&$c(l,l.return);break;case 3:if(Kr(r,l),u&64&&(r=l.updateQueue,r!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{Qb(r,s)}catch(T){ot(l,l.return,T)}}break;case 27:s===null&&u&4&&c_(l);case 26:case 5:Kr(r,l),s===null&&u&4&&o_(l),u&512&&$c(l,l.return);break;case 12:Kr(r,l);break;case 31:Kr(r,l),u&4&&m_(r,l);break;case 13:Kr(r,l),u&4&&p_(r,l),u&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=IN.bind(null,l),XN(r,l))));break;case 22:if(u=l.memoizedState!==null||$r,!u){s=s!==null&&s.memoizedState!==null||Gt,p=$r;var y=Gt;$r=u,(Gt=s)&&!y?Yr(r,l,(l.subtreeFlags&8772)!==0):Kr(r,l),$r=p,Gt=y}break;case 30:break;default:Kr(r,l)}}function h_(r){var s=r.alternate;s!==null&&(r.alternate=null,h_(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Po(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var _t=null,Pn=!1;function Gr(r,s,l){for(l=l.child;l!==null;)f_(r,s,l),l=l.sibling}function f_(r,s,l){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(Ri,l)}catch{}switch(l.tag){case 26:Gt||hr(l,s),Gr(r,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Gt||hr(l,s);var u=_t,p=Pn;Gs(l.type)&&(_t=l.stateNode,Pn=!1),Gr(r,s,l),eu(l.stateNode),_t=u,Pn=p;break;case 5:Gt||hr(l,s);case 6:if(u=_t,p=Pn,_t=null,Gr(r,s,l),_t=u,Pn=p,_t!==null)if(Pn)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(l.stateNode)}catch(y){ot(l,s,y)}else try{_t.removeChild(l.stateNode)}catch(y){ot(l,s,y)}break;case 18:_t!==null&&(Pn?(r=_t,sw(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),_l(r)):sw(_t,l.stateNode));break;case 4:u=_t,p=Pn,_t=l.stateNode.containerInfo,Pn=!0,Gr(r,s,l),_t=u,Pn=p;break;case 0:case 11:case 14:case 15:Us(2,l,s),Gt||Us(4,l,s),Gr(r,s,l);break;case 1:Gt||(hr(l,s),u=l.stateNode,typeof u.componentWillUnmount=="function"&&a_(l,s,u)),Gr(r,s,l);break;case 21:Gr(r,s,l);break;case 22:Gt=(u=Gt)||l.memoizedState!==null,Gr(r,s,l),Gt=u;break;default:Gr(r,s,l)}}function m_(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{_l(r)}catch(l){ot(s,s.return,l)}}}function p_(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{_l(r)}catch(l){ot(s,s.return,l)}}function TN(r){switch(r.tag){case 31:case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new u_),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new u_),s;default:throw Error(i(435,r.tag))}}function yh(r,s){var l=TN(r);s.forEach(function(u){if(!l.has(u)){l.add(u);var p=kN.bind(null,r,u);u.then(p,p)}})}function jn(r,s){var l=s.deletions;if(l!==null)for(var u=0;u<l.length;u++){var p=l[u],y=r,T=s,A=T;e:for(;A!==null;){switch(A.tag){case 27:if(Gs(A.type)){_t=A.stateNode,Pn=!1;break e}break;case 5:_t=A.stateNode,Pn=!1;break e;case 3:case 4:_t=A.stateNode.containerInfo,Pn=!0;break e}A=A.return}if(_t===null)throw Error(i(160));f_(y,T,p),_t=null,Pn=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)g_(s,r),s=s.sibling}var Li=null;function g_(r,s){var l=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:jn(s,r),Ln(r),u&4&&(Us(3,r,r.return),Hc(3,r),Us(5,r,r.return));break;case 1:jn(s,r),Ln(r),u&512&&(Gt||l===null||hr(l,l.return)),u&64&&$r&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var p=Li;if(jn(s,r),Ln(r),u&512&&(Gt||l===null||hr(l,l.return)),u&4){var y=l!==null?l.memoizedState:null;if(u=r.memoizedState,l===null)if(u===null)if(r.stateNode===null){e:{u=r.type,l=r.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":y=p.getElementsByTagName("title")[0],(!y||y[Zi]||y[zt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(u),p.head.insertBefore(y,p.querySelector("head > title"))),fn(y,u,l),y[zt]=r,Bt(y),u=y;break e;case"link":var T=gw("link","href",p).get(u+(l.href||""));if(T){for(var A=0;A<T.length;A++)if(y=T[A],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(A,1);break t}}y=p.createElement(u),fn(y,u,l),p.head.appendChild(y);break;case"meta":if(T=gw("meta","content",p).get(u+(l.content||""))){for(A=0;A<T.length;A++)if(y=T[A],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(A,1);break t}}y=p.createElement(u),fn(y,u,l),p.head.appendChild(y);break;default:throw Error(i(468,u))}y[zt]=r,Bt(y),u=y}r.stateNode=u}else yw(p,r.type,r.stateNode);else r.stateNode=pw(p,u,r.memoizedProps);else y!==u?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,u===null?yw(p,r.type,r.stateNode):pw(p,u,r.memoizedProps)):u===null&&r.stateNode!==null&&Kp(r,r.memoizedProps,l.memoizedProps)}break;case 27:jn(s,r),Ln(r),u&512&&(Gt||l===null||hr(l,l.return)),l!==null&&u&4&&Kp(r,r.memoizedProps,l.memoizedProps);break;case 5:if(jn(s,r),Ln(r),u&512&&(Gt||l===null||hr(l,l.return)),r.flags&32){p=r.stateNode;try{Vn(p,"")}catch(be){ot(r,r.return,be)}}u&4&&r.stateNode!=null&&(p=r.memoizedProps,Kp(r,p,l!==null?l.memoizedProps:p)),u&1024&&(Xp=!0);break;case 6:if(jn(s,r),Ln(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,l=r.stateNode;try{l.nodeValue=u}catch(be){ot(r,r.return,be)}}break;case 3:if(Mh=null,p=Li,Li=kh(s.containerInfo),jn(s,r),Li=p,Ln(r),u&4&&l!==null&&l.memoizedState.isDehydrated)try{_l(s.containerInfo)}catch(be){ot(r,r.return,be)}Xp&&(Xp=!1,y_(r));break;case 4:u=Li,Li=kh(r.stateNode.containerInfo),jn(s,r),Ln(r),Li=u;break;case 12:jn(s,r),Ln(r);break;case 31:jn(s,r),Ln(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,yh(r,u)));break;case 13:jn(s,r),Ln(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(bh=Wt()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,yh(r,u)));break;case 22:p=r.memoizedState!==null;var B=l!==null&&l.memoizedState!==null,Y=$r,te=Gt;if($r=Y||p,Gt=te||B,jn(s,r),Gt=te,$r=Y,Ln(r),u&8192)e:for(s=r.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(l===null||B||$r||Gt||lo(r)),l=null,s=r;;){if(s.tag===5||s.tag===26){if(l===null){B=l=s;try{if(y=B.stateNode,p)T=y.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{A=B.stateNode;var ae=B.memoizedProps.style,X=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;A.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(be){ot(B,B.return,be)}}}else if(s.tag===6){if(l===null){B=s;try{B.stateNode.nodeValue=p?"":B.memoizedProps}catch(be){ot(B,B.return,be)}}}else if(s.tag===18){if(l===null){B=s;try{var J=B.stateNode;p?aw(J,!0):aw(B.stateNode,!1)}catch(be){ot(B,B.return,be)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,yh(r,l))));break;case 19:jn(s,r),Ln(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,yh(r,u)));break;case 30:break;case 21:break;default:jn(s,r),Ln(r)}}function Ln(r){var s=r.flags;if(s&2){try{for(var l,u=r.return;u!==null;){if(l_(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var p=l.stateNode,y=Yp(r);gh(r,y,p);break;case 5:var T=l.stateNode;l.flags&32&&(Vn(T,""),l.flags&=-33);var A=Yp(r);gh(r,A,T);break;case 3:case 4:var B=l.stateNode.containerInfo,Y=Yp(r);Qp(r,Y,B);break;default:throw Error(i(161))}}catch(te){ot(r,r.return,te)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function y_(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;y_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Kr(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)d_(r,s.alternate,s),s=s.sibling}function lo(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Us(4,s,s.return),lo(s);break;case 1:hr(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&a_(s,s.return,l),lo(s);break;case 27:eu(s.stateNode);case 26:case 5:hr(s,s.return),lo(s);break;case 22:s.memoizedState===null&&lo(s);break;case 30:lo(s);break;default:lo(s)}r=r.sibling}}function Yr(r,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,p=r,y=s,T=y.flags;switch(y.tag){case 0:case 11:case 15:Yr(p,y,l),Hc(4,y);break;case 1:if(Yr(p,y,l),u=y,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Y){ot(u,u.return,Y)}if(u=y,p=u.updateQueue,p!==null){var A=u.stateNode;try{var B=p.shared.hiddenCallbacks;if(B!==null)for(p.shared.hiddenCallbacks=null,p=0;p<B.length;p++)Yb(B[p],A)}catch(Y){ot(u,u.return,Y)}}l&&T&64&&s_(y),$c(y,y.return);break;case 27:c_(y);case 26:case 5:Yr(p,y,l),l&&u===null&&T&4&&o_(y),$c(y,y.return);break;case 12:Yr(p,y,l);break;case 31:Yr(p,y,l),l&&T&4&&m_(p,y);break;case 13:Yr(p,y,l),l&&T&4&&p_(p,y);break;case 22:y.memoizedState===null&&Yr(p,y,l),$c(y,y.return);break;case 30:break;default:Yr(p,y,l)}s=s.sibling}}function Wp(r,s){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&kc(l))}function Zp(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&kc(r))}function Ui(r,s,l,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)v_(r,s,l,u),s=s.sibling}function v_(r,s,l,u){var p=s.flags;switch(s.tag){case 0:case 11:case 15:Ui(r,s,l,u),p&2048&&Hc(9,s);break;case 1:Ui(r,s,l,u);break;case 3:Ui(r,s,l,u),p&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&kc(r)));break;case 12:if(p&2048){Ui(r,s,l,u),r=s.stateNode;try{var y=s.memoizedProps,T=y.id,A=y.onPostCommit;typeof A=="function"&&A(T,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(B){ot(s,s.return,B)}}else Ui(r,s,l,u);break;case 31:Ui(r,s,l,u);break;case 13:Ui(r,s,l,u);break;case 23:break;case 22:y=s.stateNode,T=s.alternate,s.memoizedState!==null?y._visibility&2?Ui(r,s,l,u):Gc(r,s):y._visibility&2?Ui(r,s,l,u):(y._visibility|=2,cl(r,s,l,u,(s.subtreeFlags&10256)!==0||!1)),p&2048&&Wp(T,s);break;case 24:Ui(r,s,l,u),p&2048&&Zp(s.alternate,s);break;default:Ui(r,s,l,u)}}function cl(r,s,l,u,p){for(p=p&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var y=r,T=s,A=l,B=u,Y=T.flags;switch(T.tag){case 0:case 11:case 15:cl(y,T,A,B,p),Hc(8,T);break;case 23:break;case 22:var te=T.stateNode;T.memoizedState!==null?te._visibility&2?cl(y,T,A,B,p):Gc(y,T):(te._visibility|=2,cl(y,T,A,B,p)),p&&Y&2048&&Wp(T.alternate,T);break;case 24:cl(y,T,A,B,p),p&&Y&2048&&Zp(T.alternate,T);break;default:cl(y,T,A,B,p)}s=s.sibling}}function Gc(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=r,u=s,p=u.flags;switch(u.tag){case 22:Gc(l,u),p&2048&&Wp(u.alternate,u);break;case 24:Gc(l,u),p&2048&&Zp(u.alternate,u);break;default:Gc(l,u)}s=s.sibling}}var Kc=8192;function ul(r,s,l){if(r.subtreeFlags&Kc)for(r=r.child;r!==null;)b_(r,s,l),r=r.sibling}function b_(r,s,l){switch(r.tag){case 26:ul(r,s,l),r.flags&Kc&&r.memoizedState!==null&&lI(l,Li,r.memoizedState,r.memoizedProps);break;case 5:ul(r,s,l);break;case 3:case 4:var u=Li;Li=kh(r.stateNode.containerInfo),ul(r,s,l),Li=u;break;case 22:r.memoizedState===null&&(u=r.alternate,u!==null&&u.memoizedState!==null?(u=Kc,Kc=16777216,ul(r,s,l),Kc=u):ul(r,s,l));break;default:ul(r,s,l)}}function __(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Yc(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];sn=u,T_(u,r)}__(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)w_(r),r=r.sibling}function w_(r){switch(r.tag){case 0:case 11:case 15:Yc(r),r.flags&2048&&Us(9,r,r.return);break;case 3:Yc(r);break;case 12:Yc(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,vh(r)):Yc(r);break;default:Yc(r)}}function vh(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];sn=u,T_(u,r)}__(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Us(8,s,s.return),vh(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,vh(s));break;default:vh(s)}r=r.sibling}}function T_(r,s){for(;sn!==null;){var l=sn;switch(l.tag){case 0:case 11:case 15:Us(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:kc(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,sn=u;else e:for(l=r;sn!==null;){u=sn;var p=u.sibling,y=u.return;if(h_(u),u===l){sn=null;break e}if(p!==null){p.return=y,sn=p;break e}sn=y}}}var EN={getCacheForType:function(r){var s=dn(qt),l=s.data.get(r);return l===void 0&&(l=r(),s.data.set(r,l)),l},cacheSignal:function(){return dn(qt).controller.signal}},xN=typeof WeakMap=="function"?WeakMap:Map,it=0,mt=null,qe=null,$e=0,at=0,Jn=null,zs=!1,dl=!1,Jp=!1,Qr=0,Ct=0,Bs=0,co=0,eg=0,ei=0,hl=0,Qc=null,Un=null,tg=!1,bh=0,E_=0,_h=1/0,wh=null,Fs=null,Zt=0,qs=null,fl=null,Xr=0,ng=0,ig=null,x_=null,Xc=0,rg=null;function ti(){return(it&2)!==0&&$e!==0?$e&-$e:$.T!==null?ug():Td()}function S_(){if(ei===0)if(($e&536870912)===0||Xe){var r=Pa;Pa<<=1,(Pa&3932160)===0&&(Pa=262144),ei=r}else ei=536870912;return r=Wn.current,r!==null&&(r.flags|=32),ei}function zn(r,s,l){(r===mt&&(at===2||at===9)||r.cancelPendingCommit!==null)&&(ml(r,0),Hs(r,$e,ei,!1)),ja(r,l),((it&2)===0||r!==mt)&&(r===mt&&((it&2)===0&&(co|=l),Ct===4&&Hs(r,$e,ei,!1)),fr(r))}function A_(r,s,l){if((it&6)!==0)throw Error(i(327));var u=!l&&(s&127)===0&&(s&r.expiredLanes)===0||Ni(r,s),p=u?CN(r,s):ag(r,s,!0),y=u;do{if(p===0){dl&&!u&&Hs(r,s,0,!1);break}else{if(l=r.current.alternate,y&&!SN(l)){p=ag(r,s,!1),y=!1;continue}if(p===2){if(y=s,r.errorRecoveryDisabledLanes&y)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;e:{var A=r;p=Qc;var B=A.current.memoizedState.isDehydrated;if(B&&(ml(A,T).flags|=256),T=ag(A,T,!1),T!==2){if(Jp&&!B){A.errorRecoveryDisabledLanes|=y,co|=y,p=4;break e}y=Un,Un=p,y!==null&&(Un===null?Un=y:Un.push.apply(Un,y))}p=T}if(y=!1,p!==2)continue}}if(p===1){ml(r,0),Hs(r,s,0,!0);break}e:{switch(u=r,y=p,y){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Hs(u,s,ei,!zs);break e;case 2:Un=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(p=bh+300-Wt(),10<p)){if(Hs(u,s,ei,!zs),Qi(u,0,!0)!==0)break e;Xr=s,u.timeoutHandle=iw(C_.bind(null,u,l,Un,wh,tg,s,ei,co,hl,zs,y,"Throttled",-0,0),p);break e}C_(u,l,Un,wh,tg,s,ei,co,hl,zs,y,null,-0,0)}}break}while(!0);fr(r)}function C_(r,s,l,u,p,y,T,A,B,Y,te,ae,X,J){if(r.timeoutHandle=-1,ae=s.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Di},b_(s,y,ae);var be=(y&62914560)===y?bh-Wt():(y&4194048)===y?E_-Wt():0;if(be=cI(ae,be),be!==null){Xr=y,r.cancelPendingCommit=be(V_.bind(null,r,s,y,l,u,p,T,A,B,te,ae,null,X,J)),Hs(r,y,T,!Y);return}}V_(r,s,y,l,u,p,T,A,B)}function SN(r){for(var s=r;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var p=l[u],y=p.getSnapshot;p=p.value;try{if(!Qn(y(),p))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Hs(r,s,l,u){s&=~eg,s&=~co,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var p=s;0<p;){var y=31-Dt(p),T=1<<y;u[y]=-1,p&=~T}l!==0&&La(r,l,s)}function Th(){return(it&6)===0?(Wc(0),!1):!0}function sg(){if(qe!==null){if(at===0)var r=qe.return;else r=qe,Ur=eo=null,wp(r),rl=null,Mc=0,r=qe;for(;r!==null;)r_(r.alternate,r),r=r.return;qe=null}}function ml(r,s){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,$N(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),Xr=0,sg(),mt=r,qe=l=jr(r.current,null),$e=s,at=0,Jn=null,zs=!1,dl=Ni(r,s),Jp=!1,hl=ei=eg=co=Bs=Ct=0,Un=Qc=null,tg=!1,(s&8)!==0&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var p=31-Dt(u),y=1<<p;s|=r[p],u&=~y}return Qr=s,qd(),l}function R_(r,s){Le=null,$.H=Bc,s===il||s===Wd?(s=Hb(),at=3):s===cp?(s=Hb(),at=4):at=s===jp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Jn=s,qe===null&&(Ct=1,dh(r,di(s,r.current)))}function N_(){var r=Wn.current;return r===null?!0:($e&4194048)===$e?pi===null:($e&62914560)===$e||($e&536870912)!==0?r===pi:!1}function I_(){var r=$.H;return $.H=Bc,r===null?Bc:r}function k_(){var r=$.A;return $.A=EN,r}function Eh(){Ct=4,zs||($e&4194048)!==$e&&Wn.current!==null||(dl=!0),(Bs&134217727)===0&&(co&134217727)===0||mt===null||Hs(mt,$e,ei,!1)}function ag(r,s,l){var u=it;it|=2;var p=I_(),y=k_();(mt!==r||$e!==s)&&(wh=null,ml(r,s)),s=!1;var T=Ct;e:do try{if(at!==0&&qe!==null){var A=qe,B=Jn;switch(at){case 8:sg(),T=6;break e;case 3:case 2:case 9:case 6:Wn.current===null&&(s=!0);var Y=at;if(at=0,Jn=null,pl(r,A,B,Y),l&&dl){T=0;break e}break;default:Y=at,at=0,Jn=null,pl(r,A,B,Y)}}AN(),T=Ct;break}catch(te){R_(r,te)}while(!0);return s&&r.shellSuspendCounter++,Ur=eo=null,it=u,$.H=p,$.A=y,qe===null&&(mt=null,$e=0,qd()),T}function AN(){for(;qe!==null;)D_(qe)}function CN(r,s){var l=it;it|=2;var u=I_(),p=k_();mt!==r||$e!==s?(wh=null,_h=Wt()+500,ml(r,s)):dl=Ni(r,s);e:do try{if(at!==0&&qe!==null){s=qe;var y=Jn;t:switch(at){case 1:at=0,Jn=null,pl(r,s,y,1);break;case 2:case 9:if(Fb(y)){at=0,Jn=null,M_(s);break}s=function(){at!==2&&at!==9||mt!==r||(at=7),fr(r)},y.then(s,s);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:Fb(y)?(at=0,Jn=null,M_(s)):(at=0,Jn=null,pl(r,s,y,7));break;case 5:var T=null;switch(qe.tag){case 26:T=qe.memoizedState;case 5:case 27:var A=qe;if(T?vw(T):A.stateNode.complete){at=0,Jn=null;var B=A.sibling;if(B!==null)qe=B;else{var Y=A.return;Y!==null?(qe=Y,xh(Y)):qe=null}break t}}at=0,Jn=null,pl(r,s,y,5);break;case 6:at=0,Jn=null,pl(r,s,y,6);break;case 8:sg(),Ct=6;break e;default:throw Error(i(462))}}RN();break}catch(te){R_(r,te)}while(!0);return Ur=eo=null,$.H=u,$.A=p,it=l,qe!==null?0:(mt=null,$e=0,qd(),Ct)}function RN(){for(;qe!==null&&!bn();)D_(qe)}function D_(r){var s=n_(r.alternate,r,Qr);r.memoizedProps=r.pendingProps,s===null?xh(r):qe=s}function M_(r){var s=r,l=s.alternate;switch(s.tag){case 15:case 0:s=X1(l,s,s.pendingProps,s.type,void 0,$e);break;case 11:s=X1(l,s,s.pendingProps,s.type.render,s.ref,$e);break;case 5:wp(s);default:r_(l,s),s=qe=kb(s,Qr),s=n_(l,s,Qr)}r.memoizedProps=r.pendingProps,s===null?xh(r):qe=s}function pl(r,s,l,u){Ur=eo=null,wp(s),rl=null,Mc=0;var p=s.return;try{if(gN(r,p,s,l,$e)){Ct=1,dh(r,di(l,r.current)),qe=null;return}}catch(y){if(p!==null)throw qe=p,y;Ct=1,dh(r,di(l,r.current)),qe=null;return}s.flags&32768?(Xe||u===1?r=!0:dl||($e&536870912)!==0?r=!1:(zs=r=!0,(u===2||u===9||u===3||u===6)&&(u=Wn.current,u!==null&&u.tag===13&&(u.flags|=16384))),O_(s,r)):xh(s)}function xh(r){var s=r;do{if((s.flags&32768)!==0){O_(s,zs);return}r=s.return;var l=bN(s.alternate,s,Qr);if(l!==null){qe=l;return}if(s=s.sibling,s!==null){qe=s;return}qe=s=r}while(s!==null);Ct===0&&(Ct=5)}function O_(r,s){do{var l=_N(r.alternate,r);if(l!==null){l.flags&=32767,qe=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(r=r.sibling,r!==null)){qe=r;return}qe=r=l}while(r!==null);Ct=6,qe=null}function V_(r,s,l,u,p,y,T,A,B){r.cancelPendingCommit=null;do Sh();while(Zt!==0);if((it&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(y=s.lanes|s.childLanes,y|=Ym,Um(r,l,y,T,A,B),r===mt&&(qe=mt=null,$e=0),fl=s,qs=r,Xr=l,ng=y,ig=p,x_=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,DN(on,function(){return z_(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=$.T,$.T=null,p=ee.p,ee.p=2,T=it,it|=4;try{wN(r,s,l)}finally{it=T,ee.p=p,$.T=u}}Zt=1,P_(),j_(),L_()}}function P_(){if(Zt===1){Zt=0;var r=qs,s=fl,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=$.T,$.T=null;var u=ee.p;ee.p=2;var p=it;it|=4;try{g_(s,r);var y=vg,T=Tb(r.containerInfo),A=y.focusedElem,B=y.selectionRange;if(T!==A&&A&&A.ownerDocument&&wb(A.ownerDocument.documentElement,A)){if(B!==null&&qm(A)){var Y=B.start,te=B.end;if(te===void 0&&(te=Y),"selectionStart"in A)A.selectionStart=Y,A.selectionEnd=Math.min(te,A.value.length);else{var ae=A.ownerDocument||document,X=ae&&ae.defaultView||window;if(X.getSelection){var J=X.getSelection(),be=A.textContent.length,Ce=Math.min(B.start,be),ft=B.end===void 0?Ce:Math.min(B.end,be);!J.extend&&Ce>ft&&(T=ft,ft=Ce,Ce=T);var H=_b(A,Ce),q=_b(A,ft);if(H&&q&&(J.rangeCount!==1||J.anchorNode!==H.node||J.anchorOffset!==H.offset||J.focusNode!==q.node||J.focusOffset!==q.offset)){var K=ae.createRange();K.setStart(H.node,H.offset),J.removeAllRanges(),Ce>ft?(J.addRange(K),J.extend(q.node,q.offset)):(K.setEnd(q.node,q.offset),J.addRange(K))}}}}for(ae=[],J=A;J=J.parentNode;)J.nodeType===1&&ae.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ae.length;A++){var ie=ae[A];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}jh=!!yg,vg=yg=null}finally{it=p,ee.p=u,$.T=l}}r.current=s,Zt=2}}function j_(){if(Zt===2){Zt=0;var r=qs,s=fl,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=$.T,$.T=null;var u=ee.p;ee.p=2;var p=it;it|=4;try{d_(r,s.alternate,s)}finally{it=p,ee.p=u,$.T=l}}Zt=3}}function L_(){if(Zt===4||Zt===3){Zt=0,kt();var r=qs,s=fl,l=Xr,u=x_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Zt=5:(Zt=0,fl=qs=null,U_(r,r.pendingLanes));var p=r.pendingLanes;if(p===0&&(Fs=null),Mr(l),s=s.stateNode,ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(Ri,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=$.T,p=ee.p,ee.p=2,$.T=null;try{for(var y=r.onRecoverableError,T=0;T<u.length;T++){var A=u[T];y(A.value,{componentStack:A.stack})}}finally{$.T=s,ee.p=p}}(Xr&3)!==0&&Sh(),fr(r),p=r.pendingLanes,(l&261930)!==0&&(p&42)!==0?r===rg?Xc++:(Xc=0,rg=r):Xc=0,Wc(0)}}function U_(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,kc(s)))}function Sh(){return P_(),j_(),L_(),z_()}function z_(){if(Zt!==5)return!1;var r=qs,s=ng;ng=0;var l=Mr(Xr),u=$.T,p=ee.p;try{ee.p=32>l?32:l,$.T=null,l=ig,ig=null;var y=qs,T=Xr;if(Zt=0,fl=qs=null,Xr=0,(it&6)!==0)throw Error(i(331));var A=it;if(it|=4,w_(y.current),v_(y,y.current,T,l),it=A,Wc(0,!1),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(Ri,y)}catch{}return!0}finally{ee.p=p,$.T=u,U_(r,s)}}function B_(r,s,l){s=di(l,s),s=Pp(r.stateNode,s,2),r=Ps(r,s,2),r!==null&&(ja(r,2),fr(r))}function ot(r,s,l){if(r.tag===3)B_(r,r,l);else for(;s!==null;){if(s.tag===3){B_(s,r,l);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Fs===null||!Fs.has(u))){r=di(l,r),l=F1(2),u=Ps(s,l,2),u!==null&&(q1(l,u,s,r),ja(u,2),fr(u));break}}s=s.return}}function og(r,s,l){var u=r.pingCache;if(u===null){u=r.pingCache=new xN;var p=new Set;u.set(s,p)}else p=u.get(s),p===void 0&&(p=new Set,u.set(s,p));p.has(l)||(Jp=!0,p.add(l),r=NN.bind(null,r,s,l),s.then(r,r))}function NN(r,s,l){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,mt===r&&($e&l)===l&&(Ct===4||Ct===3&&($e&62914560)===$e&&300>Wt()-bh?(it&2)===0&&ml(r,0):eg|=l,hl===$e&&(hl=0)),fr(r)}function F_(r,s){s===0&&(s=wd()),r=Wa(r,s),r!==null&&(ja(r,s),fr(r))}function IN(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),F_(r,l)}function kN(r,s){var l=0;switch(r.tag){case 31:case 13:var u=r.stateNode,p=r.memoizedState;p!==null&&(l=p.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),F_(r,l)}function DN(r,s){return Me(r,s)}var Ah=null,gl=null,lg=!1,Ch=!1,cg=!1,$s=0;function fr(r){r!==gl&&r.next===null&&(gl===null?Ah=gl=r:gl=gl.next=r),Ch=!0,lg||(lg=!0,ON())}function Wc(r,s){if(!cg&&Ch){cg=!0;do for(var l=!1,u=Ah;u!==null;){if(r!==0){var p=u.pendingLanes;if(p===0)var y=0;else{var T=u.suspendedLanes,A=u.pingedLanes;y=(1<<31-Dt(42|r)+1)-1,y&=p&~(T&~A),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,G_(u,y))}else y=$e,y=Qi(u,u===mt?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||Ni(u,y)||(l=!0,G_(u,y));u=u.next}while(l);cg=!1}}function MN(){q_()}function q_(){Ch=lg=!1;var r=0;$s!==0&&HN()&&(r=$s);for(var s=Wt(),l=null,u=Ah;u!==null;){var p=u.next,y=H_(u,s);y===0?(u.next=null,l===null?Ah=p:l.next=p,p===null&&(gl=l)):(l=u,(r!==0||(y&3)!==0)&&(Ch=!0)),u=p}Zt!==0&&Zt!==5||Wc(r),$s!==0&&($s=0)}function H_(r,s){for(var l=r.suspendedLanes,u=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var T=31-Dt(y),A=1<<T,B=p[T];B===-1?((A&l)===0||(A&u)!==0)&&(p[T]=Lm(A,s)):B<=s&&(r.expiredLanes|=A),y&=~A}if(s=mt,l=$e,l=Qi(r,r===s?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,l===0||r===s&&(at===2||at===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&Lt(u),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||Ni(r,l)){if(s=l&-l,s===r.callbackPriority)return s;switch(u!==null&&Lt(u),Mr(l)){case 2:case 8:l=Je;break;case 32:l=on;break;case 268435456:l=_s;break;default:l=on}return u=$_.bind(null,r),l=Me(l,u),r.callbackPriority=s,r.callbackNode=l,s}return u!==null&&u!==null&&Lt(u),r.callbackPriority=2,r.callbackNode=null,2}function $_(r,s){if(Zt!==0&&Zt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(Sh()&&r.callbackNode!==l)return null;var u=$e;return u=Qi(r,r===mt?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(A_(r,u,s),H_(r,Wt()),r.callbackNode!=null&&r.callbackNode===l?$_.bind(null,r):null)}function G_(r,s){if(Sh())return null;A_(r,s,!0)}function ON(){GN(function(){(it&6)!==0?Me(Ci,MN):q_()})}function ug(){if($s===0){var r=tl;r===0&&(r=Ki,Ki<<=1,(Ki&261888)===0&&(Ki=256)),$s=r}return $s}function K_(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:zo(""+r)}function Y_(r,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,r.id&&l.setAttribute("form",r.id),s.parentNode.insertBefore(l,s),r=new FormData(r),l.parentNode.removeChild(l),r}function VN(r,s,l,u,p){if(s==="submit"&&l&&l.stateNode===p){var y=K_((p[nn]||null).action),T=u.submitter;T&&(s=(s=T[nn]||null)?K_(s.formAction):T.getAttribute("formAction"),s!==null&&(y=s,T=null));var A=new ar("action","action",null,u,p);r.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if($s!==0){var B=T?Y_(p,T):new FormData(p);Ip(l,{pending:!0,data:B,method:p.method,action:y},null,B)}}else typeof y=="function"&&(A.preventDefault(),B=T?Y_(p,T):new FormData(p),Ip(l,{pending:!0,data:B,method:p.method,action:y},y,B))},currentTarget:p}]})}}for(var dg=0;dg<Km.length;dg++){var hg=Km[dg],PN=hg.toLowerCase(),jN=hg[0].toUpperCase()+hg.slice(1);ji(PN,"on"+jN)}ji(Sb,"onAnimationEnd"),ji(Ab,"onAnimationIteration"),ji(Cb,"onAnimationStart"),ji("dblclick","onDoubleClick"),ji("focusin","onFocus"),ji("focusout","onBlur"),ji(JR,"onTransitionRun"),ji(eN,"onTransitionStart"),ji(tN,"onTransitionCancel"),ji(Rb,"onTransitionEnd"),nr("onMouseEnter",["mouseout","mouseover"]),nr("onMouseLeave",["mouseout","mouseover"]),nr("onPointerEnter",["pointerout","pointerover"]),nr("onPointerLeave",["pointerout","pointerover"]),tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),tr("onBeforeInput",["compositionend","keypress","textInput","paste"]),tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zc));function Q_(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var u=r[l],p=u.event;u=u.listeners;e:{var y=void 0;if(s)for(var T=u.length-1;0<=T;T--){var A=u[T],B=A.instance,Y=A.currentTarget;if(A=A.listener,B!==y&&p.isPropagationStopped())break e;y=A,p.currentTarget=Y;try{y(p)}catch(te){Fd(te)}p.currentTarget=null,y=B}else for(T=0;T<u.length;T++){if(A=u[T],B=A.instance,Y=A.currentTarget,A=A.listener,B!==y&&p.isPropagationStopped())break e;y=A,p.currentTarget=Y;try{y(p)}catch(te){Fd(te)}p.currentTarget=null,y=B}}}}function He(r,s){var l=s[Vo];l===void 0&&(l=s[Vo]=new Set);var u=r+"__bubble";l.has(u)||(X_(s,r,2,!1),l.add(u))}function fg(r,s,l){var u=0;s&&(u|=4),X_(l,r,u,s)}var Rh="_reactListening"+Math.random().toString(36).slice(2);function mg(r){if(!r[Rh]){r[Rh]=!0,uc.forEach(function(l){l!=="selectionchange"&&(LN.has(l)||fg(l,!1,r),fg(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Rh]||(s[Rh]=!0,fg("selectionchange",!1,s))}}function X_(r,s,l,u){switch(Sw(s)){case 2:var p=hI;break;case 8:p=fI;break;default:p=Ng}l=p.bind(null,s,l,r),p=void 0,!qa||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),u?p!==void 0?r.addEventListener(s,l,{capture:!0,passive:p}):r.addEventListener(s,l,!0):p!==void 0?r.addEventListener(s,l,{passive:p}):r.addEventListener(s,l,!1)}function pg(r,s,l,u,p){var y=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var A=u.stateNode.containerInfo;if(A===p)break;if(T===4)for(T=u.return;T!==null;){var B=T.tag;if((B===3||B===4)&&T.stateNode.containerInfo===p)return;T=T.return}for(;A!==null;){if(T=Ji(A),T===null)return;if(B=T.tag,B===5||B===6||B===26||B===27){u=y=T;continue e}A=A.parentNode}}u=u.return}As(function(){var Y=y,te=oi(l),ae=[];e:{var X=Nb.get(r);if(X!==void 0){var J=ar,be=r;switch(r){case"keypress":if($a(l)===0)break e;case"keydown":case"keyup":J=Ud;break;case"focusin":be="focus",J=Ka;break;case"focusout":be="blur",J=Ka;break;case"beforeblur":case"afterblur":J=Ka;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Ec;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Id;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=w;break;case Sb:case Ab:case Cb:J=Dd;break;case Rb:J=I;break;case"scroll":case"scrollend":J=Tc;break;case"wheel":J=W;break;case"copy":case"cut":case"paste":J=Md;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Pr;break;case"toggle":case"beforetoggle":J=je}var Ce=(s&4)!==0,ft=!Ce&&(r==="scroll"||r==="scrollend"),H=Ce?X!==null?X+"Capture":null:X;Ce=[];for(var q=Y,K;q!==null;){var ie=q;if(K=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||K===null||H===null||(ie=Mi(q,H),ie!=null&&Ce.push(Jc(q,ie,K))),ft)break;q=q.return}0<Ce.length&&(X=new J(X,be,null,l,te),ae.push({event:X,listeners:Ce}))}}if((s&7)===0){e:{if(X=r==="mouseover"||r==="pointerover",J=r==="mouseout"||r==="pointerout",X&&l!==bc&&(be=l.relatedTarget||l.fromElement)&&(Ji(be)||be[Wi]))break e;if((J||X)&&(X=te.window===te?te:(X=te.ownerDocument)?X.defaultView||X.parentWindow:window,J?(be=l.relatedTarget||l.toElement,J=Y,be=be?Ji(be):null,be!==null&&(ft=o(be),Ce=be.tag,be!==ft||Ce!==5&&Ce!==27&&Ce!==6)&&(be=null)):(J=null,be=Y),J!==be)){if(Ce=Ec,ie="onMouseLeave",H="onMouseEnter",q="mouse",(r==="pointerout"||r==="pointerover")&&(Ce=Pr,ie="onPointerLeave",H="onPointerEnter",q="pointer"),ft=J==null?X:Kn(J),K=be==null?X:Kn(be),X=new Ce(ie,q+"leave",J,l,te),X.target=ft,X.relatedTarget=K,ie=null,Ji(te)===Y&&(Ce=new Ce(H,q+"enter",be,l,te),Ce.target=K,Ce.relatedTarget=ft,ie=Ce),ft=ie,J&&be)t:{for(Ce=UN,H=J,q=be,K=0,ie=H;ie;ie=Ce(ie))K++;ie=0;for(var Se=q;Se;Se=Ce(Se))ie++;for(;0<K-ie;)H=Ce(H),K--;for(;0<ie-K;)q=Ce(q),ie--;for(;K--;){if(H===q||q!==null&&H===q.alternate){Ce=H;break t}H=Ce(H),q=Ce(q)}Ce=null}else Ce=null;J!==null&&W_(ae,X,J,Ce,!1),be!==null&&ft!==null&&W_(ae,ft,be,Ce,!0)}}e:{if(X=Y?Kn(Y):window,J=X.nodeName&&X.nodeName.toLowerCase(),J==="select"||J==="input"&&X.type==="file")var et=mb;else if(hb(X))if(pb)et=XR;else{et=YR;var we=KR}else J=X.nodeName,!J||J.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?Y&&Uo(Y.elementType)&&(et=mb):et=QR;if(et&&(et=et(r,Y))){fb(ae,et,l,te);break e}we&&we(r,X,Y),r==="focusout"&&Y&&X.type==="number"&&Y.memoizedProps.value!=null&&gc(X,"number",X.value)}switch(we=Y?Kn(Y):window,r){case"focusin":(hb(we)||we.contentEditable==="true")&&(Ko=we,Hm=Y,Rc=null);break;case"focusout":Rc=Hm=Ko=null;break;case"mousedown":$m=!0;break;case"contextmenu":case"mouseup":case"dragend":$m=!1,Eb(ae,l,te);break;case"selectionchange":if(ZR)break;case"keydown":case"keyup":Eb(ae,l,te)}var Ue;if(nt)e:{switch(r){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else Go?Ya(r,l)&&(Ge="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Ge="onCompositionStart");Ge&&(cr&&l.locale!=="ko"&&(Go||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&Go&&(Ue=wc()):(sr=te,_c="value"in sr?sr.value:sr.textContent,Go=!0)),we=Nh(Y,Ge),0<we.length&&(Ge=new lr(Ge,r,null,l,te),ae.push({event:Ge,listeners:we}),Ue?Ge.data=Ue:(Ue=$o(l),Ue!==null&&(Ge.data=Ue)))),(Ue=ci?qR(r,l):HR(r,l))&&(Ge=Nh(Y,"onBeforeInput"),0<Ge.length&&(we=new lr("onBeforeInput","beforeinput",null,l,te),ae.push({event:we,listeners:Ge}),we.data=Ue)),VN(ae,r,Y,l,te)}Q_(ae,s)})}function Jc(r,s,l){return{instance:r,listener:s,currentTarget:l}}function Nh(r,s){for(var l=s+"Capture",u=[];r!==null;){var p=r,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=Mi(r,l),p!=null&&u.unshift(Jc(r,p,y)),p=Mi(r,s),p!=null&&u.push(Jc(r,p,y))),r.tag===3)return u;r=r.return}return[]}function UN(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function W_(r,s,l,u,p){for(var y=s._reactName,T=[];l!==null&&l!==u;){var A=l,B=A.alternate,Y=A.stateNode;if(A=A.tag,B!==null&&B===u)break;A!==5&&A!==26&&A!==27||Y===null||(B=Y,p?(Y=Mi(l,y),Y!=null&&T.unshift(Jc(l,Y,B))):p||(Y=Mi(l,y),Y!=null&&T.push(Jc(l,Y,B)))),l=l.return}T.length!==0&&r.push({event:s,listeners:T})}var zN=/\r\n?/g,BN=/\u0000|\uFFFD/g;function Z_(r){return(typeof r=="string"?r:""+r).replace(zN,`
`).replace(BN,"")}function J_(r,s){return s=Z_(s),Z_(r)===s}function ht(r,s,l,u,p,y){switch(l){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Vn(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Vn(r,""+u);break;case"className":Yn(r,"class",u);break;case"tabIndex":Yn(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Yn(r,l,u);break;case"style":vc(r,u,y);break;case"data":if(s!=="object"){Yn(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||l!=="href")){r.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(l);break}u=zo(""+u),r.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(s!=="input"&&ht(r,s,"name",p.name,p,null),ht(r,s,"formEncType",p.formEncType,p,null),ht(r,s,"formMethod",p.formMethod,p,null),ht(r,s,"formTarget",p.formTarget,p,null)):(ht(r,s,"encType",p.encType,p,null),ht(r,s,"method",p.method,p,null),ht(r,s,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(l);break}u=zo(""+u),r.setAttribute(l,u);break;case"onClick":u!=null&&(r.onclick=Di);break;case"onScroll":u!=null&&He("scroll",r);break;case"onScrollEnd":u!=null&&He("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}l=zo(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,""+u):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":u===!0?r.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,u):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(l,u):r.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(l):r.setAttribute(l,u);break;case"popover":He("beforetoggle",r),He("toggle",r),jo(r,"popover",u);break;case"xlinkActuate":Ft(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ft(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ft(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ft(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ft(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ft(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ft(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ft(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ft(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":jo(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Nd.get(l)||l,jo(r,l,u))}}function gg(r,s,l,u,p,y){switch(l){case"style":vc(r,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"children":typeof u=="string"?Vn(r,u):(typeof u=="number"||typeof u=="bigint")&&Vn(r,""+u);break;case"onScroll":u!=null&&He("scroll",r);break;case"onScrollEnd":u!=null&&He("scrollend",r);break;case"onClick":u!=null&&(r.onclick=Di);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!dc.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),s=l.slice(2,p?l.length-7:void 0),y=r[nn]||null,y=y!=null?y[l]:null,typeof y=="function"&&r.removeEventListener(s,y,p),typeof u=="function")){typeof y!="function"&&y!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(s,u,p);break e}l in r?r[l]=u:u===!0?r.setAttribute(l,""):jo(r,l,u)}}}function fn(r,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",r),He("load",r);var u=!1,p=!1,y;for(y in l)if(l.hasOwnProperty(y)){var T=l[y];if(T!=null)switch(y){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ht(r,s,y,T,l,null)}}p&&ht(r,s,"srcSet",l.srcSet,l,null),u&&ht(r,s,"src",l.src,l,null);return;case"input":He("invalid",r);var A=y=T=p=null,B=null,Y=null;for(u in l)if(l.hasOwnProperty(u)){var te=l[u];if(te!=null)switch(u){case"name":p=te;break;case"type":T=te;break;case"checked":B=te;break;case"defaultChecked":Y=te;break;case"value":y=te;break;case"defaultValue":A=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,s));break;default:ht(r,s,u,te,l,null)}}Ad(r,y,A,B,Y,T,p,!1);return;case"select":He("invalid",r),u=T=y=null;for(p in l)if(l.hasOwnProperty(p)&&(A=l[p],A!=null))switch(p){case"value":y=A;break;case"defaultValue":T=A;break;case"multiple":u=A;default:ht(r,s,p,A,l,null)}s=y,l=T,r.multiple=!!u,s!=null?Ts(r,!!u,s,!1):l!=null&&Ts(r,!!u,l,!0);return;case"textarea":He("invalid",r),y=p=u=null;for(T in l)if(l.hasOwnProperty(T)&&(A=l[T],A!=null))switch(T){case"value":u=A;break;case"defaultValue":p=A;break;case"children":y=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:ht(r,s,T,A,l,null)}Es(r,u,p,y);return;case"option":for(B in l)if(l.hasOwnProperty(B)&&(u=l[B],u!=null))switch(B){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ht(r,s,B,u,l,null)}return;case"dialog":He("beforetoggle",r),He("toggle",r),He("cancel",r),He("close",r);break;case"iframe":case"object":He("load",r);break;case"video":case"audio":for(u=0;u<Zc.length;u++)He(Zc[u],r);break;case"image":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"embed":case"source":case"link":He("error",r),He("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in l)if(l.hasOwnProperty(Y)&&(u=l[Y],u!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ht(r,s,Y,u,l,null)}return;default:if(Uo(s)){for(te in l)l.hasOwnProperty(te)&&(u=l[te],u!==void 0&&gg(r,s,te,u,l,void 0));return}}for(A in l)l.hasOwnProperty(A)&&(u=l[A],u!=null&&ht(r,s,A,u,l,null))}function FN(r,s,l,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,T=null,A=null,B=null,Y=null,te=null;for(J in l){var ae=l[J];if(l.hasOwnProperty(J)&&ae!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":B=ae;default:u.hasOwnProperty(J)||ht(r,s,J,null,u,ae)}}for(var X in u){var J=u[X];if(ae=l[X],u.hasOwnProperty(X)&&(J!=null||ae!=null))switch(X){case"type":y=J;break;case"name":p=J;break;case"checked":Y=J;break;case"defaultChecked":te=J;break;case"value":T=J;break;case"defaultValue":A=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,s));break;default:J!==ae&&ht(r,s,X,J,u,ae)}}Lo(r,T,A,B,Y,te,y,p);return;case"select":J=T=A=X=null;for(y in l)if(B=l[y],l.hasOwnProperty(y)&&B!=null)switch(y){case"value":break;case"multiple":J=B;default:u.hasOwnProperty(y)||ht(r,s,y,null,u,B)}for(p in u)if(y=u[p],B=l[p],u.hasOwnProperty(p)&&(y!=null||B!=null))switch(p){case"value":X=y;break;case"defaultValue":A=y;break;case"multiple":T=y;default:y!==B&&ht(r,s,p,y,u,B)}s=A,l=T,u=J,X!=null?Ts(r,!!l,X,!1):!!u!=!!l&&(s!=null?Ts(r,!!l,s,!0):Ts(r,!!l,l?[]:"",!1));return;case"textarea":J=X=null;for(A in l)if(p=l[A],l.hasOwnProperty(A)&&p!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ht(r,s,A,null,u,p)}for(T in u)if(p=u[T],y=l[T],u.hasOwnProperty(T)&&(p!=null||y!=null))switch(T){case"value":X=p;break;case"defaultValue":J=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==y&&ht(r,s,T,p,u,y)}Cd(r,X,J);return;case"option":for(var be in l)if(X=l[be],l.hasOwnProperty(be)&&X!=null&&!u.hasOwnProperty(be))switch(be){case"selected":r.selected=!1;break;default:ht(r,s,be,null,u,X)}for(B in u)if(X=u[B],J=l[B],u.hasOwnProperty(B)&&X!==J&&(X!=null||J!=null))switch(B){case"selected":r.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:ht(r,s,B,X,u,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in l)X=l[Ce],l.hasOwnProperty(Ce)&&X!=null&&!u.hasOwnProperty(Ce)&&ht(r,s,Ce,null,u,X);for(Y in u)if(X=u[Y],J=l[Y],u.hasOwnProperty(Y)&&X!==J&&(X!=null||J!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,s));break;default:ht(r,s,Y,X,u,J)}return;default:if(Uo(s)){for(var ft in l)X=l[ft],l.hasOwnProperty(ft)&&X!==void 0&&!u.hasOwnProperty(ft)&&gg(r,s,ft,void 0,u,X);for(te in u)X=u[te],J=l[te],!u.hasOwnProperty(te)||X===J||X===void 0&&J===void 0||gg(r,s,te,X,u,J);return}}for(var H in l)X=l[H],l.hasOwnProperty(H)&&X!=null&&!u.hasOwnProperty(H)&&ht(r,s,H,null,u,X);for(ae in u)X=u[ae],J=l[ae],!u.hasOwnProperty(ae)||X===J||X==null&&J==null||ht(r,s,ae,X,u,J)}function ew(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qN(){if(typeof performance.getEntriesByType=="function"){for(var r=0,s=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var p=l[u],y=p.transferSize,T=p.initiatorType,A=p.duration;if(y&&A&&ew(T)){for(T=0,A=p.responseEnd,u+=1;u<l.length;u++){var B=l[u],Y=B.startTime;if(Y>A)break;var te=B.transferSize,ae=B.initiatorType;te&&ew(ae)&&(B=B.responseEnd,T+=te*(B<A?1:(A-Y)/(B-Y)))}if(--u,s+=8*(y+T)/(p.duration/1e3),r++,10<r)break}}if(0<r)return s/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var yg=null,vg=null;function Ih(r){return r.nodeType===9?r:r.ownerDocument}function tw(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nw(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function bg(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var _g=null;function HN(){var r=window.event;return r&&r.type==="popstate"?r===_g?!1:(_g=r,!0):(_g=null,!1)}var iw=typeof setTimeout=="function"?setTimeout:void 0,$N=typeof clearTimeout=="function"?clearTimeout:void 0,rw=typeof Promise=="function"?Promise:void 0,GN=typeof queueMicrotask=="function"?queueMicrotask:typeof rw<"u"?function(r){return rw.resolve(null).then(r).catch(KN)}:iw;function KN(r){setTimeout(function(){throw r})}function Gs(r){return r==="head"}function sw(r,s){var l=s,u=0;do{var p=l.nextSibling;if(r.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"||l==="/&"){if(u===0){r.removeChild(p),_l(s);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")eu(r.ownerDocument.documentElement);else if(l==="head"){l=r.ownerDocument.head,eu(l);for(var y=l.firstChild;y;){var T=y.nextSibling,A=y.nodeName;y[Zi]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&y.rel.toLowerCase()==="stylesheet"||l.removeChild(y),y=T}}else l==="body"&&eu(r.ownerDocument.body);l=p}while(l);_l(s)}function aw(r,s){var l=r;r=0;do{var u=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(r===0)break;r--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||r++;l=u}while(l)}function wg(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":wg(l),Po(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function YN(r,s,l,u){for(;r.nodeType===1;){var p=l;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Zi])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==p.rel||r.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||r.getAttribute("title")!==(p.title==null?null:p.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(p.src==null?null:p.src)||r.getAttribute("type")!==(p.type==null?null:p.type)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=gi(r.nextSibling),r===null)break}return null}function QN(r,s,l){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=gi(r.nextSibling),r===null))return null;return r}function ow(r,s){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!s||(r=gi(r.nextSibling),r===null))return null;return r}function Tg(r){return r.data==="$?"||r.data==="$~"}function Eg(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function XN(r,s){var l=r.ownerDocument;if(r.data==="$~")r._reactRetry=s;else if(r.data!=="$?"||l.readyState!=="loading")s();else{var u=function(){s(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function gi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return r}var xg=null;function lw(r){r=r.nextSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"||l==="/&"){if(s===0)return gi(r.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}r=r.nextSibling}return null}function cw(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return r;s--}else l!=="/$"&&l!=="/&"||s++}r=r.previousSibling}return null}function uw(r,s,l){switch(s=Ih(l),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function eu(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);Po(r)}var yi=new Map,dw=new Set;function kh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Wr=ee.d;ee.d={f:WN,r:ZN,D:JN,C:eI,L:tI,m:nI,X:rI,S:iI,M:sI};function WN(){var r=Wr.f(),s=Th();return r||s}function ZN(r){var s=ai(r);s!==null&&s.tag===5&&s.type==="form"?R1(s):Wr.r(r)}var yl=typeof document>"u"?null:document;function hw(r,s,l){var u=yl;if(u&&typeof s=="string"&&s){var p=On(s);p='link[rel="'+r+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),dw.has(p)||(dw.add(p),r={rel:r,crossOrigin:l,href:s},u.querySelector(p)===null&&(s=u.createElement("link"),fn(s,"link",r),Bt(s),u.head.appendChild(s)))}}function JN(r){Wr.D(r),hw("dns-prefetch",r,null)}function eI(r,s){Wr.C(r,s),hw("preconnect",r,s)}function tI(r,s,l){Wr.L(r,s,l);var u=yl;if(u&&r&&s){var p='link[rel="preload"][as="'+On(s)+'"]';s==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+On(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+On(l.imageSizes)+'"]')):p+='[href="'+On(r)+'"]';var y=p;switch(s){case"style":y=vl(r);break;case"script":y=bl(r)}yi.has(y)||(r=v({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:r,as:s},l),yi.set(y,r),u.querySelector(p)!==null||s==="style"&&u.querySelector(tu(y))||s==="script"&&u.querySelector(nu(y))||(s=u.createElement("link"),fn(s,"link",r),Bt(s),u.head.appendChild(s)))}}function nI(r,s){Wr.m(r,s);var l=yl;if(l&&r){var u=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+On(u)+'"][href="'+On(r)+'"]',y=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=bl(r)}if(!yi.has(y)&&(r=v({rel:"modulepreload",href:r},s),yi.set(y,r),l.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(nu(y)))return}u=l.createElement("link"),fn(u,"link",r),Bt(u),l.head.appendChild(u)}}}function iI(r,s,l){Wr.S(r,s,l);var u=yl;if(u&&r){var p=er(u).hoistableStyles,y=vl(r);s=s||"default";var T=p.get(y);if(!T){var A={loading:0,preload:null};if(T=u.querySelector(tu(y)))A.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":s},l),(l=yi.get(y))&&Sg(r,l);var B=T=u.createElement("link");Bt(B),fn(B,"link",r),B._p=new Promise(function(Y,te){B.onload=Y,B.onerror=te}),B.addEventListener("load",function(){A.loading|=1}),B.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Dh(T,s,u)}T={type:"stylesheet",instance:T,count:1,state:A},p.set(y,T)}}}function rI(r,s){Wr.X(r,s);var l=yl;if(l&&r){var u=er(l).hoistableScripts,p=bl(r),y=u.get(p);y||(y=l.querySelector(nu(p)),y||(r=v({src:r,async:!0},s),(s=yi.get(p))&&Ag(r,s),y=l.createElement("script"),Bt(y),fn(y,"link",r),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function sI(r,s){Wr.M(r,s);var l=yl;if(l&&r){var u=er(l).hoistableScripts,p=bl(r),y=u.get(p);y||(y=l.querySelector(nu(p)),y||(r=v({src:r,async:!0,type:"module"},s),(s=yi.get(p))&&Ag(r,s),y=l.createElement("script"),Bt(y),fn(y,"link",r),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function fw(r,s,l,u){var p=(p=_e.current)?kh(p):null;if(!p)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=vl(l.href),l=er(p).hoistableStyles,u=l.get(s),u||(u={type:"style",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=vl(l.href);var y=er(p).hoistableStyles,T=y.get(r);if(T||(p=p.ownerDocument||p,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,T),(y=p.querySelector(tu(r)))&&!y._p&&(T.instance=y,T.state.loading=5),yi.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},yi.set(r,l),y||aI(p,r,l,T.state))),s&&u===null)throw Error(i(528,""));return T}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=bl(l),l=er(p).hoistableScripts,u=l.get(s),u||(u={type:"script",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function vl(r){return'href="'+On(r)+'"'}function tu(r){return'link[rel="stylesheet"]['+r+"]"}function mw(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function aI(r,s,l,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),fn(s,"link",l),Bt(s),r.head.appendChild(s))}function bl(r){return'[src="'+On(r)+'"]'}function nu(r){return"script[async]"+r}function pw(r,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+On(l.href)+'"]');if(u)return s.instance=u,Bt(u),u;var p=v({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),Bt(u),fn(u,"style",p),Dh(u,l.precedence,r),s.instance=u;case"stylesheet":p=vl(l.href);var y=r.querySelector(tu(p));if(y)return s.state.loading|=4,s.instance=y,Bt(y),y;u=mw(l),(p=yi.get(p))&&Sg(u,p),y=(r.ownerDocument||r).createElement("link"),Bt(y);var T=y;return T._p=new Promise(function(A,B){T.onload=A,T.onerror=B}),fn(y,"link",u),s.state.loading|=4,Dh(y,l.precedence,r),s.instance=y;case"script":return y=bl(l.src),(p=r.querySelector(nu(y)))?(s.instance=p,Bt(p),p):(u=l,(p=yi.get(y))&&(u=v({},l),Ag(u,p)),r=r.ownerDocument||r,p=r.createElement("script"),Bt(p),fn(p,"link",u),r.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Dh(u,l.precedence,r));return s.instance}function Dh(r,s,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,y=p,T=0;T<u.length;T++){var A=u[T];if(A.dataset.precedence===s)y=A;else if(y!==p)break}y?y.parentNode.insertBefore(r,y.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(r,s.firstChild))}function Sg(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Ag(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Mh=null;function gw(r,s,l){if(Mh===null){var u=new Map,p=Mh=new Map;p.set(l,u)}else p=Mh,u=p.get(l),u||(u=new Map,p.set(l,u));if(u.has(r))return u;for(u.set(r,null),l=l.getElementsByTagName(r),p=0;p<l.length;p++){var y=l[p];if(!(y[Zi]||y[zt]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var T=y.getAttribute(s)||"";T=r+T;var A=u.get(T);A?A.push(y):u.set(T,[y])}}return u}function yw(r,s,l){r=r.ownerDocument||r,r.head.insertBefore(l,s==="title"?r.querySelector("head > title"):null)}function oI(r,s,l){if(l===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function vw(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function lI(r,s,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=vl(u.href),y=s.querySelector(tu(p));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(r.count++,r=Oh.bind(r),s.then(r,r)),l.state.loading|=4,l.instance=y,Bt(y);return}y=s.ownerDocument||s,u=mw(u),(p=yi.get(p))&&Sg(u,p),y=y.createElement("link"),Bt(y);var T=y;T._p=new Promise(function(A,B){T.onload=A,T.onerror=B}),fn(y,"link",u),l.instance=y}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(r.count++,l=Oh.bind(r),s.addEventListener("load",l),s.addEventListener("error",l))}}var Cg=0;function cI(r,s){return r.stylesheets&&r.count===0&&Ph(r,r.stylesheets),0<r.count||0<r.imgCount?function(l){var u=setTimeout(function(){if(r.stylesheets&&Ph(r,r.stylesheets),r.unsuspend){var y=r.unsuspend;r.unsuspend=null,y()}},6e4+s);0<r.imgBytes&&Cg===0&&(Cg=62500*qN());var p=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Ph(r,r.stylesheets),r.unsuspend)){var y=r.unsuspend;r.unsuspend=null,y()}},(r.imgBytes>Cg?50:800)+s);return r.unsuspend=l,function(){r.unsuspend=null,clearTimeout(u),clearTimeout(p)}}:null}function Oh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ph(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Vh=null;function Ph(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Vh=new Map,s.forEach(uI,r),Vh=null,Oh.call(r))}function uI(r,s){if(!(s.state.loading&4)){var l=Vh.get(r);if(l)var u=l.get(null);else{l=new Map,Vh.set(r,l);for(var p=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var T=p[y];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),u=T)}u&&l.set(null,u)}p=s.instance,T=p.getAttribute("data-precedence"),y=l.get(T)||u,y===u&&l.set(null,p),l.set(T,p),this.count++,u=Oh.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),y?y.parentNode.insertBefore(p,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(p,r.firstChild)),s.state.loading|=4}}var iu={$$typeof:U,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function dI(r,s,l,u,p,y,T,A,B){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xi(0),this.hiddenUpdates=Xi(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function bw(r,s,l,u,p,y,T,A,B,Y,te,ae){return r=new dI(r,s,l,T,B,Y,te,ae,A),s=1,y===!0&&(s|=24),y=Xn(3,null,null,s),r.current=y,y.stateNode=r,s=ap(),s.refCount++,r.pooledCache=s,s.refCount++,y.memoizedState={element:u,isDehydrated:l,cache:s},up(y),r}function _w(r){return r?(r=Xo,r):Xo}function ww(r,s,l,u,p,y){p=_w(p),u.context===null?u.context=p:u.pendingContext=p,u=Vs(s),u.payload={element:l},y=y===void 0?null:y,y!==null&&(u.callback=y),l=Ps(r,u,s),l!==null&&(zn(l,r,s),Vc(l,r,s))}function Tw(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function Rg(r,s){Tw(r,s),(r=r.alternate)&&Tw(r,s)}function Ew(r){if(r.tag===13||r.tag===31){var s=Wa(r,67108864);s!==null&&zn(s,r,67108864),Rg(r,67108864)}}function xw(r){if(r.tag===13||r.tag===31){var s=ti();s=Ua(s);var l=Wa(r,s);l!==null&&zn(l,r,s),Rg(r,s)}}var jh=!0;function hI(r,s,l,u){var p=$.T;$.T=null;var y=ee.p;try{ee.p=2,Ng(r,s,l,u)}finally{ee.p=y,$.T=p}}function fI(r,s,l,u){var p=$.T;$.T=null;var y=ee.p;try{ee.p=8,Ng(r,s,l,u)}finally{ee.p=y,$.T=p}}function Ng(r,s,l,u){if(jh){var p=Ig(u);if(p===null)pg(r,s,u,Lh,l),Aw(r,u);else if(pI(p,r,s,l,u))u.stopPropagation();else if(Aw(r,u),s&4&&-1<mI.indexOf(r)){for(;p!==null;){var y=ai(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var T=Yi(y.pendingLanes);if(T!==0){var A=y;for(A.pendingLanes|=2,A.entangledLanes|=2;T;){var B=1<<31-Dt(T);A.entanglements[1]|=B,T&=~B}fr(y),(it&6)===0&&(_h=Wt()+500,Wc(0))}}break;case 31:case 13:A=Wa(y,2),A!==null&&zn(A,y,2),Th(),Rg(y,2)}if(y=Ig(u),y===null&&pg(r,s,u,Lh,l),y===p)break;p=y}p!==null&&u.stopPropagation()}else pg(r,s,u,null,l)}}function Ig(r){return r=oi(r),kg(r)}var Lh=null;function kg(r){if(Lh=null,r=Ji(r),r!==null){var s=o(r);if(s===null)r=null;else{var l=s.tag;if(l===13){if(r=c(s),r!==null)return r;r=null}else if(l===31){if(r=d(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Lh=r,null}function Sw(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gi()){case Ci:return 2;case Je:return 8;case on:case Mn:return 32;case _s:return 268435456;default:return 32}default:return 32}}var Dg=!1,Ks=null,Ys=null,Qs=null,ru=new Map,su=new Map,Xs=[],mI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Aw(r,s){switch(r){case"focusin":case"focusout":Ks=null;break;case"dragenter":case"dragleave":Ys=null;break;case"mouseover":case"mouseout":Qs=null;break;case"pointerover":case"pointerout":ru.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":su.delete(s.pointerId)}}function au(r,s,l,u,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:l,eventSystemFlags:u,nativeEvent:y,targetContainers:[p]},s!==null&&(s=ai(s),s!==null&&Ew(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function pI(r,s,l,u,p){switch(s){case"focusin":return Ks=au(Ks,r,s,l,u,p),!0;case"dragenter":return Ys=au(Ys,r,s,l,u,p),!0;case"mouseover":return Qs=au(Qs,r,s,l,u,p),!0;case"pointerover":var y=p.pointerId;return ru.set(y,au(ru.get(y)||null,r,s,l,u,p)),!0;case"gotpointercapture":return y=p.pointerId,su.set(y,au(su.get(y)||null,r,s,l,u,p)),!0}return!1}function Cw(r){var s=Ji(r.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=c(l),s!==null){r.blockedOn=s,Ii(r.priority,function(){xw(l)});return}}else if(s===31){if(s=d(l),s!==null){r.blockedOn=s,Ii(r.priority,function(){xw(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Uh(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=Ig(r.nativeEvent);if(l===null){l=r.nativeEvent;var u=new l.constructor(l.type,l);bc=u,l.target.dispatchEvent(u),bc=null}else return s=ai(l),s!==null&&Ew(s),r.blockedOn=l,!1;s.shift()}return!0}function Rw(r,s,l){Uh(r)&&l.delete(s)}function gI(){Dg=!1,Ks!==null&&Uh(Ks)&&(Ks=null),Ys!==null&&Uh(Ys)&&(Ys=null),Qs!==null&&Uh(Qs)&&(Qs=null),ru.forEach(Rw),su.forEach(Rw)}function zh(r,s){r.blockedOn===s&&(r.blockedOn=null,Dg||(Dg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,gI)))}var Bh=null;function Nw(r){Bh!==r&&(Bh=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Bh===r&&(Bh=null);for(var s=0;s<r.length;s+=3){var l=r[s],u=r[s+1],p=r[s+2];if(typeof u!="function"){if(kg(u||l)===null)continue;break}var y=ai(l);y!==null&&(r.splice(s,3),s-=3,Ip(y,{pending:!0,data:p,method:l.method,action:u},u,p))}}))}function _l(r){function s(B){return zh(B,r)}Ks!==null&&zh(Ks,r),Ys!==null&&zh(Ys,r),Qs!==null&&zh(Qs,r),ru.forEach(s),su.forEach(s);for(var l=0;l<Xs.length;l++){var u=Xs[l];u.blockedOn===r&&(u.blockedOn=null)}for(;0<Xs.length&&(l=Xs[0],l.blockedOn===null);)Cw(l),l.blockedOn===null&&Xs.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var p=l[u],y=l[u+1],T=p[nn]||null;if(typeof y=="function")T||Nw(l);else if(T){var A=null;if(y&&y.hasAttribute("formAction")){if(p=y,T=y[nn]||null)A=T.formAction;else if(kg(p)!==null)continue}else A=T.action;typeof A=="function"?l[u+1]=A:(l.splice(u,3),u-=3),Nw(l)}}}function Iw(){function r(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(T){return p=T})},focusReset:"manual",scroll:"manual"})}function s(){p!==null&&(p(),p=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,p=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),p!==null&&(p(),p=null)}}}function Mg(r){this._internalRoot=r}Fh.prototype.render=Mg.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var l=s.current,u=ti();ww(l,u,r,s,null,null)},Fh.prototype.unmount=Mg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;ww(r.current,2,null,r,null,null),Th(),s[Wi]=null}};function Fh(r){this._internalRoot=r}Fh.prototype.unstable_scheduleHydration=function(r){if(r){var s=Td();r={blockedOn:null,target:r,priority:s};for(var l=0;l<Xs.length&&s!==0&&s<Xs[l].priority;l++);Xs.splice(l,0,r),l===0&&Cw(r)}};var kw=e.version;if(kw!=="19.2.0")throw Error(i(527,kw,"19.2.0"));ee.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=f(s),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var yI={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qh.isDisabled&&qh.supportsFiber)try{Ri=qh.inject(yI),ln=qh}catch{}}return lu.createRoot=function(r,s){if(!a(r))throw Error(i(299));var l=!1,u="",p=L1,y=U1,T=z1;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError)),s=bw(r,1,!1,null,null,l,u,null,p,y,T,Iw),r[Wi]=s.current,mg(r),new Mg(s)},lu.hydrateRoot=function(r,s,l){if(!a(r))throw Error(i(299));var u=!1,p="",y=L1,T=U1,A=z1,B=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(A=l.onRecoverableError),l.formState!==void 0&&(B=l.formState)),s=bw(r,1,!0,s,l??null,u,p,B,y,T,A,Iw),s.context=_w(null),l=s.current,u=ti(),u=Ua(u),p=Vs(u),p.callback=null,Ps(l,p,u),l=u,s.current.lanes=l,ja(s,l),fr(s),r[Wi]=s.current,mg(r),new Fh(s)},lu.version="19.2.0",lu}var Bw;function RI(){if(Bw)return Pg.exports;Bw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Pg.exports=CI(),Pg.exports}var NI=RI();const II="modulepreload",kI=function(t){return"/personal-budget-pwa/"+t},Fw={},DI=function(e,n,i){let a=Promise.resolve();if(n&&n.length>0){let f=function(g){return Promise.all(g.map(v=>Promise.resolve(v).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};var c=f;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),h=d?.nonce||d?.getAttribute("nonce");a=f(n.map(g=>{if(g=kI(g),g in Fw)return;Fw[g]=!0;const v=g.endsWith(".css"),_=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${_}`))return;const x=document.createElement("link");if(x.rel=v?"stylesheet":II,v||(x.as="script"),x.crossOrigin="",x.href=g,h&&x.setAttribute("nonce",h),document.head.appendChild(x),v)return new Promise((k,C)=>{x.addEventListener("load",k),x.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${g}`)))})}))}function o(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return a.then(d=>{for(const h of d||[])h.status==="rejected"&&o(h.reason);return e().catch(o)})};function MI(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:i,onRegistered:a,onRegisteredSW:o,onRegisterError:c}=t;let d,h;const f=async(v=!0)=>{await h};async function g(){if("serviceWorker"in navigator){if(d=await DI(async()=>{const{Workbox:v}=await import("./workbox-window.prod.es5-BIl4cyR9.js");return{Workbox:v}},[]).then(({Workbox:v})=>new v("/personal-budget-pwa/sw.js",{scope:"/personal-budget-pwa/",type:"classic"})).catch(v=>{c?.(v)}),!d)return;d.addEventListener("activated",v=>{(v.isUpdate||v.isExternal)&&window.location.reload()}),d.addEventListener("installed",v=>{v.isUpdate||i?.()}),d.register({immediate:e}).then(v=>{o?o("/personal-budget-pwa/sw.js",v):a?.(v)}).catch(v=>{c?.(v)})}}return h=g(),f}var qw="popstate";function OI(t={}){function e(a,o){let{pathname:c="/",search:d="",hash:h=""}=Io(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),T0("",{pathname:c,search:d,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){let c=a.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let h=a.location.href,f=h.indexOf("#");d=f===-1?h:h.slice(0,f)}return d+"#"+(typeof o=="string"?o:Nu(o))}function i(a,o){Ai(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return PI(e,n,i,t)}function Et(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ai(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function VI(){return Math.random().toString(36).substring(2,10)}function Hw(t,e){return{usr:t.state,key:t.key,idx:e}}function T0(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Io(e):e,state:n,key:e&&e.key||i||VI()}}function Nu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Io(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function PI(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:o=!1}=i,c=a.history,d="POP",h=null,f=g();f==null&&(f=0,c.replaceState({...c.state,idx:f},""));function g(){return(c.state||{idx:null}).idx}function v(){d="POP";let N=g(),D=N==null?null:N-f;f=N,h&&h({action:d,location:C.location,delta:D})}function _(N,D){d="PUSH";let j=T0(C.location,N,D);n&&n(j,N),f=g()+1;let U=Hw(j,f),Q=C.createHref(j);try{c.pushState(U,"",Q)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;a.location.assign(Q)}o&&h&&h({action:d,location:C.location,delta:1})}function x(N,D){d="REPLACE";let j=T0(C.location,N,D);n&&n(j,N),f=g();let U=Hw(j,f),Q=C.createHref(j);c.replaceState(U,"",Q),o&&h&&h({action:d,location:C.location,delta:0})}function k(N){return jI(N)}let C={get action(){return d},get location(){return t(a,c)},listen(N){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(qw,v),h=N,()=>{a.removeEventListener(qw,v),h=null}},createHref(N){return e(a,N)},createURL:k,encodeLocation(N){let D=k(N);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:_,replace:x,go(N){return c.go(N)}};return C}function jI(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Et(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Nu(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function tS(t,e,n="/"){return LI(t,e,n,!1)}function LI(t,e,n,i){let a=typeof e=="string"?Io(e):e,o=os(a.pathname||"/",n);if(o==null)return null;let c=nS(t);UI(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let f=XI(o);d=YI(c[h],f,i)}return d}function nS(t,e=[],n=[],i="",a=!1){let o=(c,d,h=a,f)=>{let g={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(i)&&h)return;Et(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length)}let v=rs([i,g.relativePath]),_=n.concat(g);c.children&&c.children.length>0&&(Et(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),nS(c.children,e,_,v,h)),!(c.path==null&&!c.index)&&e.push({path:v,score:GI(v,c.index),routesMeta:_})};return t.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))o(c,d);else for(let h of iS(c.path))o(c,d,!0,h)}),e}function iS(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return a?[o,""]:[o];let c=iS(i.join("/")),d=[];return d.push(...c.map(h=>h===""?o:[o,h].join("/"))),a&&d.push(...c),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function UI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:KI(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var zI=/^:[\w-]+$/,BI=3,FI=2,qI=1,HI=10,$I=-2,$w=t=>t==="*";function GI(t,e){let n=t.split("/"),i=n.length;return n.some($w)&&(i+=$I),e&&(i+=FI),n.filter(a=>!$w(a)).reduce((a,o)=>a+(zI.test(o)?BI:o===""?qI:HI),i)}function KI(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function YI(t,e,n=!1){let{routesMeta:i}=t,a={},o="/",c=[];for(let d=0;d<i.length;++d){let h=i[d],f=d===i.length-1,g=o==="/"?e:e.slice(o.length)||"/",v=Ef({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},g),_=h.route;if(!v&&f&&n&&!i[i.length-1].route.index&&(v=Ef({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!v)return null;Object.assign(a,v.params),c.push({params:a,pathname:rs([o,v.pathname]),pathnameBase:tk(rs([o,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(o=rs([o,v.pathnameBase]))}return c}function Ef(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=QI(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((f,{paramName:g,isOptional:v},_)=>{if(g==="*"){let k=d[_]||"";c=o.slice(0,o.length-k.length).replace(/(.)\/+$/,"$1")}const x=d[_];return v&&!x?f[g]=void 0:f[g]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:c,pattern:t}}function QI(t,e=!1,n=!0){Ai(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(i.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function XI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ai(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function os(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var WI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ZI=t=>WI.test(t);function JI(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?Io(t):t,o;if(n)if(ZI(n))o=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),Ai(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?o=Gw(n.substring(1),"/"):o=Gw(n,e)}else o=e;return{pathname:o,search:nk(i),hash:ik(a)}}function Gw(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function zg(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ek(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function rS(t){let e=ek(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function sS(t,e,n,i=!1){let a;typeof t=="string"?a=Io(t):(a={...t},Et(!a.pathname||!a.pathname.includes("?"),zg("?","pathname","search",a)),Et(!a.pathname||!a.pathname.includes("#"),zg("#","pathname","hash",a)),Et(!a.search||!a.search.includes("#"),zg("#","search","hash",a)));let o=t===""||a.pathname==="",c=o?"/":a.pathname,d;if(c==null)d=n;else{let v=e.length-1;if(!i&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),v-=1;a.pathname=_.join("/")}d=v>=0?e[v]:"/"}let h=JI(a,d),f=c&&c!=="/"&&c.endsWith("/"),g=(o||c===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(f||g)&&(h.pathname+="/"),h}var rs=t=>t.join("/").replace(/\/\/+/g,"/"),tk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),nk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ik=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function rk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var aS=["POST","PUT","PATCH","DELETE"];new Set(aS);var sk=["GET",...aS];new Set(sk);var Wl=P.createContext(null);Wl.displayName="DataRouter";var em=P.createContext(null);em.displayName="DataRouterState";P.createContext(!1);var oS=P.createContext({isTransitioning:!1});oS.displayName="ViewTransition";var ak=P.createContext(new Map);ak.displayName="Fetchers";var ok=P.createContext(null);ok.displayName="Await";var Nr=P.createContext(null);Nr.displayName="Navigation";var Yu=P.createContext(null);Yu.displayName="Location";var Ir=P.createContext({outlet:null,matches:[],isDataRoute:!1});Ir.displayName="Route";var xy=P.createContext(null);xy.displayName="RouteError";function lk(t,{relative:e}={}){Et(Qu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=P.useContext(Nr),{hash:a,pathname:o,search:c}=Xu(t,{relative:e}),d=o;return n!=="/"&&(d=o==="/"?n:rs([n,o])),i.createHref({pathname:d,search:c,hash:a})}function Qu(){return P.useContext(Yu)!=null}function Aa(){return Et(Qu(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(Yu).location}var lS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cS(t){P.useContext(Nr).static||P.useLayoutEffect(t)}function Ca(){let{isDataRoute:t}=P.useContext(Ir);return t?Tk():ck()}function ck(){Et(Qu(),"useNavigate() may be used only in the context of a <Router> component.");let t=P.useContext(Wl),{basename:e,navigator:n}=P.useContext(Nr),{matches:i}=P.useContext(Ir),{pathname:a}=Aa(),o=JSON.stringify(rS(i)),c=P.useRef(!1);return cS(()=>{c.current=!0}),P.useCallback((h,f={})=>{if(Ai(c.current,lS),!c.current)return;if(typeof h=="number"){n.go(h);return}let g=sS(h,JSON.parse(o),a,f.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:rs([e,g.pathname])),(f.replace?n.replace:n.push)(g,f.state,f)},[e,n,o,a,t])}P.createContext(null);function uk(){let{matches:t}=P.useContext(Ir),e=t[t.length-1];return e?e.params:{}}function Xu(t,{relative:e}={}){let{matches:n}=P.useContext(Ir),{pathname:i}=Aa(),a=JSON.stringify(rS(n));return P.useMemo(()=>sS(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function dk(t,e){return uS(t,e)}function uS(t,e,n,i,a){Et(Qu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=P.useContext(Nr),{matches:c}=P.useContext(Ir),d=c[c.length-1],h=d?d.params:{},f=d?d.pathname:"/",g=d?d.pathnameBase:"/",v=d&&d.route;{let j=v&&v.path||"";dS(f,!v||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let _=Aa(),x;if(e){let j=typeof e=="string"?Io(e):e;Et(g==="/"||j.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${j.pathname}" was given in the \`location\` prop.`),x=j}else x=_;let k=x.pathname||"/",C=k;if(g!=="/"){let j=g.replace(/^\//,"").split("/");C="/"+k.replace(/^\//,"").split("/").slice(j.length).join("/")}let N=tS(t,{pathname:C});Ai(v||N!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Ai(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=gk(N&&N.map(j=>Object.assign({},j,{params:Object.assign({},h,j.params),pathname:rs([g,o.encodeLocation?o.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?g:rs([g,o.encodeLocation?o.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),c,n,i,a);return e&&D?P.createElement(Yu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},D):D}function hk(){let t=wk(),e=rk(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:o},"ErrorBoundary")," or"," ",P.createElement("code",{style:o},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:a},n):null,c)}var fk=P.createElement(hk,null),mk=class extends P.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?P.createElement(Ir.Provider,{value:this.props.routeContext},P.createElement(xy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function pk({routeContext:t,match:e,children:n}){let i=P.useContext(Wl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(Ir.Provider,{value:t},n)}function gk(t,e=[],n=null,i=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,c=n?.errors;if(c!=null){let g=o.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);Et(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let d=!1,h=-1;if(n)for(let g=0;g<o.length;g++){let v=o[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(h=g),v.route.id){let{loaderData:_,errors:x}=n,k=v.route.loader&&!_.hasOwnProperty(v.route.id)&&(!x||x[v.route.id]===void 0);if(v.route.lazy||k){d=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}let f=n&&i?(g,v)=>{i(g,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:v})}:void 0;return o.reduceRight((g,v,_)=>{let x,k=!1,C=null,N=null;n&&(x=c&&v.route.id?c[v.route.id]:void 0,C=v.route.errorElement||fk,d&&(h<0&&_===0?(dS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,N=null):h===_&&(k=!0,N=v.route.hydrateFallbackElement||null)));let D=e.concat(o.slice(0,_+1)),j=()=>{let U;return x?U=C:k?U=N:v.route.Component?U=P.createElement(v.route.Component,null):v.route.element?U=v.route.element:U=g,P.createElement(pk,{match:v,routeContext:{outlet:g,matches:D,isDataRoute:n!=null},children:U})};return n&&(v.route.ErrorBoundary||v.route.errorElement||_===0)?P.createElement(mk,{location:n.location,revalidation:n.revalidation,component:C,error:x,children:j(),routeContext:{outlet:null,matches:D,isDataRoute:!0},onError:f}):j()},null)}function Sy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yk(t){let e=P.useContext(Wl);return Et(e,Sy(t)),e}function vk(t){let e=P.useContext(em);return Et(e,Sy(t)),e}function bk(t){let e=P.useContext(Ir);return Et(e,Sy(t)),e}function Ay(t){let e=bk(t),n=e.matches[e.matches.length-1];return Et(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function _k(){return Ay("useRouteId")}function wk(){let t=P.useContext(xy),e=vk("useRouteError"),n=Ay("useRouteError");return t!==void 0?t:e.errors?.[n]}function Tk(){let{router:t}=yk("useNavigate"),e=Ay("useNavigate"),n=P.useRef(!1);return cS(()=>{n.current=!0}),P.useCallback(async(a,o={})=>{Ai(n.current,lS),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...o}))},[t,e])}var Kw={};function dS(t,e,n){!e&&!Kw[t]&&(Kw[t]=!0,Ai(!1,n))}P.memo(Ek);function Ek({routes:t,future:e,state:n,unstable_onError:i}){return uS(t,void 0,n,i,e)}function ta(t){Et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function xk({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:o=!1}){Et(!Qu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=P.useMemo(()=>({basename:c,navigator:a,static:o,future:{}}),[c,a,o]);typeof n=="string"&&(n=Io(n));let{pathname:h="/",search:f="",hash:g="",state:v=null,key:_="default"}=n,x=P.useMemo(()=>{let k=os(h,c);return k==null?null:{location:{pathname:k,search:f,hash:g,state:v,key:_},navigationType:i}},[c,h,f,g,v,_,i]);return Ai(x!=null,`<Router basename="${c}"> is not able to match the URL "${h}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:P.createElement(Nr.Provider,{value:d},P.createElement(Yu.Provider,{children:e,value:x}))}function Sk({children:t,location:e}){return dk(E0(t),e)}function E0(t,e=[]){let n=[];return P.Children.forEach(t,(i,a)=>{if(!P.isValidElement(i))return;let o=[...e,a];if(i.type===P.Fragment){n.push.apply(n,E0(i.props.children,o));return}Et(i.type===ta,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Et(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=E0(i.props.children,o)),n.push(c)}),n}var rf="get",sf="application/x-www-form-urlencoded";function tm(t){return t!=null&&typeof t.tagName=="string"}function Ak(t){return tm(t)&&t.tagName.toLowerCase()==="button"}function Ck(t){return tm(t)&&t.tagName.toLowerCase()==="form"}function Rk(t){return tm(t)&&t.tagName.toLowerCase()==="input"}function Nk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Ik(t,e){return t.button===0&&(!e||e==="_self")&&!Nk(t)}var $h=null;function kk(){if($h===null)try{new FormData(document.createElement("form"),0),$h=!1}catch{$h=!0}return $h}var Dk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bg(t){return t!=null&&!Dk.has(t)?(Ai(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sf}"`),null):t}function Mk(t,e){let n,i,a,o,c;if(Ck(t)){let d=t.getAttribute("action");i=d?os(d,e):null,n=t.getAttribute("method")||rf,a=Bg(t.getAttribute("enctype"))||sf,o=new FormData(t)}else if(Ak(t)||Rk(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||d.getAttribute("action");if(i=h?os(h,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||rf,a=Bg(t.getAttribute("formenctype"))||Bg(d.getAttribute("enctype"))||sf,o=new FormData(d,t),!kk()){let{name:f,type:g,value:v}=t;if(g==="image"){let _=f?`${f}.`:"";o.append(`${_}x`,"0"),o.append(`${_}y`,"0")}else f&&o.append(f,v)}}else{if(tm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=rf,i=null,a=sf,c=t}return o&&a==="text/plain"&&(c=o,o=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Cy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ok(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&os(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function Vk(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Pk(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function jk(t,e,n){let i=await Promise.all(t.map(async a=>{let o=e.routes[a.route.id];if(o){let c=await Vk(o,n);return c.links?c.links():[]}return[]}));return Bk(i.flat(1).filter(Pk).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Yw(t,e,n,i,a,o){let c=(h,f)=>n[f]?h.route.id!==n[f].route.id:!0,d=(h,f)=>n[f].pathname!==h.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==h.params["*"];return o==="assets"?e.filter((h,f)=>c(h,f)||d(h,f)):o==="data"?e.filter((h,f)=>{let g=i.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(c(h,f)||d(h,f))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function Lk(t,e,{includeHydrateFallback:n}={}){return Uk(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function Uk(t){return[...new Set(t)]}function zk(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function Bk(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let o=JSON.stringify(zk(a));return n.has(o)||(n.add(o),i.push({key:o,link:a})),i},[])}function hS(){let t=P.useContext(Wl);return Cy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Fk(){let t=P.useContext(em);return Cy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ry=P.createContext(void 0);Ry.displayName="FrameworkContext";function fS(){let t=P.useContext(Ry);return Cy(t,"You must render this element inside a <HydratedRouter> element"),t}function qk(t,e){let n=P.useContext(Ry),[i,a]=P.useState(!1),[o,c]=P.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:f,onMouseLeave:g,onTouchStart:v}=e,_=P.useRef(null);P.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let C=D=>{D.forEach(j=>{c(j.isIntersecting)})},N=new IntersectionObserver(C,{threshold:.5});return _.current&&N.observe(_.current),()=>{N.disconnect()}}},[t]),P.useEffect(()=>{if(i){let C=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(C)}}},[i]);let x=()=>{a(!0)},k=()=>{a(!1),c(!1)};return n?t!=="intent"?[o,_,{}]:[o,_,{onFocus:cu(d,x),onBlur:cu(h,k),onMouseEnter:cu(f,x),onMouseLeave:cu(g,k),onTouchStart:cu(v,x)}]:[!1,_,{}]}function cu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Hk({page:t,...e}){let{router:n}=hS(),i=P.useMemo(()=>tS(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?P.createElement(Gk,{page:t,matches:i,...e}):null}function $k(t){let{manifest:e,routeModules:n}=fS(),[i,a]=P.useState([]);return P.useEffect(()=>{let o=!1;return jk(t,e,n).then(c=>{o||a(c)}),()=>{o=!0}},[t,e,n]),i}function Gk({page:t,matches:e,...n}){let i=Aa(),{manifest:a,routeModules:o}=fS(),{basename:c}=hS(),{loaderData:d,matches:h}=Fk(),f=P.useMemo(()=>Yw(t,e,h,a,i,"data"),[t,e,h,a,i]),g=P.useMemo(()=>Yw(t,e,h,a,i,"assets"),[t,e,h,a,i]),v=P.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let k=new Set,C=!1;if(e.forEach(D=>{let j=a.routes[D.route.id];!j||!j.hasLoader||(!f.some(U=>U.route.id===D.route.id)&&D.route.id in d&&o[D.route.id]?.shouldRevalidate||j.hasClientLoader?C=!0:k.add(D.route.id))}),k.size===0)return[];let N=Ok(t,c,"data");return C&&k.size>0&&N.searchParams.set("_routes",e.filter(D=>k.has(D.route.id)).map(D=>D.route.id).join(",")),[N.pathname+N.search]},[c,d,i,a,f,e,t,o]),_=P.useMemo(()=>Lk(g,a),[g,a]),x=$k(g);return P.createElement(P.Fragment,null,v.map(k=>P.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),_.map(k=>P.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),x.map(({key:k,link:C})=>P.createElement("link",{key:k,nonce:n.nonce,...C})))}function Kk(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var mS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{mS&&(window.__reactRouterVersion="7.9.6")}catch{}function Yk({basename:t,children:e,window:n}){let i=P.useRef();i.current==null&&(i.current=OI({window:n,v5Compat:!0}));let a=i.current,[o,c]=P.useState({action:a.action,location:a.location}),d=P.useCallback(h=>{P.startTransition(()=>c(h))},[c]);return P.useLayoutEffect(()=>a.listen(d),[a,d]),P.createElement(xk,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:a})}var pS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gS=P.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:o,replace:c,state:d,target:h,to:f,preventScrollReset:g,viewTransition:v,..._},x){let{basename:k}=P.useContext(Nr),C=typeof f=="string"&&pS.test(f),N,D=!1;if(typeof f=="string"&&C&&(N=f,mS))try{let M=new URL(window.location.href),z=f.startsWith("//")?new URL(M.protocol+f):new URL(f),O=os(z.pathname,k);z.origin===M.origin&&O!=null?f=O+z.search+z.hash:D=!0}catch{Ai(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=lk(f,{relative:a}),[U,Q,re]=qk(i,_),ne=Zk(f,{replace:c,state:d,target:h,preventScrollReset:g,relative:a,viewTransition:v});function S(M){e&&e(M),M.defaultPrevented||ne(M)}let R=P.createElement("a",{..._,...re,href:N||j,onClick:D||o?e:S,ref:Kk(x,Q),target:h,"data-discover":!C&&n==="render"?"true":void 0});return U&&!C?P.createElement(P.Fragment,null,R,P.createElement(Hk,{page:j})):R});gS.displayName="Link";var Qk=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:o,to:c,viewTransition:d,children:h,...f},g){let v=Xu(c,{relative:f.relative}),_=Aa(),x=P.useContext(em),{navigator:k,basename:C}=P.useContext(Nr),N=x!=null&&iD(v)&&d===!0,D=k.encodeLocation?k.encodeLocation(v).pathname:v.pathname,j=_.pathname,U=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(j=j.toLowerCase(),U=U?U.toLowerCase():null,D=D.toLowerCase()),U&&C&&(U=os(U,C)||U);const Q=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let re=j===D||!a&&j.startsWith(D)&&j.charAt(Q)==="/",ne=U!=null&&(U===D||!a&&U.startsWith(D)&&U.charAt(D.length)==="/"),S={isActive:re,isPending:ne,isTransitioning:N},R=re?e:void 0,M;typeof i=="function"?M=i(S):M=[i,re?"active":null,ne?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let z=typeof o=="function"?o(S):o;return P.createElement(gS,{...f,"aria-current":R,className:M,ref:g,style:z,to:c,viewTransition:d},typeof h=="function"?h(S):h)});Qk.displayName="NavLink";var Xk=P.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:o,method:c=rf,action:d,onSubmit:h,relative:f,preventScrollReset:g,viewTransition:v,..._},x)=>{let k=tD(),C=nD(d,{relative:f}),N=c.toLowerCase()==="get"?"get":"post",D=typeof d=="string"&&pS.test(d),j=U=>{if(h&&h(U),U.defaultPrevented)return;U.preventDefault();let Q=U.nativeEvent.submitter,re=Q?.getAttribute("formmethod")||c;k(Q||U.currentTarget,{fetcherKey:e,method:re,navigate:n,replace:a,state:o,relative:f,preventScrollReset:g,viewTransition:v})};return P.createElement("form",{ref:x,method:N,action:C,onSubmit:i?h:j,..._,"data-discover":!D&&t==="render"?"true":void 0})});Xk.displayName="Form";function Wk(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yS(t){let e=P.useContext(Wl);return Et(e,Wk(t)),e}function Zk(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:c}={}){let d=Ca(),h=Aa(),f=Xu(t,{relative:o});return P.useCallback(g=>{if(Ik(g,e)){g.preventDefault();let v=n!==void 0?n:Nu(h)===Nu(f);d(t,{replace:v,state:i,preventScrollReset:a,relative:o,viewTransition:c})}},[h,d,f,n,i,e,t,a,o,c])}var Jk=0,eD=()=>`__${String(++Jk)}__`;function tD(){let{router:t}=yS("useSubmit"),{basename:e}=P.useContext(Nr),n=_k();return P.useCallback(async(i,a={})=>{let{action:o,method:c,encType:d,formData:h,body:f}=Mk(i,e);if(a.navigate===!1){let g=a.fetcherKey||eD();await t.fetch(g,n,a.action||o,{preventScrollReset:a.preventScrollReset,formData:h,body:f,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await t.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:h,body:f,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function nD(t,{relative:e}={}){let{basename:n}=P.useContext(Nr),i=P.useContext(Ir);Et(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),o={...Xu(t||".",{relative:e})},c=Aa();if(t==null){o.search=c.search;let d=new URLSearchParams(o.search),h=d.getAll("index");if(h.some(g=>g==="")){d.delete("index"),h.filter(v=>v).forEach(v=>d.append("index",v));let g=d.toString();o.search=g?`?${g}`:""}}return(!t||t===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:rs([n,o.pathname])),Nu(o)}function iD(t,{relative:e}={}){let n=P.useContext(oS);Et(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=yS("useViewTransitionState"),a=Xu(t,{relative:e});if(!n.isTransitioning)return!1;let o=os(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=os(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Ef(a.pathname,c)!=null||Ef(a.pathname,o)!=null}const rD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sD=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),Qw=t=>{const e=sD(t);return e.charAt(0).toUpperCase()+e.slice(1)},vS=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),aD=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var oD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const lD=P.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:o,iconNode:c,...d},h)=>P.createElement("svg",{ref:h,...oD,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:vS("lucide",a),...!o&&!aD(d)&&{"aria-hidden":"true"},...d},[...c.map(([f,g])=>P.createElement(f,g)),...Array.isArray(o)?o:[o]]));const Be=(t,e)=>{const n=P.forwardRef(({className:i,...a},o)=>P.createElement(lD,{ref:o,iconNode:e,className:vS(`lucide-${rD(Qw(t))}`,`lucide-${t}`,i),...a}));return n.displayName=Qw(t),n};const cD=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Iu=Be("arrow-left",cD);const uD=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],dD=Be("arrow-right-left",uD);const hD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],fD=Be("check",hD);const mD=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],pD=Be("chevron-down",mD);const gD=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],yD=Be("chevron-left",gD);const vD=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ho=Be("chevron-right",vD);const bD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],_D=Be("circle-arrow-down",bD);const wD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],TD=Be("circle-arrow-up",wD);const ED=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ny=Be("circle-check-big",ED);const xD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Xw=Be("circle-check",xD);const SD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Fg=Be("circle-plus",SD);const AD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ww=Be("circle",AD);const CD=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],RD=Be("copy",CD);const ND=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Zw=Be("download",ND);const ID=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],kD=Be("eye-off",ID);const DD=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],MD=Be("eye",DD);const OD=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],VD=Be("file-text",OD);const PD=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],jD=Be("folder-plus",PD);const LD=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],UD=Be("funnel",LD);const zD=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],BD=Be("house",zD);const FD=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],qD=Be("list",FD);const HD=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Jw=Be("loader",HD);const $D=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],GD=Be("log-out",$D);const KD=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],x0=Be("mail",KD);const YD=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],da=Be("refresh-cw",YD);const QD=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],XD=Be("search",QD);const WD=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ZD=Be("settings",WD);const JD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],e4=Be("target",JD);const t4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],af=Be("trash-2",t4);const n4=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],bS=Be("trash",n4);const i4=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],r4=Be("trending-down",i4);const s4=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],_S=Be("triangle-alert",s4);const a4=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],o4=Be("undo-2",a4);const l4=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],c4=Be("upload",l4);const u4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],d4=Be("user-plus",u4);const h4=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],wS=Be("wallet",h4);const f4=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],m4=Be("wifi-off",f4);const p4=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],g4=Be("wifi",p4);const y4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Wu=Be("x",y4),Iy=P.createContext({});function nm(t){const e=P.useRef(null);return e.current===null&&(e.current=t()),e.current}const ky=typeof window<"u",Dy=ky?P.useLayoutEffect:P.useEffect,im=P.createContext(null);function My(t,e){t.indexOf(e)===-1&&t.push(e)}function Oy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ls=(t,e,n)=>n>e?e:n<t?t:n;let Vy=()=>{};const cs={},TS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function ES(t){return typeof t=="object"&&t!==null}const xS=t=>/^0[^.\s]+$/u.test(t);function Py(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ei=t=>t,v4=(t,e)=>n=>e(t(n)),Zu=(...t)=>t.reduce(v4),ku=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class jy{constructor(){this.subscriptions=[]}add(e){return My(this.subscriptions,e),()=>Oy(this.subscriptions,e)}notify(e,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,i);else for(let o=0;o<a;o++){const c=this.subscriptions[o];c&&c(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const br=t=>t*1e3,Ti=t=>t/1e3;function SS(t,e){return e?t*(1e3/e):0}const AS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,b4=1e-7,_4=12;function w4(t,e,n,i,a){let o,c,d=0;do c=e+(n-e)/2,o=AS(c,i,a)-t,o>0?n=c:e=c;while(Math.abs(o)>b4&&++d<_4);return c}function Ju(t,e,n,i){if(t===e&&n===i)return Ei;const a=o=>w4(o,0,1,t,n);return o=>o===0||o===1?o:AS(a(o),e,i)}const CS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,RS=t=>e=>1-t(1-e),NS=Ju(.33,1.53,.69,.99),Ly=RS(NS),IS=CS(Ly),kS=t=>(t*=2)<1?.5*Ly(t):.5*(2-Math.pow(2,-10*(t-1))),Uy=t=>1-Math.sin(Math.acos(t)),DS=RS(Uy),MS=CS(Uy),T4=Ju(.42,0,1,1),E4=Ju(0,0,.58,1),OS=Ju(.42,0,.58,1),x4=t=>Array.isArray(t)&&typeof t[0]!="number",VS=t=>Array.isArray(t)&&typeof t[0]=="number",S4={linear:Ei,easeIn:T4,easeInOut:OS,easeOut:E4,circIn:Uy,circInOut:MS,circOut:DS,backIn:Ly,backInOut:IS,backOut:NS,anticipate:kS},A4=t=>typeof t=="string",eT=t=>{if(VS(t)){Vy(t.length===4);const[e,n,i,a]=t;return Ju(e,n,i,a)}else if(A4(t))return S4[t];return t},Gh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function C4(t,e){let n=new Set,i=new Set,a=!1,o=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function h(g){c.has(g)&&(f.schedule(g),t()),g(d)}const f={schedule:(g,v=!1,_=!1)=>{const k=_&&a?n:i;return v&&c.add(g),k.has(g)||k.add(g),g},cancel:g=>{i.delete(g),c.delete(g)},process:g=>{if(d=g,a){o=!0;return}a=!0,[n,i]=[i,n],n.forEach(h),n.clear(),a=!1,o&&(o=!1,f.process(g))}};return f}const R4=40;function PS(t,e){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,c=Gh.reduce((U,Q)=>(U[Q]=C4(o),U),{}),{setup:d,read:h,resolveKeyframes:f,preUpdate:g,update:v,preRender:_,render:x,postRender:k}=c,C=()=>{const U=cs.useManualTiming?a.timestamp:performance.now();n=!1,cs.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(U-a.timestamp,R4),1)),a.timestamp=U,a.isProcessing=!0,d.process(a),h.process(a),f.process(a),g.process(a),v.process(a),_.process(a),x.process(a),k.process(a),a.isProcessing=!1,n&&e&&(i=!1,t(C))},N=()=>{n=!0,i=!0,a.isProcessing||t(C)};return{schedule:Gh.reduce((U,Q)=>{const re=c[Q];return U[Q]=(ne,S=!1,R=!1)=>(n||N(),re.schedule(ne,S,R)),U},{}),cancel:U=>{for(let Q=0;Q<Gh.length;Q++)c[Gh[Q]].cancel(U)},state:a,steps:c}}const{schedule:wt,cancel:ya,state:mn,steps:qg}=PS(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ei,!0);let of;function N4(){of=void 0}const Hn={now:()=>(of===void 0&&Hn.set(mn.isProcessing||cs.useManualTiming?mn.timestamp:performance.now()),of),set:t=>{of=t,queueMicrotask(N4)}},jS=t=>e=>typeof e=="string"&&e.startsWith(t),zy=jS("--"),I4=jS("var(--"),By=t=>I4(t)?k4.test(t.split("/*")[0].trim()):!1,k4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Zl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Du={...Zl,transform:t=>ls(0,1,t)},Kh={...Zl,default:1},vu=t=>Math.round(t*1e5)/1e5,Fy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function D4(t){return t==null}const M4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,qy=(t,e)=>n=>!!(typeof n=="string"&&M4.test(n)&&n.startsWith(t)||e&&!D4(n)&&Object.prototype.hasOwnProperty.call(n,e)),LS=(t,e,n)=>i=>{if(typeof i!="string")return i;const[a,o,c,d]=i.match(Fy);return{[t]:parseFloat(a),[e]:parseFloat(o),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},O4=t=>ls(0,255,t),Hg={...Zl,transform:t=>Math.round(O4(t))},po={test:qy("rgb","red"),parse:LS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Hg.transform(t)+", "+Hg.transform(e)+", "+Hg.transform(n)+", "+vu(Du.transform(i))+")"};function V4(t){let e="",n="",i="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const S0={test:qy("#"),parse:V4,transform:po.transform},ed=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),na=ed("deg"),_r=ed("%"),ke=ed("px"),P4=ed("vh"),j4=ed("vw"),tT={..._r,parse:t=>_r.parse(t)/100,transform:t=>_r.transform(t*100)},Al={test:qy("hsl","hue"),parse:LS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+_r.transform(vu(e))+", "+_r.transform(vu(n))+", "+vu(Du.transform(i))+")"},Yt={test:t=>po.test(t)||S0.test(t)||Al.test(t),parse:t=>po.test(t)?po.parse(t):Al.test(t)?Al.parse(t):S0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?po.transform(t):Al.transform(t),getAnimatableNone:t=>{const e=Yt.parse(t);return e.alpha=0,Yt.transform(e)}},L4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function U4(t){return isNaN(t)&&typeof t=="string"&&(t.match(Fy)?.length||0)+(t.match(L4)?.length||0)>0}const US="number",zS="color",z4="var",B4="var(",nT="${}",F4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Mu(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},a=[];let o=0;const d=e.replace(F4,h=>(Yt.test(h)?(i.color.push(o),a.push(zS),n.push(Yt.parse(h))):h.startsWith(B4)?(i.var.push(o),a.push(z4),n.push(h)):(i.number.push(o),a.push(US),n.push(parseFloat(h))),++o,nT)).split(nT);return{values:n,split:d,indexes:i,types:a}}function BS(t){return Mu(t).values}function FS(t){const{split:e,types:n}=Mu(t),i=e.length;return a=>{let o="";for(let c=0;c<i;c++)if(o+=e[c],a[c]!==void 0){const d=n[c];d===US?o+=vu(a[c]):d===zS?o+=Yt.transform(a[c]):o+=a[c]}return o}}const q4=t=>typeof t=="number"?0:Yt.test(t)?Yt.getAnimatableNone(t):t;function H4(t){const e=BS(t);return FS(t)(e.map(q4))}const va={test:U4,parse:BS,createTransformer:FS,getAnimatableNone:H4};function $g(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function $4({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let a=0,o=0,c=0;if(!e)a=o=c=n;else{const d=n<.5?n*(1+e):n+e-n*e,h=2*n-d;a=$g(h,d,t+1/3),o=$g(h,d,t),c=$g(h,d,t-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(c*255),alpha:i}}function xf(t,e){return n=>n>0?e:t}const Tt=(t,e,n)=>t+(e-t)*n,Gg=(t,e,n)=>{const i=t*t,a=n*(e*e-i)+i;return a<0?0:Math.sqrt(a)},G4=[S0,po,Al],K4=t=>G4.find(e=>e.test(t));function iT(t){const e=K4(t);if(!e)return!1;let n=e.parse(t);return e===Al&&(n=$4(n)),n}const rT=(t,e)=>{const n=iT(t),i=iT(e);if(!n||!i)return xf(t,e);const a={...n};return o=>(a.red=Gg(n.red,i.red,o),a.green=Gg(n.green,i.green,o),a.blue=Gg(n.blue,i.blue,o),a.alpha=Tt(n.alpha,i.alpha,o),po.transform(a))},A0=new Set(["none","hidden"]);function Y4(t,e){return A0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Q4(t,e){return n=>Tt(t,e,n)}function Hy(t){return typeof t=="number"?Q4:typeof t=="string"?By(t)?xf:Yt.test(t)?rT:Z4:Array.isArray(t)?qS:typeof t=="object"?Yt.test(t)?rT:X4:xf}function qS(t,e){const n=[...t],i=n.length,a=t.map((o,c)=>Hy(o)(o,e[c]));return o=>{for(let c=0;c<i;c++)n[c]=a[c](o);return n}}function X4(t,e){const n={...t,...e},i={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(i[a]=Hy(t[a])(t[a],e[a]));return a=>{for(const o in i)n[o]=i[o](a);return n}}function W4(t,e){const n=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const o=e.types[a],c=t.indexes[o][i[o]],d=t.values[c]??0;n[a]=d,i[o]++}return n}const Z4=(t,e)=>{const n=va.createTransformer(e),i=Mu(t),a=Mu(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?A0.has(t)&&!a.values.length||A0.has(e)&&!i.values.length?Y4(t,e):Zu(qS(W4(i,a),a.values),n):xf(t,e)};function HS(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Tt(t,e,n):Hy(t)(t,e)}const J4=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>wt.update(e,n),stop:()=>ya(e),now:()=>mn.isProcessing?mn.timestamp:Hn.now()}},$S=(t,e,n=10)=>{let i="";const a=Math.max(Math.round(e/n),2);for(let o=0;o<a;o++)i+=Math.round(t(o/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Sf=2e4;function $y(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Sf;)e+=n,i=t.next(e);return e>=Sf?1/0:e}function eM(t,e=100,n){const i=n({...t,keyframes:[0,e]}),a=Math.min($y(i),Sf);return{type:"keyframes",ease:o=>i.next(a*o).value/e,duration:Ti(a)}}const tM=5;function GS(t,e,n){const i=Math.max(e-tM,0);return SS(n-t(i),e-i)}const Rt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Kg=.001;function nM({duration:t=Rt.duration,bounce:e=Rt.bounce,velocity:n=Rt.velocity,mass:i=Rt.mass}){let a,o,c=1-e;c=ls(Rt.minDamping,Rt.maxDamping,c),t=ls(Rt.minDuration,Rt.maxDuration,Ti(t)),c<1?(a=f=>{const g=f*c,v=g*t,_=g-n,x=C0(f,c),k=Math.exp(-v);return Kg-_/x*k},o=f=>{const v=f*c*t,_=v*n+n,x=Math.pow(c,2)*Math.pow(f,2)*t,k=Math.exp(-v),C=C0(Math.pow(f,2),c);return(-a(f)+Kg>0?-1:1)*((_-x)*k)/C}):(a=f=>{const g=Math.exp(-f*t),v=(f-n)*t+1;return-Kg+g*v},o=f=>{const g=Math.exp(-f*t),v=(n-f)*(t*t);return g*v});const d=5/t,h=rM(a,o,d);if(t=br(t),isNaN(h))return{stiffness:Rt.stiffness,damping:Rt.damping,duration:t};{const f=Math.pow(h,2)*i;return{stiffness:f,damping:c*2*Math.sqrt(i*f),duration:t}}}const iM=12;function rM(t,e,n){let i=n;for(let a=1;a<iM;a++)i=i-t(i)/e(i);return i}function C0(t,e){return t*Math.sqrt(1-e*e)}const sM=["duration","bounce"],aM=["stiffness","damping","mass"];function sT(t,e){return e.some(n=>t[n]!==void 0)}function oM(t){let e={velocity:Rt.velocity,stiffness:Rt.stiffness,damping:Rt.damping,mass:Rt.mass,isResolvedFromDuration:!1,...t};if(!sT(t,aM)&&sT(t,sM))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,o=2*ls(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Rt.mass,stiffness:a,damping:o}}else{const n=nM(t);e={...e,...n,mass:Rt.mass},e.isResolvedFromDuration=!0}return e}function Af(t=Rt.visualDuration,e=Rt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=n;const o=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:o},{stiffness:h,damping:f,mass:g,duration:v,velocity:_,isResolvedFromDuration:x}=oM({...n,velocity:-Ti(n.velocity||0)}),k=_||0,C=f/(2*Math.sqrt(h*g)),N=c-o,D=Ti(Math.sqrt(h/g)),j=Math.abs(N)<5;i||(i=j?Rt.restSpeed.granular:Rt.restSpeed.default),a||(a=j?Rt.restDelta.granular:Rt.restDelta.default);let U;if(C<1){const re=C0(D,C);U=ne=>{const S=Math.exp(-C*D*ne);return c-S*((k+C*D*N)/re*Math.sin(re*ne)+N*Math.cos(re*ne))}}else if(C===1)U=re=>c-Math.exp(-D*re)*(N+(k+D*N)*re);else{const re=D*Math.sqrt(C*C-1);U=ne=>{const S=Math.exp(-C*D*ne),R=Math.min(re*ne,300);return c-S*((k+C*D*N)*Math.sinh(R)+re*N*Math.cosh(R))/re}}const Q={calculatedDuration:x&&v||null,next:re=>{const ne=U(re);if(x)d.done=re>=v;else{let S=re===0?k:0;C<1&&(S=re===0?br(k):GS(U,re,ne));const R=Math.abs(S)<=i,M=Math.abs(c-ne)<=a;d.done=R&&M}return d.value=d.done?c:ne,d},toString:()=>{const re=Math.min($y(Q),Sf),ne=$S(S=>Q.next(re*S).value,re,30);return re+"ms "+ne},toTransition:()=>{}};return Q}Af.applyToOptions=t=>{const e=eM(t,100,Af);return t.ease=e.ease,t.duration=br(e.duration),t.type="keyframes",t};function R0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:c,min:d,max:h,restDelta:f=.5,restSpeed:g}){const v=t[0],_={done:!1,value:v},x=R=>d!==void 0&&R<d||h!==void 0&&R>h,k=R=>d===void 0?h:h===void 0||Math.abs(d-R)<Math.abs(h-R)?d:h;let C=n*e;const N=v+C,D=c===void 0?N:c(N);D!==N&&(C=D-v);const j=R=>-C*Math.exp(-R/i),U=R=>D+j(R),Q=R=>{const M=j(R),z=U(R);_.done=Math.abs(M)<=f,_.value=_.done?D:z};let re,ne;const S=R=>{x(_.value)&&(re=R,ne=Af({keyframes:[_.value,k(_.value)],velocity:GS(U,R,_.value),damping:a,stiffness:o,restDelta:f,restSpeed:g}))};return S(0),{calculatedDuration:null,next:R=>{let M=!1;return!ne&&re===void 0&&(M=!0,Q(R),S(R)),re!==void 0&&R>=re?ne.next(R-re):(!M&&Q(R),_)}}}function lM(t,e,n){const i=[],a=n||cs.mix||HS,o=t.length-1;for(let c=0;c<o;c++){let d=a(t[c],t[c+1]);if(e){const h=Array.isArray(e)?e[c]||Ei:e;d=Zu(h,d)}i.push(d)}return i}function cM(t,e,{clamp:n=!0,ease:i,mixer:a}={}){const o=t.length;if(Vy(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=lM(e,i,a),h=d.length,f=g=>{if(c&&g<t[0])return e[0];let v=0;if(h>1)for(;v<t.length-2&&!(g<t[v+1]);v++);const _=ku(t[v],t[v+1],g);return d[v](_)};return n?g=>f(ls(t[0],t[o-1],g)):f}function uM(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const a=ku(0,e,i);t.push(Tt(n,1,a))}}function dM(t){const e=[0];return uM(e,t.length-1),e}function hM(t,e){return t.map(n=>n*e)}function fM(t,e){return t.map(()=>e||OS).splice(0,t.length-1)}function bu({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const a=x4(i)?i.map(eT):eT(i),o={done:!1,value:e[0]},c=hM(n&&n.length===e.length?n:dM(e),t),d=cM(c,e,{ease:Array.isArray(a)?a:fM(e,a)});return{calculatedDuration:t,next:h=>(o.value=d(h),o.done=h>=t,o)}}const mM=t=>t!==null;function Gy(t,{repeat:e,repeatType:n="loop"},i,a=1){const o=t.filter(mM),d=a<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!d||i===void 0?o[d]:i}const pM={decay:R0,inertia:R0,tween:bu,keyframes:bu,spring:Af};function KS(t){typeof t.type=="string"&&(t.type=pM[t.type])}class Ky{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const gM=t=>t/100;class Yy extends Ky{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Hn.now()&&this.tick(Hn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;KS(e);const{type:n=bu,repeat:i=0,repeatDelay:a=0,repeatType:o,velocity:c=0}=e;let{keyframes:d}=e;const h=n||bu;h!==bu&&typeof d[0]!="number"&&(this.mixKeyframes=Zu(gM,HS(d[0],d[1])),d=[0,100]);const f=h({...e,keyframes:d});o==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...d].reverse(),velocity:-c})),f.calculatedDuration===null&&(f.calculatedDuration=$y(f));const{calculatedDuration:g}=f;this.calculatedDuration=g,this.resolvedDuration=g+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:a,mixKeyframes:o,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:h}=this;if(this.startTime===null)return i.next(0);const{delay:f=0,keyframes:g,repeat:v,repeatType:_,repeatDelay:x,type:k,onUpdate:C,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const D=this.currentTime-f*(this.playbackSpeed>=0?1:-1),j=this.playbackSpeed>=0?D<0:D>a;this.currentTime=Math.max(D,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let U=this.currentTime,Q=i;if(v){const R=Math.min(this.currentTime,a)/d;let M=Math.floor(R),z=R%1;!z&&R>=1&&(z=1),z===1&&M--,M=Math.min(M,v+1),!!(M%2)&&(_==="reverse"?(z=1-z,x&&(z-=x/d)):_==="mirror"&&(Q=c)),U=ls(0,1,z)*d}const re=j?{done:!1,value:g[0]}:Q.next(U);o&&(re.value=o(re.value));let{done:ne}=re;!j&&h!==null&&(ne=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ne);return S&&k!==R0&&(re.value=Gy(g,this.options,N,this.speed)),C&&C(re.value),S&&this.finish(),re}then(e,n){return this.finished.then(e,n)}get duration(){return Ti(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ti(e)}get time(){return Ti(this.currentTime)}set time(e){e=br(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Hn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ti(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=J4,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Hn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function yM(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const go=t=>t*180/Math.PI,N0=t=>{const e=go(Math.atan2(t[1],t[0]));return I0(e)},vM={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:N0,rotateZ:N0,skewX:t=>go(Math.atan(t[1])),skewY:t=>go(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},I0=t=>(t=t%360,t<0&&(t+=360),t),aT=N0,oT=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),lT=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),bM={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:oT,scaleY:lT,scale:t=>(oT(t)+lT(t))/2,rotateX:t=>I0(go(Math.atan2(t[6],t[5]))),rotateY:t=>I0(go(Math.atan2(-t[2],t[0]))),rotateZ:aT,rotate:aT,skewX:t=>go(Math.atan(t[4])),skewY:t=>go(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function k0(t){return t.includes("scale")?1:0}function D0(t,e){if(!t||t==="none")return k0(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=bM,a=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=vM,a=d}if(!a)return k0(e);const o=i[e],c=a[1].split(",").map(wM);return typeof o=="function"?o(c):c[o]}const _M=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return D0(n,e)};function wM(t){return parseFloat(t.trim())}const Jl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ec=new Set(Jl),cT=t=>t===Zl||t===ke,TM=new Set(["x","y","z"]),EM=Jl.filter(t=>!TM.has(t));function xM(t){const e=[];return EM.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const vo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>D0(e,"x"),y:(t,{transform:e})=>D0(e,"y")};vo.translateX=vo.x;vo.translateY=vo.y;const bo=new Set;let M0=!1,O0=!1,V0=!1;function YS(){if(O0){const t=Array.from(bo).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const a=xM(i);a.length&&(n.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([o,c])=>{i.getValue(o)?.set(c)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}O0=!1,M0=!1,bo.forEach(t=>t.complete(V0)),bo.clear()}function QS(){bo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(O0=!0)})}function SM(){V0=!0,QS(),YS(),V0=!1}class Qy{constructor(e,n,i,a,o,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=a,this.element=o,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(bo.add(this),M0||(M0=!0,wt.read(QS),wt.resolveKeyframes(YS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:a}=this;if(e[0]===null){const o=a?.get(),c=e[e.length-1];if(o!==void 0)e[0]=o;else if(i&&n){const d=i.readValue(n,c);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=c),a&&o===void 0&&a.set(e[0])}yM(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),bo.delete(this)}cancel(){this.state==="scheduled"&&(bo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const AM=t=>t.startsWith("--");function CM(t,e,n){AM(e)?t.style.setProperty(e,n):t.style[e]=n}const RM=Py(()=>window.ScrollTimeline!==void 0),NM={};function IM(t,e){const n=Py(t);return()=>NM[e]??n()}const XS=IM(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),du=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,uT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:du([0,.65,.55,1]),circOut:du([.55,0,1,.45]),backIn:du([.31,.01,.66,-.59]),backOut:du([.33,1.53,.69,.99])};function WS(t,e){if(t)return typeof t=="function"?XS()?$S(t,e):"ease-out":VS(t)?du(t):Array.isArray(t)?t.map(n=>WS(n,e)||uT.easeOut):uT[t]}function kM(t,e,n,{delay:i=0,duration:a=300,repeat:o=0,repeatType:c="loop",ease:d="easeOut",times:h}={},f=void 0){const g={[e]:n};h&&(g.offset=h);const v=WS(d,a);Array.isArray(v)&&(g.easing=v);const _={delay:i,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:o+1,direction:c==="reverse"?"alternate":"normal"};return f&&(_.pseudoElement=f),t.animate(g,_)}function ZS(t){return typeof t=="function"&&"applyToOptions"in t}function DM({type:t,...e}){return ZS(t)&&XS()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class MM extends Ky{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:a,pseudoElement:o,allowFlatten:c=!1,finalKeyframe:d,onComplete:h}=e;this.isPseudoElement=!!o,this.allowFlatten=c,this.options=e,Vy(typeof e.type!="string");const f=DM(e);this.animation=kM(n,i,a,f,o),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const g=Gy(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(g):CM(n,i,g),this.animation.cancel()}h?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Ti(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ti(e)}get time(){return Ti(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=br(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&RM()?(this.animation.timeline=e,Ei):n(this)}}const JS={anticipate:kS,backInOut:IS,circInOut:MS};function OM(t){return t in JS}function VM(t){typeof t.ease=="string"&&OM(t.ease)&&(t.ease=JS[t.ease])}const dT=10;class PM extends MM{constructor(e){VM(e),KS(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:a,element:o,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new Yy({...c,autoplay:!1}),h=br(this.finishedTime??this.time);n.setWithVelocity(d.sample(h-dT).value,d.sample(h).value,dT),d.stop()}}const hT=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(va.test(t)||t==="0")&&!t.startsWith("url("));function jM(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function LM(t,e,n,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],c=hT(a,e),d=hT(o,e);return!c||!d?!1:jM(t)||(n==="spring"||ZS(n))&&i}function P0(t){t.duration=0,t.type="keyframes"}const UM=new Set(["opacity","clipPath","filter","transform"]),zM=Py(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function BM(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:a,damping:o,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:f}=e.owner.getProps();return zM()&&n&&UM.has(n)&&(n!=="transform"||!f)&&!h&&!i&&a!=="mirror"&&o!==0&&c!=="inertia"}const FM=40;class qM extends Ky{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:c="loop",keyframes:d,name:h,motionValue:f,element:g,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Hn.now();const _={autoplay:e,delay:n,type:i,repeat:a,repeatDelay:o,repeatType:c,name:h,motionValue:f,element:g,...v},x=g?.KeyframeResolver||Qy;this.keyframeResolver=new x(d,(k,C,N)=>this.onKeyframesResolved(k,C,_,!N),h,f,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,a){this.keyframeResolver=void 0;const{name:o,type:c,velocity:d,delay:h,isHandoff:f,onUpdate:g}=i;this.resolvedAt=Hn.now(),LM(e,o,c,d)||((cs.instantAnimations||!h)&&g?.(Gy(e,i,n)),e[0]=e[e.length-1],P0(i),i.repeat=0);const _={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>FM?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},x=!f&&BM(_)?new PM({..._,element:_.motionValue.owner.current}):new Yy(_);x.finished.then(()=>this.notifyFinished()).catch(Ei),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),SM()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const HM=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function $M(t){const e=HM.exec(t);if(!e)return[,];const[,n,i,a]=e;return[`--${n??i}`,a]}function eA(t,e,n=1){const[i,a]=$M(t);if(!i)return;const o=window.getComputedStyle(e).getPropertyValue(i);if(o){const c=o.trim();return TS(c)?parseFloat(c):c}return By(a)?eA(a,e,n+1):a}function Xy(t,e){return t?.[e]??t?.default??t}const tA=new Set(["width","height","top","left","right","bottom",...Jl]),GM={test:t=>t==="auto",parse:t=>t},nA=t=>e=>e.test(t),iA=[Zl,ke,_r,na,j4,P4,GM],fT=t=>iA.find(nA(t));function KM(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||xS(t):!0}const YM=new Set(["brightness","contrast","saturate","opacity"]);function QM(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(Fy)||[];if(!i)return t;const a=n.replace(i,"");let o=YM.has(e)?1:0;return i!==n&&(o*=100),e+"("+o+a+")"}const XM=/\b([a-z-]*)\(.*?\)/gu,j0={...va,getAnimatableNone:t=>{const e=t.match(XM);return e?e.map(QM).join(" "):t}},mT={...Zl,transform:Math.round},WM={rotate:na,rotateX:na,rotateY:na,rotateZ:na,scale:Kh,scaleX:Kh,scaleY:Kh,scaleZ:Kh,skew:na,skewX:na,skewY:na,distance:ke,translateX:ke,translateY:ke,translateZ:ke,x:ke,y:ke,z:ke,perspective:ke,transformPerspective:ke,opacity:Du,originX:tT,originY:tT,originZ:ke},Wy={borderWidth:ke,borderTopWidth:ke,borderRightWidth:ke,borderBottomWidth:ke,borderLeftWidth:ke,borderRadius:ke,radius:ke,borderTopLeftRadius:ke,borderTopRightRadius:ke,borderBottomRightRadius:ke,borderBottomLeftRadius:ke,width:ke,maxWidth:ke,height:ke,maxHeight:ke,top:ke,right:ke,bottom:ke,left:ke,padding:ke,paddingTop:ke,paddingRight:ke,paddingBottom:ke,paddingLeft:ke,margin:ke,marginTop:ke,marginRight:ke,marginBottom:ke,marginLeft:ke,backgroundPositionX:ke,backgroundPositionY:ke,...WM,zIndex:mT,fillOpacity:Du,strokeOpacity:Du,numOctaves:mT},ZM={...Wy,color:Yt,backgroundColor:Yt,outlineColor:Yt,fill:Yt,stroke:Yt,borderColor:Yt,borderTopColor:Yt,borderRightColor:Yt,borderBottomColor:Yt,borderLeftColor:Yt,filter:j0,WebkitFilter:j0},rA=t=>ZM[t];function sA(t,e){let n=rA(t);return n!==j0&&(n=va),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const JM=new Set(["auto","none","0"]);function eO(t,e,n){let i=0,a;for(;i<t.length&&!a;){const o=t[i];typeof o=="string"&&!JM.has(o)&&Mu(o).values.length&&(a=t[i]),i++}if(a&&n)for(const o of e)t[o]=sA(n,a)}class tO extends Qy{constructor(e,n,i,a,o){super(e,n,i,a,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let f=e[h];if(typeof f=="string"&&(f=f.trim(),By(f))){const g=eA(f,n.current);g!==void 0&&(e[h]=g),h===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!tA.has(i)||e.length!==2)return;const[a,o]=e,c=fT(a),d=fT(o);if(c!==d)if(cT(c)&&cT(d))for(let h=0;h<e.length;h++){const f=e[h];typeof f=="string"&&(e[h]=parseFloat(f))}else vo[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||KM(e[a]))&&i.push(a);i.length&&eO(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=vo[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const o=i.length-1,c=i[o];i[o]=vo[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,h])=>{e.getValue(d).set(h)}),this.resolveNoneKeyframes()}}function nO(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const a=n?.[t]??i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const aA=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function oA(t){return ES(t)&&"offsetHeight"in t}const pT=30,iO=t=>!isNaN(parseFloat(t));class rO{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=Hn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Hn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=iO(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new jy);const i=this.events[e].add(n);return e==="change"?()=>{i(),wt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Hn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>pT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,pT);return SS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ll(t,e){return new rO(t,e)}const{schedule:Zy}=PS(queueMicrotask,!1),zi={x:!1,y:!1};function lA(){return zi.x||zi.y}function sO(t){return t==="x"||t==="y"?zi[t]?null:(zi[t]=!0,()=>{zi[t]=!1}):zi.x||zi.y?null:(zi.x=zi.y=!0,()=>{zi.x=zi.y=!1})}function cA(t,e){const n=nO(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[n,a,()=>i.abort()]}function gT(t){return!(t.pointerType==="touch"||lA())}function aO(t,e,n={}){const[i,a,o]=cA(t,n),c=d=>{if(!gT(d))return;const{target:h}=d,f=e(h,d);if(typeof f!="function"||!h)return;const g=v=>{gT(v)&&(f(v),h.removeEventListener("pointerleave",g))};h.addEventListener("pointerleave",g,a)};return i.forEach(d=>{d.addEventListener("pointerenter",c,a)}),o}const uA=(t,e)=>e?t===e?!0:uA(t,e.parentElement):!1,Jy=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,oO=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function lO(t){return oO.has(t.tagName)||t.tabIndex!==-1}const lf=new WeakSet;function yT(t){return e=>{e.key==="Enter"&&t(e)}}function Yg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const cO=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=yT(()=>{if(lf.has(n))return;Yg(n,"down");const a=yT(()=>{Yg(n,"up")}),o=()=>Yg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function vT(t){return Jy(t)&&!lA()}function uO(t,e,n={}){const[i,a,o]=cA(t,n),c=d=>{const h=d.currentTarget;if(!vT(d))return;lf.add(h);const f=e(h,d),g=(x,k)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",_),lf.has(h)&&lf.delete(h),vT(x)&&typeof f=="function"&&f(x,{success:k})},v=x=>{g(x,h===window||h===document||n.useGlobalTarget||uA(h,x.target))},_=x=>{g(x,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",_,a)};return i.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),oA(d)&&(d.addEventListener("focus",f=>cO(f,a)),!lO(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),o}function dA(t){return ES(t)&&"ownerSVGElement"in t}function dO(t){return dA(t)&&t.tagName==="svg"}const Sn=t=>!!(t&&t.getVelocity),hO=[...iA,Yt,va],fO=t=>hO.find(nA(t)),ev=P.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function bT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function mO(...t){return e=>{let n=!1;const i=t.map(a=>{const o=bT(a,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let a=0;a<i.length;a++){const o=i[a];typeof o=="function"?o():bT(t[a],null)}}}}function pO(...t){return P.useCallback(mO(...t),t)}class gO extends P.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,a=oA(i)&&i.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=a-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function yO({children:t,isPresent:e,anchorX:n,root:i}){const a=P.useId(),o=P.useRef(null),c=P.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=P.useContext(ev),h=pO(o,t?.ref);return P.useInsertionEffect(()=>{const{width:f,height:g,top:v,left:_,right:x}=c.current;if(e||!o.current||!f||!g)return;const k=n==="left"?`left: ${_}`:`right: ${x}`;o.current.dataset.motionPopId=a;const C=document.createElement("style");d&&(C.nonce=d);const N=i??document.head;return N.appendChild(C),C.sheet&&C.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${g}px !important;
            ${k}px !important;
            top: ${v}px !important;
          }
        `),()=>{N.contains(C)&&N.removeChild(C)}},[e]),b.jsx(gO,{isPresent:e,childRef:o,sizeRef:c,children:P.cloneElement(t,{ref:h})})}const vO=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:o,mode:c,anchorX:d,root:h})=>{const f=nm(bO),g=P.useId();let v=!0,_=P.useMemo(()=>(v=!1,{id:g,initial:e,isPresent:n,custom:a,onExitComplete:x=>{f.set(x,!0);for(const k of f.values())if(!k)return;i&&i()},register:x=>(f.set(x,!1),()=>f.delete(x))}),[n,f,i]);return o&&v&&(_={..._}),P.useMemo(()=>{f.forEach((x,k)=>f.set(k,!1))},[n]),P.useEffect(()=>{!n&&!f.size&&i&&i()},[n]),c==="popLayout"&&(t=b.jsx(yO,{isPresent:n,anchorX:d,root:h,children:t})),b.jsx(im.Provider,{value:_,children:t})};function bO(){return new Map}function hA(t=!0){const e=P.useContext(im);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=e,o=P.useId();P.useEffect(()=>{if(t)return a(o)},[t]);const c=P.useCallback(()=>t&&i&&i(o),[o,i,t]);return!n&&i?[!1,c]:[!0]}const Yh=t=>t.key||"";function _T(t){const e=[];return P.Children.forEach(t,n=>{P.isValidElement(n)&&e.push(n)}),e}const rm=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:o="sync",propagate:c=!1,anchorX:d="left",root:h})=>{const[f,g]=hA(c),v=P.useMemo(()=>_T(t),[t]),_=c&&!f?[]:v.map(Yh),x=P.useRef(!0),k=P.useRef(v),C=nm(()=>new Map),[N,D]=P.useState(v),[j,U]=P.useState(v);Dy(()=>{x.current=!1,k.current=v;for(let ne=0;ne<j.length;ne++){const S=Yh(j[ne]);_.includes(S)?C.delete(S):C.get(S)!==!0&&C.set(S,!1)}},[j,_.length,_.join("-")]);const Q=[];if(v!==N){let ne=[...v];for(let S=0;S<j.length;S++){const R=j[S],M=Yh(R);_.includes(M)||(ne.splice(S,0,R),Q.push(R))}return o==="wait"&&Q.length&&(ne=Q),U(_T(ne)),D(v),null}const{forceRender:re}=P.useContext(Iy);return b.jsx(b.Fragment,{children:j.map(ne=>{const S=Yh(ne),R=c&&!f?!1:v===j||_.includes(S),M=()=>{if(C.has(S))C.set(S,!0);else return;let z=!0;C.forEach(O=>{O||(z=!1)}),z&&(re?.(),U(k.current),c&&g?.(),i&&i())};return b.jsx(vO,{isPresent:R,initial:!x.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:o,root:h,onExitComplete:R?void 0:M,anchorX:d,children:ne},S)})})},fA=P.createContext({strict:!1}),wT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ul={};for(const t in wT)Ul[t]={isEnabled:e=>wT[t].some(n=>!!e[n])};function _O(t){for(const e in t)Ul[e]={...Ul[e],...t[e]}}const wO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Cf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||wO.has(t)}let mA=t=>!Cf(t);function TO(t){typeof t=="function"&&(mA=e=>e.startsWith("on")?!Cf(e):t(e))}try{TO(require("@emotion/is-prop-valid").default)}catch{}function EO(t,e,n){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(mA(a)||n===!0&&Cf(a)||!e&&!Cf(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}const sm=P.createContext({});function am(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ou(t){return typeof t=="string"||Array.isArray(t)}const tv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],nv=["initial",...tv];function om(t){return am(t.animate)||nv.some(e=>Ou(t[e]))}function pA(t){return!!(om(t)||t.variants)}function xO(t,e){if(om(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Ou(n)?n:void 0,animate:Ou(i)?i:void 0}}return t.inherit!==!1?e:{}}function SO(t){const{initial:e,animate:n}=xO(t,P.useContext(sm));return P.useMemo(()=>({initial:e,animate:n}),[TT(e),TT(n)])}function TT(t){return Array.isArray(t)?t.join(" "):t}const Vu={};function AO(t){for(const e in t)Vu[e]=t[e],zy(e)&&(Vu[e].isCSSVariable=!0)}function gA(t,{layout:e,layoutId:n}){return ec.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Vu[t]||t==="opacity")}const CO={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},RO=Jl.length;function NO(t,e,n){let i="",a=!0;for(let o=0;o<RO;o++){const c=Jl[o],d=t[c];if(d===void 0)continue;let h=!0;if(typeof d=="number"?h=d===(c.startsWith("scale")?1:0):h=parseFloat(d)===0,!h||n){const f=aA(d,Wy[c]);if(!h){a=!1;const g=CO[c]||c;i+=`${g}(${f}) `}n&&(e[c]=f)}}return i=i.trim(),n?i=n(e,a?"":i):a&&(i="none"),i}function iv(t,e,n){const{style:i,vars:a,transformOrigin:o}=t;let c=!1,d=!1;for(const h in e){const f=e[h];if(ec.has(h)){c=!0;continue}else if(zy(h)){a[h]=f;continue}else{const g=aA(f,Wy[h]);h.startsWith("origin")?(d=!0,o[h]=g):i[h]=g}}if(e.transform||(c||n?i.transform=NO(e,t.transform,n):i.transform&&(i.transform="none")),d){const{originX:h="50%",originY:f="50%",originZ:g=0}=o;i.transformOrigin=`${h} ${f} ${g}`}}const rv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function yA(t,e,n){for(const i in e)!Sn(e[i])&&!gA(i,n)&&(t[i]=e[i])}function IO({transformTemplate:t},e){return P.useMemo(()=>{const n=rv();return iv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function kO(t,e){const n=t.style||{},i={};return yA(i,n,t),Object.assign(i,IO(t,e)),i}function DO(t,e){const n={},i=kO(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const MO={offset:"stroke-dashoffset",array:"stroke-dasharray"},OO={offset:"strokeDashoffset",array:"strokeDasharray"};function VO(t,e,n=1,i=0,a=!0){t.pathLength=1;const o=a?MO:OO;t[o.offset]=ke.transform(-i);const c=ke.transform(e),d=ke.transform(n);t[o.array]=`${c} ${d}`}function vA(t,{attrX:e,attrY:n,attrScale:i,pathLength:a,pathSpacing:o=1,pathOffset:c=0,...d},h,f,g){if(iv(t,d,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:_}=t;v.transform&&(_.transform=v.transform,delete v.transform),(_.transform||v.transformOrigin)&&(_.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),_.transform&&(_.transformBox=g?.transformBox??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),i!==void 0&&(v.scale=i),a!==void 0&&VO(v,a,o,c,!1)}const bA=()=>({...rv(),attrs:{}}),_A=t=>typeof t=="string"&&t.toLowerCase()==="svg";function PO(t,e,n,i){const a=P.useMemo(()=>{const o=bA();return vA(o,e,_A(i),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};yA(o,t.style,t),a.style={...o,...a.style}}return a}const jO=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function sv(t){return typeof t!="string"||t.includes("-")?!1:!!(jO.indexOf(t)>-1||/[A-Z]/u.test(t))}function LO(t,e,n,{latestValues:i},a,o=!1){const d=(sv(t)?PO:DO)(e,i,a,t),h=EO(e,typeof t=="string",o),f=t!==P.Fragment?{...h,...d,ref:n}:{},{children:g}=e,v=P.useMemo(()=>Sn(g)?g.get():g,[g]);return P.createElement(t,{...f,children:v})}function ET(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function av(t,e,n,i){if(typeof e=="function"){const[a,o]=ET(i);e=e(n!==void 0?n:t.custom,a,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,o]=ET(i);e=e(n!==void 0?n:t.custom,a,o)}return e}function cf(t){return Sn(t)?t.get():t}function UO({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,a){return{latestValues:zO(n,i,a,t),renderState:e()}}function zO(t,e,n,i){const a={},o=i(t,{});for(const _ in o)a[_]=cf(o[_]);let{initial:c,animate:d}=t;const h=om(t),f=pA(t);e&&f&&!h&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let g=n?n.initial===!1:!1;g=g||c===!1;const v=g?d:c;if(v&&typeof v!="boolean"&&!am(v)){const _=Array.isArray(v)?v:[v];for(let x=0;x<_.length;x++){const k=av(t,_[x]);if(k){const{transitionEnd:C,transition:N,...D}=k;for(const j in D){let U=D[j];if(Array.isArray(U)){const Q=g?U.length-1:0;U=U[Q]}U!==null&&(a[j]=U)}for(const j in C)a[j]=C[j]}}}return a}const wA=t=>(e,n)=>{const i=P.useContext(sm),a=P.useContext(im),o=()=>UO(t,e,i,a);return n?o():nm(o)};function ov(t,e,n){const{style:i}=t,a={};for(const o in i)(Sn(i[o])||e.style&&Sn(e.style[o])||gA(o,t)||n?.getValue(o)?.liveStyle!==void 0)&&(a[o]=i[o]);return a}const BO=wA({scrapeMotionValuesFromProps:ov,createRenderState:rv});function TA(t,e,n){const i=ov(t,e,n);for(const a in t)if(Sn(t[a])||Sn(e[a])){const o=Jl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[o]=t[a]}return i}const FO=wA({scrapeMotionValuesFromProps:TA,createRenderState:bA}),qO=Symbol.for("motionComponentSymbol");function Cl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function HO(t,e,n){return P.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):Cl(n)&&(n.current=i))},[e])}const lv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),$O="framerAppearId",EA="data-"+lv($O),xA=P.createContext({});function GO(t,e,n,i,a){const{visualElement:o}=P.useContext(sm),c=P.useContext(fA),d=P.useContext(im),h=P.useContext(ev).reducedMotion,f=P.useRef(null);i=i||c.renderer,!f.current&&i&&(f.current=i(t,{visualState:e,parent:o,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:h}));const g=f.current,v=P.useContext(xA);g&&!g.projection&&a&&(g.type==="html"||g.type==="svg")&&KO(f.current,n,a,v);const _=P.useRef(!1);P.useInsertionEffect(()=>{g&&_.current&&g.update(n,d)});const x=n[EA],k=P.useRef(!!x&&!window.MotionHandoffIsComplete?.(x)&&window.MotionHasOptimisedAnimation?.(x));return Dy(()=>{g&&(_.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),k.current&&g.animationState&&g.animationState.animateChanges())}),P.useEffect(()=>{g&&(!k.current&&g.animationState&&g.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(x)}),k.current=!1),g.enteringChildren=void 0)}),g}function KO(t,e,n,i){const{layoutId:a,layout:o,drag:c,dragConstraints:d,layoutScroll:h,layoutRoot:f,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:SA(t.parent)),t.projection.setOptions({layoutId:a,layout:o,alwaysMeasureLayout:!!c||d&&Cl(d),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,crossfade:g,layoutScroll:h,layoutRoot:f})}function SA(t){if(t)return t.options.allowProjection!==!1?t.projection:SA(t.parent)}function Qg(t,{forwardMotionProps:e=!1}={},n,i){n&&_O(n);const a=sv(t)?FO:BO;function o(d,h){let f;const g={...P.useContext(ev),...d,layoutId:YO(d)},{isStatic:v}=g,_=SO(d),x=a(d,v);if(!v&&ky){QO();const k=XO(g);f=k.MeasureLayout,_.visualElement=GO(t,x,g,i,k.ProjectionNode)}return b.jsxs(sm.Provider,{value:_,children:[f&&_.visualElement?b.jsx(f,{visualElement:_.visualElement,...g}):null,LO(t,d,HO(x,_.visualElement,h),x,v,e)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=P.forwardRef(o);return c[qO]=t,c}function YO({layoutId:t}){const e=P.useContext(Iy).id;return e&&t!==void 0?e+"-"+t:t}function QO(t,e){P.useContext(fA).strict}function XO(t){const{drag:e,layout:n}=Ul;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function WO(t,e){if(typeof Proxy>"u")return Qg;const n=new Map,i=(o,c)=>Qg(o,c,t,e),a=(o,c)=>i(o,c);return new Proxy(a,{get:(o,c)=>c==="create"?i:(n.has(c)||n.set(c,Qg(c,void 0,t,e)),n.get(c))})}function AA({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function ZO({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function JO(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Xg(t){return t===void 0||t===1}function L0({scale:t,scaleX:e,scaleY:n}){return!Xg(t)||!Xg(e)||!Xg(n)}function fo(t){return L0(t)||CA(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function CA(t){return xT(t.x)||xT(t.y)}function xT(t){return t&&t!=="0%"}function Rf(t,e,n){const i=t-n,a=e*i;return n+a}function ST(t,e,n,i,a){return a!==void 0&&(t=Rf(t,a,i)),Rf(t,n,i)+e}function U0(t,e=0,n=1,i,a){t.min=ST(t.min,e,n,i,a),t.max=ST(t.max,e,n,i,a)}function RA(t,{x:e,y:n}){U0(t.x,e.translate,e.scale,e.originPoint),U0(t.y,n.translate,n.scale,n.originPoint)}const AT=.999999999999,CT=1.0000000000001;function e3(t,e,n,i=!1){const a=n.length;if(!a)return;e.x=e.y=1;let o,c;for(let d=0;d<a;d++){o=n[d],c=o.projectionDelta;const{visualElement:h}=o.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Nl(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,RA(t,c)),i&&fo(o.latestValues)&&Nl(t,o.latestValues))}e.x<CT&&e.x>AT&&(e.x=1),e.y<CT&&e.y>AT&&(e.y=1)}function Rl(t,e){t.min=t.min+e,t.max=t.max+e}function RT(t,e,n,i,a=.5){const o=Tt(t.min,t.max,a);U0(t,e,n,o,i)}function Nl(t,e){RT(t.x,e.x,e.scaleX,e.scale,e.originX),RT(t.y,e.y,e.scaleY,e.scale,e.originY)}function NA(t,e){return AA(JO(t.getBoundingClientRect(),e))}function t3(t,e,n){const i=NA(t,n),{scroll:a}=e;return a&&(Rl(i.x,a.offset.x),Rl(i.y,a.offset.y)),i}const NT=()=>({translate:0,scale:1,origin:0,originPoint:0}),Il=()=>({x:NT(),y:NT()}),IT=()=>({min:0,max:0}),Pt=()=>({x:IT(),y:IT()}),z0={current:null},IA={current:!1};function n3(){if(IA.current=!0,!!ky)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>z0.current=t.matches;t.addEventListener("change",e),e()}else z0.current=!1}const i3=new WeakMap;function r3(t,e,n){for(const i in e){const a=e[i],o=n[i];if(Sn(a))t.addValue(i,a);else if(Sn(o))t.addValue(i,Ll(a,{owner:t}));else if(o!==a)if(t.hasValue(i)){const c=t.getValue(i);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(i);t.addValue(i,Ll(c!==void 0?c:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const kT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class s3{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:o,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Qy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=Hn.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,wt.render(this.render,!1,!0))};const{latestValues:h,renderState:f}=c;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!o,this.isControllingVariants=om(n),this.isVariantNode=pA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const _ in v){const x=v[_];h[_]!==void 0&&Sn(x)&&x.set(h[_])}}mount(e){this.current=e,i3.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),IA.current||n3(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:z0.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ya(this.notifyUpdate),ya(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=ec.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&wt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ul){const n=Ul[e];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Pt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<kT.length;i++){const a=kT[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o="on"+a,c=e[o];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=r3(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Ll(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(TS(i)||xS(i))?i=parseFloat(i):!fO(i)&&va.test(n)&&(i=sA(e,n)),this.setBaseTarget(e,Sn(i)?i.get():i)),Sn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const o=av(this.props,n,this.presenceContext?.custom);o&&(i=o[e])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Sn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new jy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Zy.render(this.render)}}class kA extends s3{constructor(){super(...arguments),this.KeyframeResolver=tO}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Sn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function DA(t,{style:e,vars:n},i,a){const o=t.style;let c;for(c in e)o[c]=e[c];a?.applyProjectionStyles(o,i);for(c in n)o.setProperty(c,n[c])}function a3(t){return window.getComputedStyle(t)}class o3 extends kA{constructor(){super(...arguments),this.type="html",this.renderInstance=DA}readValueFromInstance(e,n){if(ec.has(n))return this.projection?.isProjecting?k0(n):_M(e,n);{const i=a3(e),a=(zy(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return NA(e,n)}build(e,n,i){iv(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return ov(e,n,i)}}const MA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function l3(t,e,n,i){DA(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(MA.has(a)?a:lv(a),e.attrs[a])}class c3 extends kA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Pt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ec.has(n)){const i=rA(n);return i&&i.default||0}return n=MA.has(n)?n:lv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return TA(e,n,i)}build(e,n,i){vA(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,a){l3(e,n,i,a)}mount(e){this.isSVGTag=_A(e.tagName),super.mount(e)}}const u3=(t,e)=>sv(t)?new c3(e):new o3(e,{allowProjection:t!==P.Fragment});function Ml(t,e,n){const i=t.getProps();return av(i,e,n!==void 0?n:i.custom,t)}const B0=t=>Array.isArray(t);function d3(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ll(n))}function h3(t){return B0(t)?t[t.length-1]||0:t}function cv(t,e){const n=Ml(t,e);let{transitionEnd:i={},transition:a={},...o}=n||{};o={...o,...i};for(const c in o){const d=h3(o[c]);d3(t,c,d)}}function f3(t){return!!(Sn(t)&&t.add)}function F0(t,e){const n=t.getValue("willChange");if(f3(n))return n.add(e);if(!n&&cs.WillChange){const i=new cs.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function OA(t){return t.props[EA]}const m3=t=>t!==null;function p3(t,{repeat:e,repeatType:n="loop"},i){const a=t.filter(m3),o=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[o]}const g3={type:"spring",stiffness:500,damping:25,restSpeed:10},y3=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),v3={type:"keyframes",duration:.8},b3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},_3=(t,{keyframes:e})=>e.length>2?v3:ec.has(t)?t.startsWith("scale")?y3(e[1]):g3:b3;function w3({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:o,repeatType:c,repeatDelay:d,from:h,elapsed:f,...g}){return!!Object.keys(g).length}const uv=(t,e,n,i={},a,o)=>c=>{const d=Xy(i,t)||{},h=d.delay||i.delay||0;let{elapsed:f=0}=i;f=f-br(h);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-f,onUpdate:_=>{e.set(_),d.onUpdate&&d.onUpdate(_)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:o?void 0:a};w3(d)||Object.assign(g,_3(t,g)),g.duration&&(g.duration=br(g.duration)),g.repeatDelay&&(g.repeatDelay=br(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(P0(g),g.delay===0&&(v=!0)),(cs.instantAnimations||cs.skipAnimations)&&(v=!0,P0(g),g.delay=0),g.allowFlatten=!d.type&&!d.ease,v&&!o&&e.get()!==void 0){const _=p3(g.keyframes,d);if(_!==void 0){wt.update(()=>{g.onUpdate(_),g.onComplete()});return}}return d.isSync?new Yy(g):new qM(g)};function T3({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function VA(t,e,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:c,...d}=e;i&&(o=i);const h=[],f=a&&t.animationState&&t.animationState.getState()[a];for(const g in d){const v=t.getValue(g,t.latestValues[g]??null),_=d[g];if(_===void 0||f&&T3(f,g))continue;const x={delay:n,...Xy(o||{},g)},k=v.get();if(k!==void 0&&!v.isAnimating&&!Array.isArray(_)&&_===k&&!x.velocity)continue;let C=!1;if(window.MotionHandoffAnimation){const D=OA(t);if(D){const j=window.MotionHandoffAnimation(D,g,wt);j!==null&&(x.startTime=j,C=!0)}}F0(t,g),v.start(uv(g,v,_,t.shouldReduceMotion&&tA.has(g)?{type:!1}:x,t,C));const N=v.animation;N&&h.push(N)}return c&&Promise.all(h).then(()=>{wt.update(()=>{c&&cv(t,c)})}),h}function PA(t,e,n,i=0,a=1){const o=Array.from(t).sort((f,g)=>f.sortNodePosition(g)).indexOf(e),c=t.size,d=(c-1)*i;return typeof n=="function"?n(o,c):a===1?o*i:d-o*i}function q0(t,e,n={}){const i=Ml(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const o=i?()=>Promise.all(VA(t,i,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:f=0,staggerChildren:g,staggerDirection:v}=a;return E3(t,e,h,f,g,v,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[h,f]=d==="beforeChildren"?[o,c]:[c,o];return h().then(()=>f())}else return Promise.all([o(),c(n.delay)])}function E3(t,e,n=0,i=0,a=0,o=1,c){const d=[];for(const h of t.variantChildren)h.notify("AnimationStart",e),d.push(q0(h,e,{...c,delay:n+(typeof i=="function"?0:i)+PA(t.variantChildren,h,i,a,o)}).then(()=>h.notify("AnimationComplete",e)));return Promise.all(d)}function jA(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(o=>q0(t,o,n));i=Promise.all(a)}else if(typeof e=="string")i=q0(t,e,n);else{const a=typeof e=="function"?Ml(t,e,n.custom):e;i=Promise.all(VA(t,a,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function LA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const x3=nv.length;function UA(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?UA(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<x3;n++){const i=nv[n],a=t.props[i];(Ou(a)||a===!1)&&(e[i]=a)}return e}const S3=[...tv].reverse(),A3=tv.length;function C3(t){return e=>Promise.all(e.map(({animation:n,options:i})=>jA(t,n,i)))}function R3(t){let e=C3(t),n=DT(),i=!0;const a=h=>(f,g)=>{const v=Ml(t,g,h==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:_,transitionEnd:x,...k}=v;f={...f,...k,...x}}return f};function o(h){e=h(t)}function c(h){const{props:f}=t,g=UA(t.parent)||{},v=[],_=new Set;let x={},k=1/0;for(let N=0;N<A3;N++){const D=S3[N],j=n[D],U=f[D]!==void 0?f[D]:g[D],Q=Ou(U),re=D===h?j.isActive:null;re===!1&&(k=N);let ne=U===g[D]&&U!==f[D]&&Q;if(ne&&i&&t.manuallyAnimateOnMount&&(ne=!1),j.protectedKeys={...x},!j.isActive&&re===null||!U&&!j.prevProp||am(U)||typeof U=="boolean")continue;const S=N3(j.prevProp,U);let R=S||D===h&&j.isActive&&!ne&&Q||N>k&&Q,M=!1;const z=Array.isArray(U)?U:[U];let O=z.reduce(a(D),{});re===!1&&(O={});const{prevResolvedValues:F={}}=j,L={...F,...O},ze=ee=>{R=!0,_.has(ee)&&(M=!0,_.delete(ee)),j.needsAnimating[ee]=!0;const me=t.getValue(ee);me&&(me.liveStyle=!1)};for(const ee in L){const me=O[ee],Te=F[ee];if(x.hasOwnProperty(ee))continue;let oe=!1;B0(me)&&B0(Te)?oe=!LA(me,Te):oe=me!==Te,oe?me!=null?ze(ee):_.add(ee):me!==void 0&&_.has(ee)?ze(ee):j.protectedKeys[ee]=!0}j.prevProp=U,j.prevResolvedValues=O,j.isActive&&(x={...x,...O}),i&&t.blockInitialAnimation&&(R=!1);const ce=ne&&S;R&&(!ce||M)&&v.push(...z.map(ee=>{const me={type:D};if(typeof ee=="string"&&i&&!ce&&t.manuallyAnimateOnMount&&t.parent){const{parent:Te}=t,oe=Ml(Te,ee);if(Te.enteringChildren&&oe){const{delayChildren:V}=oe.transition||{};me.delay=PA(Te.enteringChildren,t,V)}}return{animation:ee,options:me}}))}if(_.size){const N={};if(typeof f.initial!="boolean"){const D=Ml(t,Array.isArray(f.initial)?f.initial[0]:f.initial);D&&D.transition&&(N.transition=D.transition)}_.forEach(D=>{const j=t.getBaseTarget(D),U=t.getValue(D);U&&(U.liveStyle=!0),N[D]=j??null}),v.push({animation:N})}let C=!!v.length;return i&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(C=!1),i=!1,C?e(v):Promise.resolve()}function d(h,f){if(n[h].isActive===f)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(h,f)),n[h].isActive=f;const g=c(h);for(const v in n)n[v].protectedKeys={};return g}return{animateChanges:c,setActive:d,setAnimateFunction:o,getState:()=>n,reset:()=>{n=DT()}}}function N3(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!LA(e,t):!1}function uo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function DT(){return{animate:uo(!0),whileInView:uo(),whileHover:uo(),whileTap:uo(),whileDrag:uo(),whileFocus:uo(),exit:uo()}}class Ra{constructor(e){this.isMounted=!1,this.node=e}update(){}}class I3 extends Ra{constructor(e){super(e),e.animationState||(e.animationState=R3(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();am(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let k3=0;class D3 extends Ra{constructor(){super(...arguments),this.id=k3++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const M3={animation:{Feature:I3},exit:{Feature:D3}};function Pu(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function td(t){return{point:{x:t.pageX,y:t.pageY}}}const O3=t=>e=>Jy(e)&&t(e,td(e));function _u(t,e,n,i){return Pu(t,e,O3(n),i)}const zA=1e-4,V3=1-zA,P3=1+zA,BA=.01,j3=0-BA,L3=0+BA;function kn(t){return t.max-t.min}function U3(t,e,n){return Math.abs(t-e)<=n}function MT(t,e,n,i=.5){t.origin=i,t.originPoint=Tt(e.min,e.max,t.origin),t.scale=kn(n)/kn(e),t.translate=Tt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=V3&&t.scale<=P3||isNaN(t.scale))&&(t.scale=1),(t.translate>=j3&&t.translate<=L3||isNaN(t.translate))&&(t.translate=0)}function wu(t,e,n,i){MT(t.x,e.x,n.x,i?i.originX:void 0),MT(t.y,e.y,n.y,i?i.originY:void 0)}function OT(t,e,n){t.min=n.min+e.min,t.max=t.min+kn(e)}function z3(t,e,n){OT(t.x,e.x,n.x),OT(t.y,e.y,n.y)}function VT(t,e,n){t.min=e.min-n.min,t.max=t.min+kn(e)}function Tu(t,e,n){VT(t.x,e.x,n.x),VT(t.y,e.y,n.y)}function bi(t){return[t("x"),t("y")]}const FA=({current:t})=>t?t.ownerDocument.defaultView:null,PT=(t,e)=>Math.abs(t-e);function B3(t,e){const n=PT(t.x,e.x),i=PT(t.y,e.y);return Math.sqrt(n**2+i**2)}class qA{constructor(e,n,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:o=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Zg(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,k=B3(_.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!k)return;const{point:C}=_,{timestamp:N}=mn;this.history.push({...C,timestamp:N});const{onStart:D,onMove:j}=this.handlers;x||(D&&D(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,_)},this.handlePointerMove=(_,x)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=Wg(x,this.transformPagePoint),wt.update(this.updatePoint,!0)},this.handlePointerUp=(_,x)=>{this.end();const{onEnd:k,onSessionEnd:C,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=Zg(_.type==="pointercancel"?this.lastMoveEventInfo:Wg(x,this.transformPagePoint),this.history);this.startEvent&&k&&k(_,D),C&&C(_,D)},!Jy(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=c,this.contextWindow=a||window;const d=td(e),h=Wg(d,this.transformPagePoint),{point:f}=h,{timestamp:g}=mn;this.history=[{...f,timestamp:g}];const{onSessionStart:v}=n;v&&v(e,Zg(h,this.history)),this.removeListeners=Zu(_u(this.contextWindow,"pointermove",this.handlePointerMove),_u(this.contextWindow,"pointerup",this.handlePointerUp),_u(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ya(this.updatePoint)}}function Wg(t,e){return e?{point:e(t.point)}:t}function jT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Zg({point:t},e){return{point:t,delta:jT(t,HA(e)),offset:jT(t,F3(e)),velocity:q3(e,.1)}}function F3(t){return t[0]}function HA(t){return t[t.length-1]}function q3(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const a=HA(t);for(;n>=0&&(i=t[n],!(a.timestamp-i.timestamp>br(e)));)n--;if(!i)return{x:0,y:0};const o=Ti(a.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const c={x:(a.x-i.x)/o,y:(a.y-i.y)/o};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function H3(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Tt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Tt(n,t,i.max):Math.min(t,n)),t}function LT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function $3(t,{top:e,left:n,bottom:i,right:a}){return{x:LT(t.x,n,a),y:LT(t.y,e,i)}}function UT(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function G3(t,e){return{x:UT(t.x,e.x),y:UT(t.y,e.y)}}function K3(t,e){let n=.5;const i=kn(t),a=kn(e);return a>i?n=ku(e.min,e.max-i,t.min):i>a&&(n=ku(t.min,t.max-a,e.min)),ls(0,1,n)}function Y3(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const H0=.35;function Q3(t=H0){return t===!1?t=0:t===!0&&(t=H0),{x:zT(t,"left","right"),y:zT(t,"top","bottom")}}function zT(t,e,n){return{min:BT(t,e),max:BT(t,n)}}function BT(t,e){return typeof t=="number"?t:t[e]||0}const X3=new WeakMap;class W3{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Pt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const o=v=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(td(v).point)},c=(v,_)=>{const{drag:x,dragPropagation:k,onDragStart:C}=this.getProps();if(x&&!k&&(this.openDragLock&&this.openDragLock(),this.openDragLock=sO(x),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=_,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),bi(D=>{let j=this.getAxisMotionValue(D).get()||0;if(_r.test(j)){const{projection:U}=this.visualElement;if(U&&U.layout){const Q=U.layout.layoutBox[D];Q&&(j=kn(Q)*(parseFloat(j)/100))}}this.originPoint[D]=j}),C&&wt.postRender(()=>C(v,_)),F0(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},d=(v,_)=>{this.latestPointerEvent=v,this.latestPanInfo=_;const{dragPropagation:x,dragDirectionLock:k,onDirectionLock:C,onDrag:N}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:D}=_;if(k&&this.currentDirection===null){this.currentDirection=Z3(D),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",_.point,D),this.updateAxis("y",_.point,D),this.visualElement.render(),N&&N(v,_)},h=(v,_)=>{this.latestPointerEvent=v,this.latestPanInfo=_,this.stop(v,_),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>bi(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new qA(e,{onSessionStart:o,onStart:c,onMove:d,onSessionEnd:h,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:i,contextWindow:FA(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,a=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!a||!i)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&wt.postRender(()=>d(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:a}=this.getProps();if(!i||!Qh(e,a,this.currentDirection))return;const o=this.getAxisMotionValue(e);let c=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(c=H3(c,this.constraints[e],this.elastic[e])),o.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Cl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=$3(i.layoutBox,e):this.constraints=!1,this.elastic=Q3(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&bi(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Y3(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Cl(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=t3(i,a.root,this.visualElement.getTransformPagePoint());let c=G3(a.layout.layoutBox,o);if(n){const d=n(ZO(c));this.hasMutatedConstraints=!!d,d&&(c=AA(d))}return c}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:o,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),h=this.constraints||{},f=bi(g=>{if(!Qh(g,n,this.currentDirection))return;let v=h&&h[g]||{};c&&(v={min:0,max:0});const _=a?200:1e6,x=a?40:1e7,k={type:"inertia",velocity:i?e[g]:0,bounceStiffness:_,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...o,...v};return this.startAxisValueAnimation(g,k)});return Promise.all(f).then(d)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return F0(this.visualElement,e),i.start(uv(e,i,0,n,this.visualElement,!1))}stopAnimation(){bi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){bi(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){bi(n=>{const{drag:i}=this.getProps();if(!Qh(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[n];o.set(e[n]-Tt(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Cl(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};bi(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const h=d.get();a[c]=K3({min:h,max:h},this.constraints[c])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),bi(c=>{if(!Qh(c,e,null))return;const d=this.getAxisMotionValue(c),{min:h,max:f}=this.constraints[c];d.set(Tt(h,f,a[c]))})}addListeners(){if(!this.visualElement.current)return;X3.set(this.visualElement,this);const e=this.visualElement.current,n=_u(e,"pointerdown",h=>{const{drag:f,dragListener:g=!0}=this.getProps();f&&g&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();Cl(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,o=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),wt.read(i);const c=Pu(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:f})=>{this.isDragging&&f&&(bi(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=h[g].translate,v.set(v.get()+h[g].translate))}),this.visualElement.render())}));return()=>{c(),n(),o(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:c=H0,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:o,dragElastic:c,dragMomentum:d}}}function Qh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Z3(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class J3 extends Ra{constructor(e){super(e),this.removeGroupControls=Ei,this.removeListeners=Ei,this.controls=new W3(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ei}unmount(){this.removeGroupControls(),this.removeListeners()}}const FT=t=>(e,n)=>{t&&wt.postRender(()=>t(e,n))};class eV extends Ra{constructor(){super(...arguments),this.removePointerDownListener=Ei}onPointerDown(e){this.session=new qA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:FA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:FT(e),onStart:FT(n),onMove:i,onEnd:(o,c)=>{delete this.session,a&&wt.postRender(()=>a(o,c))}}}mount(){this.removePointerDownListener=_u(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const uf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function qT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const uu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ke.test(t))t=parseFloat(t);else return t;const n=qT(t,e.target.x),i=qT(t,e.target.y);return`${n}% ${i}%`}},tV={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,a=va.parse(t);if(a.length>5)return i;const o=va.createTransformer(t),c=typeof a[0]!="number"?1:0,d=n.x.scale*e.x,h=n.y.scale*e.y;a[0+c]/=d,a[1+c]/=h;const f=Tt(d,h,.5);return typeof a[2+c]=="number"&&(a[2+c]/=f),typeof a[3+c]=="number"&&(a[3+c]/=f),o(a)}};let Jg=!1;class nV extends P.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:o}=e;AO(iV),o&&(n.group&&n.group.add(o),i&&i.register&&a&&i.register(o),Jg&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),uf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:a,isPresent:o}=this.props,{projection:c}=i;return c&&(c.isPresent=o,Jg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==o?c.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?c.promote():c.relegate()||wt.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Zy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=e;Jg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function $A(t){const[e,n]=hA(),i=P.useContext(Iy);return b.jsx(nV,{...t,layoutGroup:i,switchLayoutGroup:P.useContext(xA),isPresent:e,safeToRemove:n})}const iV={borderRadius:{...uu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:uu,borderTopRightRadius:uu,borderBottomLeftRadius:uu,borderBottomRightRadius:uu,boxShadow:tV};function rV(t,e,n){const i=Sn(t)?t:Ll(t);return i.start(uv("",i,e,n)),i.animation}const sV=(t,e)=>t.depth-e.depth;class aV{constructor(){this.children=[],this.isDirty=!1}add(e){My(this.children,e),this.isDirty=!0}remove(e){Oy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(sV),this.isDirty=!1,this.children.forEach(e)}}function oV(t,e){const n=Hn.now(),i=({timestamp:a})=>{const o=a-n;o>=e&&(ya(i),t(o-e))};return wt.setup(i,!0),()=>ya(i)}const GA=["TopLeft","TopRight","BottomLeft","BottomRight"],lV=GA.length,HT=t=>typeof t=="string"?parseFloat(t):t,$T=t=>typeof t=="number"||ke.test(t);function cV(t,e,n,i,a,o){a?(t.opacity=Tt(0,n.opacity??1,uV(i)),t.opacityExit=Tt(e.opacity??1,0,dV(i))):o&&(t.opacity=Tt(e.opacity??1,n.opacity??1,i));for(let c=0;c<lV;c++){const d=`border${GA[c]}Radius`;let h=GT(e,d),f=GT(n,d);if(h===void 0&&f===void 0)continue;h||(h=0),f||(f=0),h===0||f===0||$T(h)===$T(f)?(t[d]=Math.max(Tt(HT(h),HT(f),i),0),(_r.test(f)||_r.test(h))&&(t[d]+="%")):t[d]=f}(e.rotate||n.rotate)&&(t.rotate=Tt(e.rotate||0,n.rotate||0,i))}function GT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const uV=KA(0,.5,DS),dV=KA(.5,.95,Ei);function KA(t,e,n){return i=>i<t?0:i>e?1:n(ku(t,e,i))}function KT(t,e){t.min=e.min,t.max=e.max}function vi(t,e){KT(t.x,e.x),KT(t.y,e.y)}function YT(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function QT(t,e,n,i,a){return t-=e,t=Rf(t,1/n,i),a!==void 0&&(t=Rf(t,1/a,i)),t}function hV(t,e=0,n=1,i=.5,a,o=t,c=t){if(_r.test(e)&&(e=parseFloat(e),e=Tt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=Tt(o.min,o.max,i);t===o&&(d-=e),t.min=QT(t.min,e,n,d,a),t.max=QT(t.max,e,n,d,a)}function XT(t,e,[n,i,a],o,c){hV(t,e[n],e[i],e[a],e.scale,o,c)}const fV=["x","scaleX","originX"],mV=["y","scaleY","originY"];function WT(t,e,n,i){XT(t.x,e,fV,n?n.x:void 0,i?i.x:void 0),XT(t.y,e,mV,n?n.y:void 0,i?i.y:void 0)}function ZT(t){return t.translate===0&&t.scale===1}function YA(t){return ZT(t.x)&&ZT(t.y)}function JT(t,e){return t.min===e.min&&t.max===e.max}function pV(t,e){return JT(t.x,e.x)&&JT(t.y,e.y)}function eE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function QA(t,e){return eE(t.x,e.x)&&eE(t.y,e.y)}function tE(t){return kn(t.x)/kn(t.y)}function nE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class gV{constructor(){this.members=[]}add(e){My(this.members,e),e.scheduleRender()}remove(e){if(Oy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const o=this.members[a];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function yV(t,e,n){let i="";const a=t.x.translate/e.x,o=t.y.translate/e.y,c=n?.z||0;if((a||o||c)&&(i=`translate3d(${a}px, ${o}px, ${c}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:g,rotateX:v,rotateY:_,skewX:x,skewY:k}=n;f&&(i=`perspective(${f}px) ${i}`),g&&(i+=`rotate(${g}deg) `),v&&(i+=`rotateX(${v}deg) `),_&&(i+=`rotateY(${_}deg) `),x&&(i+=`skewX(${x}deg) `),k&&(i+=`skewY(${k}deg) `)}const d=t.x.scale*e.x,h=t.y.scale*e.y;return(d!==1||h!==1)&&(i+=`scale(${d}, ${h})`),i||"none"}const e0=["","X","Y","Z"],vV=1e3;let bV=0;function t0(t,e,n,i){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function XA(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=OA(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",wt,!(a||o))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&XA(i)}function WA({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(c={},d=e?.()){this.id=bV++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(TV),this.nodes.forEach(AV),this.nodes.forEach(CV),this.nodes.forEach(EV)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new aV)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new jy),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const h=this.eventHandlers.get(c);h&&h.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=dA(c)&&!dO(c),this.instance=c;const{layoutId:d,layout:h,visualElement:f}=this.options;if(f&&!f.current&&f.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||d)&&(this.isLayoutDirty=!0),t){let g,v=0;const _=()=>this.root.updateBlockedByResize=!1;wt.read(()=>{v=window.innerWidth}),t(c,()=>{const x=window.innerWidth;x!==v&&(v=x,this.root.updateBlockedByResize=!0,g&&g(),g=oV(_,250),uf.hasAnimatedSinceResize&&(uf.hasAnimatedSinceResize=!1,this.nodes.forEach(sE)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&f&&(d||h)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:_,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||f.getDefaultTransition()||DV,{onLayoutAnimationStart:C,onLayoutAnimationComplete:N}=f.getProps(),D=!this.targetLayout||!QA(this.targetLayout,x),j=!v&&_;if(this.options.layoutRoot||this.resumeFrom||j||v&&(D||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const U={...Xy(k,"layout"),onPlay:C,onComplete:N};(f.shouldReduceMotion||this.options.layoutRoot)&&(U.delay=0,U.type=!1),this.startAnimation(U),this.setAnimationOrigin(g,j)}else v||sE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ya(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(RV),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&XA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:d,layout:h}=this.options;if(d===void 0&&!h)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(iE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(rE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(SV),this.nodes.forEach(_V),this.nodes.forEach(wV)):this.nodes.forEach(rE),this.clearAllSnapshots();const d=Hn.now();mn.delta=ls(0,1e3/60,d-mn.timestamp),mn.timestamp=d,mn.isProcessing=!0,qg.update.process(mn),qg.preRender.process(mn),qg.render.process(mn),mn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Zy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(xV),this.sharedNodes.forEach(NV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,wt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){wt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!kn(this.snapshot.measuredBox.x)&&!kn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Pt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!YA(this.projectionDelta),h=this.getTransformTemplate(),f=h?h(this.latestValues,""):void 0,g=f!==this.prevTransformTemplateValue;c&&this.instance&&(d||fo(this.latestValues)||g)&&(a(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let h=this.removeElementScroll(d);return c&&(h=this.removeTransform(h)),MV(h),{animationId:this.root.animationId,measuredBox:d,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Pt();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(OV))){const{scroll:f}=this.root;f&&(Rl(d.x,f.offset.x),Rl(d.y,f.offset.y))}return d}removeElementScroll(c){const d=Pt();if(vi(d,c),this.scroll?.wasRoot)return d;for(let h=0;h<this.path.length;h++){const f=this.path[h],{scroll:g,options:v}=f;f!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&vi(d,c),Rl(d.x,g.offset.x),Rl(d.y,g.offset.y))}return d}applyTransform(c,d=!1){const h=Pt();vi(h,c);for(let f=0;f<this.path.length;f++){const g=this.path[f];!d&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Nl(h,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),fo(g.latestValues)&&Nl(h,g.latestValues)}return fo(this.latestValues)&&Nl(h,this.latestValues),h}removeTransform(c){const d=Pt();vi(d,c);for(let h=0;h<this.path.length;h++){const f=this.path[h];if(!f.instance||!fo(f.latestValues))continue;L0(f.latestValues)&&f.updateSnapshot();const g=Pt(),v=f.measurePageBox();vi(g,v),WT(d,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,g)}return fo(this.latestValues)&&WT(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==mn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==d;if(!(c||h&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=mn.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pt(),this.relativeTargetOrigin=Pt(),Tu(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),vi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Pt(),this.targetWithTransforms=Pt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),z3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):vi(this.target,this.layout.layoutBox),RA(this.target,this.targetDelta)):vi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pt(),this.relativeTargetOrigin=Pt(),Tu(this.relativeTargetOrigin,this.target,_.target),vi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||L0(this.parent.latestValues)||CA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let h=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(h=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===mn.timestamp&&(h=!1),h)return;const{layout:f,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||g))return;vi(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,_=this.treeScale.y;e3(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Pt());const{target:x}=c;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(YT(this.prevProjectionDelta.x,this.projectionDelta.x),YT(this.prevProjectionDelta.y,this.projectionDelta.y)),wu(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==_||!nE(this.projectionDelta.x,this.prevProjectionDelta.x)||!nE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Il(),this.projectionDelta=Il(),this.projectionDeltaWithTransform=Il()}setAnimationOrigin(c,d=!1){const h=this.snapshot,f=h?h.latestValues:{},g={...this.latestValues},v=Il();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const _=Pt(),x=h?h.source:void 0,k=this.layout?this.layout.source:void 0,C=x!==k,N=this.getStack(),D=!N||N.members.length<=1,j=!!(C&&!D&&this.options.crossfade===!0&&!this.path.some(kV));this.animationProgress=0;let U;this.mixTargetDelta=Q=>{const re=Q/1e3;aE(v.x,c.x,re),aE(v.y,c.y,re),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Tu(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),IV(this.relativeTarget,this.relativeTargetOrigin,_,re),U&&pV(this.relativeTarget,U)&&(this.isProjectionDirty=!1),U||(U=Pt()),vi(U,this.relativeTarget)),C&&(this.animationValues=g,cV(g,f,this.latestValues,re,j,D)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=re},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ya(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=wt.update(()=>{uf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ll(0)),this.currentAnimation=rV(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(vV),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:h,layout:f,latestValues:g}=c;if(!(!d||!h||!f)){if(this!==c&&this.layout&&f&&ZA(this.options.animationType,this.layout.layoutBox,f.layoutBox)){h=this.target||Pt();const v=kn(this.layout.layoutBox.x);h.x.min=c.target.x.min,h.x.max=h.x.min+v;const _=kn(this.layout.layoutBox.y);h.y.min=c.target.y.min,h.y.max=h.y.min+_}vi(d,h),Nl(d,g),wu(this.projectionDeltaWithTransform,this.layoutCorrected,d,g)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new gV),this.sharedNodes.get(c).add(d);const f=d.options.initialPromotionConfig;d.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:h}={}){const f=this.getStack();f&&f.promote(this,h),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:h}=c;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(d=!0),!d)return;const f={};h.z&&t0("z",c,f,this.animationValues);for(let g=0;g<e0.length;g++)t0(`rotate${e0[g]}`,c,f,this.animationValues),t0(`skew${e0[g]}`,c,f,this.animationValues);c.render();for(const g in f)c.setStaticValue(g,f[g]),this.animationValues&&(this.animationValues[g]=f[g]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=cf(d?.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=cf(d?.pointerEvents)||""),this.hasProjected&&!fo(this.latestValues)&&(c.transform=h?h({},""):"none",this.hasProjected=!1);return}c.visibility="";const g=f.animationValues||f.latestValues;this.applyTransformsToTarget();let v=yV(this.projectionDeltaWithTransform,this.treeScale,g);h&&(v=h(g,v)),c.transform=v;const{x:_,y:x}=this.projectionDelta;c.transformOrigin=`${_.origin*100}% ${x.origin*100}% 0`,f.animationValues?c.opacity=f===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:c.opacity=f===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const k in Vu){if(g[k]===void 0)continue;const{correct:C,applyTo:N,isCSSVariable:D}=Vu[k],j=v==="none"?g[k]:C(g[k],f);if(N){const U=N.length;for(let Q=0;Q<U;Q++)c[N[Q]]=j}else D?this.options.visualElement.renderState.vars[k]=j:c[k]=j}this.options.layoutId&&(c.pointerEvents=f===this?cf(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(iE),this.root.sharedNodes.clear()}}}function _V(t){t.updateLayout()}function wV(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:a}=t.options,o=e.source!==t.layout.source;a==="size"?bi(g=>{const v=o?e.measuredBox[g]:e.layoutBox[g],_=kn(v);v.min=n[g].min,v.max=v.min+_}):ZA(a,e.layoutBox,n)&&bi(g=>{const v=o?e.measuredBox[g]:e.layoutBox[g],_=kn(n[g]);v.max=v.min+_,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+_)});const c=Il();wu(c,n,e.layoutBox);const d=Il();o?wu(d,t.applyTransform(i,!0),e.measuredBox):wu(d,n,e.layoutBox);const h=!YA(c);let f=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:_}=g;if(v&&_){const x=Pt();Tu(x,e.layoutBox,v.layoutBox);const k=Pt();Tu(k,n,_.layoutBox),QA(x,k)||(f=!0),g.options.layoutRoot&&(t.relativeTarget=k,t.relativeTargetOrigin=x,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:d,layoutDelta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function TV(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function EV(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function xV(t){t.clearSnapshot()}function iE(t){t.clearMeasurements()}function rE(t){t.isLayoutDirty=!1}function SV(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function sE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function AV(t){t.resolveTargetDelta()}function CV(t){t.calcProjection()}function RV(t){t.resetSkewAndRotation()}function NV(t){t.removeLeadSnapshot()}function aE(t,e,n){t.translate=Tt(e.translate,0,n),t.scale=Tt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function oE(t,e,n,i){t.min=Tt(e.min,n.min,i),t.max=Tt(e.max,n.max,i)}function IV(t,e,n,i){oE(t.x,e.x,n.x,i),oE(t.y,e.y,n.y,i)}function kV(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const DV={duration:.45,ease:[.4,0,.1,1]},lE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),cE=lE("applewebkit/")&&!lE("chrome/")?Math.round:Ei;function uE(t){t.min=cE(t.min),t.max=cE(t.max)}function MV(t){uE(t.x),uE(t.y)}function ZA(t,e,n){return t==="position"||t==="preserve-aspect"&&!U3(tE(e),tE(n),.2)}function OV(t){return t!==t.root&&t.scroll?.wasRoot}const VV=WA({attachResizeListener:(t,e)=>Pu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),n0={current:void 0},JA=WA({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!n0.current){const t=new VV({});t.mount(window),t.setOptions({layoutScroll:!0}),n0.current=t}return n0.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),PV={pan:{Feature:eV},drag:{Feature:J3,ProjectionNode:JA,MeasureLayout:$A}};function dE(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,o=i[a];o&&wt.postRender(()=>o(e,td(e)))}class jV extends Ra{mount(){const{current:e}=this.node;e&&(this.unmount=aO(e,(n,i)=>(dE(this.node,i,"Start"),a=>dE(this.node,a,"End"))))}unmount(){}}class LV extends Ra{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Zu(Pu(this.node.current,"focus",()=>this.onFocus()),Pu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function hE(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),o=i[a];o&&wt.postRender(()=>o(e,td(e)))}class UV extends Ra{mount(){const{current:e}=this.node;e&&(this.unmount=uO(e,(n,i)=>(hE(this.node,i,"Start"),(a,{success:o})=>hE(this.node,a,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const $0=new WeakMap,i0=new WeakMap,zV=t=>{const e=$0.get(t.target);e&&e(t)},BV=t=>{t.forEach(zV)};function FV({root:t,...e}){const n=t||document;i0.has(n)||i0.set(n,{});const i=i0.get(n),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(BV,{root:t,...e})),i[a]}function qV(t,e,n){const i=FV(e);return $0.set(t,n),i.observe(t),()=>{$0.delete(t),i.unobserve(t)}}const HV={some:0,all:1};class $V extends Ra{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:o}=e,c={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:HV[a]},d=h=>{const{isIntersecting:f}=h;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),_=f?g:v;_&&_(h)};return qV(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(GV(e,n))&&this.startObserver()}unmount(){}}function GV({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const KV={inView:{Feature:$V},tap:{Feature:UV},focus:{Feature:LV},hover:{Feature:jV}},YV={layout:{ProjectionNode:JA,MeasureLayout:$A}},QV={...M3,...KV,...PV,...YV},nd=WO(QV,u3);function XV(t){t.values.forEach(e=>e.stop())}function G0(t,e){[...e].reverse().forEach(i=>{const a=t.getVariant(i);a&&cv(t,a),t.variantChildren&&t.variantChildren.forEach(o=>{G0(o,e)})})}function WV(t,e){if(Array.isArray(e))return G0(t,e);if(typeof e=="string")return G0(t,[e]);cv(t,e)}function ZV(){const t=new Set,e={subscribe(n){return t.add(n),()=>void t.delete(n)},start(n,i){const a=[];return t.forEach(o=>{a.push(jA(o,n,{transitionOverride:i}))}),Promise.all(a)},set(n){return t.forEach(i=>{WV(i,n)})},stop(){t.forEach(n=>{XV(n)})},mount(){return()=>{e.stop()}}};return e}function JV(){const t=nm(ZV);return Dy(t.mount,[]),t}const eP=JV,fE=t=>{let e;const n=new Set,i=(f,g)=>{const v=typeof f=="function"?f(e):f;if(!Object.is(v,e)){const _=e;e=g??(typeof v!="object"||v===null)?v:Object.assign({},e,v),n.forEach(x=>x(e,_))}},a=()=>e,d={setState:i,getState:a,getInitialState:()=>h,subscribe:f=>(n.add(f),()=>n.delete(f))},h=e=t(i,a,d);return d},tP=(t=>t?fE(t):fE),nP=t=>t;function iP(t,e=nP){const n=Hh.useSyncExternalStore(t.subscribe,Hh.useCallback(()=>e(t.getState()),[t,e]),Hh.useCallback(()=>e(t.getInitialState()),[t,e]));return Hh.useDebugValue(n),n}const mE=t=>{const e=tP(t),n=i=>iP(e,i);return Object.assign(n,e),n},lm=(t=>t?mE(t):mE);function rP(t,e){let n;try{n=t()}catch{return}return{getItem:a=>{var o;const c=h=>h===null?null:JSON.parse(h,void 0),d=(o=n.getItem(a))!=null?o:null;return d instanceof Promise?d.then(c):c(d)},setItem:(a,o)=>n.setItem(a,JSON.stringify(o,void 0)),removeItem:a=>n.removeItem(a)}}const K0=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(i){return K0(i)(n)},catch(i){return this}}}catch(n){return{then(i){return this},catch(i){return K0(i)(n)}}}},sP=(t,e)=>(n,i,a)=>{let o={storage:rP(()=>localStorage),partialize:C=>C,version:0,merge:(C,N)=>({...N,...C}),...e},c=!1;const d=new Set,h=new Set;let f=o.storage;if(!f)return t((...C)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...C)},i,a);const g=()=>{const C=o.partialize({...i()});return f.setItem(o.name,{state:C,version:o.version})},v=a.setState;a.setState=(C,N)=>(v(C,N),g());const _=t((...C)=>(n(...C),g()),i,a);a.getInitialState=()=>_;let x;const k=()=>{var C,N;if(!f)return;c=!1,d.forEach(j=>{var U;return j((U=i())!=null?U:_)});const D=((N=o.onRehydrateStorage)==null?void 0:N.call(o,(C=i())!=null?C:_))||void 0;return K0(f.getItem.bind(f))(o.name).then(j=>{if(j)if(typeof j.version=="number"&&j.version!==o.version){if(o.migrate){const U=o.migrate(j.state,j.version);return U instanceof Promise?U.then(Q=>[!0,Q]):[!0,U]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,j.state];return[!1,void 0]}).then(j=>{var U;const[Q,re]=j;if(x=o.merge(re,(U=i())!=null?U:_),n(x,!0),Q)return g()}).then(()=>{D?.(x,void 0),x=i(),c=!0,h.forEach(j=>j(x))}).catch(j=>{D?.(void 0,j)})};return a.persist={setOptions:C=>{o={...o,...C},C.storage&&(f=C.storage)},clearStorage:()=>{f?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>k(),hasHydrated:()=>c,onHydrate:C=>(d.add(C),()=>{d.delete(C)}),onFinishHydration:C=>(h.add(C),()=>{h.delete(C)})},o.skipHydration||k(),x||_},dv=sP;var kl=9e15,Na=1e9,Y0="0123456789abcdef",Nf="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",If="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Q0={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-kl,maxE:kl,crypto:!1},e2,ts,De=!0,cm="[DecimalError] ",ba=cm+"Invalid argument: ",t2=cm+"Precision limit exceeded",n2=cm+"crypto unavailable",i2="[object Decimal]",An=Math.floor,Jt=Math.pow,aP=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,oP=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,lP=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,r2=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,qi=1e7,Re=7,cP=9007199254740991,uP=Nf.length-1,X0=If.length-1,ue={toStringTag:i2};ue.absoluteValue=ue.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),xe(t)};ue.ceil=function(){return xe(new this.constructor(this),this.e+1,2)};ue.clampedTo=ue.clamp=function(t,e){var n,i=this,a=i.constructor;if(t=new a(t),e=new a(e),!t.s||!e.s)return new a(NaN);if(t.gt(e))throw Error(ba+e);return n=i.cmp(t),n<0?t:i.cmp(e)>0?e:new a(i)};ue.comparedTo=ue.cmp=function(t){var e,n,i,a,o=this,c=o.d,d=(t=new o.constructor(t)).d,h=o.s,f=t.s;if(!c||!d)return!h||!f?NaN:h!==f?h:c===d?0:!c^h<0?1:-1;if(!c[0]||!d[0])return c[0]?h:d[0]?-f:0;if(h!==f)return h;if(o.e!==t.e)return o.e>t.e^h<0?1:-1;for(i=c.length,a=d.length,e=0,n=i<a?i:a;e<n;++e)if(c[e]!==d[e])return c[e]>d[e]^h<0?1:-1;return i===a?0:i>a^h<0?1:-1};ue.cosine=ue.cos=function(){var t,e,n=this,i=n.constructor;return n.d?n.d[0]?(t=i.precision,e=i.rounding,i.precision=t+Math.max(n.e,n.sd())+Re,i.rounding=1,n=dP(i,c2(i,n)),i.precision=t,i.rounding=e,xe(ts==2||ts==3?n.neg():n,t,e,!0)):new i(1):new i(NaN)};ue.cubeRoot=ue.cbrt=function(){var t,e,n,i,a,o,c,d,h,f,g=this,v=g.constructor;if(!g.isFinite()||g.isZero())return new v(g);for(De=!1,o=g.s*Jt(g.s*g,1/3),!o||Math.abs(o)==1/0?(n=yn(g.d),t=g.e,(o=(t-n.length+1)%3)&&(n+=o==1||o==-2?"0":"00"),o=Jt(n,1/3),t=An((t+1)/3)-(t%3==(t<0?-1:2)),o==1/0?n="5e"+t:(n=o.toExponential(),n=n.slice(0,n.indexOf("e")+1)+t),i=new v(n),i.s=g.s):i=new v(o.toString()),c=(t=v.precision)+3;;)if(d=i,h=d.times(d).times(d),f=h.plus(g),i=pt(f.plus(g).times(d),f.plus(h),c+2,1),yn(d.d).slice(0,c)===(n=yn(i.d)).slice(0,c))if(n=n.slice(c-3,c+1),n=="9999"||!a&&n=="4999"){if(!a&&(xe(d,t+1,0),d.times(d).times(d).eq(g))){i=d;break}c+=4,a=1}else{(!+n||!+n.slice(1)&&n.charAt(0)=="5")&&(xe(i,t+1,1),e=!i.times(i).times(i).eq(g));break}return De=!0,xe(i,t,v.rounding,e)};ue.decimalPlaces=ue.dp=function(){var t,e=this.d,n=NaN;if(e){if(t=e.length-1,n=(t-An(this.e/Re))*Re,t=e[t],t)for(;t%10==0;t/=10)n--;n<0&&(n=0)}return n};ue.dividedBy=ue.div=function(t){return pt(this,new this.constructor(t))};ue.dividedToIntegerBy=ue.divToInt=function(t){var e=this,n=e.constructor;return xe(pt(e,new n(t),0,1,1),n.precision,n.rounding)};ue.equals=ue.eq=function(t){return this.cmp(t)===0};ue.floor=function(){return xe(new this.constructor(this),this.e+1,3)};ue.greaterThan=ue.gt=function(t){return this.cmp(t)>0};ue.greaterThanOrEqualTo=ue.gte=function(t){var e=this.cmp(t);return e==1||e===0};ue.hyperbolicCosine=ue.cosh=function(){var t,e,n,i,a,o=this,c=o.constructor,d=new c(1);if(!o.isFinite())return new c(o.s?1/0:NaN);if(o.isZero())return d;n=c.precision,i=c.rounding,c.precision=n+Math.max(o.e,o.sd())+4,c.rounding=1,a=o.d.length,a<32?(t=Math.ceil(a/3),e=(1/dm(4,t)).toString()):(t=16,e="2.3283064365386962890625e-10"),o=zl(c,1,o.times(e),new c(1),!0);for(var h,f=t,g=new c(8);f--;)h=o.times(o),o=d.minus(h.times(g.minus(h.times(g))));return xe(o,c.precision=n,c.rounding=i,!0)};ue.hyperbolicSine=ue.sinh=function(){var t,e,n,i,a=this,o=a.constructor;if(!a.isFinite()||a.isZero())return new o(a);if(e=o.precision,n=o.rounding,o.precision=e+Math.max(a.e,a.sd())+4,o.rounding=1,i=a.d.length,i<3)a=zl(o,2,a,a,!0);else{t=1.4*Math.sqrt(i),t=t>16?16:t|0,a=a.times(1/dm(5,t)),a=zl(o,2,a,a,!0);for(var c,d=new o(5),h=new o(16),f=new o(20);t--;)c=a.times(a),a=a.times(d.plus(c.times(h.times(c).plus(f))))}return o.precision=e,o.rounding=n,xe(a,e,n,!0)};ue.hyperbolicTangent=ue.tanh=function(){var t,e,n=this,i=n.constructor;return n.isFinite()?n.isZero()?new i(n):(t=i.precision,e=i.rounding,i.precision=t+7,i.rounding=1,pt(n.sinh(),n.cosh(),i.precision=t,i.rounding=e)):new i(n.s)};ue.inverseCosine=ue.acos=function(){var t=this,e=t.constructor,n=t.abs().cmp(1),i=e.precision,a=e.rounding;return n!==-1?n===0?t.isNeg()?yr(e,i,a):new e(0):new e(NaN):t.isZero()?yr(e,i+4,a).times(.5):(e.precision=i+6,e.rounding=1,t=new e(1).minus(t).div(t.plus(1)).sqrt().atan(),e.precision=i,e.rounding=a,t.times(2))};ue.inverseHyperbolicCosine=ue.acosh=function(){var t,e,n=this,i=n.constructor;return n.lte(1)?new i(n.eq(1)?0:NaN):n.isFinite()?(t=i.precision,e=i.rounding,i.precision=t+Math.max(Math.abs(n.e),n.sd())+4,i.rounding=1,De=!1,n=n.times(n).minus(1).sqrt().plus(n),De=!0,i.precision=t,i.rounding=e,n.ln()):new i(n)};ue.inverseHyperbolicSine=ue.asinh=function(){var t,e,n=this,i=n.constructor;return!n.isFinite()||n.isZero()?new i(n):(t=i.precision,e=i.rounding,i.precision=t+2*Math.max(Math.abs(n.e),n.sd())+6,i.rounding=1,De=!1,n=n.times(n).plus(1).sqrt().plus(n),De=!0,i.precision=t,i.rounding=e,n.ln())};ue.inverseHyperbolicTangent=ue.atanh=function(){var t,e,n,i,a=this,o=a.constructor;return a.isFinite()?a.e>=0?new o(a.abs().eq(1)?a.s/0:a.isZero()?a:NaN):(t=o.precision,e=o.rounding,i=a.sd(),Math.max(i,t)<2*-a.e-1?xe(new o(a),t,e,!0):(o.precision=n=i-a.e,a=pt(a.plus(1),new o(1).minus(a),n+t,1),o.precision=t+4,o.rounding=1,a=a.ln(),o.precision=t,o.rounding=e,a.times(.5))):new o(NaN)};ue.inverseSine=ue.asin=function(){var t,e,n,i,a=this,o=a.constructor;return a.isZero()?new o(a):(e=a.abs().cmp(1),n=o.precision,i=o.rounding,e!==-1?e===0?(t=yr(o,n+4,i).times(.5),t.s=a.s,t):new o(NaN):(o.precision=n+6,o.rounding=1,a=a.div(new o(1).minus(a.times(a)).sqrt().plus(1)).atan(),o.precision=n,o.rounding=i,a.times(2)))};ue.inverseTangent=ue.atan=function(){var t,e,n,i,a,o,c,d,h,f=this,g=f.constructor,v=g.precision,_=g.rounding;if(f.isFinite()){if(f.isZero())return new g(f);if(f.abs().eq(1)&&v+4<=X0)return c=yr(g,v+4,_).times(.25),c.s=f.s,c}else{if(!f.s)return new g(NaN);if(v+4<=X0)return c=yr(g,v+4,_).times(.5),c.s=f.s,c}for(g.precision=d=v+10,g.rounding=1,n=Math.min(28,d/Re+2|0),t=n;t;--t)f=f.div(f.times(f).plus(1).sqrt().plus(1));for(De=!1,e=Math.ceil(d/Re),i=1,h=f.times(f),c=new g(f),a=f;t!==-1;)if(a=a.times(h),o=c.minus(a.div(i+=2)),a=a.times(h),c=o.plus(a.div(i+=2)),c.d[e]!==void 0)for(t=e;c.d[t]===o.d[t]&&t--;);return n&&(c=c.times(2<<n-1)),De=!0,xe(c,g.precision=v,g.rounding=_,!0)};ue.isFinite=function(){return!!this.d};ue.isInteger=ue.isInt=function(){return!!this.d&&An(this.e/Re)>this.d.length-2};ue.isNaN=function(){return!this.s};ue.isNegative=ue.isNeg=function(){return this.s<0};ue.isPositive=ue.isPos=function(){return this.s>0};ue.isZero=function(){return!!this.d&&this.d[0]===0};ue.lessThan=ue.lt=function(t){return this.cmp(t)<0};ue.lessThanOrEqualTo=ue.lte=function(t){return this.cmp(t)<1};ue.logarithm=ue.log=function(t){var e,n,i,a,o,c,d,h,f=this,g=f.constructor,v=g.precision,_=g.rounding,x=5;if(t==null)t=new g(10),e=!0;else{if(t=new g(t),n=t.d,t.s<0||!n||!n[0]||t.eq(1))return new g(NaN);e=t.eq(10)}if(n=f.d,f.s<0||!n||!n[0]||f.eq(1))return new g(n&&!n[0]?-1/0:f.s!=1?NaN:n?0:1/0);if(e)if(n.length>1)o=!0;else{for(a=n[0];a%10===0;)a/=10;o=a!==1}if(De=!1,d=v+x,c=ca(f,d),i=e?kf(g,d+10):ca(t,d),h=pt(c,i,d,1),ju(h.d,a=v,_))do if(d+=10,c=ca(f,d),i=e?kf(g,d+10):ca(t,d),h=pt(c,i,d,1),!o){+yn(h.d).slice(a+1,a+15)+1==1e14&&(h=xe(h,v+1,0));break}while(ju(h.d,a+=10,_));return De=!0,xe(h,v,_)};ue.minus=ue.sub=function(t){var e,n,i,a,o,c,d,h,f,g,v,_,x=this,k=x.constructor;if(t=new k(t),!x.d||!t.d)return!x.s||!t.s?t=new k(NaN):x.d?t.s=-t.s:t=new k(t.d||x.s!==t.s?x:NaN),t;if(x.s!=t.s)return t.s=-t.s,x.plus(t);if(f=x.d,_=t.d,d=k.precision,h=k.rounding,!f[0]||!_[0]){if(_[0])t.s=-t.s;else if(f[0])t=new k(x);else return new k(h===3?-0:0);return De?xe(t,d,h):t}if(n=An(t.e/Re),g=An(x.e/Re),f=f.slice(),o=g-n,o){for(v=o<0,v?(e=f,o=-o,c=_.length):(e=_,n=g,c=f.length),i=Math.max(Math.ceil(d/Re),c)+2,o>i&&(o=i,e.length=1),e.reverse(),i=o;i--;)e.push(0);e.reverse()}else{for(i=f.length,c=_.length,v=i<c,v&&(c=i),i=0;i<c;i++)if(f[i]!=_[i]){v=f[i]<_[i];break}o=0}for(v&&(e=f,f=_,_=e,t.s=-t.s),c=f.length,i=_.length-c;i>0;--i)f[c++]=0;for(i=_.length;i>o;){if(f[--i]<_[i]){for(a=i;a&&f[--a]===0;)f[a]=qi-1;--f[a],f[i]+=qi}f[i]-=_[i]}for(;f[--c]===0;)f.pop();for(;f[0]===0;f.shift())--n;return f[0]?(t.d=f,t.e=um(f,n),De?xe(t,d,h):t):new k(h===3?-0:0)};ue.modulo=ue.mod=function(t){var e,n=this,i=n.constructor;return t=new i(t),!n.d||!t.s||t.d&&!t.d[0]?new i(NaN):!t.d||n.d&&!n.d[0]?xe(new i(n),i.precision,i.rounding):(De=!1,i.modulo==9?(e=pt(n,t.abs(),0,3,1),e.s*=t.s):e=pt(n,t,0,i.modulo,1),e=e.times(t),De=!0,n.minus(e))};ue.naturalExponential=ue.exp=function(){return W0(this)};ue.naturalLogarithm=ue.ln=function(){return ca(this)};ue.negated=ue.neg=function(){var t=new this.constructor(this);return t.s=-t.s,xe(t)};ue.plus=ue.add=function(t){var e,n,i,a,o,c,d,h,f,g,v=this,_=v.constructor;if(t=new _(t),!v.d||!t.d)return!v.s||!t.s?t=new _(NaN):v.d||(t=new _(t.d||v.s===t.s?v:NaN)),t;if(v.s!=t.s)return t.s=-t.s,v.minus(t);if(f=v.d,g=t.d,d=_.precision,h=_.rounding,!f[0]||!g[0])return g[0]||(t=new _(v)),De?xe(t,d,h):t;if(o=An(v.e/Re),i=An(t.e/Re),f=f.slice(),a=o-i,a){for(a<0?(n=f,a=-a,c=g.length):(n=g,i=o,c=f.length),o=Math.ceil(d/Re),c=o>c?o+1:c+1,a>c&&(a=c,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(c=f.length,a=g.length,c-a<0&&(a=c,n=g,g=f,f=n),e=0;a;)e=(f[--a]=f[a]+g[a]+e)/qi|0,f[a]%=qi;for(e&&(f.unshift(e),++i),c=f.length;f[--c]==0;)f.pop();return t.d=f,t.e=um(f,i),De?xe(t,d,h):t};ue.precision=ue.sd=function(t){var e,n=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ba+t);return n.d?(e=s2(n.d),t&&n.e+1>e&&(e=n.e+1)):e=NaN,e};ue.round=function(){var t=this,e=t.constructor;return xe(new e(t),t.e+1,e.rounding)};ue.sine=ue.sin=function(){var t,e,n=this,i=n.constructor;return n.isFinite()?n.isZero()?new i(n):(t=i.precision,e=i.rounding,i.precision=t+Math.max(n.e,n.sd())+Re,i.rounding=1,n=fP(i,c2(i,n)),i.precision=t,i.rounding=e,xe(ts>2?n.neg():n,t,e,!0)):new i(NaN)};ue.squareRoot=ue.sqrt=function(){var t,e,n,i,a,o,c=this,d=c.d,h=c.e,f=c.s,g=c.constructor;if(f!==1||!d||!d[0])return new g(!f||f<0&&(!d||d[0])?NaN:d?c:1/0);for(De=!1,f=Math.sqrt(+c),f==0||f==1/0?(e=yn(d),(e.length+h)%2==0&&(e+="0"),f=Math.sqrt(e),h=An((h+1)/2)-(h<0||h%2),f==1/0?e="5e"+h:(e=f.toExponential(),e=e.slice(0,e.indexOf("e")+1)+h),i=new g(e)):i=new g(f.toString()),n=(h=g.precision)+3;;)if(o=i,i=o.plus(pt(c,o,n+2,1)).times(.5),yn(o.d).slice(0,n)===(e=yn(i.d)).slice(0,n))if(e=e.slice(n-3,n+1),e=="9999"||!a&&e=="4999"){if(!a&&(xe(o,h+1,0),o.times(o).eq(c))){i=o;break}n+=4,a=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(xe(i,h+1,1),t=!i.times(i).eq(c));break}return De=!0,xe(i,h,g.rounding,t)};ue.tangent=ue.tan=function(){var t,e,n=this,i=n.constructor;return n.isFinite()?n.isZero()?new i(n):(t=i.precision,e=i.rounding,i.precision=t+10,i.rounding=1,n=n.sin(),n.s=1,n=pt(n,new i(1).minus(n.times(n)).sqrt(),t+10,0),i.precision=t,i.rounding=e,xe(ts==2||ts==4?n.neg():n,t,e,!0)):new i(NaN)};ue.times=ue.mul=function(t){var e,n,i,a,o,c,d,h,f,g=this,v=g.constructor,_=g.d,x=(t=new v(t)).d;if(t.s*=g.s,!_||!_[0]||!x||!x[0])return new v(!t.s||_&&!_[0]&&!x||x&&!x[0]&&!_?NaN:!_||!x?t.s/0:t.s*0);for(n=An(g.e/Re)+An(t.e/Re),h=_.length,f=x.length,h<f&&(o=_,_=x,x=o,c=h,h=f,f=c),o=[],c=h+f,i=c;i--;)o.push(0);for(i=f;--i>=0;){for(e=0,a=h+i;a>i;)d=o[a]+x[i]*_[a-i-1]+e,o[a--]=d%qi|0,e=d/qi|0;o[a]=(o[a]+e)%qi|0}for(;!o[--c];)o.pop();return e?++n:o.shift(),t.d=o,t.e=um(o,n),De?xe(t,v.precision,v.rounding):t};ue.toBinary=function(t,e){return hv(this,2,t,e)};ue.toDecimalPlaces=ue.toDP=function(t,e){var n=this,i=n.constructor;return n=new i(n),t===void 0?n:(Gn(t,0,Na),e===void 0?e=i.rounding:Gn(e,0,8),xe(n,t+n.e+1,e))};ue.toExponential=function(t,e){var n,i=this,a=i.constructor;return t===void 0?n=Cr(i,!0):(Gn(t,0,Na),e===void 0?e=a.rounding:Gn(e,0,8),i=xe(new a(i),t+1,e),n=Cr(i,!0,t+1)),i.isNeg()&&!i.isZero()?"-"+n:n};ue.toFixed=function(t,e){var n,i,a=this,o=a.constructor;return t===void 0?n=Cr(a):(Gn(t,0,Na),e===void 0?e=o.rounding:Gn(e,0,8),i=xe(new o(a),t+a.e+1,e),n=Cr(i,!1,t+i.e+1)),a.isNeg()&&!a.isZero()?"-"+n:n};ue.toFraction=function(t){var e,n,i,a,o,c,d,h,f,g,v,_,x=this,k=x.d,C=x.constructor;if(!k)return new C(x);if(f=n=new C(1),i=h=new C(0),e=new C(i),o=e.e=s2(k)-x.e-1,c=o%Re,e.d[0]=Jt(10,c<0?Re+c:c),t==null)t=o>0?e:f;else{if(d=new C(t),!d.isInt()||d.lt(f))throw Error(ba+d);t=d.gt(e)?o>0?e:f:d}for(De=!1,d=new C(yn(k)),g=C.precision,C.precision=o=k.length*Re*2;v=pt(d,e,0,1,1),a=n.plus(v.times(i)),a.cmp(t)!=1;)n=i,i=a,a=f,f=h.plus(v.times(a)),h=a,a=e,e=d.minus(v.times(a)),d=a;return a=pt(t.minus(n),i,0,1,1),h=h.plus(a.times(f)),n=n.plus(a.times(i)),h.s=f.s=x.s,_=pt(f,i,o,1).minus(x).abs().cmp(pt(h,n,o,1).minus(x).abs())<1?[f,i]:[h,n],C.precision=g,De=!0,_};ue.toHexadecimal=ue.toHex=function(t,e){return hv(this,16,t,e)};ue.toNearest=function(t,e){var n=this,i=n.constructor;if(n=new i(n),t==null){if(!n.d)return n;t=new i(1),e=i.rounding}else{if(t=new i(t),e===void 0?e=i.rounding:Gn(e,0,8),!n.d)return t.s?n:t;if(!t.d)return t.s&&(t.s=n.s),t}return t.d[0]?(De=!1,n=pt(n,t,0,e,1).times(t),De=!0,xe(n)):(t.s=n.s,n=t),n};ue.toNumber=function(){return+this};ue.toOctal=function(t,e){return hv(this,8,t,e)};ue.toPower=ue.pow=function(t){var e,n,i,a,o,c,d=this,h=d.constructor,f=+(t=new h(t));if(!d.d||!t.d||!d.d[0]||!t.d[0])return new h(Jt(+d,f));if(d=new h(d),d.eq(1))return d;if(i=h.precision,o=h.rounding,t.eq(1))return xe(d,i,o);if(e=An(t.e/Re),e>=t.d.length-1&&(n=f<0?-f:f)<=cP)return a=a2(h,d,n,i),t.s<0?new h(1).div(a):xe(a,i,o);if(c=d.s,c<0){if(e<t.d.length-1)return new h(NaN);if((t.d[e]&1)==0&&(c=1),d.e==0&&d.d[0]==1&&d.d.length==1)return d.s=c,d}return n=Jt(+d,f),e=n==0||!isFinite(n)?An(f*(Math.log("0."+yn(d.d))/Math.LN10+d.e+1)):new h(n+"").e,e>h.maxE+1||e<h.minE-1?new h(e>0?c/0:0):(De=!1,h.rounding=d.s=1,n=Math.min(12,(e+"").length),a=W0(t.times(ca(d,i+n)),i),a.d&&(a=xe(a,i+5,1),ju(a.d,i,o)&&(e=i+10,a=xe(W0(t.times(ca(d,e+n)),e),e+5,1),+yn(a.d).slice(i+1,i+15)+1==1e14&&(a=xe(a,i+1,0)))),a.s=c,De=!0,h.rounding=o,xe(a,i,o))};ue.toPrecision=function(t,e){var n,i=this,a=i.constructor;return t===void 0?n=Cr(i,i.e<=a.toExpNeg||i.e>=a.toExpPos):(Gn(t,1,Na),e===void 0?e=a.rounding:Gn(e,0,8),i=xe(new a(i),t,e),n=Cr(i,t<=i.e||i.e<=a.toExpNeg,t)),i.isNeg()&&!i.isZero()?"-"+n:n};ue.toSignificantDigits=ue.toSD=function(t,e){var n=this,i=n.constructor;return t===void 0?(t=i.precision,e=i.rounding):(Gn(t,1,Na),e===void 0?e=i.rounding:Gn(e,0,8)),xe(new i(n),t,e)};ue.toString=function(){var t=this,e=t.constructor,n=Cr(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+n:n};ue.truncated=ue.trunc=function(){return xe(new this.constructor(this),this.e+1,1)};ue.valueOf=ue.toJSON=function(){var t=this,e=t.constructor,n=Cr(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+n:n};function yn(t){var e,n,i,a=t.length-1,o="",c=t[0];if(a>0){for(o+=c,e=1;e<a;e++)i=t[e]+"",n=Re-i.length,n&&(o+=ia(n)),o+=i;c=t[e],i=c+"",n=Re-i.length,n&&(o+=ia(n))}else if(c===0)return"0";for(;c%10===0;)c/=10;return o+c}function Gn(t,e,n){if(t!==~~t||t<e||t>n)throw Error(ba+t)}function ju(t,e,n,i){var a,o,c,d;for(o=t[0];o>=10;o/=10)--e;return--e<0?(e+=Re,a=0):(a=Math.ceil((e+1)/Re),e%=Re),o=Jt(10,Re-e),d=t[a]%o|0,i==null?e<3?(e==0?d=d/100|0:e==1&&(d=d/10|0),c=n<4&&d==99999||n>3&&d==49999||d==5e4||d==0):c=(n<4&&d+1==o||n>3&&d+1==o/2)&&(t[a+1]/o/100|0)==Jt(10,e-2)-1||(d==o/2||d==0)&&(t[a+1]/o/100|0)==0:e<4?(e==0?d=d/1e3|0:e==1?d=d/100|0:e==2&&(d=d/10|0),c=(i||n<4)&&d==9999||!i&&n>3&&d==4999):c=((i||n<4)&&d+1==o||!i&&n>3&&d+1==o/2)&&(t[a+1]/o/1e3|0)==Jt(10,e-3)-1,c}function df(t,e,n){for(var i,a=[0],o,c=0,d=t.length;c<d;){for(o=a.length;o--;)a[o]*=e;for(a[0]+=Y0.indexOf(t.charAt(c++)),i=0;i<a.length;i++)a[i]>n-1&&(a[i+1]===void 0&&(a[i+1]=0),a[i+1]+=a[i]/n|0,a[i]%=n)}return a.reverse()}function dP(t,e){var n,i,a;if(e.isZero())return e;i=e.d.length,i<32?(n=Math.ceil(i/3),a=(1/dm(4,n)).toString()):(n=16,a="2.3283064365386962890625e-10"),t.precision+=n,e=zl(t,1,e.times(a),new t(1));for(var o=n;o--;){var c=e.times(e);e=c.times(c).minus(c).times(8).plus(1)}return t.precision-=n,e}var pt=(function(){function t(i,a,o){var c,d=0,h=i.length;for(i=i.slice();h--;)c=i[h]*a+d,i[h]=c%o|0,d=c/o|0;return d&&i.unshift(d),i}function e(i,a,o,c){var d,h;if(o!=c)h=o>c?1:-1;else for(d=h=0;d<o;d++)if(i[d]!=a[d]){h=i[d]>a[d]?1:-1;break}return h}function n(i,a,o,c){for(var d=0;o--;)i[o]-=d,d=i[o]<a[o]?1:0,i[o]=d*c+i[o]-a[o];for(;!i[0]&&i.length>1;)i.shift()}return function(i,a,o,c,d,h){var f,g,v,_,x,k,C,N,D,j,U,Q,re,ne,S,R,M,z,O,F,L=i.constructor,ze=i.s==a.s?1:-1,ce=i.d,$=a.d;if(!ce||!ce[0]||!$||!$[0])return new L(!i.s||!a.s||(ce?$&&ce[0]==$[0]:!$)?NaN:ce&&ce[0]==0||!$?ze*0:ze/0);for(h?(x=1,g=i.e-a.e):(h=qi,x=Re,g=An(i.e/x)-An(a.e/x)),O=$.length,M=ce.length,D=new L(ze),j=D.d=[],v=0;$[v]==(ce[v]||0);v++);if($[v]>(ce[v]||0)&&g--,o==null?(ne=o=L.precision,c=L.rounding):d?ne=o+(i.e-a.e)+1:ne=o,ne<0)j.push(1),k=!0;else{if(ne=ne/x+2|0,v=0,O==1){for(_=0,$=$[0],ne++;(v<M||_)&&ne--;v++)S=_*h+(ce[v]||0),j[v]=S/$|0,_=S%$|0;k=_||v<M}else{for(_=h/($[0]+1)|0,_>1&&($=t($,_,h),ce=t(ce,_,h),O=$.length,M=ce.length),R=O,U=ce.slice(0,O),Q=U.length;Q<O;)U[Q++]=0;F=$.slice(),F.unshift(0),z=$[0],$[1]>=h/2&&++z;do _=0,f=e($,U,O,Q),f<0?(re=U[0],O!=Q&&(re=re*h+(U[1]||0)),_=re/z|0,_>1?(_>=h&&(_=h-1),C=t($,_,h),N=C.length,Q=U.length,f=e(C,U,N,Q),f==1&&(_--,n(C,O<N?F:$,N,h))):(_==0&&(f=_=1),C=$.slice()),N=C.length,N<Q&&C.unshift(0),n(U,C,Q,h),f==-1&&(Q=U.length,f=e($,U,O,Q),f<1&&(_++,n(U,O<Q?F:$,Q,h))),Q=U.length):f===0&&(_++,U=[0]),j[v++]=_,f&&U[0]?U[Q++]=ce[R]||0:(U=[ce[R]],Q=1);while((R++<M||U[0]!==void 0)&&ne--);k=U[0]!==void 0}j[0]||j.shift()}if(x==1)D.e=g,e2=k;else{for(v=1,_=j[0];_>=10;_/=10)v++;D.e=v+g*x-1,xe(D,d?o+D.e+1:o,c,k)}return D}})();function xe(t,e,n,i){var a,o,c,d,h,f,g,v,_,x=t.constructor;e:if(e!=null){if(v=t.d,!v)return t;for(a=1,d=v[0];d>=10;d/=10)a++;if(o=e-a,o<0)o+=Re,c=e,g=v[_=0],h=g/Jt(10,a-c-1)%10|0;else if(_=Math.ceil((o+1)/Re),d=v.length,_>=d)if(i){for(;d++<=_;)v.push(0);g=h=0,a=1,o%=Re,c=o-Re+1}else break e;else{for(g=d=v[_],a=1;d>=10;d/=10)a++;o%=Re,c=o-Re+a,h=c<0?0:g/Jt(10,a-c-1)%10|0}if(i=i||e<0||v[_+1]!==void 0||(c<0?g:g%Jt(10,a-c-1)),f=n<4?(h||i)&&(n==0||n==(t.s<0?3:2)):h>5||h==5&&(n==4||i||n==6&&(o>0?c>0?g/Jt(10,a-c):0:v[_-1])%10&1||n==(t.s<0?8:7)),e<1||!v[0])return v.length=0,f?(e-=t.e+1,v[0]=Jt(10,(Re-e%Re)%Re),t.e=-e||0):v[0]=t.e=0,t;if(o==0?(v.length=_,d=1,_--):(v.length=_+1,d=Jt(10,Re-o),v[_]=c>0?(g/Jt(10,a-c)%Jt(10,c)|0)*d:0),f)for(;;)if(_==0){for(o=1,c=v[0];c>=10;c/=10)o++;for(c=v[0]+=d,d=1;c>=10;c/=10)d++;o!=d&&(t.e++,v[0]==qi&&(v[0]=1));break}else{if(v[_]+=d,v[_]!=qi)break;v[_--]=0,d=1}for(o=v.length;v[--o]===0;)v.pop()}return De&&(t.e>x.maxE?(t.d=null,t.e=NaN):t.e<x.minE&&(t.e=0,t.d=[0])),t}function Cr(t,e,n){if(!t.isFinite())return l2(t);var i,a=t.e,o=yn(t.d),c=o.length;return e?(n&&(i=n-c)>0?o=o.charAt(0)+"."+o.slice(1)+ia(i):c>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(t.e<0?"e":"e+")+t.e):a<0?(o="0."+ia(-a-1)+o,n&&(i=n-c)>0&&(o+=ia(i))):a>=c?(o+=ia(a+1-c),n&&(i=n-a-1)>0&&(o=o+"."+ia(i))):((i=a+1)<c&&(o=o.slice(0,i)+"."+o.slice(i)),n&&(i=n-c)>0&&(a+1===c&&(o+="."),o+=ia(i))),o}function um(t,e){var n=t[0];for(e*=Re;n>=10;n/=10)e++;return e}function kf(t,e,n){if(e>uP)throw De=!0,n&&(t.precision=n),Error(t2);return xe(new t(Nf),e,1,!0)}function yr(t,e,n){if(e>X0)throw Error(t2);return xe(new t(If),e,n,!0)}function s2(t){var e=t.length-1,n=e*Re+1;if(e=t[e],e){for(;e%10==0;e/=10)n--;for(e=t[0];e>=10;e/=10)n++}return n}function ia(t){for(var e="";t--;)e+="0";return e}function a2(t,e,n,i){var a,o=new t(1),c=Math.ceil(i/Re+4);for(De=!1;;){if(n%2&&(o=o.times(e),gE(o.d,c)&&(a=!0)),n=An(n/2),n===0){n=o.d.length-1,a&&o.d[n]===0&&++o.d[n];break}e=e.times(e),gE(e.d,c)}return De=!0,o}function pE(t){return t.d[t.d.length-1]&1}function o2(t,e,n){for(var i,a,o=new t(e[0]),c=0;++c<e.length;){if(a=new t(e[c]),!a.s){o=a;break}i=o.cmp(a),(i===n||i===0&&o.s===n)&&(o=a)}return o}function W0(t,e){var n,i,a,o,c,d,h,f=0,g=0,v=0,_=t.constructor,x=_.rounding,k=_.precision;if(!t.d||!t.d[0]||t.e>17)return new _(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(e==null?(De=!1,h=k):h=e,d=new _(.03125);t.e>-2;)t=t.times(d),v+=5;for(i=Math.log(Jt(2,v))/Math.LN10*2+5|0,h+=i,n=o=c=new _(1),_.precision=h;;){if(o=xe(o.times(t),h,1),n=n.times(++g),d=c.plus(pt(o,n,h,1)),yn(d.d).slice(0,h)===yn(c.d).slice(0,h)){for(a=v;a--;)c=xe(c.times(c),h,1);if(e==null)if(f<3&&ju(c.d,h-i,x,f))_.precision=h+=10,n=o=d=new _(1),g=0,f++;else return xe(c,_.precision=k,x,De=!0);else return _.precision=k,c}c=d}}function ca(t,e){var n,i,a,o,c,d,h,f,g,v,_,x=1,k=10,C=t,N=C.d,D=C.constructor,j=D.rounding,U=D.precision;if(C.s<0||!N||!N[0]||!C.e&&N[0]==1&&N.length==1)return new D(N&&!N[0]?-1/0:C.s!=1?NaN:N?0:C);if(e==null?(De=!1,g=U):g=e,D.precision=g+=k,n=yn(N),i=n.charAt(0),Math.abs(o=C.e)<15e14){for(;i<7&&i!=1||i==1&&n.charAt(1)>3;)C=C.times(t),n=yn(C.d),i=n.charAt(0),x++;o=C.e,i>1?(C=new D("0."+n),o++):C=new D(i+"."+n.slice(1))}else return f=kf(D,g+2,U).times(o+""),C=ca(new D(i+"."+n.slice(1)),g-k).plus(f),D.precision=U,e==null?xe(C,U,j,De=!0):C;for(v=C,h=c=C=pt(C.minus(1),C.plus(1),g,1),_=xe(C.times(C),g,1),a=3;;){if(c=xe(c.times(_),g,1),f=h.plus(pt(c,new D(a),g,1)),yn(f.d).slice(0,g)===yn(h.d).slice(0,g))if(h=h.times(2),o!==0&&(h=h.plus(kf(D,g+2,U).times(o+""))),h=pt(h,new D(x),g,1),e==null)if(ju(h.d,g-k,j,d))D.precision=g+=k,f=c=C=pt(v.minus(1),v.plus(1),g,1),_=xe(C.times(C),g,1),a=d=1;else return xe(h,D.precision=U,j,De=!0);else return D.precision=U,h;h=f,a+=2}}function l2(t){return String(t.s*t.s/0)}function hf(t,e){var n,i,a;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(n<0&&(n=i),n+=+e.slice(i+1),e=e.substring(0,i)):n<0&&(n=e.length),i=0;e.charCodeAt(i)===48;i++);for(a=e.length;e.charCodeAt(a-1)===48;--a);if(e=e.slice(i,a),e){if(a-=i,t.e=n=n-i-1,t.d=[],i=(n+1)%Re,n<0&&(i+=Re),i<a){for(i&&t.d.push(+e.slice(0,i)),a-=Re;i<a;)t.d.push(+e.slice(i,i+=Re));e=e.slice(i),i=Re-e.length}else i-=a;for(;i--;)e+="0";t.d.push(+e),De&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function hP(t,e){var n,i,a,o,c,d,h,f,g;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),r2.test(e))return hf(t,e)}else if(e==="Infinity"||e==="NaN")return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(oP.test(e))n=16,e=e.toLowerCase();else if(aP.test(e))n=2;else if(lP.test(e))n=8;else throw Error(ba+e);for(o=e.search(/p/i),o>0?(h=+e.slice(o+1),e=e.substring(2,o)):e=e.slice(2),o=e.indexOf("."),c=o>=0,i=t.constructor,c&&(e=e.replace(".",""),d=e.length,o=d-o,a=a2(i,new i(n),o,o*2)),f=df(e,n,qi),g=f.length-1,o=g;f[o]===0;--o)f.pop();return o<0?new i(t.s*0):(t.e=um(f,g),t.d=f,De=!1,c&&(t=pt(t,a,d*4)),h&&(t=t.times(Math.abs(h)<54?Jt(2,h):Fn.pow(2,h))),De=!0,t)}function fP(t,e){var n,i=e.d.length;if(i<3)return e.isZero()?e:zl(t,2,e,e);n=1.4*Math.sqrt(i),n=n>16?16:n|0,e=e.times(1/dm(5,n)),e=zl(t,2,e,e);for(var a,o=new t(5),c=new t(16),d=new t(20);n--;)a=e.times(e),e=e.times(o.plus(a.times(c.times(a).minus(d))));return e}function zl(t,e,n,i,a){var o,c,d,h,f=t.precision,g=Math.ceil(f/Re);for(De=!1,h=n.times(n),d=new t(i);;){if(c=pt(d.times(h),new t(e++*e++),f,1),d=a?i.plus(c):i.minus(c),i=pt(c.times(h),new t(e++*e++),f,1),c=d.plus(i),c.d[g]!==void 0){for(o=g;c.d[o]===d.d[o]&&o--;);if(o==-1)break}o=d,d=i,i=c,c=o}return De=!0,c.d.length=g+1,c}function dm(t,e){for(var n=t;--e;)n*=t;return n}function c2(t,e){var n,i=e.s<0,a=yr(t,t.precision,1),o=a.times(.5);if(e=e.abs(),e.lte(o))return ts=i?4:1,e;if(n=e.divToInt(a),n.isZero())ts=i?3:2;else{if(e=e.minus(n.times(a)),e.lte(o))return ts=pE(n)?i?2:3:i?4:1,e;ts=pE(n)?i?1:4:i?3:2}return e.minus(a).abs()}function hv(t,e,n,i){var a,o,c,d,h,f,g,v,_,x=t.constructor,k=n!==void 0;if(k?(Gn(n,1,Na),i===void 0?i=x.rounding:Gn(i,0,8)):(n=x.precision,i=x.rounding),!t.isFinite())g=l2(t);else{for(g=Cr(t),c=g.indexOf("."),k?(a=2,e==16?n=n*4-3:e==8&&(n=n*3-2)):a=e,c>=0&&(g=g.replace(".",""),_=new x(1),_.e=g.length-c,_.d=df(Cr(_),10,a),_.e=_.d.length),v=df(g,10,a),o=h=v.length;v[--h]==0;)v.pop();if(!v[0])g=k?"0p+0":"0";else{if(c<0?o--:(t=new x(t),t.d=v,t.e=o,t=pt(t,_,n,i,0,a),v=t.d,o=t.e,f=e2),c=v[n],d=a/2,f=f||v[n+1]!==void 0,f=i<4?(c!==void 0||f)&&(i===0||i===(t.s<0?3:2)):c>d||c===d&&(i===4||f||i===6&&v[n-1]&1||i===(t.s<0?8:7)),v.length=n,f)for(;++v[--n]>a-1;)v[n]=0,n||(++o,v.unshift(1));for(h=v.length;!v[h-1];--h);for(c=0,g="";c<h;c++)g+=Y0.charAt(v[c]);if(k){if(h>1)if(e==16||e==8){for(c=e==16?4:3,--h;h%c;h++)g+="0";for(v=df(g,a,e),h=v.length;!v[h-1];--h);for(c=1,g="1.";c<h;c++)g+=Y0.charAt(v[c])}else g=g.charAt(0)+"."+g.slice(1);g=g+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)g="0"+g;g="0."+g}else if(++o>h)for(o-=h;o--;)g+="0";else o<h&&(g=g.slice(0,o)+"."+g.slice(o))}g=(e==16?"0x":e==2?"0b":e==8?"0o":"")+g}return t.s<0?"-"+g:g}function gE(t,e){if(t.length>e)return t.length=e,!0}function mP(t){return new this(t).abs()}function pP(t){return new this(t).acos()}function gP(t){return new this(t).acosh()}function yP(t,e){return new this(t).plus(e)}function vP(t){return new this(t).asin()}function bP(t){return new this(t).asinh()}function _P(t){return new this(t).atan()}function wP(t){return new this(t).atanh()}function TP(t,e){t=new this(t),e=new this(e);var n,i=this.precision,a=this.rounding,o=i+4;return!t.s||!e.s?n=new this(NaN):!t.d&&!e.d?(n=yr(this,o,1).times(e.s>0?.25:.75),n.s=t.s):!e.d||t.isZero()?(n=e.s<0?yr(this,i,a):new this(0),n.s=t.s):!t.d||e.isZero()?(n=yr(this,o,1).times(.5),n.s=t.s):e.s<0?(this.precision=o,this.rounding=1,n=this.atan(pt(t,e,o,1)),e=yr(this,o,1),this.precision=i,this.rounding=a,n=t.s<0?n.minus(e):n.plus(e)):n=this.atan(pt(t,e,o,1)),n}function EP(t){return new this(t).cbrt()}function xP(t){return xe(t=new this(t),t.e+1,2)}function SP(t,e,n){return new this(t).clamp(e,n)}function AP(t){if(!t||typeof t!="object")throw Error(cm+"Object expected");var e,n,i,a=t.defaults===!0,o=["precision",1,Na,"rounding",0,8,"toExpNeg",-kl,0,"toExpPos",0,kl,"maxE",0,kl,"minE",-kl,0,"modulo",0,9];for(e=0;e<o.length;e+=3)if(n=o[e],a&&(this[n]=Q0[n]),(i=t[n])!==void 0)if(An(i)===i&&i>=o[e+1]&&i<=o[e+2])this[n]=i;else throw Error(ba+n+": "+i);if(n="crypto",a&&(this[n]=Q0[n]),(i=t[n])!==void 0)if(i===!0||i===!1||i===0||i===1)if(i)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[n]=!0;else throw Error(n2);else this[n]=!1;else throw Error(ba+n+": "+i);return this}function CP(t){return new this(t).cos()}function RP(t){return new this(t).cosh()}function u2(t){var e,n,i;function a(o){var c,d,h,f=this;if(!(f instanceof a))return new a(o);if(f.constructor=a,yE(o)){f.s=o.s,De?!o.d||o.e>a.maxE?(f.e=NaN,f.d=null):o.e<a.minE?(f.e=0,f.d=[0]):(f.e=o.e,f.d=o.d.slice()):(f.e=o.e,f.d=o.d?o.d.slice():o.d);return}if(h=typeof o,h==="number"){if(o===0){f.s=1/o<0?-1:1,f.e=0,f.d=[0];return}if(o<0?(o=-o,f.s=-1):f.s=1,o===~~o&&o<1e7){for(c=0,d=o;d>=10;d/=10)c++;De?c>a.maxE?(f.e=NaN,f.d=null):c<a.minE?(f.e=0,f.d=[0]):(f.e=c,f.d=[o]):(f.e=c,f.d=[o]);return}if(o*0!==0){o||(f.s=NaN),f.e=NaN,f.d=null;return}return hf(f,o.toString())}if(h==="string")return(d=o.charCodeAt(0))===45?(o=o.slice(1),f.s=-1):(d===43&&(o=o.slice(1)),f.s=1),r2.test(o)?hf(f,o):hP(f,o);if(h==="bigint")return o<0?(o=-o,f.s=-1):f.s=1,hf(f,o.toString());throw Error(ba+o)}if(a.prototype=ue,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.EUCLID=9,a.config=a.set=AP,a.clone=u2,a.isDecimal=yE,a.abs=mP,a.acos=pP,a.acosh=gP,a.add=yP,a.asin=vP,a.asinh=bP,a.atan=_P,a.atanh=wP,a.atan2=TP,a.cbrt=EP,a.ceil=xP,a.clamp=SP,a.cos=CP,a.cosh=RP,a.div=NP,a.exp=IP,a.floor=kP,a.hypot=DP,a.ln=MP,a.log=OP,a.log10=PP,a.log2=VP,a.max=jP,a.min=LP,a.mod=UP,a.mul=zP,a.pow=BP,a.random=FP,a.round=qP,a.sign=HP,a.sin=$P,a.sinh=GP,a.sqrt=KP,a.sub=YP,a.sum=QP,a.tan=XP,a.tanh=WP,a.trunc=ZP,t===void 0&&(t={}),t&&t.defaults!==!0)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<i.length;)t.hasOwnProperty(n=i[e++])||(t[n]=this[n]);return a.config(t),a}function NP(t,e){return new this(t).div(e)}function IP(t){return new this(t).exp()}function kP(t){return xe(t=new this(t),t.e+1,3)}function DP(){var t,e,n=new this(0);for(De=!1,t=0;t<arguments.length;)if(e=new this(arguments[t++]),e.d)n.d&&(n=n.plus(e.times(e)));else{if(e.s)return De=!0,new this(1/0);n=e}return De=!0,n.sqrt()}function yE(t){return t instanceof Fn||t&&t.toStringTag===i2||!1}function MP(t){return new this(t).ln()}function OP(t,e){return new this(t).log(e)}function VP(t){return new this(t).log(2)}function PP(t){return new this(t).log(10)}function jP(){return o2(this,arguments,-1)}function LP(){return o2(this,arguments,1)}function UP(t,e){return new this(t).mod(e)}function zP(t,e){return new this(t).mul(e)}function BP(t,e){return new this(t).pow(e)}function FP(t){var e,n,i,a,o=0,c=new this(1),d=[];if(t===void 0?t=this.precision:Gn(t,1,Na),i=Math.ceil(t/Re),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(i));o<i;)a=e[o],a>=429e7?e[o]=crypto.getRandomValues(new Uint32Array(1))[0]:d[o++]=a%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(i*=4);o<i;)a=e[o]+(e[o+1]<<8)+(e[o+2]<<16)+((e[o+3]&127)<<24),a>=214e7?crypto.randomBytes(4).copy(e,o):(d.push(a%1e7),o+=4);o=i/4}else throw Error(n2);else for(;o<i;)d[o++]=Math.random()*1e7|0;for(i=d[--o],t%=Re,i&&t&&(a=Jt(10,Re-t),d[o]=(i/a|0)*a);d[o]===0;o--)d.pop();if(o<0)n=0,d=[0];else{for(n=-1;d[0]===0;n-=Re)d.shift();for(i=1,a=d[0];a>=10;a/=10)i++;i<Re&&(n-=Re-i)}return c.e=n,c.d=d,c}function qP(t){return xe(t=new this(t),t.e+1,this.rounding)}function HP(t){return t=new this(t),t.d?t.d[0]?t.s:0*t.s:t.s||NaN}function $P(t){return new this(t).sin()}function GP(t){return new this(t).sinh()}function KP(t){return new this(t).sqrt()}function YP(t,e){return new this(t).sub(e)}function QP(){var t=0,e=arguments,n=new this(e[t]);for(De=!1;n.s&&++t<e.length;)n=n.plus(e[t]);return De=!0,xe(n,this.precision,this.rounding)}function XP(t){return new this(t).tan()}function WP(t){return new this(t).tanh()}function ZP(t){return xe(t=new this(t),t.e+1,1)}ue[Symbol.for("nodejs.util.inspect.custom")]=ue.toString;ue[Symbol.toStringTag]="Decimal";var Fn=ue.constructor=u2(Q0);Nf=new Fn(Nf);If=new Fn(If);const JP=()=>{};var vE={};const d2=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},e5=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const o=t[n++];e[i++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=t[n++],c=t[n++],d=t[n++],h=((a&7)<<18|(o&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const o=t[n++],c=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(o&63)<<6|c&63)}}return e.join("")},h2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const o=t[a],c=a+1<t.length,d=c?t[a+1]:0,h=a+2<t.length,f=h?t[a+2]:0,g=o>>2,v=(o&3)<<4|d>>4;let _=(d&15)<<2|f>>6,x=f&63;h||(x=64,c||(_=64)),i.push(n[g],n[v],n[_],n[x])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(d2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):e5(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const o=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const f=a<t.length?n[t.charAt(a)]:64;++a;const v=a<t.length?n[t.charAt(a)]:64;if(++a,o==null||d==null||f==null||v==null)throw new t5;const _=o<<2|d>>4;if(i.push(_),f!==64){const x=d<<4&240|f>>2;if(i.push(x),v!==64){const k=f<<6&192|v;i.push(k)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class t5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const n5=function(t){const e=d2(t);return h2.encodeByteArray(e,!0)},Df=function(t){return n5(t).replace(/\./g,"")},f2=function(t){try{return h2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function i5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const r5=()=>i5().__FIREBASE_DEFAULTS__,s5=()=>{if(typeof process>"u"||typeof vE>"u")return;const t=vE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},a5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&f2(t[1]);return e&&JSON.parse(e)},hm=()=>{try{return JP()||r5()||s5()||a5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},m2=t=>hm()?.emulatorHosts?.[t],o5=t=>{const e=m2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},p2=()=>hm()?.config,g2=t=>hm()?.[`_${t}`];class l5{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function tc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function y2(t){return(await fetch(t,{credentials:"include"})).ok}function c5(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Df(JSON.stringify(n)),Df(JSON.stringify(c)),""].join(".")}const Eu={};function u5(){const t={prod:[],emulator:[]};for(const e of Object.keys(Eu))Eu[e]?t.emulator.push(e):t.prod.push(e);return t}function d5(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let bE=!1;function v2(t,e){if(typeof window>"u"||typeof document>"u"||!tc(window.location.host)||Eu[t]===e||Eu[t]||bE)return;Eu[t]=e;function n(_){return`__firebase__banner__${_}`}const i="__firebase__banner",o=u5().prod.length>0;function c(){const _=document.getElementById(i);_&&_.remove()}function d(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function h(_,x){_.setAttribute("width","24"),_.setAttribute("id",x),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function f(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{bE=!0,c()},_}function g(_,x){_.setAttribute("id",x),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function v(){const _=d5(i),x=n("text"),k=document.getElementById(x)||document.createElement("span"),C=n("learnmore"),N=document.getElementById(C)||document.createElement("a"),D=n("preprendIcon"),j=document.getElementById(D)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const U=_.element;d(U),g(N,C);const Q=f();h(j,D),U.append(j,k,N,Q),document.body.appendChild(U)}o?(k.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function Cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function h5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cn())}function f5(){const t=hm()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function m5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function p5(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function g5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function y5(){const t=Cn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function v5(){return!f5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function b5(){try{return typeof indexedDB=="object"}catch{return!1}}function _5(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const w5="FirebaseError";class ps extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=w5,Object.setPrototypeOf(this,ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,id.prototype.create)}}class id{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,o=this.errors[e],c=o?T5(o,i):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new ps(a,d,i)}}function T5(t,e){return t.replace(E5,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const E5=/\{\$([^}]+)}/g;function x5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xo(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const o=t[a],c=e[a];if(_E(o)&&_E(c)){if(!xo(o,c))return!1}else if(o!==c)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function _E(t){return t!==null&&typeof t=="object"}function rd(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function hu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,o]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function fu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function S5(t,e){const n=new A5(t,e);return n.subscribe.bind(n)}class A5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");C5(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=r0),a.error===void 0&&(a.error=r0),a.complete===void 0&&(a.complete=r0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function C5(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function r0(){}function xt(t){return t&&t._delegate?t._delegate:t}class So{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const mo="[DEFAULT]";class R5{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new l5;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(I5(e))try{this.getOrInitializeService({instanceIdentifier:mo})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:a});i.resolve(o)}catch{}}}}clearInstance(e=mo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=mo){return this.instances.has(e)}getOptions(e=mo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);i===d&&c.resolve(a)}return a}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:N5(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=mo){return this.component?this.component.multipleInstances?e:mo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function N5(t){return t===mo?void 0:t}function I5(t){return t.instantiationMode==="EAGER"}class k5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new R5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ke||(Ke={}));const D5={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},M5=Ke.INFO,O5={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},V5=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=O5[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class fv{constructor(e){this.name=e,this._logLevel=M5,this._logHandler=V5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?D5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const P5=(t,e)=>e.some(n=>t instanceof n);let wE,TE;function j5(){return wE||(wE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function L5(){return TE||(TE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const b2=new WeakMap,Z0=new WeakMap,_2=new WeakMap,s0=new WeakMap,mv=new WeakMap;function U5(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",o),t.removeEventListener("error",c)},o=()=>{n(ha(t.result)),a()},c=()=>{i(t.error),a()};t.addEventListener("success",o),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&b2.set(n,t)}).catch(()=>{}),mv.set(e,t),e}function z5(t){if(Z0.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",c),t.removeEventListener("abort",c)},o=()=>{n(),a()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",o),t.addEventListener("error",c),t.addEventListener("abort",c)});Z0.set(t,e)}let J0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Z0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ha(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function B5(t){J0=t(J0)}function F5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(a0(this),e,...n);return _2.set(i,e.sort?e.sort():[e]),ha(i)}:L5().includes(t)?function(...e){return t.apply(a0(this),e),ha(b2.get(this))}:function(...e){return ha(t.apply(a0(this),e))}}function q5(t){return typeof t=="function"?F5(t):(t instanceof IDBTransaction&&z5(t),P5(t,j5())?new Proxy(t,J0):t)}function ha(t){if(t instanceof IDBRequest)return U5(t);if(s0.has(t))return s0.get(t);const e=q5(t);return e!==t&&(s0.set(t,e),mv.set(e,t)),e}const a0=t=>mv.get(t);function H5(t,e,{blocked:n,upgrade:i,blocking:a,terminated:o}={}){const c=indexedDB.open(t,e),d=ha(c);return i&&c.addEventListener("upgradeneeded",h=>{i(ha(c.result),h.oldVersion,h.newVersion,ha(c.transaction),h)}),n&&c.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),d.then(h=>{o&&h.addEventListener("close",()=>o()),a&&h.addEventListener("versionchange",f=>a(f.oldVersion,f.newVersion,f))}).catch(()=>{}),d}const $5=["get","getKey","getAll","getAllKeys","count"],G5=["put","add","delete","clear"],o0=new Map;function EE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(o0.get(e))return o0.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=G5.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||$5.includes(n)))return;const o=async function(c,...d){const h=this.transaction(c,a?"readwrite":"readonly");let f=h.store;return i&&(f=f.index(d.shift())),(await Promise.all([f[n](...d),a&&h.done]))[0]};return o0.set(e,o),o}B5(t=>({...t,get:(e,n,i)=>EE(e,n)||t.get(e,n,i),has:(e,n)=>!!EE(e,n)||t.has(e,n)}));class K5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Y5(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function Y5(t){return t.getComponent()?.type==="VERSION"}const ey="@firebase/app",xE="0.14.6";const us=new fv("@firebase/app"),Q5="@firebase/app-compat",X5="@firebase/analytics-compat",W5="@firebase/analytics",Z5="@firebase/app-check-compat",J5="@firebase/app-check",e6="@firebase/auth",t6="@firebase/auth-compat",n6="@firebase/database",i6="@firebase/data-connect",r6="@firebase/database-compat",s6="@firebase/functions",a6="@firebase/functions-compat",o6="@firebase/installations",l6="@firebase/installations-compat",c6="@firebase/messaging",u6="@firebase/messaging-compat",d6="@firebase/performance",h6="@firebase/performance-compat",f6="@firebase/remote-config",m6="@firebase/remote-config-compat",p6="@firebase/storage",g6="@firebase/storage-compat",y6="@firebase/firestore",v6="@firebase/ai",b6="@firebase/firestore-compat",_6="firebase",w6="12.6.0";const ty="[DEFAULT]",T6={[ey]:"fire-core",[Q5]:"fire-core-compat",[W5]:"fire-analytics",[X5]:"fire-analytics-compat",[J5]:"fire-app-check",[Z5]:"fire-app-check-compat",[e6]:"fire-auth",[t6]:"fire-auth-compat",[n6]:"fire-rtdb",[i6]:"fire-data-connect",[r6]:"fire-rtdb-compat",[s6]:"fire-fn",[a6]:"fire-fn-compat",[o6]:"fire-iid",[l6]:"fire-iid-compat",[c6]:"fire-fcm",[u6]:"fire-fcm-compat",[d6]:"fire-perf",[h6]:"fire-perf-compat",[f6]:"fire-rc",[m6]:"fire-rc-compat",[p6]:"fire-gcs",[g6]:"fire-gcs-compat",[y6]:"fire-fst",[b6]:"fire-fst-compat",[v6]:"fire-vertex","fire-js":"fire-js",[_6]:"fire-js-all"};const Mf=new Map,E6=new Map,ny=new Map;function SE(t,e){try{t.container.addComponent(e)}catch(n){us.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Bl(t){const e=t.name;if(ny.has(e))return us.debug(`There were multiple attempts to register component ${e}.`),!1;ny.set(e,t);for(const n of Mf.values())SE(n,t);for(const n of E6.values())SE(n,t);return!0}function pv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function _i(t){return t==null?!1:t.settings!==void 0}const x6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fa=new id("app","Firebase",x6);class S6{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new So("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fa.create("app-deleted",{appName:this._name})}}const nc=w6;function w2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:ty,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw fa.create("bad-app-name",{appName:String(a)});if(n||(n=p2()),!n)throw fa.create("no-options");const o=Mf.get(a);if(o){if(xo(n,o.options)&&xo(i,o.config))return o;throw fa.create("duplicate-app",{appName:a})}const c=new k5(a);for(const h of ny.values())c.addComponent(h);const d=new S6(n,i,c);return Mf.set(a,d),d}function T2(t=ty){const e=Mf.get(t);if(!e&&t===ty&&p2())return w2();if(!e)throw fa.create("no-app",{appName:t});return e}function ma(t,e,n){let i=T6[t]??t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),us.warn(c.join(" "));return}Bl(new So(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const A6="firebase-heartbeat-database",C6=1,Lu="firebase-heartbeat-store";let l0=null;function E2(){return l0||(l0=H5(A6,C6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Lu)}catch(n){console.warn(n)}}}}).catch(t=>{throw fa.create("idb-open",{originalErrorMessage:t.message})})),l0}async function R6(t){try{const n=(await E2()).transaction(Lu),i=await n.objectStore(Lu).get(x2(t));return await n.done,i}catch(e){if(e instanceof ps)us.warn(e.message);else{const n=fa.create("idb-get",{originalErrorMessage:e?.message});us.warn(n.message)}}}async function AE(t,e){try{const i=(await E2()).transaction(Lu,"readwrite");await i.objectStore(Lu).put(e,x2(t)),await i.done}catch(n){if(n instanceof ps)us.warn(n.message);else{const i=fa.create("idb-set",{originalErrorMessage:n?.message});us.warn(i.message)}}}function x2(t){return`${t.name}!${t.options.appId}`}const N6=1024,I6=30;class k6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new M6(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=CE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>I6){const a=O6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){us.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=CE(),{heartbeatsToSend:n,unsentEntries:i}=D6(this._heartbeatsCache.heartbeats),a=Df(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return us.warn(e),""}}}function CE(){return new Date().toISOString().substring(0,10)}function D6(t,e=N6){const n=[];let i=t.slice();for(const a of t){const o=n.find(c=>c.agent===a.agent);if(o){if(o.dates.push(a.date),RE(n)>e){o.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),RE(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class M6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return b5()?_5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await R6(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return AE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return AE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function RE(t){return Df(JSON.stringify({version:2,heartbeats:t})).length}function O6(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}function V6(t){Bl(new So("platform-logger",e=>new K5(e),"PRIVATE")),Bl(new So("heartbeat",e=>new k6(e),"PRIVATE")),ma(ey,xE,t),ma(ey,xE,"esm2020"),ma("fire-js","")}V6("");function S2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const P6=S2,A2=new id("auth","Firebase",S2());const Of=new fv("@firebase/auth");function j6(t,...e){Of.logLevel<=Ke.WARN&&Of.warn(`Auth (${nc}): ${t}`,...e)}function ff(t,...e){Of.logLevel<=Ke.ERROR&&Of.error(`Auth (${nc}): ${t}`,...e)}function Hi(t,...e){throw gv(t,...e)}function wr(t,...e){return gv(t,...e)}function C2(t,e,n){const i={...P6(),[e]:n};return new id("auth","Firebase",i).create(e,{appName:t.name})}function ss(t){return C2(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gv(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return A2.create(t,...e)}function Ne(t,e,...n){if(!t)throw gv(e,...n)}function ns(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ff(e),new Error(e)}function ds(t,e){t||ns(e)}function iy(){return typeof self<"u"&&self.location?.href||""}function L6(){return NE()==="http:"||NE()==="https:"}function NE(){return typeof self<"u"&&self.location?.protocol||null}function U6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(L6()||p5()||"connection"in navigator)?navigator.onLine:!0}function z6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class sd{constructor(e,n){this.shortDelay=e,this.longDelay=n,ds(n>e,"Short delay should be less than long delay!"),this.isMobile=h5()||g5()}get(){return U6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function yv(t,e){ds(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class R2{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const B6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const F6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],q6=new sd(3e4,6e4);function gs(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function kr(t,e,n,i,a={}){return N2(t,a,async()=>{let o={},c={};i&&(e==="GET"?c=i:o={body:JSON.stringify(i)});const d=rd({key:t.config.apiKey,...c}).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:h,...o};return m5()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&tc(t.emulatorConfig.host)&&(f.credentials="include"),R2.fetch()(await I2(t,t.config.apiHost,n,d),f)})}async function N2(t,e,n){t._canInitEmulator=!1;const i={...B6,...e};try{const a=new $6(t),o=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw Xh(t,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const d=o.ok?c.errorMessage:c.error.message,[h,f]=d.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xh(t,"credential-already-in-use",c);if(h==="EMAIL_EXISTS")throw Xh(t,"email-already-in-use",c);if(h==="USER_DISABLED")throw Xh(t,"user-disabled",c);const g=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw C2(t,g,f);Hi(t,g)}}catch(a){if(a instanceof ps)throw a;Hi(t,"network-request-failed",{message:String(a)})}}async function ad(t,e,n,i,a={}){const o=await kr(t,e,n,i,a);return"mfaPendingCredential"in o&&Hi(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function I2(t,e,n,i){const a=`${e}${n}?${i}`,o=t,c=o.config.emulator?yv(t.config,a):`${t.config.apiScheme}://${a}`;return F6.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function H6(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(wr(this.auth,"network-request-failed")),q6.get())})}}function Xh(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=wr(t,e,i);return a.customData._tokenResponse=n,a}function IE(t){return t!==void 0&&t.enterprise!==void 0}class G6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return H6(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function K6(t,e){return kr(t,"GET","/v2/recaptchaConfig",gs(t,e))}async function Y6(t,e){return kr(t,"POST","/v1/accounts:delete",e)}async function Vf(t,e){return kr(t,"POST","/v1/accounts:lookup",e)}function xu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Q6(t,e=!1){const n=xt(t),i=await n.getIdToken(e),a=vv(i);Ne(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,c=o?.sign_in_provider;return{claims:a,token:i,authTime:xu(c0(a.auth_time)),issuedAtTime:xu(c0(a.iat)),expirationTime:xu(c0(a.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function c0(t){return Number(t)*1e3}function vv(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return ff("JWT malformed, contained fewer than 3 sections"),null;try{const a=f2(n);return a?JSON.parse(a):(ff("Failed to decode base64 JWT payload"),null)}catch(a){return ff("Caught error parsing JWT payload as JSON",a?.toString()),null}}function kE(t){const e=vv(t);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Fl(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof ps&&X6(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function X6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class W6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ry{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xu(this.lastLoginAt),this.creationTime=xu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Pf(t){const e=t.auth,n=await t.getIdToken(),i=await Fl(t,Vf(e,{idToken:n}));Ne(i?.users.length,e,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const o=a.providerUserInfo?.length?k2(a.providerUserInfo):[],c=J6(t.providerData,o),d=t.isAnonymous,h=!(t.email&&a.passwordHash)&&!c?.length,f=d?h:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new ry(a.createdAt,a.lastLoginAt),isAnonymous:f};Object.assign(t,g)}async function Z6(t){const e=xt(t);await Pf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function J6(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function k2(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function ej(t,e){const n=await N2(t,{},async()=>{const i=rd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=t.config,c=await I2(t,a,"/v1/token",`key=${o}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:d,body:i};return t.emulatorConfig&&tc(t.emulatorConfig.host)&&(h.credentials="include"),R2.fetch()(c,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function tj(t,e){return kr(t,"POST","/v2/accounts:revokeToken",gs(t,e))}class Ol{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):kE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const n=kE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:o}=await ej(e,n);this.updateTokensAndExpiration(i,a,Number(o))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:o}=n,c=new Ol;return i&&(Ne(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Ne(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),o&&(Ne(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ol,this.toJSON())}_performRefresh(){return ns("not implemented")}}function Zs(t,e){Ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Bi{constructor({uid:e,auth:n,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new W6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new ry(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Fl(this,this.stsTokenManager.getToken(this.auth,e));return Ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Q6(this,e)}reload(){return Z6(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Bi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Pf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_i(this.auth.app))return Promise.reject(ss(this.auth));const e=await this.getIdToken();return await Fl(this,Y6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,a=n.email??void 0,o=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,h=n._redirectEventId??void 0,f=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:v,emailVerified:_,isAnonymous:x,providerData:k,stsTokenManager:C}=n;Ne(v&&C,e,"internal-error");const N=Ol.fromJSON(this.name,C);Ne(typeof v=="string",e,"internal-error"),Zs(i,e.name),Zs(a,e.name),Ne(typeof _=="boolean",e,"internal-error"),Ne(typeof x=="boolean",e,"internal-error"),Zs(o,e.name),Zs(c,e.name),Zs(d,e.name),Zs(h,e.name),Zs(f,e.name),Zs(g,e.name);const D=new Bi({uid:v,auth:e,email:a,emailVerified:_,displayName:i,isAnonymous:x,photoURL:c,phoneNumber:o,tenantId:d,stsTokenManager:N,createdAt:f,lastLoginAt:g});return k&&Array.isArray(k)&&(D.providerData=k.map(j=>({...j}))),h&&(D._redirectEventId=h),D}static async _fromIdTokenResponse(e,n,i=!1){const a=new Ol;a.updateFromServerResponse(n);const o=new Bi({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Pf(o),o}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];Ne(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?k2(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!o?.length,d=new Ol;d.updateFromIdToken(i);const h=new Bi({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new ry(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(h,f),h}}const DE=new Map;function is(t){ds(t instanceof Function,"Expected a class definition");let e=DE.get(t);return e?(ds(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,DE.set(t,e),e)}class D2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}D2.type="NONE";const ME=D2;function mf(t,e,n){return`firebase:${t}:${e}:${n}`}class Vl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:o}=this.auth;this.fullUserKey=mf(this.userKey,a.apiKey,o),this.fullPersistenceKey=mf("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Vf(this.auth,{idToken:e}).catch(()=>{});return n?Bi._fromGetAccountInfoResponse(this.auth,n,e):null}return Bi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Vl(is(ME),e,i);const a=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=a[0]||is(ME);const c=mf(i,e.config.apiKey,e.name);let d=null;for(const f of n)try{const g=await f._get(c);if(g){let v;if(typeof g=="string"){const _=await Vf(e,{idToken:g}).catch(()=>{});if(!_)break;v=await Bi._fromGetAccountInfoResponse(e,_,g)}else v=Bi._fromJSON(e,g);f!==o&&(d=v),o=f;break}}catch{}const h=a.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Vl(o,e,i):(o=h[0],d&&await o._set(c,d.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(c)}catch{}})),new Vl(o,e,i))}}function OE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(P2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(M2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(L2(e))return"Blackberry";if(U2(e))return"Webos";if(O2(e))return"Safari";if((e.includes("chrome/")||V2(e))&&!e.includes("edge/"))return"Chrome";if(j2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function M2(t=Cn()){return/firefox\//i.test(t)}function O2(t=Cn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function V2(t=Cn()){return/crios\//i.test(t)}function P2(t=Cn()){return/iemobile/i.test(t)}function j2(t=Cn()){return/android/i.test(t)}function L2(t=Cn()){return/blackberry/i.test(t)}function U2(t=Cn()){return/webos/i.test(t)}function bv(t=Cn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function nj(t=Cn()){return bv(t)&&!!window.navigator?.standalone}function ij(){return y5()&&document.documentMode===10}function z2(t=Cn()){return bv(t)||j2(t)||U2(t)||L2(t)||/windows phone/i.test(t)||P2(t)}function B2(t,e=[]){let n;switch(t){case"Browser":n=OE(Cn());break;case"Worker":n=`${OE(Cn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${nc}/${i}`}class rj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=o=>new Promise((c,d)=>{try{const h=e(o);c(h)}catch(h){d(h)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function sj(t,e={}){return kr(t,"GET","/v2/passwordPolicy",gs(t,e))}const aj=6;class oj{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??aj,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class lj{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new VE(this),this.idTokenSubscription=new VE(this),this.beforeStateQueue=new rj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=A2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=is(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Vl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Vf(this,{idToken:e}),i=await Bi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(_i(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=i?._redirectEventId,d=await this.tryRedirectSignIn(e);(!o||o===c)&&d?.user&&(i=d.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Pf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=z6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_i(this.app))return Promise.reject(ss(this));const n=e?xt(e):null;return n&&Ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _i(this.app)?Promise.reject(ss(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _i(this.app)?Promise.reject(ss(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(is(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await sj(this),n=new oj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new id("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await tj(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&is(e)||this._popupRedirectResolver;Ne(n,this,"argument-error"),this.redirectPersistenceManager=await Vl.create(this,[is(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(d,this,"internal-error"),d.then(()=>{c||o(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,i,a);return()=>{c=!0,h()}}else{const h=e.addObserver(n);return()=>{c=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=B2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(_i(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&j6(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ia(t){return xt(t)}class VE{constructor(e){this.auth=e,this.observer=null,this.addObserver=S5(n=>this.observer=n)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let fm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cj(t){fm=t}function F2(t){return fm.loadJS(t)}function uj(){return fm.recaptchaEnterpriseScript}function dj(){return fm.gapiScript}function hj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class fj{constructor(){this.enterprise=new mj}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class mj{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const pj="recaptcha-enterprise",q2="NO_RECAPTCHA";class gj{constructor(e){this.type=pj,this.auth=Ia(e)}async verify(e="verify",n=!1){async function i(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,d)=>{K6(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const f=new G6(h);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,c(f.siteKey)}}).catch(h=>{d(h)})})}function a(o,c,d){const h=window.grecaptcha;IE(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(f=>{c(f)}).catch(()=>{c(q2)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new fj().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{i(this.auth).then(d=>{if(!n&&IE(window.grecaptcha))a(d,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let h=uj();h.length!==0&&(h+=d),F2(h).then(()=>{a(d,o,c)}).catch(f=>{c(f)})}}).catch(d=>{c(d)})})}}async function PE(t,e,n,i=!1,a=!1){const o=new gj(t);let c;if(a)c=q2;else try{c=await o.verify(n)}catch{c=await o.verify(n,!0)}const d={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const h=d.phoneEnrollmentInfo.phoneNumber,f=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const h=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function jf(t,e,n,i,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await PE(t,e,n,n==="getOobCode");return i(t,o)}else return i(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await PE(t,e,n,n==="getOobCode");return i(t,c)}else return Promise.reject(o)})}function yj(t,e){const n=pv(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),o=n.getOptions();if(xo(o,e??{}))return a;Hi(a,"already-initialized")}return n.initialize({options:e})}function vj(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(is);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function bj(t,e,n){const i=Ia(t);Ne(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,o=H2(e),{host:c,port:d}=_j(e),h=d===null?"":`:${d}`,f={url:`${o}//${c}${h}/`},g=Object.freeze({host:c,port:d,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Ne(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ne(xo(f,i.config.emulator)&&xo(g,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=f,i.emulatorConfig=g,i.settings.appVerificationDisabledForTesting=!0,tc(c)?(y2(`${o}//${c}${h}`),v2("Auth",!0)):wj()}function H2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function _j(t){const e=H2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const o=a[1];return{host:o,port:jE(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:jE(c)}}}function jE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function wj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class _v{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ns("not implemented")}_getIdTokenResponse(e){return ns("not implemented")}_linkToIdToken(e,n){return ns("not implemented")}_getReauthenticationResolver(e){return ns("not implemented")}}async function Tj(t,e){return kr(t,"POST","/v1/accounts:signUp",e)}async function Ej(t,e){return ad(t,"POST","/v1/accounts:signInWithPassword",gs(t,e))}async function $2(t,e){return kr(t,"POST","/v1/accounts:sendOobCode",gs(t,e))}async function xj(t,e){return $2(t,e)}async function Sj(t,e){return $2(t,e)}async function Aj(t,e){return ad(t,"POST","/v1/accounts:signInWithEmailLink",gs(t,e))}async function Cj(t,e){return ad(t,"POST","/v1/accounts:signInWithEmailLink",gs(t,e))}class Uu extends _v{constructor(e,n,i,a=null){super("password",i),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Uu(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Uu(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jf(e,n,"signInWithPassword",Ej);case"emailLink":return Aj(e,{email:this._email,oobCode:this._password});default:Hi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jf(e,i,"signUpPassword",Tj);case"emailLink":return Cj(e,{idToken:n,email:this._email,oobCode:this._password});default:Hi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Pl(t,e){return ad(t,"POST","/v1/accounts:signInWithIdp",gs(t,e))}const Rj="http://localhost";class Ao extends _v{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ao(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Hi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...o}=n;if(!i||!a)return null;const c=new Ao(i,a);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Pl(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Pl(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Pl(e,n)}buildRequest(){const e={requestUri:Rj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=rd(n)}return e}}function Nj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Ij(t){const e=hu(fu(t)).link,n=e?hu(fu(e)).deep_link_id:null,i=hu(fu(t)).deep_link_id;return(i?hu(fu(i)).link:null)||i||n||e||t}class wv{constructor(e){const n=hu(fu(e)),i=n.apiKey??null,a=n.oobCode??null,o=Nj(n.mode??null);Ne(i&&a&&o,"argument-error"),this.apiKey=i,this.operation=o,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Ij(e);try{return new wv(n)}catch{return null}}}class ko{constructor(){this.providerId=ko.PROVIDER_ID}static credential(e,n){return Uu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=wv.parseLink(n);return Ne(i,"argument-error"),Uu._fromEmailAndCode(e,i.code,i.tenantId)}}ko.PROVIDER_ID="password";ko.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ko.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class G2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class od extends G2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ra extends od{constructor(){super("facebook.com")}static credential(e){return Ao._fromParams({providerId:ra.PROVIDER_ID,signInMethod:ra.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ra.credentialFromTaggedObject(e)}static credentialFromError(e){return ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ra.credential(e.oauthAccessToken)}catch{return null}}}ra.FACEBOOK_SIGN_IN_METHOD="facebook.com";ra.PROVIDER_ID="facebook.com";class sa extends od{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ao._fromParams({providerId:sa.PROVIDER_ID,signInMethod:sa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return sa.credentialFromTaggedObject(e)}static credentialFromError(e){return sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return sa.credential(n,i)}catch{return null}}}sa.GOOGLE_SIGN_IN_METHOD="google.com";sa.PROVIDER_ID="google.com";class aa extends od{constructor(){super("github.com")}static credential(e){return Ao._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return aa.credentialFromTaggedObject(e)}static credentialFromError(e){return aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return aa.credential(e.oauthAccessToken)}catch{return null}}}aa.GITHUB_SIGN_IN_METHOD="github.com";aa.PROVIDER_ID="github.com";class oa extends od{constructor(){super("twitter.com")}static credential(e,n){return Ao._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return oa.credentialFromTaggedObject(e)}static credentialFromError(e){return oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return oa.credential(n,i)}catch{return null}}}oa.TWITTER_SIGN_IN_METHOD="twitter.com";oa.PROVIDER_ID="twitter.com";async function kj(t,e){return ad(t,"POST","/v1/accounts:signUp",gs(t,e))}class Co{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const o=await Bi._fromIdTokenResponse(e,i,a),c=LE(i);return new Co({user:o,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=LE(i);return new Co({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function LE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Lf extends ps{constructor(e,n,i,a){super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Lf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new Lf(e,n,i,a)}}function K2(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Lf._fromErrorAndOperation(t,o,e,i):o})}async function Dj(t,e,n=!1){const i=await Fl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Co._forOperation(t,"link",i)}async function Y2(t,e,n=!1){const{auth:i}=t;if(_i(i.app))return Promise.reject(ss(i));const a="reauthenticate";try{const o=await Fl(t,K2(i,a,e,t),n);Ne(o.idToken,i,"internal-error");const c=vv(o.idToken);Ne(c,i,"internal-error");const{sub:d}=c;return Ne(t.uid===d,i,"user-mismatch"),Co._forOperation(t,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&Hi(i,"user-mismatch"),o}}async function Q2(t,e,n=!1){if(_i(t.app))return Promise.reject(ss(t));const i="signIn",a=await K2(t,i,e),o=await Co._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(o.user),o}async function Mj(t,e){return Q2(Ia(t),e)}async function Oj(t,e){return Y2(xt(t),e)}async function X2(t){const e=Ia(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Vj(t,e,n){const i=Ia(t);await jf(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Sj)}async function Pj(t,e,n){if(_i(t.app))return Promise.reject(ss(t));const i=Ia(t),c=await jf(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",kj).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&X2(t),h}),d=await Co._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(d.user),d}function jj(t,e,n){return _i(t.app)?Promise.reject(ss(t)):Mj(xt(t),ko.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&X2(t),i})}async function UE(t,e){const n=xt(t),a={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:o}=await xj(n.auth,a);o!==t.email&&await t.reload()}async function Lj(t,e){return kr(t,"POST","/v1/accounts:update",e)}async function Uj(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=xt(t),o={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await Fl(i,Lj(i.auth,o));i.displayName=c.displayName||null,i.photoURL=c.photoUrl||null;const d=i.providerData.find(({providerId:h})=>h==="password");d&&(d.displayName=i.displayName,d.photoURL=i.photoURL),await i._updateTokensIfNecessary(c)}function zj(t,e,n,i){return xt(t).onIdTokenChanged(e,n,i)}function Bj(t,e,n){return xt(t).beforeAuthStateChanged(e,n)}function Fj(t,e,n,i){return xt(t).onAuthStateChanged(e,n,i)}function zE(t){return xt(t).signOut()}async function qj(t){return xt(t).delete()}const Uf="__sak";class W2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Uf,"1"),this.storage.removeItem(Uf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Hj=1e3,$j=10;class Z2 extends W2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=z2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,h)=>{this.notifyListeners(c,h)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);ij()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,$j):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},Hj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Z2.type="LOCAL";const Gj=Z2;class J2 extends W2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}J2.type="SESSION";const eC=J2;function Kj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class mm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new mm(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:o}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(c).map(async f=>f(n.origin,o)),h=await Kj(d);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mm.receivers=[];function Tv(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}class Yj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,c;return new Promise((d,h)=>{const f=Tv("",20);a.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(v){const _=v;if(_.data.eventId===f)switch(_.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),d(_.data.response);break;default:clearTimeout(g),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Tr(){return window}function Qj(t){Tr().location.href=t}function tC(){return typeof Tr().WorkerGlobalScope<"u"&&typeof Tr().importScripts=="function"}async function Xj(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Wj(){return navigator?.serviceWorker?.controller||null}function Zj(){return tC()?self:null}const nC="firebaseLocalStorageDb",Jj=1,zf="firebaseLocalStorage",iC="fbase_key";class ld{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function pm(t,e){return t.transaction([zf],e?"readwrite":"readonly").objectStore(zf)}function e9(){const t=indexedDB.deleteDatabase(nC);return new ld(t).toPromise()}function sy(){const t=indexedDB.open(nC,Jj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(zf,{keyPath:iC})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(zf)?e(i):(i.close(),await e9(),e(await sy()))})})}async function BE(t,e,n){const i=pm(t,!0).put({[iC]:e,value:n});return new ld(i).toPromise()}async function t9(t,e){const n=pm(t,!1).get(e),i=await new ld(n).toPromise();return i===void 0?null:i.value}function FE(t,e){const n=pm(t,!0).delete(e);return new ld(n).toPromise()}const n9=800,i9=3;class rC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>i9)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mm._getInstance(Zj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Xj(),!this.activeServiceWorker)return;this.sender=new Yj(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Wj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sy();return await BE(e,Uf,"1"),await FE(e,Uf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>BE(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>t9(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>FE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=pm(a,!1).getAll();return new ld(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),n9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rC.type="LOCAL";const r9=rC;new sd(3e4,6e4);function s9(t,e){return e?is(e):(Ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class Ev extends _v{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Pl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Pl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function a9(t){return Q2(t.auth,new Ev(t),t.bypassAuthState)}function o9(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),Y2(n,new Ev(t),t.bypassAuthState)}async function l9(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),Dj(n,new Ev(t),t.bypassAuthState)}class sC{constructor(e,n,i,a,o=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:o,error:c,type:d}=e;if(c){this.reject(c);return}const h={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return a9;case"linkViaPopup":case"linkViaRedirect":return l9;case"reauthViaPopup":case"reauthViaRedirect":return o9;default:Hi(this.auth,"internal-error")}}resolve(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const c9=new sd(2e3,1e4);class Dl extends sC{constructor(e,n,i,a,o){super(e,n,a,o),this.provider=i,this.authWindow=null,this.pollId=null,Dl.currentPopupAction&&Dl.currentPopupAction.cancel(),Dl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){ds(this.filter.length===1,"Popup operations only handle one event");const e=Tv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(wr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(wr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Dl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,c9.get())};e()}}Dl.currentPopupAction=null;const u9="pendingRedirect",pf=new Map;class d9 extends sC{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=pf.get(this.auth._key());if(!e){try{const i=await h9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}pf.set(this.auth._key(),e)}return this.bypassAuthState||pf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function h9(t,e){const n=p9(e),i=m9(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function f9(t,e){pf.set(t._key(),e)}function m9(t){return is(t._redirectPersistence)}function p9(t){return mf(u9,t.config.apiKey,t.name)}async function g9(t,e,n=!1){if(_i(t.app))return Promise.reject(ss(t));const i=Ia(t),a=s9(i,e),c=await new d9(i,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}const y9=600*1e3;class v9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!b9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!aC(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(wr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=y9&&this.cachedEventUids.clear(),this.cachedEventUids.has(qE(e))}saveEventToCache(e){this.cachedEventUids.add(qE(e)),this.lastProcessedEventTime=Date.now()}}function qE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function aC({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function b9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aC(t);default:return!1}}async function _9(t,e={}){return kr(t,"GET","/v1/projects",e)}const w9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,T9=/^https?/;async function E9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await _9(t);for(const n of e)try{if(x9(n))return}catch{}Hi(t,"unauthorized-domain")}function x9(t){const e=iy(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!T9.test(n))return!1;if(w9.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const S9=new sd(3e4,6e4);function HE(){const t=Tr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function A9(t){return new Promise((e,n)=>{function i(){HE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{HE(),n(wr(t,"network-request-failed"))},timeout:S9.get()})}if(Tr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Tr().gapi?.load)i();else{const a=hj("iframefcb");return Tr()[a]=()=>{gapi.load?i():n(wr(t,"network-request-failed"))},F2(`${dj()}?onload=${a}`).catch(o=>n(o))}}).catch(e=>{throw gf=null,e})}let gf=null;function C9(t){return gf=gf||A9(t),gf}const R9=new sd(5e3,15e3),N9="__/auth/iframe",I9="emulator/auth/iframe",k9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},D9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function M9(t){const e=t.config;Ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?yv(e,I9):`https://${t.config.authDomain}/${N9}`,i={apiKey:e.apiKey,appName:t.name,v:nc},a=D9.get(t.config.apiHost);a&&(i.eid=a);const o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${rd(i).slice(1)}`}async function O9(t){const e=await C9(t),n=Tr().gapi;return Ne(n,t,"internal-error"),e.open({where:document.body,url:M9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:k9,dontclear:!0},i=>new Promise(async(a,o)=>{await i.restyle({setHideOnLeave:!1});const c=wr(t,"network-request-failed"),d=Tr().setTimeout(()=>{o(c)},R9.get());function h(){Tr().clearTimeout(d),a(i)}i.ping(h).then(h,()=>{o(c)})}))}const V9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},P9=500,j9=600,L9="_blank",U9="http://localhost";class $E{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function z9(t,e,n,i=P9,a=j9){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const h={...V9,width:i.toString(),height:a.toString(),top:o,left:c},f=Cn().toLowerCase();n&&(d=V2(f)?L9:n),M2(f)&&(e=e||U9,h.scrollbars="yes");const g=Object.entries(h).reduce((_,[x,k])=>`${_}${x}=${k},`,"");if(nj(f)&&d!=="_self")return B9(e||"",d),new $E(null);const v=window.open(e||"",d,g);Ne(v,t,"popup-blocked");try{v.focus()}catch{}return new $E(v)}function B9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}const F9="__/auth/handler",q9="emulator/auth/handler",H9=encodeURIComponent("fac");async function GE(t,e,n,i,a,o){Ne(t.config.authDomain,t,"auth-domain-config-required"),Ne(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:nc,eventId:a};if(e instanceof G2){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",x5(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))c[g]=v}if(e instanceof od){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(c.scopes=g.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const g of Object.keys(d))d[g]===void 0&&delete d[g];const h=await t._getAppCheckToken(),f=h?`#${H9}=${encodeURIComponent(h)}`:"";return`${$9(t)}?${rd(d).slice(1)}${f}`}function $9({config:t}){return t.emulator?yv(t,q9):`https://${t.authDomain}/${F9}`}const u0="webStorageSupport";class G9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eC,this._completeRedirectFn=g9,this._overrideRedirectResult=f9}async _openPopup(e,n,i,a){ds(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await GE(e,n,i,iy(),a);return z9(e,o,Tv())}async _openRedirect(e,n,i,a){await this._originValidation(e);const o=await GE(e,n,i,iy(),a);return Qj(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:o}=this.eventManagers[n];return a?Promise.resolve(a):(ds(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await O9(e),i=new v9(e);return n.register("authEvent",a=>(Ne(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(u0,{type:u0},a=>{const o=a?.[0]?.[u0];o!==void 0&&n(!!o),Hi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=E9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return z2()||O2()||bv()}}const K9=G9;var KE="@firebase/auth",YE="1.11.1";class Y9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Q9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function X9(t){Bl(new So("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Ne(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:B2(t)},f=new lj(i,a,o,h);return vj(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Bl(new So("auth-internal",e=>{const n=Ia(e.getProvider("auth").getImmediate());return(i=>new Y9(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ma(KE,YE,Q9(t)),ma(KE,YE,"esm2020")}const W9=300,Z9=g2("authIdTokenMaxAge")||W9;let QE=null;const J9=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>Z9)return;const a=n?.token;QE!==a&&(QE=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function eL(t=T2()){const e=pv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=yj(t,{popupRedirectResolver:K9,persistence:[r9,Gj,eC]}),i=g2("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=J9(o.toString());Bj(n,c,()=>c(n.currentUser)),zj(n,d=>c(d))}}const a=m2("auth");return a&&bj(n,`http://${a}`),n}function tL(){return document.getElementsByTagName("head")?.[0]??document}cj({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const o=wr("internal-error");o.customData=a,n(o)},i.type="text/javascript",i.charset="UTF-8",tL().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});X9("Browser");var nL="firebase",iL="12.6.0";ma(nL,iL,"app");var XE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var pa,oC;(function(){var t;function e(S,R){function M(){}M.prototype=R.prototype,S.F=R.prototype,S.prototype=new M,S.prototype.constructor=S,S.D=function(z,O,F){for(var L=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)L[ze-2]=arguments[ze];return R.prototype[O].apply(z,L)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(S,R,M){M||(M=0);const z=Array(16);if(typeof R=="string")for(var O=0;O<16;++O)z[O]=R.charCodeAt(M++)|R.charCodeAt(M++)<<8|R.charCodeAt(M++)<<16|R.charCodeAt(M++)<<24;else for(O=0;O<16;++O)z[O]=R[M++]|R[M++]<<8|R[M++]<<16|R[M++]<<24;R=S.g[0],M=S.g[1],O=S.g[2];let F=S.g[3],L;L=R+(F^M&(O^F))+z[0]+3614090360&4294967295,R=M+(L<<7&4294967295|L>>>25),L=F+(O^R&(M^O))+z[1]+3905402710&4294967295,F=R+(L<<12&4294967295|L>>>20),L=O+(M^F&(R^M))+z[2]+606105819&4294967295,O=F+(L<<17&4294967295|L>>>15),L=M+(R^O&(F^R))+z[3]+3250441966&4294967295,M=O+(L<<22&4294967295|L>>>10),L=R+(F^M&(O^F))+z[4]+4118548399&4294967295,R=M+(L<<7&4294967295|L>>>25),L=F+(O^R&(M^O))+z[5]+1200080426&4294967295,F=R+(L<<12&4294967295|L>>>20),L=O+(M^F&(R^M))+z[6]+2821735955&4294967295,O=F+(L<<17&4294967295|L>>>15),L=M+(R^O&(F^R))+z[7]+4249261313&4294967295,M=O+(L<<22&4294967295|L>>>10),L=R+(F^M&(O^F))+z[8]+1770035416&4294967295,R=M+(L<<7&4294967295|L>>>25),L=F+(O^R&(M^O))+z[9]+2336552879&4294967295,F=R+(L<<12&4294967295|L>>>20),L=O+(M^F&(R^M))+z[10]+4294925233&4294967295,O=F+(L<<17&4294967295|L>>>15),L=M+(R^O&(F^R))+z[11]+2304563134&4294967295,M=O+(L<<22&4294967295|L>>>10),L=R+(F^M&(O^F))+z[12]+1804603682&4294967295,R=M+(L<<7&4294967295|L>>>25),L=F+(O^R&(M^O))+z[13]+4254626195&4294967295,F=R+(L<<12&4294967295|L>>>20),L=O+(M^F&(R^M))+z[14]+2792965006&4294967295,O=F+(L<<17&4294967295|L>>>15),L=M+(R^O&(F^R))+z[15]+1236535329&4294967295,M=O+(L<<22&4294967295|L>>>10),L=R+(O^F&(M^O))+z[1]+4129170786&4294967295,R=M+(L<<5&4294967295|L>>>27),L=F+(M^O&(R^M))+z[6]+3225465664&4294967295,F=R+(L<<9&4294967295|L>>>23),L=O+(R^M&(F^R))+z[11]+643717713&4294967295,O=F+(L<<14&4294967295|L>>>18),L=M+(F^R&(O^F))+z[0]+3921069994&4294967295,M=O+(L<<20&4294967295|L>>>12),L=R+(O^F&(M^O))+z[5]+3593408605&4294967295,R=M+(L<<5&4294967295|L>>>27),L=F+(M^O&(R^M))+z[10]+38016083&4294967295,F=R+(L<<9&4294967295|L>>>23),L=O+(R^M&(F^R))+z[15]+3634488961&4294967295,O=F+(L<<14&4294967295|L>>>18),L=M+(F^R&(O^F))+z[4]+3889429448&4294967295,M=O+(L<<20&4294967295|L>>>12),L=R+(O^F&(M^O))+z[9]+568446438&4294967295,R=M+(L<<5&4294967295|L>>>27),L=F+(M^O&(R^M))+z[14]+3275163606&4294967295,F=R+(L<<9&4294967295|L>>>23),L=O+(R^M&(F^R))+z[3]+4107603335&4294967295,O=F+(L<<14&4294967295|L>>>18),L=M+(F^R&(O^F))+z[8]+1163531501&4294967295,M=O+(L<<20&4294967295|L>>>12),L=R+(O^F&(M^O))+z[13]+2850285829&4294967295,R=M+(L<<5&4294967295|L>>>27),L=F+(M^O&(R^M))+z[2]+4243563512&4294967295,F=R+(L<<9&4294967295|L>>>23),L=O+(R^M&(F^R))+z[7]+1735328473&4294967295,O=F+(L<<14&4294967295|L>>>18),L=M+(F^R&(O^F))+z[12]+2368359562&4294967295,M=O+(L<<20&4294967295|L>>>12),L=R+(M^O^F)+z[5]+4294588738&4294967295,R=M+(L<<4&4294967295|L>>>28),L=F+(R^M^O)+z[8]+2272392833&4294967295,F=R+(L<<11&4294967295|L>>>21),L=O+(F^R^M)+z[11]+1839030562&4294967295,O=F+(L<<16&4294967295|L>>>16),L=M+(O^F^R)+z[14]+4259657740&4294967295,M=O+(L<<23&4294967295|L>>>9),L=R+(M^O^F)+z[1]+2763975236&4294967295,R=M+(L<<4&4294967295|L>>>28),L=F+(R^M^O)+z[4]+1272893353&4294967295,F=R+(L<<11&4294967295|L>>>21),L=O+(F^R^M)+z[7]+4139469664&4294967295,O=F+(L<<16&4294967295|L>>>16),L=M+(O^F^R)+z[10]+3200236656&4294967295,M=O+(L<<23&4294967295|L>>>9),L=R+(M^O^F)+z[13]+681279174&4294967295,R=M+(L<<4&4294967295|L>>>28),L=F+(R^M^O)+z[0]+3936430074&4294967295,F=R+(L<<11&4294967295|L>>>21),L=O+(F^R^M)+z[3]+3572445317&4294967295,O=F+(L<<16&4294967295|L>>>16),L=M+(O^F^R)+z[6]+76029189&4294967295,M=O+(L<<23&4294967295|L>>>9),L=R+(M^O^F)+z[9]+3654602809&4294967295,R=M+(L<<4&4294967295|L>>>28),L=F+(R^M^O)+z[12]+3873151461&4294967295,F=R+(L<<11&4294967295|L>>>21),L=O+(F^R^M)+z[15]+530742520&4294967295,O=F+(L<<16&4294967295|L>>>16),L=M+(O^F^R)+z[2]+3299628645&4294967295,M=O+(L<<23&4294967295|L>>>9),L=R+(O^(M|~F))+z[0]+4096336452&4294967295,R=M+(L<<6&4294967295|L>>>26),L=F+(M^(R|~O))+z[7]+1126891415&4294967295,F=R+(L<<10&4294967295|L>>>22),L=O+(R^(F|~M))+z[14]+2878612391&4294967295,O=F+(L<<15&4294967295|L>>>17),L=M+(F^(O|~R))+z[5]+4237533241&4294967295,M=O+(L<<21&4294967295|L>>>11),L=R+(O^(M|~F))+z[12]+1700485571&4294967295,R=M+(L<<6&4294967295|L>>>26),L=F+(M^(R|~O))+z[3]+2399980690&4294967295,F=R+(L<<10&4294967295|L>>>22),L=O+(R^(F|~M))+z[10]+4293915773&4294967295,O=F+(L<<15&4294967295|L>>>17),L=M+(F^(O|~R))+z[1]+2240044497&4294967295,M=O+(L<<21&4294967295|L>>>11),L=R+(O^(M|~F))+z[8]+1873313359&4294967295,R=M+(L<<6&4294967295|L>>>26),L=F+(M^(R|~O))+z[15]+4264355552&4294967295,F=R+(L<<10&4294967295|L>>>22),L=O+(R^(F|~M))+z[6]+2734768916&4294967295,O=F+(L<<15&4294967295|L>>>17),L=M+(F^(O|~R))+z[13]+1309151649&4294967295,M=O+(L<<21&4294967295|L>>>11),L=R+(O^(M|~F))+z[4]+4149444226&4294967295,R=M+(L<<6&4294967295|L>>>26),L=F+(M^(R|~O))+z[11]+3174756917&4294967295,F=R+(L<<10&4294967295|L>>>22),L=O+(R^(F|~M))+z[2]+718787259&4294967295,O=F+(L<<15&4294967295|L>>>17),L=M+(F^(O|~R))+z[9]+3951481745&4294967295,S.g[0]=S.g[0]+R&4294967295,S.g[1]=S.g[1]+(O+(L<<21&4294967295|L>>>11))&4294967295,S.g[2]=S.g[2]+O&4294967295,S.g[3]=S.g[3]+F&4294967295}i.prototype.v=function(S,R){R===void 0&&(R=S.length);const M=R-this.blockSize,z=this.C;let O=this.h,F=0;for(;F<R;){if(O==0)for(;F<=M;)a(this,S,F),F+=this.blockSize;if(typeof S=="string"){for(;F<R;)if(z[O++]=S.charCodeAt(F++),O==this.blockSize){a(this,z),O=0;break}}else for(;F<R;)if(z[O++]=S[F++],O==this.blockSize){a(this,z),O=0;break}}this.h=O,this.o+=R},i.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var R=1;R<S.length-8;++R)S[R]=0;R=this.o*8;for(var M=S.length-8;M<S.length;++M)S[M]=R&255,R/=256;for(this.v(S),S=Array(16),R=0,M=0;M<4;++M)for(let z=0;z<32;z+=8)S[R++]=this.g[M]>>>z&255;return S};function o(S,R){var M=d;return Object.prototype.hasOwnProperty.call(M,S)?M[S]:M[S]=R(S)}function c(S,R){this.h=R;const M=[];let z=!0;for(let O=S.length-1;O>=0;O--){const F=S[O]|0;z&&F==R||(M[O]=F,z=!1)}this.g=M}var d={};function h(S){return-128<=S&&S<128?o(S,function(R){return new c([R|0],R<0?-1:0)}):new c([S|0],S<0?-1:0)}function f(S){if(isNaN(S)||!isFinite(S))return v;if(S<0)return N(f(-S));const R=[];let M=1;for(let z=0;S>=M;z++)R[z]=S/M|0,M*=4294967296;return new c(R,0)}function g(S,R){if(S.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(S.charAt(0)=="-")return N(g(S.substring(1),R));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const M=f(Math.pow(R,8));let z=v;for(let F=0;F<S.length;F+=8){var O=Math.min(8,S.length-F);const L=parseInt(S.substring(F,F+O),R);O<8?(O=f(Math.pow(R,O)),z=z.j(O).add(f(L))):(z=z.j(M),z=z.add(f(L)))}return z}var v=h(0),_=h(1),x=h(16777216);t=c.prototype,t.m=function(){if(C(this))return-N(this).m();let S=0,R=1;for(let M=0;M<this.g.length;M++){const z=this.i(M);S+=(z>=0?z:4294967296+z)*R,R*=4294967296}return S},t.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(k(this))return"0";if(C(this))return"-"+N(this).toString(S);const R=f(Math.pow(S,6));var M=this;let z="";for(;;){const O=Q(M,R).g;M=D(M,O.j(R));let F=((M.g.length>0?M.g[0]:M.h)>>>0).toString(S);if(M=O,k(M))return F+z;for(;F.length<6;)F="0"+F;z=F+z}},t.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function k(S){if(S.h!=0)return!1;for(let R=0;R<S.g.length;R++)if(S.g[R]!=0)return!1;return!0}function C(S){return S.h==-1}t.l=function(S){return S=D(this,S),C(S)?-1:k(S)?0:1};function N(S){const R=S.g.length,M=[];for(let z=0;z<R;z++)M[z]=~S.g[z];return new c(M,~S.h).add(_)}t.abs=function(){return C(this)?N(this):this},t.add=function(S){const R=Math.max(this.g.length,S.g.length),M=[];let z=0;for(let O=0;O<=R;O++){let F=z+(this.i(O)&65535)+(S.i(O)&65535),L=(F>>>16)+(this.i(O)>>>16)+(S.i(O)>>>16);z=L>>>16,F&=65535,L&=65535,M[O]=L<<16|F}return new c(M,M[M.length-1]&-2147483648?-1:0)};function D(S,R){return S.add(N(R))}t.j=function(S){if(k(this)||k(S))return v;if(C(this))return C(S)?N(this).j(N(S)):N(N(this).j(S));if(C(S))return N(this.j(N(S)));if(this.l(x)<0&&S.l(x)<0)return f(this.m()*S.m());const R=this.g.length+S.g.length,M=[];for(var z=0;z<2*R;z++)M[z]=0;for(z=0;z<this.g.length;z++)for(let O=0;O<S.g.length;O++){const F=this.i(z)>>>16,L=this.i(z)&65535,ze=S.i(O)>>>16,ce=S.i(O)&65535;M[2*z+2*O]+=L*ce,j(M,2*z+2*O),M[2*z+2*O+1]+=F*ce,j(M,2*z+2*O+1),M[2*z+2*O+1]+=L*ze,j(M,2*z+2*O+1),M[2*z+2*O+2]+=F*ze,j(M,2*z+2*O+2)}for(S=0;S<R;S++)M[S]=M[2*S+1]<<16|M[2*S];for(S=R;S<2*R;S++)M[S]=0;return new c(M,0)};function j(S,R){for(;(S[R]&65535)!=S[R];)S[R+1]+=S[R]>>>16,S[R]&=65535,R++}function U(S,R){this.g=S,this.h=R}function Q(S,R){if(k(R))throw Error("division by zero");if(k(S))return new U(v,v);if(C(S))return R=Q(N(S),R),new U(N(R.g),N(R.h));if(C(R))return R=Q(S,N(R)),new U(N(R.g),R.h);if(S.g.length>30){if(C(S)||C(R))throw Error("slowDivide_ only works with positive integers.");for(var M=_,z=R;z.l(S)<=0;)M=re(M),z=re(z);var O=ne(M,1),F=ne(z,1);for(z=ne(z,2),M=ne(M,2);!k(z);){var L=F.add(z);L.l(S)<=0&&(O=O.add(M),F=L),z=ne(z,1),M=ne(M,1)}return R=D(S,O.j(R)),new U(O,R)}for(O=v;S.l(R)>=0;){for(M=Math.max(1,Math.floor(S.m()/R.m())),z=Math.ceil(Math.log(M)/Math.LN2),z=z<=48?1:Math.pow(2,z-48),F=f(M),L=F.j(R);C(L)||L.l(S)>0;)M-=z,F=f(M),L=F.j(R);k(F)&&(F=_),O=O.add(F),S=D(S,L)}return new U(O,S)}t.B=function(S){return Q(this,S).h},t.and=function(S){const R=Math.max(this.g.length,S.g.length),M=[];for(let z=0;z<R;z++)M[z]=this.i(z)&S.i(z);return new c(M,this.h&S.h)},t.or=function(S){const R=Math.max(this.g.length,S.g.length),M=[];for(let z=0;z<R;z++)M[z]=this.i(z)|S.i(z);return new c(M,this.h|S.h)},t.xor=function(S){const R=Math.max(this.g.length,S.g.length),M=[];for(let z=0;z<R;z++)M[z]=this.i(z)^S.i(z);return new c(M,this.h^S.h)};function re(S){const R=S.g.length+1,M=[];for(let z=0;z<R;z++)M[z]=S.i(z)<<1|S.i(z-1)>>>31;return new c(M,S.h)}function ne(S,R){const M=R>>5;R%=32;const z=S.g.length-M,O=[];for(let F=0;F<z;F++)O[F]=R>0?S.i(F+M)>>>R|S.i(F+M+1)<<32-R:S.i(F+M);return new c(O,S.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,oC=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=f,c.fromString=g,pa=c}).apply(typeof XE<"u"?XE:typeof self<"u"?self:typeof window<"u"?window:{});var Wh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var lC,mu,cC,yf,ay,uC,dC,hC;(function(){var t,e=Object.defineProperty;function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wh=="object"&&Wh];for(var w=0;w<m.length;++w){var E=m[w];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=n(this);function a(m,w){if(w)e:{var E=i;m=m.split(".");for(var I=0;I<m.length-1;I++){var G=m[I];if(!(G in E))break e;E=E[G]}m=m[m.length-1],I=E[m],w=w(I),w!=I&&w!=null&&e(E,m,{configurable:!0,writable:!0,value:w})}}a("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(m){return m||function(w){var E=[],I;for(I in w)Object.prototype.hasOwnProperty.call(w,I)&&E.push([I,w[I]]);return E}});var o=o||{},c=this||self;function d(m){var w=typeof m;return w=="object"&&m!=null||w=="function"}function h(m,w,E){return m.call.apply(m.bind,arguments)}function f(m,w,E){return f=h,f.apply(null,arguments)}function g(m,w){var E=Array.prototype.slice.call(arguments,1);return function(){var I=E.slice();return I.push.apply(I,arguments),m.apply(this,I)}}function v(m,w){function E(){}E.prototype=w.prototype,m.Z=w.prototype,m.prototype=new E,m.prototype.constructor=m,m.Ob=function(I,G,W){for(var fe=Array(arguments.length-2),je=2;je<arguments.length;je++)fe[je-2]=arguments[je];return w.prototype[G].apply(I,fe)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function x(m){const w=m.length;if(w>0){const E=Array(w);for(let I=0;I<w;I++)E[I]=m[I];return E}return[]}function k(m,w){for(let I=1;I<arguments.length;I++){const G=arguments[I];var E=typeof G;if(E=E!="object"?E:G?Array.isArray(G)?"array":E:"null",E=="array"||E=="object"&&typeof G.length=="number"){E=m.length||0;const W=G.length||0;m.length=E+W;for(let fe=0;fe<W;fe++)m[E+fe]=G[fe]}else m.push(G)}}class C{constructor(w,E){this.i=w,this.j=E,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function N(m){c.setTimeout(()=>{throw m},0)}function D(){var m=S;let w=null;return m.g&&(w=m.g,m.g=m.g.next,m.g||(m.h=null),w.next=null),w}class j{constructor(){this.h=this.g=null}add(w,E){const I=U.get();I.set(w,E),this.h?this.h.next=I:this.g=I,this.h=I}}var U=new C(()=>new Q,m=>m.reset());class Q{constructor(){this.next=this.g=this.h=null}set(w,E){this.h=w,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let re,ne=!1,S=new j,R=()=>{const m=Promise.resolve(void 0);re=()=>{m.then(M)}};function M(){for(var m;m=D();){try{m.h.call(m.g)}catch(E){N(E)}var w=U;w.j(m),w.h<100&&(w.h++,m.next=w.g,w.g=m)}ne=!1}function z(){this.u=this.u,this.C=this.C}z.prototype.u=!1,z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},z.prototype[Symbol.dispose]=function(){this.dispose()},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(m,w){this.type=m,this.g=this.target=w,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,w=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const E=()=>{};c.addEventListener("test",E,w),c.removeEventListener("test",E,w)}catch{}return m})();function L(m){return/^[\s\xa0]*$/.test(m)}function ze(m,w){O.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,w)}v(ze,O),ze.prototype.init=function(m,w){const E=this.type=m.type,I=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=w,w=m.relatedTarget,w||(E=="mouseover"?w=m.fromElement:E=="mouseout"&&(w=m.toElement)),this.relatedTarget=w,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&ze.Z.h.call(this)},ze.prototype.h=function(){ze.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var ce="closure_listenable_"+(Math.random()*1e6|0),$=0;function ee(m,w,E,I,G){this.listener=m,this.proxy=null,this.src=w,this.type=E,this.capture=!!I,this.ha=G,this.key=++$,this.da=this.fa=!1}function me(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Te(m,w,E){for(const I in m)w.call(E,m[I],I,m)}function oe(m,w){for(const E in m)w.call(void 0,m[E],E,m)}function V(m){const w={};for(const E in m)w[E]=m[E];return w}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function de(m,w){let E,I;for(let G=1;G<arguments.length;G++){I=arguments[G];for(E in I)m[E]=I[E];for(let W=0;W<Z.length;W++)E=Z[W],Object.prototype.hasOwnProperty.call(I,E)&&(m[E]=I[E])}}function he(m){this.src=m,this.g={},this.h=0}he.prototype.add=function(m,w,E,I,G){const W=m.toString();m=this.g[W],m||(m=this.g[W]=[],this.h++);const fe=_e(m,w,I,G);return fe>-1?(w=m[fe],E||(w.fa=!1)):(w=new ee(w,this.src,W,!!I,G),w.fa=E,m.push(w)),w};function ye(m,w){const E=w.type;if(E in m.g){var I=m.g[E],G=Array.prototype.indexOf.call(I,w,void 0),W;(W=G>=0)&&Array.prototype.splice.call(I,G,1),W&&(me(w),m.g[E].length==0&&(delete m.g[E],m.h--))}}function _e(m,w,E,I){for(let G=0;G<m.length;++G){const W=m[G];if(!W.da&&W.listener==w&&W.capture==!!E&&W.ha==I)return G}return-1}var Ee="closure_lm_"+(Math.random()*1e6|0),ct={};function Fe(m,w,E,I,G){if(Array.isArray(w)){for(let W=0;W<w.length;W++)Fe(m,w[W],E,I,G);return null}return E=Va(E),m&&m[ce]?m.J(w,E,d(I)?!!I.capture:!1,G):tn(m,w,E,!1,I,G)}function tn(m,w,E,I,G,W){if(!w)throw Error("Invalid event type");const fe=d(G)?!!G.capture:!!G;let je=Dr(m);if(je||(m[Ee]=je=new he(m)),E=je.add(w,E,I,fe,W),E.proxy)return E;if(I=Rn(),E.proxy=I,I.src=m,I.listener=E,m.addEventListener)F||(G=fe),G===void 0&&(G=!1),m.addEventListener(w.toString(),I,G);else if(m.attachEvent)m.attachEvent(ri(w.toString()),I);else if(m.addListener&&m.removeListener)m.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Rn(){function m(E){return w.call(m.src,m.listener,E)}const w=Ma;return m}function vs(m,w,E,I,G){if(Array.isArray(w))for(var W=0;W<w.length;W++)vs(m,w[W],E,I,G);else I=d(I)?!!I.capture:!!I,E=Va(E),m&&m[ce]?(m=m.i,W=String(w).toString(),W in m.g&&(w=m.g[W],E=_e(w,E,I,G),E>-1&&(me(w[E]),Array.prototype.splice.call(w,E,1),w.length==0&&(delete m.g[W],m.h--)))):m&&(m=Dr(m))&&(w=m.g[w.toString()],m=-1,w&&(m=_e(w,E,I,G)),(E=m>-1?w[m]:null)&&bs(E))}function bs(m){if(typeof m!="number"&&m&&!m.da){var w=m.src;if(w&&w[ce])ye(w.i,m);else{var E=m.type,I=m.proxy;w.removeEventListener?w.removeEventListener(E,I,m.capture):w.detachEvent?w.detachEvent(ri(E),I):w.addListener&&w.removeListener&&w.removeListener(I),(E=Dr(w))?(ye(E,m),E.h==0&&(E.src=null,w[Ee]=null)):me(m)}}}function ri(m){return m in ct?ct[m]:ct[m]="on"+m}function Ma(m,w){if(m.da)m=!0;else{w=new ze(w,this);const E=m.listener,I=m.ha||m.src;m.fa&&bs(m),m=E.call(I,w)}return m}function Dr(m){return m=m[Ee],m instanceof he?m:null}var Oa="__closure_events_fn_"+(Math.random()*1e9>>>0);function Va(m){return typeof m=="function"?m:(m[Oa]||(m[Oa]=function(w){return m.handleEvent(w)}),m[Oa])}function pe(){z.call(this),this.i=new he(this),this.M=this,this.G=null}v(pe,z),pe.prototype[ce]=!0,pe.prototype.removeEventListener=function(m,w,E,I){vs(this,m,w,E,I)};function Me(m,w){var E,I=m.G;if(I)for(E=[];I;I=I.G)E.push(I);if(m=m.M,I=w.type||w,typeof w=="string")w=new O(w,m);else if(w instanceof O)w.target=w.target||m;else{var G=w;w=new O(I,m),de(w,G)}G=!0;let W,fe;if(E)for(fe=E.length-1;fe>=0;fe--)W=w.g=E[fe],G=Lt(W,I,!0,w)&&G;if(W=w.g=m,G=Lt(W,I,!0,w)&&G,G=Lt(W,I,!1,w)&&G,E)for(fe=0;fe<E.length;fe++)W=w.g=E[fe],G=Lt(W,I,!1,w)&&G}pe.prototype.N=function(){if(pe.Z.N.call(this),this.i){var m=this.i;for(const w in m.g){const E=m.g[w];for(let I=0;I<E.length;I++)me(E[I]);delete m.g[w],m.h--}}this.G=null},pe.prototype.J=function(m,w,E,I){return this.i.add(String(m),w,!1,E,I)},pe.prototype.K=function(m,w,E,I){return this.i.add(String(m),w,!0,E,I)};function Lt(m,w,E,I){if(w=m.i.g[String(w)],!w)return!0;w=w.concat();let G=!0;for(let W=0;W<w.length;++W){const fe=w[W];if(fe&&!fe.da&&fe.capture==E){const je=fe.listener,Mt=fe.ha||fe.src;fe.fa&&ye(m.i,fe),G=je.call(Mt,I)!==!1&&G}}return G&&!I.defaultPrevented}function bn(m,w){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=f(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:c.setTimeout(m,w||0)}function kt(m){m.g=bn(()=>{m.g=null,m.i&&(m.i=!1,kt(m))},m.l);const w=m.h;m.h=null,m.m.apply(null,w)}class Wt extends z{constructor(w,E){super(),this.m=w,this.l=E,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:kt(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gi(m){z.call(this),this.h=m,this.g={}}v(Gi,z);var Ci=[];function Je(m){Te(m.g,function(w,E){this.g.hasOwnProperty(E)&&bs(w)},m),m.g={}}Gi.prototype.N=function(){Gi.Z.N.call(this),Je(this)},Gi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var on=c.JSON.stringify,Mn=c.JSON.parse,_s=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function yd(){}function vd(){}var Ri={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ln(){O.call(this,"d")}v(ln,O);function si(){O.call(this,"c")}v(si,O);var Dt={},bd=null;function Oo(){return bd=bd||new pe}Dt.Ia="serverreachability";function _d(m){O.call(this,Dt.Ia,m)}v(_d,O);function Ki(m){const w=Oo();Me(w,new _d(w))}Dt.STAT_EVENT="statevent";function Pa(m,w){O.call(this,Dt.STAT_EVENT,m),this.stat=w}v(Pa,O);function Ut(m){const w=Oo();Me(w,new Pa(w,m))}Dt.Ja="timingevent";function Yi(m,w){O.call(this,Dt.Ja,m),this.size=w}v(Yi,O);function Qi(m,w){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},w)}function Ni(){this.g=!0}Ni.prototype.ua=function(){this.g=!1};function Lm(m,w,E,I,G,W){m.info(function(){if(m.g)if(W){var fe="",je=W.split("&");for(let nt=0;nt<je.length;nt++){var Mt=je[nt].split("=");if(Mt.length>1){const bt=Mt[0];Mt=Mt[1];const ci=bt.split("_");fe=ci.length>=2&&ci[1]=="type"?fe+(bt+"="+Mt+"&"):fe+(bt+"=redacted&")}}}else fe=null;else fe=W;return"XMLHTTP REQ ("+I+") [attempt "+G+"]: "+w+`
`+E+`
`+fe})}function wd(m,w,E,I,G,W,fe){m.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+G+"]: "+w+`
`+E+`
`+W+" "+fe})}function Xi(m,w,E,I){m.info(function(){return"XMLHTTP TEXT ("+w+"): "+Um(m,E)+(I?" "+I:"")})}function ja(m,w){m.info(function(){return"TIMEOUT: "+w})}Ni.prototype.info=function(){};function Um(m,w){if(!m.g)return w;if(!w)return null;try{const W=JSON.parse(w);if(W){for(m=0;m<W.length;m++)if(Array.isArray(W[m])){var E=W[m];if(!(E.length<2)){var I=E[1];if(Array.isArray(I)&&!(I.length<1)){var G=I[0];if(G!="noop"&&G!="stop"&&G!="close")for(let fe=1;fe<I.length;fe++)I[fe]=""}}}}return on(W)}catch{return w}}var La={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},lc={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},cc;function Ua(){}v(Ua,yd),Ua.prototype.g=function(){return new XMLHttpRequest},cc=new Ua;function Mr(m){return encodeURIComponent(String(m))}function Td(m){var w=1;m=m.split(":");const E=[];for(;w>0&&m.length;)E.push(m.shift()),w--;return m.length&&E.push(m.join(":")),E}function Ii(m,w,E,I){this.j=m,this.i=w,this.l=E,this.S=I||1,this.V=new Gi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ki}function ki(){this.i=null,this.g="",this.h=!1}var zt={},nn={};function Wi(m,w,E){m.M=1,m.A=za(Ft(w)),m.u=E,m.R=!0,Vo(m,null)}function Vo(m,w){m.F=Date.now(),Zi(m),m.B=Ft(m.A);var E=m.B,I=m.S;Array.isArray(I)||(I=[String(I)]),Uo(E.i,"t",I),m.C=0,E=m.j.L,m.h=new ki,m.g=jd(m.j,E?w:null,!m.u),m.P>0&&(m.O=new Wt(f(m.Y,m,m.g),m.P)),w=m.V,E=m.g,I=m.ba;var G="readystatechange";Array.isArray(G)||(G&&(Ci[0]=G.toString()),G=Ci);for(let W=0;W<G.length;W++){const fe=Fe(E,G[W],I||w.handleEvent,!1,w.h||w);if(!fe)break;w.g[fe.key]=fe}w=m.J?V(m.J):{},m.u?(m.v||(m.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,w)):(m.v="GET",m.g.ea(m.B,m.v,null,w)),Ki(),Lm(m.i,m.v,m.B,m.l,m.S,m.u)}Ii.prototype.ba=function(m){m=m.target;const w=this.O;w&&Oi(m)==3?w.j():this.Y(m)},Ii.prototype.Y=function(m){try{if(m==this.g)e:{const je=Oi(this.g),Mt=this.g.ya(),nt=this.g.ca();if(!(je<3)&&(je!=3||this.g&&(this.h.h||this.g.la()||cn(this.g)))){this.K||je!=4||Mt==7||(Mt==8||nt<=0?Ki(3):Ki(2)),Ji(this);var w=this.g.ca();this.X=w;var E=zm(this);if(this.o=w==200,wd(this.i,this.v,this.B,this.l,this.S,je,w),this.o){if(this.U&&!this.L){t:{if(this.g){var I,G=this.g;if((I=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(I)){var W=I;break t}}W=null}if(m=W)Xi(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,er(this,m);else{this.o=!1,this.m=3,Ut(12),Kn(this),ai(this);break e}}if(this.R){m=!0;let bt;for(;!this.K&&this.C<E.length;)if(bt=xd(this,E),bt==nn){je==4&&(this.m=4,Ut(14),m=!1),Xi(this.i,this.l,null,"[Incomplete Response]");break}else if(bt==zt){this.m=4,Ut(15),Xi(this.i,this.l,E,"[Invalid Chunk]"),m=!1;break}else Xi(this.i,this.l,bt,null),er(this,bt);if(Ed(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),je!=4||E.length!=0||this.h.h||(this.m=1,Ut(16),m=!1),this.o=this.o&&m,!m)Xi(this.i,this.l,E,"[Invalid Chunked Response]"),Kn(this),ai(this);else if(E.length>0&&!this.W){this.W=!0;var fe=this.j;fe.g==this&&fe.aa&&!fe.P&&(fe.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),xc(fe),fe.P=!0,Ut(11))}}else Xi(this.i,this.l,E,null),er(this,E);je==4&&Kn(this),this.o&&!this.K&&(je==4?Md(this.j,this):(this.o=!1,Zi(this)))}else Vr(this.g),w==400&&E.indexOf("Unknown SID")>0?(this.m=3,Ut(12)):(this.m=0,Ut(13)),Kn(this),ai(this)}}}catch{}finally{}};function zm(m){if(!Ed(m))return m.g.la();const w=cn(m.g);if(w==="")return"";let E="";const I=w.length,G=Oi(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return Kn(m),ai(m),"";m.h.i=new c.TextDecoder}for(let W=0;W<I;W++)m.h.h=!0,E+=m.h.i.decode(w[W],{stream:!(G&&W==I-1)});return w.length=0,m.h.g+=E,m.C=0,m.h.g}function Ed(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function xd(m,w){var E=m.C,I=w.indexOf(`
`,E);return I==-1?nn:(E=Number(w.substring(E,I)),isNaN(E)?zt:(I+=1,I+E>w.length?nn:(w=w.slice(I,I+E),m.C=I+E,w)))}Ii.prototype.cancel=function(){this.K=!0,Kn(this)};function Zi(m){m.T=Date.now()+m.H,Po(m,m.H)}function Po(m,w){if(m.D!=null)throw Error("WatchDog timer not null");m.D=Qi(f(m.aa,m),w)}function Ji(m){m.D&&(c.clearTimeout(m.D),m.D=null)}Ii.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(ja(this.i,this.B),this.M!=2&&(Ki(),Ut(17)),Kn(this),this.m=2,ai(this)):Po(this,this.T-m)};function ai(m){m.j.I==0||m.K||Md(m.j,m)}function Kn(m){Ji(m);var w=m.O;w&&typeof w.dispose=="function"&&w.dispose(),m.O=null,Je(m.V),m.g&&(w=m.g,m.g=null,w.abort(),w.dispose())}function er(m,w){try{var E=m.j;if(E.I!=0&&(E.g==m||nr(E.h,m))){if(!m.L&&nr(E.h,m)&&E.I==3){try{var I=E.Ba.g.parse(w)}catch{I=null}if(Array.isArray(I)&&I.length==3){var G=I;if(G[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<m.F)Ho(E),Rs(E);else break e;Ka(E),Ut(18)}}else E.xa=G[1],0<E.xa-E.K&&G[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Qi(f(E.Va,E),6e3));tr(E.h)<=1&&E.ta&&(E.ta=void 0)}else lr(E,11)}else if((m.L||E.g==m)&&Ho(E),!L(w))for(G=E.Ba.g.parse(w),w=0;w<G.length;w++){let nt=G[w];const bt=nt[0];if(!(bt<=E.K))if(E.K=bt,nt=nt[1],E.I==2)if(nt[0]=="c"){E.M=nt[1],E.ba=nt[2];const ci=nt[3];ci!=null&&(E.ka=ci,E.j.info("VER="+E.ka));const cr=nt[4];cr!=null&&(E.za=cr,E.j.info("SVER="+E.za));const Vi=nt[5];Vi!=null&&typeof Vi=="number"&&Vi>0&&(I=1.5*Vi,E.O=I,E.j.info("backChannelRequestTimeoutMs_="+I)),I=E;const Pi=m.g;if(Pi){const Ya=Pi.g?Pi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ya){var W=I.h;W.g||Ya.indexOf("spdy")==-1&&Ya.indexOf("quic")==-1&&Ya.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(hc(W,W.h),W.h=null))}if(I.G){const $o=Pi.g?Pi.g.getResponseHeader("X-HTTP-Session-Id"):null;$o&&(I.wa=$o,st(I.J,I.G,$o))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-m.F,E.j.info("Handshake RTT: "+E.T+"ms")),I=E;var fe=m;if(I.na=Pd(I,I.L?I.ba:null,I.W),fe.L){fc(I.h,fe);var je=fe,Mt=I.O;Mt&&(je.H=Mt),je.D&&(Ji(je),Zi(je)),I.g=fe}else kd(I);E.i.length>0&&or(E)}else nt[0]!="stop"&&nt[0]!="close"||lr(E,7);else E.I==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?lr(E,7):Tc(E):nt[0]!="noop"&&E.l&&E.l.qa(nt),E.A=0)}}Ki(4)}catch{}}var Bt=class{constructor(m,w){this.g=m,this.map=w}};function uc(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function dc(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function tr(m){return m.h?1:m.g?m.g.size:0}function nr(m,w){return m.h?m.h==w:m.g?m.g.has(w):!1}function hc(m,w){m.g?m.g.add(w):m.h=w}function fc(m,w){m.h&&m.h==w?m.h=null:m.g&&m.g.has(w)&&m.g.delete(w)}uc.prototype.cancel=function(){if(this.i=mc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function mc(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let w=m.i;for(const E of m.g.values())w=w.concat(E.G);return w}return x(m.i)}var Sd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jo(m,w){if(m){m=m.split("&");for(let E=0;E<m.length;E++){const I=m[E].indexOf("=");let G,W=null;I>=0?(G=m[E].substring(0,I),W=m[E].substring(I+1)):G=m[E],w(G,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Yn(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;m instanceof Yn?(this.l=m.l,rn(this,m.j),this.o=m.o,this.g=m.g,ws(this,m.u),this.h=m.h,pc(this,Nd(m.i)),this.m=m.m):m&&(w=String(m).match(Sd))?(this.l=!1,rn(this,w[1]||"",!0),this.o=ir(w[2]||""),this.g=ir(w[3]||"",!0),ws(this,w[4]),this.h=ir(w[5]||"",!0),pc(this,w[6]||"",!0),this.m=ir(w[7]||"")):(this.l=!1,this.i=new Es(null,this.l))}Yn.prototype.toString=function(){const m=[];var w=this.j;w&&m.push(Ba(w,Lo,!0),":");var E=this.g;return(E||w=="file")&&(m.push("//"),(w=this.o)&&m.push(Ba(w,Lo,!0),"@"),m.push(Mr(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&m.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&m.push("/"),m.push(Ba(E,E.charAt(0)=="/"?gc:Ad,!0))),(E=this.i.toString())&&m.push("?",E),(E=this.m)&&m.push("#",Ba(E,Cd)),m.join("")},Yn.prototype.resolve=function(m){const w=Ft(this);let E=!!m.j;E?rn(w,m.j):E=!!m.o,E?w.o=m.o:E=!!m.g,E?w.g=m.g:E=m.u!=null;var I=m.h;if(E)ws(w,m.u);else if(E=!!m.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var G=w.h.lastIndexOf("/");G!=-1&&(I=w.h.slice(0,G+1)+I)}if(G=I,G==".."||G==".")I="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){I=G.lastIndexOf("/",0)==0,G=G.split("/");const W=[];for(let fe=0;fe<G.length;){const je=G[fe++];je=="."?I&&fe==G.length&&W.push(""):je==".."?((W.length>1||W.length==1&&W[0]!="")&&W.pop(),I&&fe==G.length&&W.push("")):(W.push(je),I=!0)}I=W.join("/")}else I=G}return E?w.h=I:E=m.i.toString()!=="",E?pc(w,Nd(m.i)):E=!!m.m,E&&(w.m=m.m),w};function Ft(m){return new Yn(m)}function rn(m,w,E){m.j=E?ir(w,!0):w,m.j&&(m.j=m.j.replace(/:$/,""))}function ws(m,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);m.u=w}else m.u=null}function pc(m,w,E){w instanceof Es?(m.i=w,zo(m.i,m.l)):(E||(w=Ba(w,Ts)),m.i=new Es(w,m.l))}function st(m,w,E){m.i.set(w,E)}function za(m){return st(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function ir(m,w){return m?w?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Ba(m,w,E){return typeof m=="string"?(m=encodeURI(m).replace(w,On),E&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function On(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Lo=/[#\/\?@]/g,Ad=/[#\?:]/g,gc=/[#\?]/g,Ts=/[#\?@]/g,Cd=/#/g;function Es(m,w){this.h=this.g=null,this.i=m||null,this.j=!!w}function Vn(m){m.g||(m.g=new Map,m.h=0,m.i&&jo(m.i,function(w,E){m.add(decodeURIComponent(w.replace(/\+/g," ")),E)}))}t=Es.prototype,t.add=function(m,w){Vn(this),this.i=null,m=xs(this,m);let E=this.g.get(m);return E||this.g.set(m,E=[]),E.push(w),this.h+=1,this};function Rd(m,w){Vn(m),w=xs(m,w),m.g.has(w)&&(m.i=null,m.h-=m.g.get(w).length,m.g.delete(w))}function yc(m,w){return Vn(m),w=xs(m,w),m.g.has(w)}t.forEach=function(m,w){Vn(this),this.g.forEach(function(E,I){E.forEach(function(G){m.call(w,G,I,this)},this)},this)};function vc(m,w){Vn(m);let E=[];if(typeof w=="string")yc(m,w)&&(E=E.concat(m.g.get(xs(m,w))));else for(m=Array.from(m.g.values()),w=0;w<m.length;w++)E=E.concat(m[w]);return E}t.set=function(m,w){return Vn(this),this.i=null,m=xs(this,m),yc(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[w]),this.h+=1,this},t.get=function(m,w){return m?(m=vc(this,m),m.length>0?String(m[0]):w):w};function Uo(m,w,E){Rd(m,w),E.length>0&&(m.i=null,m.g.set(xs(m,w),x(E)),m.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],w=Array.from(this.g.keys());for(let I=0;I<w.length;I++){var E=w[I];const G=Mr(E);E=vc(this,E);for(let W=0;W<E.length;W++){let fe=G;E[W]!==""&&(fe+="="+Mr(E[W])),m.push(fe)}}return this.i=m.join("&")};function Nd(m){const w=new Es;return w.i=m.i,m.g&&(w.g=new Map(m.g),w.h=m.h),w}function xs(m,w){return w=String(w),m.j&&(w=w.toLowerCase()),w}function zo(m,w){w&&!m.j&&(Vn(m),m.i=null,m.g.forEach(function(E,I){const G=I.toLowerCase();I!=G&&(Rd(this,I),Uo(this,G,E))},m)),m.j=w}function Di(m,w){const E=new Ni;if(c.Image){const I=new Image;I.onload=g(oi,E,"TestLoadImage: loaded",!0,w,I),I.onerror=g(oi,E,"TestLoadImage: error",!1,w,I),I.onabort=g(oi,E,"TestLoadImage: abort",!1,w,I),I.ontimeout=g(oi,E,"TestLoadImage: timeout",!1,w,I),c.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=m}else w(!1)}function bc(m,w){const E=new Ni,I=new AbortController,G=setTimeout(()=>{I.abort(),oi(E,"TestPingServer: timeout",!1,w)},1e4);fetch(m,{signal:I.signal}).then(W=>{clearTimeout(G),W.ok?oi(E,"TestPingServer: ok",!0,w):oi(E,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(G),oi(E,"TestPingServer: error",!1,w)})}function oi(m,w,E,I,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),I(E)}catch{}}function Ss(){this.g=new _s}function rr(m){this.i=m.Sb||null,this.h=m.ab||!1}v(rr,yd),rr.prototype.g=function(){return new Fa(this.i,this.h)};function Fa(m,w){pe.call(this),this.H=m,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(Fa,pe),t=Fa.prototype,t.open=function(m,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=w,this.readyState=1,Mi(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(w.body=m),(this.H||c).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,As(this)),this.readyState=0},t.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Mi(this)),this.g&&(this.readyState=3,Mi(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Bo(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function Bo(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}t.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var w=m.value?m.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!m.done}))&&(this.response=this.responseText+=w)}m.done?As(this):Mi(this),this.readyState==3&&Bo(this)}},t.Oa=function(m){this.g&&(this.response=this.responseText=m,As(this))},t.Na=function(m){this.g&&(this.response=m,As(this))},t.ga=function(){this.g&&As(this)};function As(m){m.readyState=4,m.l=null,m.j=null,m.B=null,Mi(m)}t.setRequestHeader=function(m,w){this.A.append(m,w)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],w=this.h.entries();for(var E=w.next();!E.done;)E=E.value,m.push(E[0]+": "+E[1]),E=w.next();return m.join(`\r
`)};function Mi(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Fa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function li(m){let w="";return Te(m,function(E,I){w+=I,w+=":",w+=E,w+=`\r
`}),w}function qa(m,w,E){e:{for(I in E){var I=!1;break e}I=!0}I||(E=li(E),typeof m=="string"?E!=null&&Mr(E):st(m,w,E))}function ut(m){pe.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(ut,pe);var sr=/^https?$/i,_c=["POST","PUT"];t=ut.prototype,t.Fa=function(m){this.H=m},t.ea=function(m,w,E,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);w=w?w.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():cc.g(),this.g.onreadystatechange=_(f(this.Ca,this));try{this.B=!0,this.g.open(w,String(m),!0),this.B=!1}catch(W){Ha(this,W);return}if(m=E||"",E=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var G in I)E.set(G,I[G]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const W of I.keys())E.set(W,I.get(W));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(E.keys()).find(W=>W.toLowerCase()=="content-type"),G=c.FormData&&m instanceof c.FormData,!(Array.prototype.indexOf.call(_c,w,void 0)>=0)||I||G||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,fe]of E)this.g.setRequestHeader(W,fe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(W){Ha(this,W)}};function Ha(m,w){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=w,m.o=5,wc(m),Or(m)}function wc(m){m.A||(m.A=!0,Me(m,"complete"),Me(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,Me(this,"complete"),Me(this,"abort"),Or(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Or(this,!0)),ut.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?$a(this):this.Xa())},t.Xa=function(){$a(this)};function $a(m){if(m.h&&typeof o<"u"){if(m.v&&Oi(m)==4)setTimeout(m.Ca.bind(m),0);else if(Me(m,"readystatechange"),Oi(m)==4){m.h=!1;try{const W=m.ca();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var E;if(!(E=w)){var I;if(I=W===0){let fe=String(m.D).match(Sd)[1]||null;!fe&&c.self&&c.self.location&&(fe=c.self.location.protocol.slice(0,-1)),I=!sr.test(fe?fe.toLowerCase():"")}E=I}if(E)Me(m,"complete"),Me(m,"success");else{m.o=6;try{var G=Oi(m)>2?m.g.statusText:""}catch{G=""}m.l=G+" ["+m.ca()+"]",wc(m)}}finally{Or(m)}}}}function Or(m,w){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const E=m.g;m.g=null,w||Me(m,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Oi(m){return m.g?m.g.readyState:0}t.ca=function(){try{return Oi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(m){if(this.g){var w=this.g.responseText;return m&&w.indexOf(m)==0&&(w=w.substring(m.length)),Mn(w)}};function cn(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Vr(m){const w={};m=(m.g&&Oi(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<m.length;I++){if(L(m[I]))continue;var E=Td(m[I]);const G=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const W=w[G]||[];w[G]=W,W.push(E)}oe(w,function(I){return I.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ar(m,w,E){return E&&E.internalChannelParams&&E.internalChannelParams[m]||w}function Cs(m){this.za=0,this.i=[],this.j=new Ni,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ar("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ar("baseRetryDelayMs",5e3,m),this.Za=ar("retryDelaySeedMs",1e4,m),this.Ta=ar("forwardChannelMaxRetries",2,m),this.va=ar("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new uc(m&&m.concurrentRequestLimit),this.Ba=new Ss,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Cs.prototype,t.ka=8,t.I=1,t.connect=function(m,w,E,I){Ut(0),this.W=m,this.H=w||{},E&&I!==void 0&&(this.H.OSID=E,this.H.OAID=I),this.F=this.X,this.J=Pd(this,null,this.W),or(this)};function Tc(m){if(Fo(m),m.I==3){var w=m.V++,E=Ft(m.J);if(st(E,"SID",m.M),st(E,"RID",w),st(E,"TYPE","terminate"),Ga(m,E),w=new Ii(m,m.j,w),w.M=2,w.A=za(Ft(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(w.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=w.A,E=!0),E||(w.g=jd(w.j,null),w.g.ea(w.A)),w.F=Date.now(),Zi(w)}Vd(m)}function Rs(m){m.g&&(xc(m),m.g.cancel(),m.g=null)}function Fo(m){Rs(m),m.v&&(c.clearTimeout(m.v),m.v=null),Ho(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&c.clearTimeout(m.m),m.m=null)}function or(m){if(!dc(m.h)&&!m.m){m.m=!0;var w=m.Ea;re||R(),ne||(re(),ne=!0),S.add(w,m),m.D=0}}function qo(m,w){return tr(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=w.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=Qi(f(m.Ea,m,w),Od(m,m.D)),m.D++,!0)}t.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const G=new Ii(this,this.j,m);let W=this.o;if(this.U&&(W?(W=V(W),de(W,this.U)):W=this.U),this.u!==null||this.R||(G.J=W,W=null),this.S)e:{for(var w=0,E=0;E<this.i.length;E++){t:{var I=this.i[E];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(w+=I,w>4096){w=E;break e}if(w===4096||E===this.i.length-1){w=E+1;break e}}w=1e3}else w=1e3;w=Id(this,G,w),E=Ft(this.J),st(E,"RID",m),st(E,"CVER",22),this.G&&st(E,"X-HTTP-Session-Id",this.G),Ga(this,E),W&&(this.R?w="headers="+Mr(li(W))+"&"+w:this.u&&qa(E,this.u,W)),hc(this.h,G),this.Ra&&st(E,"TYPE","init"),this.S?(st(E,"$req",w),st(E,"SID","null"),G.U=!0,Wi(G,E,null)):Wi(G,E,w),this.I=2}}else this.I==3&&(m?Ec(this,m):this.i.length==0||dc(this.h)||Ec(this))};function Ec(m,w){var E;w?E=w.l:E=m.V++;const I=Ft(m.J);st(I,"SID",m.M),st(I,"RID",E),st(I,"AID",m.K),Ga(m,I),m.u&&m.o&&qa(I,m.u,m.o),E=new Ii(m,m.j,E,m.D+1),m.u===null&&(E.J=m.o),w&&(m.i=w.G.concat(m.i)),w=Id(m,E,1e3),E.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),hc(m.h,E),Wi(E,I,w)}function Ga(m,w){m.H&&Te(m.H,function(E,I){st(w,I,E)}),m.l&&Te({},function(E,I){st(w,I,E)})}function Id(m,w,E){E=Math.min(m.i.length,E);const I=m.l?f(m.l.Ka,m.l,m):null;e:{var G=m.i;let je=-1;for(;;){const Mt=["count="+E];je==-1?E>0?(je=G[0].g,Mt.push("ofs="+je)):je=0:Mt.push("ofs="+je);let nt=!0;for(let bt=0;bt<E;bt++){var W=G[bt].g;const ci=G[bt].map;if(W-=je,W<0)je=Math.max(0,G[bt].g-100),nt=!1;else try{W="req"+W+"_"||"";try{var fe=ci instanceof Map?ci:Object.entries(ci);for(const[cr,Vi]of fe){let Pi=Vi;d(Vi)&&(Pi=on(Vi)),Mt.push(W+cr+"="+encodeURIComponent(Pi))}}catch(cr){throw Mt.push(W+"type="+encodeURIComponent("_badmap")),cr}}catch{I&&I(ci)}}if(nt){fe=Mt.join("&");break e}}fe=void 0}return m=m.i.splice(0,E),w.G=m,fe}function kd(m){if(!m.g&&!m.v){m.Y=1;var w=m.Da;re||R(),ne||(re(),ne=!0),S.add(w,m),m.A=0}}function Ka(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=Qi(f(m.Da,m),Od(m,m.A)),m.A++,!0)}t.Da=function(){if(this.v=null,Dd(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=Qi(f(this.Wa,this),m)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ut(10),Rs(this),Dd(this))};function xc(m){m.B!=null&&(c.clearTimeout(m.B),m.B=null)}function Dd(m){m.g=new Ii(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var w=Ft(m.na);st(w,"RID","rpc"),st(w,"SID",m.M),st(w,"AID",m.K),st(w,"CI",m.F?"0":"1"),!m.F&&m.ia&&st(w,"TO",m.ia),st(w,"TYPE","xmlhttp"),Ga(m,w),m.u&&m.o&&qa(w,m.u,m.o),m.O&&(m.g.H=m.O);var E=m.g;m=m.ba,E.M=1,E.A=za(Ft(w)),E.u=null,E.R=!0,Vo(E,m)}t.Va=function(){this.C!=null&&(this.C=null,Rs(this),Ka(this),Ut(19))};function Ho(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function Md(m,w){var E=null;if(m.g==w){Ho(m),xc(m),m.g=null;var I=2}else if(nr(m.h,w))E=w.G,fc(m.h,w),I=1;else return;if(m.I!=0){if(w.o)if(I==1){E=w.u?w.u.length:0,w=Date.now()-w.F;var G=m.D;I=Oo(),Me(I,new Yi(I,E)),or(m)}else kd(m);else if(G=w.m,G==3||G==0&&w.X>0||!(I==1&&qo(m,w)||I==2&&Ka(m)))switch(E&&E.length>0&&(w=m.h,w.i=w.i.concat(E)),G){case 1:lr(m,5);break;case 4:lr(m,10);break;case 3:lr(m,6);break;default:lr(m,2)}}}function Od(m,w){let E=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(E*=2),E*w}function lr(m,w){if(m.j.info("Error code "+w),w==2){var E=f(m.bb,m),I=m.Ua;const G=!I;I=new Yn(I||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||rn(I,"https"),za(I),G?Di(I.toString(),E):bc(I.toString(),E)}else Ut(2);m.I=0,m.l&&m.l.pa(w),Vd(m),Fo(m)}t.bb=function(m){m?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function Vd(m){if(m.I=0,m.ja=[],m.l){const w=mc(m.h);(w.length!=0||m.i.length!=0)&&(k(m.ja,w),k(m.ja,m.i),m.h.i.length=0,x(m.i),m.i.length=0),m.l.oa()}}function Pd(m,w,E){var I=E instanceof Yn?Ft(E):new Yn(E);if(I.g!="")w&&(I.g=w+"."+I.g),ws(I,I.u);else{var G=c.location;I=G.protocol,w=w?w+"."+G.hostname:G.hostname,G=+G.port;const W=new Yn(null);I&&rn(W,I),w&&(W.g=w),G&&ws(W,G),E&&(W.h=E),I=W}return E=m.G,w=m.wa,E&&w&&st(I,E,w),st(I,"VER",m.ka),Ga(m,I),I}function jd(m,w,E){if(w&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=m.Aa&&!m.ma?new ut(new rr({ab:E})):new ut(m.ma),w.Fa(m.L),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ld(){}t=Ld.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ns(){}Ns.prototype.g=function(m,w){return new Nn(m,w)};function Nn(m,w){pe.call(this),this.g=new Cs(w),this.l=m,this.h=w&&w.messageUrlParams||null,m=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(m?m["X-WebChannel-Content-Type"]=w.messageContentType:m={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(m?m["X-WebChannel-Client-Profile"]=w.sa:m={"X-WebChannel-Client-Profile":w.sa}),this.g.U=m,(m=w&&w.Qb)&&!L(m)&&(this.g.u=m),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!L(w)&&(this.g.G=w,m=this.h,m!==null&&w in m&&(m=this.h,w in m&&delete m[w])),this.j=new Pr(this)}v(Nn,pe),Nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Nn.prototype.close=function(){Tc(this.g)},Nn.prototype.o=function(m){var w=this.g;if(typeof m=="string"){var E={};E.__data__=m,m=E}else this.v&&(E={},E.__data__=on(m),m=E);w.i.push(new Bt(w.Ya++,m)),w.I==3&&or(w)},Nn.prototype.N=function(){this.g.l=null,delete this.j,Tc(this.g),delete this.g,Nn.Z.N.call(this)};function Ud(m){ln.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var w=m.__sm__;if(w){e:{for(const E in w){m=E;break e}m=void 0}(this.i=m)&&(m=this.i,w=w!==null&&m in w?w[m]:void 0),this.data=w}else this.data=m}v(Ud,ln);function zd(){si.call(this),this.status=1}v(zd,si);function Pr(m){this.g=m}v(Pr,Ld),Pr.prototype.ra=function(){Me(this.g,"a")},Pr.prototype.qa=function(m){Me(this.g,new Ud(m))},Pr.prototype.pa=function(m){Me(this.g,new zd)},Pr.prototype.oa=function(){Me(this.g,"b")},Ns.prototype.createWebChannel=Ns.prototype.g,Nn.prototype.send=Nn.prototype.o,Nn.prototype.open=Nn.prototype.m,Nn.prototype.close=Nn.prototype.close,hC=function(){return new Ns},dC=function(){return Oo()},uC=Dt,ay={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},La.NO_ERROR=0,La.TIMEOUT=8,La.HTTP_ERROR=6,yf=La,lc.COMPLETE="complete",cC=lc,vd.EventType=Ri,Ri.OPEN="a",Ri.CLOSE="b",Ri.ERROR="c",Ri.MESSAGE="d",pe.prototype.listen=pe.prototype.J,mu=vd,ut.prototype.listenOnce=ut.prototype.K,ut.prototype.getLastError=ut.prototype.Ha,ut.prototype.getLastErrorCode=ut.prototype.ya,ut.prototype.getStatus=ut.prototype.ca,ut.prototype.getResponseJson=ut.prototype.La,ut.prototype.getResponseText=ut.prototype.la,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Fa,lC=ut}).apply(typeof Wh<"u"?Wh:typeof self<"u"?self:typeof window<"u"?window:{});const WE="@firebase/firestore",ZE="4.9.2";class En{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");let ic="12.3.0";const Ro=new fv("@firebase/firestore");function wl(){return Ro.logLevel}function ve(t,...e){if(Ro.logLevel<=Ke.DEBUG){const n=e.map(xv);Ro.debug(`Firestore (${ic}): ${t}`,...n)}}function hs(t,...e){if(Ro.logLevel<=Ke.ERROR){const n=e.map(xv);Ro.error(`Firestore (${ic}): ${t}`,...n)}}function ql(t,...e){if(Ro.logLevel<=Ke.WARN){const n=e.map(xv);Ro.warn(`Firestore (${ic}): ${t}`,...n)}}function xv(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Ie(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,fC(t,i,n)}function fC(t,e,n){let i=`FIRESTORE (${ic}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw hs(i),new Error(i)}function rt(t,e,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,t||fC(e,a,i)}function Pe(t,e){return t}const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends ps{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class as{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class mC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(En.UNAUTHENTICATED)))}shutdown(){}}class sL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class aL{constructor(e){this.t=e,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){rt(this.o===void 0,42304);let i=this.i;const a=h=>this.i!==i?(i=this.i,n(h)):Promise.resolve();let o=new as;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new as,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const h=o;e.enqueueRetryable((async()=>{await h.promise,await a(this.currentUser)}))},d=h=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((h=>d(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?d(h):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new as)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(rt(typeof i.accessToken=="string",31837,{l:i}),new mC(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string",2055,{h:e}),new En(e)}}class oL{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=En.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class lL{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new oL(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(En.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class JE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cL{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_i(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){rt(this.o===void 0,3512);const i=o=>{o.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,ve("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>i(o)))};const a=o=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new JE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(rt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new JE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function uL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}class Sv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=uL(40);for(let o=0;o<a.length;++o)i.length<20&&a[o]<n&&(i+=e.charAt(a[o]%62))}return i}}function Ye(t,e){return t<e?-1:t>e?1:0}function oy(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const a=t.charAt(i),o=e.charAt(i);if(a!==o)return d0(a)===d0(o)?Ye(a,o):d0(a)?1:-1}return Ye(t.length,e.length)}const dL=55296,hL=57343;function d0(t){const e=t.charCodeAt(0);return e>=dL&&e<=hL}function Hl(t,e,n){return t.length===e.length&&t.every(((i,a)=>n(i,e[a])))}const ex="__name__";class pr{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ie(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Ie(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return pr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof pr?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const o=pr.compareSegments(e.get(a),n.get(a));if(o!==0)return o}return Ye(e.length,n.length)}static compareSegments(e,n){const i=pr.isNumericId(e),a=pr.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?pr.extractNumericId(e).compare(pr.extractNumericId(n)):oy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return pa.fromString(e.substring(4,e.length-2))}}class gt extends pr{construct(e,n,i){return new gt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new ge(se.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((a=>a.length>0)))}return new gt(n)}static emptyPath(){return new gt([])}}const fL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gn extends pr{construct(e,n,i){return new gn(e,n,i)}static isValidIdentifier(e){return fL.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ex}static keyField(){return new gn([ex])}static fromServerFormat(e){const n=[];let i="",a=0;const o=()=>{if(i.length===0)throw new ge(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new ge(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[a+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new ge(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(i+=d,a++):(o(),a++)}if(o(),c)throw new ge(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gn(n)}static emptyPath(){return new gn([])}}class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(gt.fromString(e))}static fromName(e){return new Ae(gt.fromString(e).popFirst(5))}static empty(){return new Ae(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return gt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new gt(e.slice()))}}function pC(t,e,n){if(!n)throw new ge(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function mL(t,e,n,i){if(e===!0&&i===!0)throw new ge(se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function tx(t){if(!Ae.isDocumentKey(t))throw new ge(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function nx(t){if(Ae.isDocumentKey(t))throw new ge(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function gC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function gm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ie(12329,{type:typeof t})}function $n(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ge(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gm(t);throw new ge(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Xt(t,e){const n={typeString:t};return e&&(n.value=e),n}function cd(t,e){if(!gC(t))throw new ge(se.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const a=e[i].typeString,o="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const c=t[i];if(a&&typeof c!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(o!==void 0&&c!==o.value){n=`Expected '${i}' field to equal '${o.value}'`;break}}if(n)throw new ge(se.INVALID_ARGUMENT,n);return!0}const ix=-62135596800,rx=1e6;class We{static now(){return We.fromMillis(Date.now())}static fromDate(e){return We.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*rx);return new We(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<ix)throw new ge(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rx}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:We._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(cd(e,We._jsonSchema))return new We(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ix;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}We._jsonSchemaVersion="firestore/timestamp/1.0",We._jsonSchema={type:Xt("string",We._jsonSchemaVersion),seconds:Xt("number"),nanoseconds:Xt("number")};class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new We(0,0))}static max(){return new Oe(new We(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const zu=-1;function pL(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=Oe.fromTimestamp(i===1e9?new We(n+1,0):new We(n,i));return new _a(a,Ae.empty(),e)}function gL(t){return new _a(t.readTime,t.key,zu)}class _a{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new _a(Oe.min(),Ae.empty(),zu)}static max(){return new _a(Oe.max(),Ae.empty(),zu)}}function yL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ae.comparator(t.documentKey,e.documentKey),n!==0?n:Ye(t.largestBatchId,e.largestBatchId))}const vL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function rc(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==vL)throw t;ve("LocalStore","Unexpectedly lost primary lease")}class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le(((i,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,a)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):le.reject(n)}static resolve(e){return new le(((n,i)=>{n(e)}))}static reject(e){return new le(((n,i)=>{i(e)}))}static waitFor(e){return new le(((n,i)=>{let a=0,o=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++o,c&&o===a&&n()}),(h=>i(h)))})),c=!0,o===a&&n()}))}static or(e){let n=le.resolve(!1);for(const i of e)n=n.next((a=>a?le.resolve(a):i()));return n}static forEach(e,n){const i=[];return e.forEach(((a,o)=>{i.push(n.call(this,a,o))})),this.waitFor(i)}static mapArray(e,n){return new le(((i,a)=>{const o=e.length,c=new Array(o);let d=0;for(let h=0;h<o;h++){const f=h;n(e[f]).next((g=>{c[f]=g,++d,d===o&&i(c)}),(g=>a(g)))}}))}static doWhile(e,n){return new le(((i,a)=>{const o=()=>{e()===!0?n().next((()=>{o()}),a):i()};o()}))}}function _L(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function sc(t){return t.name==="IndexedDbTransactionError"}class ym{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ym.ce=-1;const Av=-1;function vm(t){return t==null}function Bf(t){return t===0&&1/t==-1/0}function wL(t){return typeof t=="number"&&Number.isInteger(t)&&!Bf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const yC="";function TL(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=sx(e)),e=EL(t.get(n),e);return sx(e)}function EL(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const o=t.charAt(a);switch(o){case"\0":n+="";break;case yC:n+="";break;default:n+=o}}return n}function sx(t){return t+yC+""}function ax(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ka(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function vC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class St{constructor(e,n){this.comparator=e,this.root=n||pn.EMPTY}insert(e,n){return new St(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pn.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zh(this.root,e,this.comparator,!0)}}class Zh{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pn{constructor(e,n,i,a,o){this.key=e,this.value=n,this.color=i??pn.RED,this.left=a??pn.EMPTY,this.right=o??pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,o){return new pn(e??this.key,n??this.value,i??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const o=i(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,n,i),null):o===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return pn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}pn.EMPTY=null,pn.RED=!0,pn.BLACK=!1;pn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,n,i,a,o){return this}insert(e,n,i){return new pn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class en{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ox(this.data.getIterator())}getIteratorFrom(e){return new ox(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof en)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=i.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new en(this.comparator);return n.data=e,n}}class ox{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ii{constructor(e){this.fields=e,e.sort(gn.comparator)}static empty(){return new ii([])}unionWith(e){let n=new en(gn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new ii(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Hl(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}class bC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class vn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new bC("Invalid base64 string: "+o):o}})(e);return new vn(n)}static fromUint8Array(e){const n=(function(a){let o="";for(let c=0;c<a.length;++c)o+=String.fromCharCode(a[c]);return o})(e);return new vn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vn.EMPTY_BYTE_STRING=new vn("");const xL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wa(t){if(rt(!!t,39018),typeof t=="string"){let e=0;const n=xL.exec(t);if(rt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:jt(t.seconds),nanos:jt(t.nanos)}}function jt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ta(t){return typeof t=="string"?vn.fromBase64String(t):vn.fromUint8Array(t)}const _C="server_timestamp",wC="__type__",TC="__previous_value__",EC="__local_write_time__";function Cv(t){return(t?.mapValue?.fields||{})[wC]?.stringValue===_C}function bm(t){const e=t.mapValue.fields[TC];return Cv(e)?bm(e):e}function Bu(t){const e=wa(t.mapValue.fields[EC].timestampValue);return new We(e.seconds,e.nanos)}class SL{constructor(e,n,i,a,o,c,d,h,f,g){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=h,this.useFetchStreams=f,this.isUsingEmulator=g}}const Ff="(default)";class Fu{constructor(e,n){this.projectId=e,this.database=n||Ff}static empty(){return new Fu("","")}get isDefaultDatabase(){return this.database===Ff}isEqual(e){return e instanceof Fu&&e.projectId===this.projectId&&e.database===this.database}}const xC="__type__",AL="__max__",Jh={mapValue:{}},SC="__vector__",qf="value";function Ea(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Cv(t)?4:RL(t)?9007199254740991:CL(t)?10:11:Ie(28295,{value:t})}function Rr(t,e){if(t===e)return!0;const n=Ea(t);if(n!==Ea(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Bu(t).isEqual(Bu(e));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const c=wa(a.timestampValue),d=wa(o.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,o){return Ta(a.bytesValue).isEqual(Ta(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,o){return jt(a.geoPointValue.latitude)===jt(o.geoPointValue.latitude)&&jt(a.geoPointValue.longitude)===jt(o.geoPointValue.longitude)})(t,e);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return jt(a.integerValue)===jt(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const c=jt(a.doubleValue),d=jt(o.doubleValue);return c===d?Bf(c)===Bf(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return Hl(t.arrayValue.values||[],e.arrayValue.values||[],Rr);case 10:case 11:return(function(a,o){const c=a.mapValue.fields||{},d=o.mapValue.fields||{};if(ax(c)!==ax(d))return!1;for(const h in c)if(c.hasOwnProperty(h)&&(d[h]===void 0||!Rr(c[h],d[h])))return!1;return!0})(t,e);default:return Ie(52216,{left:t})}}function qu(t,e){return(t.values||[]).find((n=>Rr(n,e)))!==void 0}function $l(t,e){if(t===e)return 0;const n=Ea(t),i=Ea(e);if(n!==i)return Ye(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ye(t.booleanValue,e.booleanValue);case 2:return(function(o,c){const d=jt(o.integerValue||o.doubleValue),h=jt(c.integerValue||c.doubleValue);return d<h?-1:d>h?1:d===h?0:isNaN(d)?isNaN(h)?0:-1:1})(t,e);case 3:return lx(t.timestampValue,e.timestampValue);case 4:return lx(Bu(t),Bu(e));case 5:return oy(t.stringValue,e.stringValue);case 6:return(function(o,c){const d=Ta(o),h=Ta(c);return d.compareTo(h)})(t.bytesValue,e.bytesValue);case 7:return(function(o,c){const d=o.split("/"),h=c.split("/");for(let f=0;f<d.length&&f<h.length;f++){const g=Ye(d[f],h[f]);if(g!==0)return g}return Ye(d.length,h.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,c){const d=Ye(jt(o.latitude),jt(c.latitude));return d!==0?d:Ye(jt(o.longitude),jt(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return cx(t.arrayValue,e.arrayValue);case 10:return(function(o,c){const d=o.fields||{},h=c.fields||{},f=d[qf]?.arrayValue,g=h[qf]?.arrayValue,v=Ye(f?.values?.length||0,g?.values?.length||0);return v!==0?v:cx(f,g)})(t.mapValue,e.mapValue);case 11:return(function(o,c){if(o===Jh.mapValue&&c===Jh.mapValue)return 0;if(o===Jh.mapValue)return 1;if(c===Jh.mapValue)return-1;const d=o.fields||{},h=Object.keys(d),f=c.fields||{},g=Object.keys(f);h.sort(),g.sort();for(let v=0;v<h.length&&v<g.length;++v){const _=oy(h[v],g[v]);if(_!==0)return _;const x=$l(d[h[v]],f[g[v]]);if(x!==0)return x}return Ye(h.length,g.length)})(t.mapValue,e.mapValue);default:throw Ie(23264,{he:n})}}function lx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ye(t,e);const n=wa(t),i=wa(e),a=Ye(n.seconds,i.seconds);return a!==0?a:Ye(n.nanos,i.nanos)}function cx(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const o=$l(n[a],i[a]);if(o)return o}return Ye(n.length,i.length)}function Gl(t){return ly(t)}function ly(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=wa(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ta(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ae.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",a=!0;for(const o of n.values||[])a?a=!1:i+=",",i+=ly(o);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let a="{",o=!0;for(const c of i)o?o=!1:a+=",",a+=`${c}:${ly(n.fields[c])}`;return a+"}"})(t.mapValue):Ie(61005,{value:t})}function vf(t){switch(Ea(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bm(t);return e?16+vf(e):16;case 5:return 2*t.stringValue.length;case 6:return Ta(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,o)=>a+vf(o)),0)})(t.arrayValue);case 10:case 11:return(function(i){let a=0;return ka(i.fields,((o,c)=>{a+=o.length+vf(c)})),a})(t.mapValue);default:throw Ie(13486,{value:t})}}function ux(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function cy(t){return!!t&&"integerValue"in t}function Rv(t){return!!t&&"arrayValue"in t}function dx(t){return!!t&&"nullValue"in t}function hx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function bf(t){return!!t&&"mapValue"in t}function CL(t){return(t?.mapValue?.fields||{})[xC]?.stringValue===SC}function Su(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ka(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=Su(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Su(t.arrayValue.values[n]);return e}return{...t}}function RL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===AL}class qn{constructor(e){this.value=e}static empty(){return new qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!bf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Su(n)}setAll(e){let n=gn.emptyPath(),i={},a=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const h=this.getFieldsMap(n);this.applyChanges(h,i,a),i={},a=[],n=d.popLast()}c?i[d.lastSegment()]=Su(c):a.push(d.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,i,a)}delete(e){const n=this.field(e.popLast());bf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Rr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];bf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){ka(n,((a,o)=>e[a]=o));for(const a of i)delete e[a]}clone(){return new qn(Su(this.value))}}function AC(t){const e=[];return ka(t.fields,((n,i)=>{const a=new gn([n]);if(bf(i)){const o=AC(i.mapValue).fields;if(o.length===0)e.push(a);else for(const c of o)e.push(a.child(c))}else e.push(a)})),new ii(e)}class xn{constructor(e,n,i,a,o,c,d){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=o,this.data=c,this.documentState=d}static newInvalidDocument(e){return new xn(e,0,Oe.min(),Oe.min(),Oe.min(),qn.empty(),0)}static newFoundDocument(e,n,i,a){return new xn(e,1,n,Oe.min(),i,a,0)}static newNoDocument(e,n){return new xn(e,2,n,Oe.min(),Oe.min(),qn.empty(),0)}static newUnknownDocument(e,n){return new xn(e,3,n,Oe.min(),Oe.min(),qn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Hf{constructor(e,n){this.position=e,this.inclusive=n}}function fx(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const o=e[a],c=t.position[a];if(o.field.isKeyField()?i=Ae.comparator(Ae.fromName(c.referenceValue),n.key):i=$l(c,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function mx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Rr(t.position[n],e.position[n]))return!1;return!0}class Hu{constructor(e,n="asc"){this.field=e,this.dir=n}}function NL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class CC{}class Qt extends CC{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new kL(e,n,i):n==="array-contains"?new OL(e,i):n==="in"?new VL(e,i):n==="not-in"?new PL(e,i):n==="array-contains-any"?new jL(e,i):new Qt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new DL(e,i):new ML(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison($l(n,this.value)):n!==null&&Ea(this.value)===Ea(n)&&this.matchesComparison($l(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $i extends CC{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new $i(e,n)}matches(e){return RC(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function RC(t){return t.op==="and"}function NC(t){return IL(t)&&RC(t)}function IL(t){for(const e of t.filters)if(e instanceof $i)return!1;return!0}function uy(t){if(t instanceof Qt)return t.field.canonicalString()+t.op.toString()+Gl(t.value);if(NC(t))return t.filters.map((e=>uy(e))).join(",");{const e=t.filters.map((n=>uy(n))).join(",");return`${t.op}(${e})`}}function IC(t,e){return t instanceof Qt?(function(i,a){return a instanceof Qt&&i.op===a.op&&i.field.isEqual(a.field)&&Rr(i.value,a.value)})(t,e):t instanceof $i?(function(i,a){return a instanceof $i&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((o,c,d)=>o&&IC(c,a.filters[d])),!0):!1})(t,e):void Ie(19439)}function kC(t){return t instanceof Qt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Gl(n.value)}`})(t):t instanceof $i?(function(n){return n.op.toString()+" {"+n.getFilters().map(kC).join(" ,")+"}"})(t):"Filter"}class kL extends Qt{constructor(e,n,i){super(e,n,i),this.key=Ae.fromName(i.referenceValue)}matches(e){const n=Ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class DL extends Qt{constructor(e,n){super(e,"in",n),this.keys=DC("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class ML extends Qt{constructor(e,n){super(e,"not-in",n),this.keys=DC("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function DC(t,e){return(e.arrayValue?.values||[]).map((n=>Ae.fromName(n.referenceValue)))}class OL extends Qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Rv(n)&&qu(n.arrayValue,this.value)}}class VL extends Qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&qu(this.value.arrayValue,n)}}class PL extends Qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(qu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!qu(this.value.arrayValue,n)}}class jL extends Qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Rv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>qu(this.value.arrayValue,i)))}}class LL{constructor(e,n=null,i=[],a=[],o=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=o,this.startAt=c,this.endAt=d,this.Te=null}}function px(t,e=null,n=[],i=[],a=null,o=null,c=null){return new LL(t,e,n,i,a,o,c)}function Nv(t){const e=Pe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>uy(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),vm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>Gl(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>Gl(i))).join(",")),e.Te=n}return e.Te}function Iv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!NL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!IC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!mx(t.startAt,e.startAt)&&mx(t.endAt,e.endAt)}function dy(t){return Ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class ac{constructor(e,n=null,i=[],a=[],o=null,c="F",d=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=o,this.limitType=c,this.startAt=d,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function UL(t,e,n,i,a,o,c,d){return new ac(t,e,n,i,a,o,c,d)}function _m(t){return new ac(t)}function gx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function MC(t){return t.collectionGroup!==null}function Au(t){const e=Pe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new en(gn.comparator);return c.filters.forEach((h=>{h.getFlattenedFilters().forEach((f=>{f.isInequality()&&(d=d.add(f.field))}))})),d})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Hu(o,i))})),n.has(gn.keyField().canonicalString())||e.Ie.push(new Hu(gn.keyField(),i))}return e.Ie}function Er(t){const e=Pe(t);return e.Ee||(e.Ee=zL(e,Au(t))),e.Ee}function zL(t,e){if(t.limitType==="F")return px(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new Hu(a.field,o)}));const n=t.endAt?new Hf(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Hf(t.startAt.position,t.startAt.inclusive):null;return px(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function hy(t,e){const n=t.filters.concat([e]);return new ac(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function $f(t,e,n){return new ac(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function wm(t,e){return Iv(Er(t),Er(e))&&t.limitType===e.limitType}function OC(t){return`${Nv(Er(t))}|lt:${t.limitType}`}function Tl(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((a=>kC(a))).join(", ")}]`),vm(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>Gl(a))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>Gl(a))).join(",")),`Target(${i})`})(Er(t))}; limitType=${t.limitType})`}function Tm(t,e){return e.isFoundDocument()&&(function(i,a){const o=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Ae.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(t,e)&&(function(i,a){for(const o of Au(i))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(i,a){for(const o of i.filters)if(!o.matches(a))return!1;return!0})(t,e)&&(function(i,a){return!(i.startAt&&!(function(c,d,h){const f=fx(c,d,h);return c.inclusive?f<=0:f<0})(i.startAt,Au(i),a)||i.endAt&&!(function(c,d,h){const f=fx(c,d,h);return c.inclusive?f>=0:f>0})(i.endAt,Au(i),a))})(t,e)}function BL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function VC(t){return(e,n)=>{let i=!1;for(const a of Au(t)){const o=FL(a,e,n);if(o!==0)return o;i=i||a.field.isKeyField()}return 0}}function FL(t,e,n){const i=t.field.isKeyField()?Ae.comparator(e.key,n.key):(function(o,c,d){const h=c.data.field(o),f=d.data.field(o);return h!==null&&f!==null?$l(h,f):Ie(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ie(19790,{direction:t.dir})}}class Do{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,o]of i)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ka(this.inner,((n,i)=>{for(const[a,o]of i)e(a,o)}))}isEmpty(){return vC(this.inner)}size(){return this.innerSize}}const qL=new St(Ae.comparator);function fs(){return qL}const PC=new St(Ae.comparator);function pu(...t){let e=PC;for(const n of t)e=e.insert(n.key,n);return e}function jC(t){let e=PC;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function yo(){return Cu()}function LC(){return Cu()}function Cu(){return new Do((t=>t.toString()),((t,e)=>t.isEqual(e)))}const HL=new St(Ae.comparator),$L=new en(Ae.comparator);function Qe(...t){let e=$L;for(const n of t)e=e.add(n);return e}const GL=new en(Ye);function KL(){return GL}function kv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bf(e)?"-0":e}}function UC(t){return{integerValue:""+t}}function YL(t,e){return wL(e)?UC(e):kv(t,e)}class Em{constructor(){this._=void 0}}function QL(t,e,n){return t instanceof Gf?(function(a,o){const c={fields:{[wC]:{stringValue:_C},[EC]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&Cv(o)&&(o=bm(o)),o&&(c.fields[TC]=o),{mapValue:c}})(n,e):t instanceof $u?BC(t,e):t instanceof Gu?FC(t,e):(function(a,o){const c=zC(a,o),d=yx(c)+yx(a.Ae);return cy(c)&&cy(a.Ae)?UC(d):kv(a.serializer,d)})(t,e)}function XL(t,e,n){return t instanceof $u?BC(t,e):t instanceof Gu?FC(t,e):n}function zC(t,e){return t instanceof Kf?(function(i){return cy(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(e)?e:{integerValue:0}:null}class Gf extends Em{}class $u extends Em{constructor(e){super(),this.elements=e}}function BC(t,e){const n=qC(e);for(const i of t.elements)n.some((a=>Rr(a,i)))||n.push(i);return{arrayValue:{values:n}}}class Gu extends Em{constructor(e){super(),this.elements=e}}function FC(t,e){let n=qC(e);for(const i of t.elements)n=n.filter((a=>!Rr(a,i)));return{arrayValue:{values:n}}}class Kf extends Em{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function yx(t){return jt(t.integerValue||t.doubleValue)}function qC(t){return Rv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function WL(t,e){return t.field.isEqual(e.field)&&(function(i,a){return i instanceof $u&&a instanceof $u||i instanceof Gu&&a instanceof Gu?Hl(i.elements,a.elements,Rr):i instanceof Kf&&a instanceof Kf?Rr(i.Ae,a.Ae):i instanceof Gf&&a instanceof Gf})(t.transform,e.transform)}class ZL{constructor(e,n){this.version=e,this.transformResults=n}}class xi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new xi}static exists(e){return new xi(void 0,e)}static updateTime(e){return new xi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _f(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class xm{}function HC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Dv(t.key,xi.none()):new ud(t.key,t.data,xi.none());{const n=t.data,i=qn.empty();let a=new en(gn.comparator);for(let o of e.fields)if(!a.has(o)){let c=n.field(o);c===null&&o.length>1&&(o=o.popLast(),c=n.field(o)),c===null?i.delete(o):i.set(o,c),a=a.add(o)}return new Da(t.key,i,new ii(a.toArray()),xi.none())}}function JL(t,e,n){t instanceof ud?(function(a,o,c){const d=a.value.clone(),h=bx(a.fieldTransforms,o,c.transformResults);d.setAll(h),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof Da?(function(a,o,c){if(!_f(a.precondition,o))return void o.convertToUnknownDocument(c.version);const d=bx(a.fieldTransforms,o,c.transformResults),h=o.data;h.setAll($C(a)),h.setAll(d),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):(function(a,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Ru(t,e,n,i){return t instanceof ud?(function(o,c,d,h){if(!_f(o.precondition,c))return d;const f=o.value.clone(),g=_x(o.fieldTransforms,h,c);return f.setAll(g),c.convertToFoundDocument(c.version,f).setHasLocalMutations(),null})(t,e,n,i):t instanceof Da?(function(o,c,d,h){if(!_f(o.precondition,c))return d;const f=_x(o.fieldTransforms,h,c),g=c.data;return g.setAll($C(o)),g.setAll(f),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((v=>v.field)))})(t,e,n,i):(function(o,c,d){return _f(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function eU(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),o=zC(i.transform,a||null);o!=null&&(n===null&&(n=qn.empty()),n.set(i.field,o))}return n||null}function vx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Hl(i,a,((o,c)=>WL(o,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ud extends xm{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Da extends xm{constructor(e,n,i,a,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function $C(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function bx(t,e,n){const i=new Map;rt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const o=t[a],c=o.transform,d=e.data.field(o.field);i.set(o.field,XL(c,d,n[a]))}return i}function _x(t,e,n){const i=new Map;for(const a of t){const o=a.transform,c=n.data.field(a.field);i.set(a.field,QL(o,c,e))}return i}class Dv extends xm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tU extends xm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class nU{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&JL(o,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Ru(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Ru(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=LC();return this.mutations.forEach((a=>{const o=e.get(a.key),c=o.overlayedDocument;let d=this.applyToLocalView(c,o.mutatedFields);d=n.has(a.key)?null:d;const h=HC(c,d);h!==null&&i.set(a.key,h),c.isValidDocument()||c.convertToNoDocument(Oe.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Qe())}isEqual(e){return this.batchId===e.batchId&&Hl(this.mutations,e.mutations,((n,i)=>vx(n,i)))&&Hl(this.baseMutations,e.baseMutations,((n,i)=>vx(n,i)))}}class Mv{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){rt(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return HL})();const o=e.mutations;for(let c=0;c<o.length;c++)a=a.insert(o[c].key,i[c].version);return new Mv(e,n,i,a)}}class iU{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class rU{constructor(e,n){this.count=e,this.unchangedNames=n}}var Kt,Ze;function sU(t){switch(t){case se.OK:return Ie(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Ie(15467,{code:t})}}function GC(t){if(t===void 0)return hs("GRPC error has no .code"),se.UNKNOWN;switch(t){case Kt.OK:return se.OK;case Kt.CANCELLED:return se.CANCELLED;case Kt.UNKNOWN:return se.UNKNOWN;case Kt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Kt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Kt.INTERNAL:return se.INTERNAL;case Kt.UNAVAILABLE:return se.UNAVAILABLE;case Kt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Kt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Kt.NOT_FOUND:return se.NOT_FOUND;case Kt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Kt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Kt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Kt.ABORTED:return se.ABORTED;case Kt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Kt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Kt.DATA_LOSS:return se.DATA_LOSS;default:return Ie(39323,{code:t})}}(Ze=Kt||(Kt={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";function aU(){return new TextEncoder}const oU=new pa([4294967295,4294967295],0);function wx(t){const e=aU().encode(t),n=new oC;return n.update(e),new Uint8Array(n.digest())}function Tx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new pa([n,i],0),new pa([a,o],0)]}class Ov{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new gu(`Invalid padding: ${n}`);if(i<0)throw new gu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new gu(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new gu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=pa.fromNumber(this.ge)}ye(e,n,i){let a=e.add(n.multiply(pa.fromNumber(i)));return a.compare(oU)===1&&(a=new pa([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=wx(e),[i,a]=Tx(n);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,a,o);if(!this.we(c))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new Ov(o,a,n);return i.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const n=wx(e),[i,a]=Tx(n);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,a,o);this.Se(c)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class gu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sm{constructor(e,n,i,a,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,dd.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Sm(Oe.min(),a,new St(Ye),fs(),Qe())}}class dd{constructor(e,n,i,a,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new dd(i,n,Qe(),Qe(),Qe())}}class wf{constructor(e,n,i,a){this.be=e,this.removedTargetIds=n,this.key=i,this.De=a}}class KC{constructor(e,n){this.targetId=e,this.Ce=n}}class YC{constructor(e,n,i=vn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class Ex{constructor(){this.ve=0,this.Fe=xx(),this.Me=vn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Qe(),n=Qe(),i=Qe();return this.Fe.forEach(((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Ie(38017,{changeType:o})}})),new dd(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=xx()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,rt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class lU{constructor(e){this.Ge=e,this.ze=new Map,this.je=fs(),this.Je=ef(),this.He=ef(),this.Ye=new St(Ye)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Ie(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,i=e.Ce.count,a=this.ot(n);if(a){const o=a.target;if(dy(o))if(i===0){const c=new Ae(o.path);this.et(n,c,xn.newNoDocument(c,Oe.min()))}else rt(i===1,20013,{expectedCount:i});else{const c=this._t(n);if(c!==i){const d=this.ut(e),h=d?this.ct(d,e,c):1;if(h!==0){this.it(n);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:o=0}=n;let c,d;try{c=Ta(i).toUint8Array()}catch(h){if(h instanceof bC)return ql("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{d=new Ov(c,a,o)}catch(h){return ql(h instanceof gu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return d.ge===0?null:d}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach((o=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.et(n,o,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((o,c)=>{const d=this.ot(c);if(d){if(o.current&&dy(d.target)){const h=new Ae(d.target.path);this.It(h).has(c)||this.Et(c,h)||this.et(c,h,xn.newNoDocument(h,e))}o.Be&&(n.set(c,o.ke()),o.qe())}}));let i=Qe();this.He.forEach(((o,c)=>{let d=!0;c.forEachWhile((h=>{const f=this.ot(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(i=i.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(e)));const a=new Sm(e,n,this.Ye,this.je,i);return this.je=fs(),this.Je=ef(),this.He=ef(),this.Ye=new St(Ye),a}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Ex,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new en(Ye),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new en(Ye),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ve("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Ex),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ef(){return new St(Ae.comparator)}function xx(){return new St(Ae.comparator)}const cU={asc:"ASCENDING",desc:"DESCENDING"},uU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dU={and:"AND",or:"OR"};class hU{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function fy(t,e){return t.useProto3Json||vm(e)?e:{value:e}}function Yf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function QC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function fU(t,e){return Yf(t,e.toTimestamp())}function xr(t){return rt(!!t,49232),Oe.fromTimestamp((function(n){const i=wa(n);return new We(i.seconds,i.nanos)})(t))}function Vv(t,e){return my(t,e).canonicalString()}function my(t,e){const n=(function(a){return new gt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function XC(t){const e=gt.fromString(t);return rt(tR(e),10190,{key:e.toString()}),e}function py(t,e){return Vv(t.databaseId,e.path)}function h0(t,e){const n=XC(e);if(n.get(1)!==t.databaseId.projectId)throw new ge(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ge(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ae(ZC(n))}function WC(t,e){return Vv(t.databaseId,e)}function mU(t){const e=XC(t);return e.length===4?gt.emptyPath():ZC(e)}function gy(t){return new gt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ZC(t){return rt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Sx(t,e,n){return{name:py(t,e),fields:n.value.mapValue.fields}}function pU(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ie(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=(function(f,g){return f.useProto3Json?(rt(g===void 0||typeof g=="string",58123),vn.fromBase64String(g||"")):(rt(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),vn.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(f){const g=f.code===void 0?se.UNKNOWN:GC(f.code);return new ge(g,f.message||"")})(c);n=new YC(i,a,o,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=h0(t,i.document.name),o=xr(i.document.updateTime),c=i.document.createTime?xr(i.document.createTime):Oe.min(),d=new qn({mapValue:{fields:i.document.fields}}),h=xn.newFoundDocument(a,o,c,d),f=i.targetIds||[],g=i.removedTargetIds||[];n=new wf(f,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=h0(t,i.document),o=i.readTime?xr(i.readTime):Oe.min(),c=xn.newNoDocument(a,o),d=i.removedTargetIds||[];n=new wf([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=h0(t,i.document),o=i.removedTargetIds||[];n=new wf([],o,a,null)}else{if(!("filter"in e))return Ie(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:o}=i,c=new rU(a,o),d=i.targetId;n=new KC(d,c)}}return n}function gU(t,e){let n;if(e instanceof ud)n={update:Sx(t,e.key,e.value)};else if(e instanceof Dv)n={delete:py(t,e.key)};else if(e instanceof Da)n={update:Sx(t,e.key,e.data),updateMask:SU(e.fieldMask)};else{if(!(e instanceof tU))return Ie(16599,{Vt:e.type});n={verify:py(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(o,c){const d=c.transform;if(d instanceof Gf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof $u)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Gu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Kf)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Ie(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:fU(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ie(27497)})(t,e.precondition)),n}function yU(t,e){return t&&t.length>0?(rt(e!==void 0,14353),t.map((n=>(function(a,o){let c=a.updateTime?xr(a.updateTime):xr(o);return c.isEqual(Oe.min())&&(c=xr(o)),new ZL(c,a.transformResults||[])})(n,e)))):[]}function vU(t,e){return{documents:[WC(t,e.path)]}}function bU(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=WC(t,a);const o=(function(f){if(f.length!==0)return eR($i.create(f,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const c=(function(f){if(f.length!==0)return f.map((g=>(function(_){return{field:El(_.field),direction:TU(_.dir)}})(g)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=fy(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:a}}function _U(t){let e=mU(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){rt(i===1,65062);const g=n.from[0];g.allDescendants?a=g.collectionId:e=e.child(g.collectionId)}let o=[];n.where&&(o=(function(v){const _=JC(v);return _ instanceof $i&&NC(_)?_.getFilters():[_]})(n.where));let c=[];n.orderBy&&(c=(function(v){return v.map((_=>(function(k){return new Hu(xl(k.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(_)))})(n.orderBy));let d=null;n.limit&&(d=(function(v){let _;return _=typeof v=="object"?v.value:v,vm(_)?null:_})(n.limit));let h=null;n.startAt&&(h=(function(v){const _=!!v.before,x=v.values||[];return new Hf(x,_)})(n.startAt));let f=null;return n.endAt&&(f=(function(v){const _=!v.before,x=v.values||[];return new Hf(x,_)})(n.endAt)),UL(e,a,c,o,d,"F",h,f)}function wU(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function JC(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=xl(n.unaryFilter.field);return Qt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=xl(n.unaryFilter.field);return Qt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=xl(n.unaryFilter.field);return Qt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=xl(n.unaryFilter.field);return Qt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Qt.create(xl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return $i.create(n.compositeFilter.filters.map((i=>JC(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}})(n.compositeFilter.op))})(t):Ie(30097,{filter:t})}function TU(t){return cU[t]}function EU(t){return uU[t]}function xU(t){return dU[t]}function El(t){return{fieldPath:t.canonicalString()}}function xl(t){return gn.fromServerFormat(t.fieldPath)}function eR(t){return t instanceof Qt?(function(n){if(n.op==="=="){if(hx(n.value))return{unaryFilter:{field:El(n.field),op:"IS_NAN"}};if(dx(n.value))return{unaryFilter:{field:El(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(hx(n.value))return{unaryFilter:{field:El(n.field),op:"IS_NOT_NAN"}};if(dx(n.value))return{unaryFilter:{field:El(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:El(n.field),op:EU(n.op),value:n.value}}})(t):t instanceof $i?(function(n){const i=n.getFilters().map((a=>eR(a)));return i.length===1?i[0]:{compositeFilter:{op:xU(n.op),filters:i}}})(t):Ie(54877,{filter:t})}function SU(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function tR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class ua{constructor(e,n,i,a,o=Oe.min(),c=Oe.min(),d=vn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=h}withSequenceNumber(e){return new ua(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ua(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ua(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ua(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class AU{constructor(e){this.yt=e}}function CU(t){const e=_U({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?$f(e,e.limit,"L"):e}class RU{constructor(){this.Cn=new NU}addToCollectionParentIndex(e,n){return this.Cn.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(_a.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(_a.min())}updateCollectionGroup(e,n,i){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class NU{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new en(gt.comparator),o=!a.has(i);return this.index[n]=a.add(i),o}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new en(gt.comparator)).toArray()}}const Ax={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nR=41943040;class Bn{static withCacheSize(e){return new Bn(e,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}Bn.DEFAULT_COLLECTION_PERCENTILE=10,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bn.DEFAULT=new Bn(nR,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bn.DISABLED=new Bn(-1,0,0);class Kl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Kl(0)}static cr(){return new Kl(-1)}}const Cx="LruGarbageCollector",IU=1048576;function Rx([t,e],[n,i]){const a=Ye(t,n);return a===0?Ye(e,i):a}class kU{constructor(e){this.Ir=e,this.buffer=new en(Rx),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();Rx(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class DU{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ve(Cx,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){sc(n)?ve(Cx,"Ignoring IndexedDB error during garbage collection: ",n):await rc(n)}await this.Vr(3e5)}))}}class MU{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return le.resolve(ym.ce);const i=new kU(n);return this.mr.forEachTarget(e,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(Ax)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ax):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,a,o,c,d,h,f;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,c=Date.now(),this.nthSequenceNumber(e,a)))).next((v=>(i=v,d=Date.now(),this.removeTargets(e,i,n)))).next((v=>(o=v,h=Date.now(),this.removeOrphanedDocuments(e,i)))).next((v=>(f=Date.now(),wl()<=Ke.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-g}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${o} targets in `+(h-d)+`ms
	Removed ${v} documents in `+(f-h)+`ms
Total Duration: ${f-g}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:v}))))}}function OU(t,e){return new MU(t,e)}class VU{constructor(){this.changes=new Do((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?le.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class PU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class jU{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(i!==null&&Ru(i.mutation,a,ii.empty(),We.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Qe()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Qe()){const a=yo();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,i).next((o=>{let c=pu();return o.forEach(((d,h)=>{c=c.insert(d,h.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const i=yo();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Qe())))}populateOverlays(e,n,i){const a=[];return i.forEach((o=>{n.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(e,a).next((o=>{o.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,i,a){let o=fs();const c=Cu(),d=(function(){return Cu()})();return n.forEach(((h,f)=>{const g=i.get(f.key);a.has(f.key)&&(g===void 0||g.mutation instanceof Da)?o=o.insert(f.key,f):g!==void 0?(c.set(f.key,g.mutation.getFieldMask()),Ru(g.mutation,f,g.mutation.getFieldMask(),We.now())):c.set(f.key,ii.empty())})),this.recalculateAndSaveOverlays(e,o).next((h=>(h.forEach(((f,g)=>c.set(f,g))),n.forEach(((f,g)=>d.set(f,new PU(g,c.get(f)??null)))),d)))}recalculateAndSaveOverlays(e,n){const i=Cu();let a=new St(((c,d)=>c-d)),o=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((h=>{const f=n.get(h);if(f===null)return;let g=i.get(h)||ii.empty();g=d.applyToLocalView(f,g),i.set(h,g);const v=(a.get(d.batchId)||Qe()).add(h);a=a.insert(d.batchId,v)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const h=d.getNext(),f=h.key,g=h.value,v=LC();g.forEach((_=>{if(!o.has(_)){const x=HC(n.get(_),i.get(_));x!==null&&v.set(_,x),o=o.add(_)}})),c.push(this.documentOverlayCache.saveOverlays(e,f,v))}return le.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,a){return(function(c){return Ae.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):MC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next((o=>{const c=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-o.size):le.resolve(yo());let d=zu,h=o;return c.next((f=>le.forEach(f,((g,v)=>(d<v.largestBatchId&&(d=v.largestBatchId),o.get(g)?le.resolve():this.remoteDocumentCache.getEntry(e,g).next((_=>{h=h.insert(g,_)}))))).next((()=>this.populateOverlays(e,f,o))).next((()=>this.computeViews(e,h,f,Qe()))).next((g=>({batchId:d,changes:jC(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ae(n)).next((i=>{let a=pu();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const o=n.collectionGroup;let c=pu();return this.indexManager.getCollectionParents(e,o).next((d=>le.forEach(d,(h=>{const f=(function(v,_){return new ac(_,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,i,a).next((g=>{g.forEach(((v,_)=>{c=c.insert(v,_)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,i,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,a)))).next((c=>{o.forEach(((h,f)=>{const g=f.getKey();c.get(g)===null&&(c=c.insert(g,xn.newInvalidDocument(g)))}));let d=pu();return c.forEach(((h,f)=>{const g=o.get(h);g!==void 0&&Ru(g.mutation,f,ii.empty(),We.now()),Tm(n,f)&&(d=d.insert(h,f))})),d}))}}class LU{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return le.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:xr(a.createTime)}})(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:CU(a.bundledQuery),readTime:xr(a.readTime)}})(n)),le.resolve()}}class UU{constructor(){this.overlays=new St(Ae.comparator),this.qr=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const i=yo();return le.forEach(n,(a=>this.getOverlay(e,a).next((o=>{o!==null&&i.set(a,o)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((a,o)=>{this.St(e,n,o)})),le.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(i)),le.resolve()}getOverlaysForCollection(e,n,i){const a=yo(),o=n.length+1,c=new Ae(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const h=d.getNext().value,f=h.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&h.largestBatchId>i&&a.set(h.getKey(),h)}return le.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let o=new St(((f,g)=>f-g));const c=this.overlays.getIterator();for(;c.hasNext();){const f=c.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>i){let g=o.get(f.largestBatchId);g===null&&(g=yo(),o=o.insert(f.largestBatchId,g)),g.set(f.getKey(),f)}}const d=yo(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((f,g)=>d.set(f,g))),!(d.size()>=a)););return le.resolve(d)}St(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new iU(n,i));let o=this.qr.get(n);o===void 0&&(o=Qe(),this.qr.set(n,o)),this.qr.set(n,o.add(i.key))}}class zU{constructor(){this.sessionToken=vn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}class Pv{constructor(){this.Qr=new en(an.$r),this.Ur=new en(an.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new an(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Gr(new an(e,n))}zr(e,n){e.forEach((i=>this.removeReference(i,n)))}jr(e){const n=new Ae(new gt([])),i=new an(n,e),a=new an(n,e+1),o=[];return this.Ur.forEachInRange([i,a],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ae(new gt([])),i=new an(n,e),a=new an(n,e+1);let o=Qe();return this.Ur.forEachInRange([i,a],(c=>{o=o.add(c.key)})),o}containsKey(e){const n=new an(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class an{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ae.comparator(e.key,n.key)||Ye(e.Yr,n.Yr)}static Kr(e,n){return Ye(e.Yr,n.Yr)||Ae.comparator(e.key,n.key)}}class BU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new en(an.$r)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new nU(o,n,i,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new an(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return le.resolve(c)}lookupMutationBatch(e,n){return le.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.ei(i),o=a<0?0:a;return le.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?Av:this.tr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new an(n,0),a=new an(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,a],(c=>{const d=this.Xr(c.Yr);o.push(d)})),le.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new en(Ye);return n.forEach((a=>{const o=new an(a,0),c=new an(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(d=>{i=i.add(d.Yr)}))})),le.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let o=i;Ae.isDocumentKey(o)||(o=o.child(""));const c=new an(new Ae(o),0);let d=new en(Ye);return this.Zr.forEachWhile((h=>{const f=h.key.path;return!!i.isPrefixOf(f)&&(f.length===a&&(d=d.add(h.Yr)),!0)}),c),le.resolve(this.ti(d))}ti(e){const n=[];return e.forEach((i=>{const a=this.Xr(i);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){rt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return le.forEach(n.mutations,(a=>{const o=new an(a.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,n){const i=new an(n,0),a=this.Zr.firstAfterOrEqual(i);return le.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class FU{constructor(e){this.ri=e,this.docs=(function(){return new St(Ae.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),o=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return le.resolve(i?i.document.mutableCopy():xn.newInvalidDocument(n))}getEntries(e,n){let i=fs();return n.forEach((a=>{const o=this.docs.get(a);i=i.insert(a,o?o.document.mutableCopy():xn.newInvalidDocument(a))})),le.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let o=fs();const c=n.path,d=new Ae(c.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(d);for(;h.hasNext();){const{key:f,value:{document:g}}=h.getNext();if(!c.isPrefixOf(f.path))break;f.path.length>c.length+1||yL(gL(g),i)<=0||(a.has(g.key)||Tm(n,g))&&(o=o.insert(g.key,g.mutableCopy()))}return le.resolve(o)}getAllFromCollectionGroup(e,n,i,a){Ie(9500)}ii(e,n){return le.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new qU(this)}getSize(e){return le.resolve(this.size)}}class qU extends VU{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(i)})),le.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class HU{constructor(e){this.persistence=e,this.si=new Do((n=>Nv(n)),Iv),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.oi=0,this._i=new Pv,this.targetCount=0,this.ai=Kl.ur()}forEachTarget(e,n){return this.si.forEach(((i,a)=>n(a))),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),le.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Kl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.Pr(n),le.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,i){let a=0;const o=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&i.get(d.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),le.waitFor(o).next((()=>a))}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return le.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),le.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const a=this.persistence.referenceDelegate,o=[];return a&&n.forEach((c=>{o.push(a.markPotentiallyOrphaned(e,c))})),le.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return le.resolve(i)}containsKey(e,n){return le.resolve(this._i.containsKey(n))}}class iR{constructor(e,n){this.ui={},this.overlays={},this.ci=new ym(0),this.li=!1,this.li=!0,this.hi=new zU,this.referenceDelegate=e(this),this.Pi=new HU(this),this.indexManager=new RU,this.remoteDocumentCache=(function(a){return new FU(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new AU(n),this.Ii=new LU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new UU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new BU(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){ve("MemoryPersistence","Starting transaction:",e);const a=new $U(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((o=>this.referenceDelegate.di(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ai(e,n){return le.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,n))))}}class $U extends bL{constructor(e){super(),this.currentSequenceNumber=e}}class jv{constructor(e){this.persistence=e,this.Ri=new Pv,this.Vi=null}static mi(e){return new jv(e)}get fi(){if(this.Vi)return this.Vi;throw Ie(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),le.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),le.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((o=>this.fi.add(o.toString())))})).next((()=>i.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.fi,(i=>{const a=Ae.fromPath(i);return this.gi(e,a).next((o=>{o||n.removeEntry(a,Oe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return le.or([()=>le.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Qf{constructor(e,n){this.persistence=e,this.pi=new Do((i=>TL(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=OU(this,n)}static mi(e,n){return new Qf(e,n)}Ei(){}di(e){return le.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((a=>i+a))))}wr(e){let n=0;return this.pr(e,(i=>{n++})).next((()=>n))}pr(e,n){return le.forEach(this.pi,((i,a)=>this.br(e,i,a).next((o=>o?le.resolve():n(a)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,n).next((d=>{d||(i++,o.removeEntry(c,Oe.min()))})))).next((()=>o.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),le.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),le.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),le.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=vf(e.data.value)),n}br(e,n,i){return le.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return le.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Lv{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=a}static As(e,n){let i=Qe(),a=Qe();for(const o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new Lv(e,n.fromCache,i,a)}}class GU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class KU{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return v5()?8:_L(Cn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,a){const o={result:null};return this.ys(e,n).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(e,n,a,i).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new GU;return this.Ss(e,n,c).next((d=>{if(o.result=d,this.Vs)return this.bs(e,n,c,d.size)}))})).next((()=>o.result))}bs(e,n,i,a){return i.documentReadCount<this.fs?(wl()<=Ke.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",Tl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),le.resolve()):(wl()<=Ke.DEBUG&&ve("QueryEngine","Query:",Tl(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(wl()<=Ke.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",Tl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Er(n))):le.resolve())}ys(e,n){if(gx(n))return le.resolve(null);let i=Er(n);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=$f(n,null,"F"),i=Er(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((o=>{const c=Qe(...o);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,i).next((h=>{const f=this.Ds(n,d);return this.Cs(n,f,c,h.readTime)?this.ys(e,$f(n,null,"F")):this.vs(e,f,n,h)}))))})))))}ws(e,n,i,a){return gx(n)||a.isEqual(Oe.min())?le.resolve(null):this.ps.getDocuments(e,i).next((o=>{const c=this.Ds(n,o);return this.Cs(n,c,i,a)?le.resolve(null):(wl()<=Ke.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Tl(n)),this.vs(e,c,n,pL(a,zu)).next((d=>d)))}))}Ds(e,n){let i=new en(VC(e));return n.forEach(((a,o)=>{Tm(e,o)&&(i=i.add(o))})),i}Cs(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(e,n,i){return wl()<=Ke.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",Tl(n)),this.ps.getDocumentsMatchingQuery(e,n,_a.min(),i)}vs(e,n,i,a){return this.ps.getDocumentsMatchingQuery(e,i,a).next((o=>(n.forEach((c=>{o=o.insert(c.key,c)})),o)))}}const Uv="LocalStore",YU=3e8;class QU{constructor(e,n,i,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new St(Ye),this.xs=new Do((o=>Nv(o)),Iv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jU(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function XU(t,e,n,i){return new QU(t,e,n,i)}async function rR(t,e){const n=Pe(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next((o=>(a=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(i)))).next((o=>{const c=[],d=[];let h=Qe();for(const f of a){c.push(f.batchId);for(const g of f.mutations)h=h.add(g.key)}for(const f of o){d.push(f.batchId);for(const g of f.mutations)h=h.add(g.key)}return n.localDocuments.getDocuments(i,h).next((f=>({Ls:f,removedBatchIds:c,addedBatchIds:d})))}))}))}function WU(t,e){const n=Pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,h,f,g){const v=f.batch,_=v.keys();let x=le.resolve();return _.forEach((k=>{x=x.next((()=>g.getEntry(h,k))).next((C=>{const N=f.docVersions.get(k);rt(N!==null,48541),C.version.compareTo(N)<0&&(v.applyToRemoteDocument(C,f),C.isValidDocument()&&(C.setReadTime(f.commitVersion),g.addEntry(C)))}))})),x.next((()=>d.mutationQueue.removeMutationBatch(h,v)))})(n,i,e,o).next((()=>o.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(d){let h=Qe();for(let f=0;f<d.mutationResults.length;++f)d.mutationResults[f].transformResults.length>0&&(h=h.add(d.batch.mutations[f].key));return h})(e)))).next((()=>n.localDocuments.getDocuments(i,a)))}))}function sR(t){const e=Pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function ZU(t,e){const n=Pe(t),i=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const d=[];e.targetChanges.forEach(((g,v)=>{const _=a.get(v);if(!_)return;d.push(n.Pi.removeMatchingKeys(o,g.removedDocuments,v).next((()=>n.Pi.addMatchingKeys(o,g.addedDocuments,v))));let x=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?x=x.withResumeToken(vn.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):g.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(g.resumeToken,i)),a=a.insert(v,x),(function(C,N,D){return C.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=YU?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0})(_,x,g)&&d.push(n.Pi.updateTargetData(o,x))}));let h=fs(),f=Qe();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(o,g))})),d.push(JU(o,c,e.documentUpdates).next((g=>{h=g.ks,f=g.qs}))),!i.isEqual(Oe.min())){const g=n.Pi.getLastRemoteSnapshotVersion(o).next((v=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i)));d.push(g)}return le.waitFor(d).next((()=>c.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,h,f))).next((()=>h))})).then((o=>(n.Ms=a,o)))}function JU(t,e,n){let i=Qe(),a=Qe();return n.forEach((o=>i=i.add(o))),e.getEntries(t,i).next((o=>{let c=fs();return n.forEach(((d,h)=>{const f=o.get(d);h.isFoundDocument()!==f.isFoundDocument()&&(a=a.add(d)),h.isNoDocument()&&h.version.isEqual(Oe.min())?(e.removeEntry(d,h.readTime),c=c.insert(d,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),c=c.insert(d,h)):ve(Uv,"Ignoring outdated watch update for ",d,". Current version:",f.version," Watch version:",h.version)})),{ks:c,qs:a}}))}function e8(t,e){const n=Pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Av),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function t8(t,e){const n=Pe(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return n.Pi.getTargetData(i,e).next((o=>o?(a=o,le.resolve(a)):n.Pi.allocateTargetId(i).next((c=>(a=new ua(e,c,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=n.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i}))}async function yy(t,e,n){const i=Pe(t),a=i.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!sc(c))throw c;ve(Uv,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ms=i.Ms.remove(e),i.xs.delete(a.target)}function Nx(t,e,n){const i=Pe(t);let a=Oe.min(),o=Qe();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(h,f,g){const v=Pe(h),_=v.xs.get(g);return _!==void 0?le.resolve(v.Ms.get(_)):v.Pi.getTargetData(f,g)})(i,c,Er(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,d.targetId).next((h=>{o=h}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,e,n?a:Oe.min(),n?o:Qe()))).next((d=>(n8(i,BL(e),d),{documents:d,Qs:o})))))}function n8(t,e,n){let i=t.Os.get(e)||Oe.min();n.forEach(((a,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),t.Os.set(e,i)}class Ix{constructor(){this.activeTargetIds=KL()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class i8{constructor(){this.Mo=new Ix,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Ix,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class r8{Oo(e){}shutdown(){}}const kx="ConnectivityMonitor";class Dx{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ve(kx,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ve(kx,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let tf=null;function vy(){return tf===null?tf=(function(){return 268435456+Math.round(2147483648*Math.random())})():tf++,"0x"+tf.toString(16)}const f0="RestConnection",s8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class a8{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===Ff?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(e,n,i,a,o){const c=vy(),d=this.zo(e,n.toUriEncodedString());ve(f0,`Sending RPC '${e}' ${c}:`,d,i);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,a,o);const{host:f}=new URL(d),g=tc(f);return this.Jo(e,d,h,i,g).then((v=>(ve(f0,`Received RPC '${e}' ${c}: `,v),v)),(v=>{throw ql(f0,`RPC '${e}' ${c} failed with error: `,v,"url: ",d,"request:",i),v}))}Ho(e,n,i,a,o,c){return this.Go(e,n,i,a,o)}jo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ic})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,o)=>e[o]=a)),i&&i.headers.forEach(((a,o)=>e[o]=a))}zo(e,n){const i=s8[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}class o8{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const wn="WebChannelConnection";class l8 extends a8{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,a,o){const c=vy();return new Promise(((d,h)=>{const f=new lC;f.setWithCredentials(!0),f.listenOnce(cC.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case yf.NO_ERROR:const v=f.getResponseJson();ve(wn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(v)),d(v);break;case yf.TIMEOUT:ve(wn,`RPC '${e}' ${c} timed out`),h(new ge(se.DEADLINE_EXCEEDED,"Request time out"));break;case yf.HTTP_ERROR:const _=f.getStatus();if(ve(wn,`RPC '${e}' ${c} failed with status:`,_,"response text:",f.getResponseText()),_>0){let x=f.getResponseJson();Array.isArray(x)&&(x=x[0]);const k=x?.error;if(k&&k.status&&k.message){const C=(function(D){const j=D.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(j)>=0?j:se.UNKNOWN})(k.status);h(new ge(C,k.message))}else h(new ge(se.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new ge(se.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{l_:e,streamId:c,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{ve(wn,`RPC '${e}' ${c} completed.`)}}));const g=JSON.stringify(a);ve(wn,`RPC '${e}' ${c} sending request:`,a),f.send(n,"POST",g,i,15)}))}T_(e,n,i){const a=vy(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=hC(),d=dC(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,n,i),h.encodeInitMessageHeaders=!0;const g=o.join("");ve(wn,`Creating RPC '${e}' stream ${a}: ${g}`,h);const v=c.createWebChannel(g,h);this.I_(v);let _=!1,x=!1;const k=new o8({Yo:N=>{x?ve(wn,`Not sending because RPC '${e}' stream ${a} is closed:`,N):(_||(ve(wn,`Opening RPC '${e}' stream ${a} transport.`),v.open(),_=!0),ve(wn,`RPC '${e}' stream ${a} sending:`,N),v.send(N))},Zo:()=>v.close()}),C=(N,D,j)=>{N.listen(D,(U=>{try{j(U)}catch(Q){setTimeout((()=>{throw Q}),0)}}))};return C(v,mu.EventType.OPEN,(()=>{x||(ve(wn,`RPC '${e}' stream ${a} transport opened.`),k.o_())})),C(v,mu.EventType.CLOSE,(()=>{x||(x=!0,ve(wn,`RPC '${e}' stream ${a} transport closed`),k.a_(),this.E_(v))})),C(v,mu.EventType.ERROR,(N=>{x||(x=!0,ql(wn,`RPC '${e}' stream ${a} transport errored. Name:`,N.name,"Message:",N.message),k.a_(new ge(se.UNAVAILABLE,"The operation could not be completed")))})),C(v,mu.EventType.MESSAGE,(N=>{if(!x){const D=N.data[0];rt(!!D,16349);const j=D,U=j?.error||j[0]?.error;if(U){ve(wn,`RPC '${e}' stream ${a} received error:`,U);const Q=U.status;let re=(function(R){const M=Kt[R];if(M!==void 0)return GC(M)})(Q),ne=U.message;re===void 0&&(re=se.INTERNAL,ne="Unknown error status: "+Q+" with message "+U.message),x=!0,k.a_(new ge(re,ne)),v.close()}else ve(wn,`RPC '${e}' stream ${a} received:`,D),k.u_(D)}})),C(d,uC.STAT_EVENT,(N=>{N.stat===ay.PROXY?ve(wn,`RPC '${e}' stream ${a} detected buffering proxy`):N.stat===ay.NOPROXY&&ve(wn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{k.__()}),0),k}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function m0(){return typeof document<"u"?document:null}function Am(t){return new hU(t,!0)}class aR{constructor(e,n,i=1e3,a=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=a,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&ve("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Mx="PersistentStream";class oR{constructor(e,n,i,a,o,c,d,h){this.Mi=e,this.S_=i,this.b_=a,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new aR(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(hs(n.toString()),hs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===n&&this.G_(i,a)}),(i=>{e((()=>{const a=new ge(se.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ve(Mx,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ve(Mx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class c8 extends oR{constructor(e,n,i,a,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,c),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=pU(this.serializer,e),i=(function(o){if(!("targetChange"in o))return Oe.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Oe.min():c.readTime?xr(c.readTime):Oe.min()})(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=gy(this.serializer),n.addTarget=(function(o,c){let d;const h=c.target;if(d=dy(h)?{documents:vU(o,h)}:{query:bU(o,h).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=QC(o,c.resumeToken);const f=fy(o,c.expectedCount);f!==null&&(d.expectedCount=f)}else if(c.snapshotVersion.compareTo(Oe.min())>0){d.readTime=Yf(o,c.snapshotVersion.toTimestamp());const f=fy(o,c.expectedCount);f!==null&&(d.expectedCount=f)}return d})(this.serializer,e);const i=wU(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=gy(this.serializer),n.removeTarget=e,this.q_(n)}}class u8 extends oR{constructor(e,n,i,a,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return rt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,rt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){rt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=yU(e.writeResults,e.commitTime),i=xr(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=gy(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>gU(this.serializer,i)))};this.q_(n)}}class d8{}class h8 extends d8{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ge(se.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(e,my(n,i),a,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ge(se.UNKNOWN,o.toString())}))}Ho(e,n,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,my(n,i),a,c,d,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ge(se.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class f8{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(hs(n),this.aa=!1):ve("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const No="RemoteStore";class m8{constructor(e,n,i,a,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{Mo(this)&&(ve(No,"Restarting streams for network reachability change."),await(async function(h){const f=Pe(h);f.Ea.add(4),await hd(f),f.Ra.set("Unknown"),f.Ea.delete(4),await Cm(f)})(this))}))})),this.Ra=new f8(i,a)}}async function Cm(t){if(Mo(t))for(const e of t.da)await e(!0)}async function hd(t){for(const e of t.da)await e(!1)}function lR(t,e){const n=Pe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),qv(n)?Fv(n):oc(n).O_()&&Bv(n,e))}function zv(t,e){const n=Pe(t),i=oc(n);n.Ia.delete(e),i.O_()&&cR(n,e),n.Ia.size===0&&(i.O_()?i.L_():Mo(n)&&n.Ra.set("Unknown"))}function Bv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}oc(t).Y_(e)}function cR(t,e){t.Va.Ue(e),oc(t).Z_(e)}function Fv(t){t.Va=new lU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),oc(t).start(),t.Ra.ua()}function qv(t){return Mo(t)&&!oc(t).x_()&&t.Ia.size>0}function Mo(t){return Pe(t).Ea.size===0}function uR(t){t.Va=void 0}async function p8(t){t.Ra.set("Online")}async function g8(t){t.Ia.forEach(((e,n)=>{Bv(t,e)}))}async function y8(t,e){uR(t),qv(t)?(t.Ra.ha(e),Fv(t)):t.Ra.set("Unknown")}async function v8(t,e,n){if(t.Ra.set("Online"),e instanceof YC&&e.state===2&&e.cause)try{await(async function(a,o){const c=o.cause;for(const d of o.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))})(t,e)}catch(i){ve(No,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Xf(t,i)}else if(e instanceof wf?t.Va.Ze(e):e instanceof KC?t.Va.st(e):t.Va.tt(e),!n.isEqual(Oe.min()))try{const i=await sR(t.localStore);n.compareTo(i)>=0&&await(function(o,c){const d=o.Va.Tt(c);return d.targetChanges.forEach(((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const g=o.Ia.get(f);g&&o.Ia.set(f,g.withResumeToken(h.resumeToken,c))}})),d.targetMismatches.forEach(((h,f)=>{const g=o.Ia.get(h);if(!g)return;o.Ia.set(h,g.withResumeToken(vn.EMPTY_BYTE_STRING,g.snapshotVersion)),cR(o,h);const v=new ua(g.target,h,f,g.sequenceNumber);Bv(o,v)})),o.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(i){ve(No,"Failed to raise snapshot:",i),await Xf(t,i)}}async function Xf(t,e,n){if(!sc(e))throw e;t.Ea.add(1),await hd(t),t.Ra.set("Offline"),n||(n=()=>sR(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ve(No,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Cm(t)}))}function dR(t,e){return e().catch((n=>Xf(t,n,e)))}async function Rm(t){const e=Pe(t),n=xa(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Av;for(;b8(e);)try{const a=await e8(e.localStore,i);if(a===null){e.Ta.length===0&&n.L_();break}i=a.batchId,_8(e,a)}catch(a){await Xf(e,a)}hR(e)&&fR(e)}function b8(t){return Mo(t)&&t.Ta.length<10}function _8(t,e){t.Ta.push(e);const n=xa(t);n.O_()&&n.X_&&n.ea(e.mutations)}function hR(t){return Mo(t)&&!xa(t).x_()&&t.Ta.length>0}function fR(t){xa(t).start()}async function w8(t){xa(t).ra()}async function T8(t){const e=xa(t);for(const n of t.Ta)e.ea(n.mutations)}async function E8(t,e,n){const i=t.Ta.shift(),a=Mv.from(i,e,n);await dR(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Rm(t)}async function x8(t,e){e&&xa(t).X_&&await(async function(i,a){if((function(c){return sU(c)&&c!==se.ABORTED})(a.code)){const o=i.Ta.shift();xa(i).B_(),await dR(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,a))),await Rm(i)}})(t,e),hR(t)&&fR(t)}async function Ox(t,e){const n=Pe(t);n.asyncQueue.verifyOperationInProgress(),ve(No,"RemoteStore received new credentials");const i=Mo(n);n.Ea.add(3),await hd(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Cm(n)}async function S8(t,e){const n=Pe(t);e?(n.Ea.delete(2),await Cm(n)):e||(n.Ea.add(2),await hd(n),n.Ra.set("Unknown"))}function oc(t){return t.ma||(t.ma=(function(n,i,a){const o=Pe(n);return o.sa(),new c8(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:p8.bind(null,t),t_:g8.bind(null,t),r_:y8.bind(null,t),H_:v8.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),qv(t)?Fv(t):t.Ra.set("Unknown")):(await t.ma.stop(),uR(t))}))),t.ma}function xa(t){return t.fa||(t.fa=(function(n,i,a){const o=Pe(n);return o.sa(),new u8(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:w8.bind(null,t),r_:x8.bind(null,t),ta:T8.bind(null,t),na:E8.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Rm(t)):(await t.fa.stop(),t.Ta.length>0&&(ve(No,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class Hv{constructor(e,n,i,a,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=o,this.deferred=new as,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,o){const c=Date.now()+i,d=new Hv(e,n,c,a,o);return d.start(i),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $v(t,e){if(hs("AsyncQueue",`${e}: ${t}`),sc(t))return new ge(se.UNAVAILABLE,`${e}: ${t}`);throw t}class jl{static emptySet(e){return new jl(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ae.comparator(n.key,i.key):(n,i)=>Ae.comparator(n.key,i.key),this.keyedMap=pu(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof jl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=i.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new jl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class Vx{constructor(){this.ga=new St(Ae.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ie(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class Yl{constructor(e,n,i,a,o,c,d,h,f){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,n,i,a,o){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new Yl(e,n,jl.emptySet(n),c,i,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}class A8{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class C8{constructor(){this.queries=Px(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=Pe(n),o=a.queries;a.queries=Px(),o.forEach(((c,d)=>{for(const h of d.Sa)h.onError(i)}))})(this,new ge(se.ABORTED,"Firestore shutting down"))}}function Px(){return new Do((t=>OC(t)),wm)}async function Gv(t,e){const n=Pe(t);let i=3;const a=e.query;let o=n.queries.get(a);o?!o.ba()&&e.Da()&&(i=2):(o=new A8,i=e.Da()?0:1);try{switch(i){case 0:o.wa=await n.onListen(a,!0);break;case 1:o.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=$v(c,`Initialization of query '${Tl(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&Yv(n)}async function Kv(t,e){const n=Pe(t),i=e.query;let a=3;const o=n.queries.get(i);if(o){const c=o.Sa.indexOf(e);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?a=e.Da()?0:1:!o.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function R8(t,e){const n=Pe(t);let i=!1;for(const a of e){const o=a.query,c=n.queries.get(o);if(c){for(const d of c.Sa)d.Fa(a)&&(i=!0);c.wa=a}}i&&Yv(n)}function N8(t,e,n){const i=Pe(t),a=i.queries.get(e);if(a)for(const o of a.Sa)o.onError(n);i.queries.delete(e)}function Yv(t){t.Ca.forEach((e=>{e.next()}))}var by,jx;(jx=by||(by={})).Ma="default",jx.Cache="cache";class Qv{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Yl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Yl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==by.Cache}}class mR{constructor(e){this.key=e}}class pR{constructor(e){this.key=e}}class I8{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Qe(),this.mutatedKeys=Qe(),this.eu=VC(e),this.tu=new jl(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new Vx,a=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const h=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,f=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((g,v)=>{const _=a.get(g),x=Tm(this.query,v)?v:null,k=!!_&&this.mutatedKeys.has(_.key),C=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let N=!1;_&&x?_.data.isEqual(x.data)?k!==C&&(i.track({type:3,doc:x}),N=!0):this.su(_,x)||(i.track({type:2,doc:x}),N=!0,(h&&this.eu(x,h)>0||f&&this.eu(x,f)<0)&&(d=!0)):!_&&x?(i.track({type:0,doc:x}),N=!0):_&&!x&&(i.track({type:1,doc:_}),N=!0,(h||f)&&(d=!0)),N&&(x?(c=c.add(x),o=C?o.add(g):o.delete(g)):(c=c.delete(g),o=o.delete(g)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const g=this.query.limitType==="F"?c.last():c.first();c=c.delete(g.key),o=o.delete(g.key),i.track({type:1,doc:g})}return{tu:c,iu:i,Cs:d,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((g,v)=>(function(x,k){const C=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{Rt:N})}};return C(x)-C(k)})(g.type,v.type)||this.eu(g.doc,v.doc))),this.ou(i),a=a??!1;const d=n&&!a?this._u():[],h=this.Xa.size===0&&this.current&&!a?1:0,f=h!==this.Za;return this.Za=h,c.length!==0||f?{snapshot:new Yl(this.query,e.tu,o,c,e.mutatedKeys,h===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Vx,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Qe(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return e.forEach((i=>{this.Xa.has(i)||n.push(new pR(i))})),this.Xa.forEach((i=>{e.has(i)||n.push(new mR(i))})),n}cu(e){this.Ya=e.Qs,this.Xa=Qe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Yl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Xv="SyncEngine";class k8{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class D8{constructor(e){this.key=e,this.hu=!1}}class M8{constructor(e,n,i,a,o,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Do((d=>OC(d)),wm),this.Iu=new Map,this.Eu=new Set,this.du=new St(Ae.comparator),this.Au=new Map,this.Ru=new Pv,this.Vu={},this.mu=new Map,this.fu=Kl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function O8(t,e,n=!0){const i=wR(t);let a;const o=i.Tu.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await gR(i,e,n,!0),a}async function V8(t,e){const n=wR(t);await gR(n,e,!0,!1)}async function gR(t,e,n,i){const a=await t8(t.localStore,Er(e)),o=a.targetId,c=t.sharedClientState.addLocalQueryTarget(o,n);let d;return i&&(d=await P8(t,e,o,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&lR(t.remoteStore,a),d}async function P8(t,e,n,i,a){t.pu=(v,_,x)=>(async function(C,N,D,j){let U=N.view.ru(D);U.Cs&&(U=await Nx(C.localStore,N.query,!1).then((({documents:S})=>N.view.ru(S,U))));const Q=j&&j.targetChanges.get(N.targetId),re=j&&j.targetMismatches.get(N.targetId)!=null,ne=N.view.applyChanges(U,C.isPrimaryClient,Q,re);return Ux(C,N.targetId,ne.au),ne.snapshot})(t,v,_,x);const o=await Nx(t.localStore,e,!0),c=new I8(e,o.Qs),d=c.ru(o.documents),h=dd.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),f=c.applyChanges(d,t.isPrimaryClient,h);Ux(t,n,f.au);const g=new k8(e,n,c);return t.Tu.set(e,g),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function j8(t,e,n){const i=Pe(t),a=i.Tu.get(e),o=i.Iu.get(a.targetId);if(o.length>1)return i.Iu.set(a.targetId,o.filter((c=>!wm(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await yy(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),n&&zv(i.remoteStore,a.targetId),_y(i,a.targetId)})).catch(rc)):(_y(i,a.targetId),await yy(i.localStore,a.targetId,!0))}async function L8(t,e){const n=Pe(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),zv(n.remoteStore,i.targetId))}async function U8(t,e,n){const i=G8(t);try{const a=await(function(c,d){const h=Pe(c),f=We.now(),g=d.reduce(((x,k)=>x.add(k.key)),Qe());let v,_;return h.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let k=fs(),C=Qe();return h.Ns.getEntries(x,g).next((N=>{k=N,k.forEach(((D,j)=>{j.isValidDocument()||(C=C.add(D))}))})).next((()=>h.localDocuments.getOverlayedDocuments(x,k))).next((N=>{v=N;const D=[];for(const j of d){const U=eU(j,v.get(j.key).overlayedDocument);U!=null&&D.push(new Da(j.key,U,AC(U.value.mapValue),xi.exists(!0)))}return h.mutationQueue.addMutationBatch(x,f,D,d)})).next((N=>{_=N;const D=N.applyToLocalDocumentSet(v,C);return h.documentOverlayCache.saveOverlays(x,N.batchId,D)}))})).then((()=>({batchId:_.batchId,changes:jC(v)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(c,d,h){let f=c.Vu[c.currentUser.toKey()];f||(f=new St(Ye)),f=f.insert(d,h),c.Vu[c.currentUser.toKey()]=f})(i,a.batchId,n),await fd(i,a.changes),await Rm(i.remoteStore)}catch(a){const o=$v(a,"Failed to persist write");n.reject(o)}}async function yR(t,e){const n=Pe(t);try{const i=await ZU(n.localStore,e);e.targetChanges.forEach(((a,o)=>{const c=n.Au.get(o);c&&(rt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?rt(c.hu,14607):a.removedDocuments.size>0&&(rt(c.hu,42227),c.hu=!1))})),await fd(n,i,e)}catch(i){await rc(i)}}function Lx(t,e,n){const i=Pe(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach(((o,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const h=Pe(c);h.onlineState=d;let f=!1;h.queries.forEach(((g,v)=>{for(const _ of v.Sa)_.va(d)&&(f=!0)})),f&&Yv(h)})(i.eventManager,e),a.length&&i.Pu.H_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function z8(t,e,n){const i=Pe(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Au.get(e),o=a&&a.key;if(o){let c=new St(Ae.comparator);c=c.insert(o,xn.newNoDocument(o,Oe.min()));const d=Qe().add(o),h=new Sm(Oe.min(),new Map,new St(Ye),c,d);await yR(i,h),i.du=i.du.remove(o),i.Au.delete(e),Wv(i)}else await yy(i.localStore,e,!1).then((()=>_y(i,e,n))).catch(rc)}async function B8(t,e){const n=Pe(t),i=e.batch.batchId;try{const a=await WU(n.localStore,e);bR(n,i,null),vR(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await fd(n,a)}catch(a){await rc(a)}}async function F8(t,e,n){const i=Pe(t);try{const a=await(function(c,d){const h=Pe(c);return h.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let g;return h.mutationQueue.lookupMutationBatch(f,d).next((v=>(rt(v!==null,37113),g=v.keys(),h.mutationQueue.removeMutationBatch(f,v)))).next((()=>h.mutationQueue.performConsistencyCheck(f))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(f,g,d))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g))).next((()=>h.localDocuments.getDocuments(f,g)))}))})(i.localStore,e);bR(i,e,n),vR(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await fd(i,a)}catch(a){await rc(a)}}function vR(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function bR(t,e,n){const i=Pe(t);let a=i.Vu[i.currentUser.toKey()];if(a){const o=a.get(e);o&&(n?o.reject(n):o.resolve(),a=a.remove(e)),i.Vu[i.currentUser.toKey()]=a}}function _y(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((i=>{t.Ru.containsKey(i)||_R(t,i)}))}function _R(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(zv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Wv(t))}function Ux(t,e,n){for(const i of n)i instanceof mR?(t.Ru.addReference(i.key,e),q8(t,i)):i instanceof pR?(ve(Xv,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||_R(t,i.key)):Ie(19791,{wu:i})}function q8(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(ve(Xv,"New document in limbo: "+n),t.Eu.add(i),Wv(t))}function Wv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ae(gt.fromString(e)),i=t.fu.next();t.Au.set(i,new D8(n)),t.du=t.du.insert(n,i),lR(t.remoteStore,new ua(Er(_m(n.path)),i,"TargetPurposeLimboResolution",ym.ce))}}async function fd(t,e,n){const i=Pe(t),a=[],o=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((d,h)=>{c.push(i.pu(h,e,n).then((f=>{if((f||n)&&i.isPrimaryClient){const g=f?!f.fromCache:n?.targetChanges.get(h.targetId)?.current;i.sharedClientState.updateQueryState(h.targetId,g?"current":"not-current")}if(f){a.push(f);const g=Lv.As(h.targetId,f);o.push(g)}})))})),await Promise.all(c),i.Pu.H_(a),await(async function(h,f){const g=Pe(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>le.forEach(f,(_=>le.forEach(_.Es,(x=>g.persistence.referenceDelegate.addReference(v,_.targetId,x))).next((()=>le.forEach(_.ds,(x=>g.persistence.referenceDelegate.removeReference(v,_.targetId,x)))))))))}catch(v){if(!sc(v))throw v;ve(Uv,"Failed to update sequence numbers: "+v)}for(const v of f){const _=v.targetId;if(!v.fromCache){const x=g.Ms.get(_),k=x.snapshotVersion,C=x.withLastLimboFreeSnapshotVersion(k);g.Ms=g.Ms.insert(_,C)}}})(i.localStore,o))}async function H8(t,e){const n=Pe(t);if(!n.currentUser.isEqual(e)){ve(Xv,"User change. New user:",e.toKey());const i=await rR(n.localStore,e);n.currentUser=e,(function(o,c){o.mu.forEach((d=>{d.forEach((h=>{h.reject(new ge(se.CANCELLED,c))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await fd(n,i.Ls)}}function $8(t,e){const n=Pe(t),i=n.Au.get(e);if(i&&i.hu)return Qe().add(i.key);{let a=Qe();const o=n.Iu.get(e);if(!o)return a;for(const c of o){const d=n.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function wR(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=yR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=z8.bind(null,e),e.Pu.H_=R8.bind(null,e.eventManager),e.Pu.yu=N8.bind(null,e.eventManager),e}function G8(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=B8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=F8.bind(null,e),e}class Wf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Am(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return XU(this.persistence,new KU,e.initialUser,this.serializer)}Cu(e){return new iR(jv.mi,this.serializer)}Du(e){return new i8}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wf.provider={build:()=>new Wf};class K8 extends Wf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){rt(this.persistence.referenceDelegate instanceof Qf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new DU(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Bn.withCacheSize(this.cacheSizeBytes):Bn.DEFAULT;return new iR((i=>Qf.mi(i,n)),this.serializer)}}class wy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Lx(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=H8.bind(null,this.syncEngine),await S8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new C8})()}createDatastore(e){const n=Am(e.databaseInfo.databaseId),i=(function(o){return new l8(o)})(e.databaseInfo);return(function(o,c,d,h){return new h8(o,c,d,h)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,a,o,c,d){return new m8(i,a,o,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>Lx(this.syncEngine,n,0)),(function(){return Dx.v()?new Dx:new r8})())}createSyncEngine(e,n){return(function(a,o,c,d,h,f,g){const v=new M8(a,o,c,d,h,f);return g&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Pe(n);ve(No,"RemoteStore shutting down."),i.Ea.add(5),await hd(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}wy.provider={build:()=>new wy};class Zv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):hs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Sa="FirestoreClient";class Y8{constructor(e,n,i,a,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=En.UNAUTHENTICATED,this.clientId=Sv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async c=>{ve(Sa,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(ve(Sa,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new as;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=$v(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function p0(t,e){t.asyncQueue.verifyOperationInProgress(),ve(Sa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async a=>{i.isEqual(a)||(await rR(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function zx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Q8(t);ve(Sa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>Ox(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,a)=>Ox(e.remoteStore,a))),t._onlineComponents=e}async function Q8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ve(Sa,"Using user provided OfflineComponentProvider");try{await p0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===se.FAILED_PRECONDITION||a.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;ql("Error using user provided cache. Falling back to memory cache: "+n),await p0(t,new Wf)}}else ve(Sa,"Using default OfflineComponentProvider"),await p0(t,new K8(void 0));return t._offlineComponents}async function TR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ve(Sa,"Using user provided OnlineComponentProvider"),await zx(t,t._uninitializedComponentsProvider._online)):(ve(Sa,"Using default OnlineComponentProvider"),await zx(t,new wy))),t._onlineComponents}function X8(t){return TR(t).then((e=>e.syncEngine))}async function Zf(t){const e=await TR(t),n=e.eventManager;return n.onListen=O8.bind(null,e.syncEngine),n.onUnlisten=j8.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=V8.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=L8.bind(null,e.syncEngine),n}function W8(t,e,n={}){const i=new as;return t.asyncQueue.enqueueAndForget((async()=>(function(o,c,d,h,f){const g=new Zv({next:_=>{g.Nu(),c.enqueueAndForget((()=>Kv(o,v)));const x=_.docs.has(d);!x&&_.fromCache?f.reject(new ge(se.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&_.fromCache&&h&&h.source==="server"?f.reject(new ge(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(_)},error:_=>f.reject(_)}),v=new Qv(_m(d.path),g,{includeMetadataChanges:!0,qa:!0});return Gv(o,v)})(await Zf(t),t.asyncQueue,e,n,i))),i.promise}function Z8(t,e,n={}){const i=new as;return t.asyncQueue.enqueueAndForget((async()=>(function(o,c,d,h,f){const g=new Zv({next:_=>{g.Nu(),c.enqueueAndForget((()=>Kv(o,v))),_.fromCache&&h.source==="server"?f.reject(new ge(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(_)},error:_=>f.reject(_)}),v=new Qv(d,g,{includeMetadataChanges:!0,qa:!0});return Gv(o,v)})(await Zf(t),t.asyncQueue,e,n,i))),i.promise}function ER(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const Bx=new Map;const xR="firestore.googleapis.com",Fx=!0;class qx{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xR,this.ssl=Fx}else this.host=e.host,this.ssl=e.ssl??Fx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=nR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<IU)throw new ge(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ER(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ge(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ge(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ge(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nm{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new rL;switch(i.type){case"firstParty":return new lL(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ge(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=Bx.get(n);i&&(ve("ComponentProvider","Removing Datastore"),Bx.delete(n),i.terminate())})(this),Promise.resolve()}}function J8(t,e,n,i={}){t=$n(t,Nm);const a=tc(e),o=t._getSettings(),c={...o,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;a&&(y2(`https://${d}`),v2("Firestore",!0)),o.host!==xR&&o.host!==d&&ql("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...o,host:d,ssl:a,emulatorOptions:i};if(!xo(h,c)&&(t._setSettings(h),i.mockUserToken)){let f,g;if(typeof i.mockUserToken=="string")f=i.mockUserToken,g=En.MOCK_USER;else{f=c5(i.mockUserToken,t._app?.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new ge(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new En(v)}t._authCredentials=new sL(new mC(f,g))}}class ys{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ys(this.firestore,e,this._query)}}class It{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ga(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new It(this.firestore,e,this._key)}toJSON(){return{type:It._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(cd(n,It._jsonSchema))return new It(e,i||null,new Ae(gt.fromString(n.referencePath)))}}It._jsonSchemaVersion="firestore/documentReference/1.0",It._jsonSchema={type:Xt("string",It._jsonSchemaVersion),referencePath:Xt("string")};class ga extends ys{constructor(e,n,i){super(e,n,_m(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new It(this.firestore,null,new Ae(e))}withConverter(e){return new ga(this.firestore,e,this._path)}}function gr(t,e,...n){if(t=xt(t),pC("collection","path",e),t instanceof Nm){const i=gt.fromString(e,...n);return nx(i),new ga(t,null,i)}{if(!(t instanceof It||t instanceof ga))throw new ge(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(gt.fromString(e,...n));return nx(i),new ga(t.firestore,null,i)}}function Nt(t,e,...n){if(t=xt(t),arguments.length===1&&(e=Sv.newId()),pC("doc","path",e),t instanceof Nm){const i=gt.fromString(e,...n);return tx(i),new It(t,null,new Ae(i))}{if(!(t instanceof It||t instanceof ga))throw new ge(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(gt.fromString(e,...n));return tx(i),new It(t.firestore,t instanceof ga?t.converter:null,new Ae(i))}}const Hx="AsyncQueue";class $x{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new aR(this,"async_queue_retry"),this._c=()=>{const i=m0();i&&ve(Hx,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=m0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=m0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new as;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!sc(e))throw e;ve(Hx,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,hs("INTERNAL UNHANDLED ERROR: ",Gx(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=Hv.createAndSchedule(this,e,n,i,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&Ie(47125,{Pc:Gx(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Gx(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function Kx(t){return(function(n,i){if(typeof n!="object"||n===null)return!1;const a=n;for(const o of i)if(o in a&&typeof a[o]=="function")return!0;return!1})(t,["next","error","complete"])}class ms extends Nm{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new $x,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $x(e),this._firestoreClient=void 0,await e}}}function ez(t,e){const n=typeof t=="object"?t:T2(),i=typeof t=="string"?t:Ff,a=pv(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const o=o5("firestore");o&&J8(a,...o)}return a}function Im(t){if(t._terminated)throw new ge(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||tz(t),t._firestoreClient}function tz(t){const e=t._freezeSettings(),n=(function(a,o,c,d){return new SL(a,o,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,ER(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Y8(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(t._componentsProvider))}class wi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wi(vn.fromBase64String(e))}catch(n){throw new ge(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new wi(vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:wi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(cd(e,wi._jsonSchema))return wi.fromBase64String(e.bytes)}}wi._jsonSchemaVersion="firestore/bytes/1.0",wi._jsonSchema={type:Xt("string",wi._jsonSchemaVersion),bytes:Xt("string")};class km{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Jv{constructor(e){this._methodName=e}}class Sr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Sr._jsonSchemaVersion}}static fromJSON(e){if(cd(e,Sr._jsonSchema))return new Sr(e.latitude,e.longitude)}}Sr._jsonSchemaVersion="firestore/geoPoint/1.0",Sr._jsonSchema={type:Xt("string",Sr._jsonSchemaVersion),latitude:Xt("number"),longitude:Xt("number")};class Ar{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==a[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ar._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(cd(e,Ar._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ar(e.vectorValues);throw new ge(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ar._jsonSchemaVersion="firestore/vectorValue/1.0",Ar._jsonSchema={type:Xt("string",Ar._jsonSchemaVersion),vectorValues:Xt("object")};const nz=/^__.*__$/;class iz{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Da(e,this.data,this.fieldMask,n,this.fieldTransforms):new ud(e,this.data,n,this.fieldTransforms)}}class SR{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Da(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function AR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{Ac:t})}}class eb{constructor(e,n,i,a,o,c){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new eb({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Jf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(AR(this.Ac)&&nz.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class rz{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Am(e)}Cc(e,n,i,a=!1){return new eb({Ac:e,methodName:n,Dc:i,path:gn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Dm(t){const e=t._freezeSettings(),n=Am(t._databaseId);return new rz(t._databaseId,!!e.ignoreUndefinedProperties,n)}function CR(t,e,n,i,a,o={}){const c=t.Cc(o.merge||o.mergeFields?2:0,e,n,a);tb("Data must be an object, but it was:",c,i);const d=RR(i,c);let h,f;if(o.merge)h=new ii(c.fieldMask),f=c.fieldTransforms;else if(o.mergeFields){const g=[];for(const v of o.mergeFields){const _=Ty(e,v,n);if(!c.contains(_))throw new ge(se.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);IR(g,_)||g.push(_)}h=new ii(g),f=c.fieldTransforms.filter((v=>h.covers(v.field)))}else h=null,f=c.fieldTransforms;return new iz(new qn(d),h,f)}class Mm extends Jv{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mm}}function sz(t,e,n,i){const a=t.Cc(1,e,n);tb("Data must be an object, but it was:",a,i);const o=[],c=qn.empty();ka(i,((h,f)=>{const g=nb(e,h,n);f=xt(f);const v=a.yc(g);if(f instanceof Mm)o.push(g);else{const _=md(f,v);_!=null&&(o.push(g),c.set(g,_))}}));const d=new ii(o);return new SR(c,d,a.fieldTransforms)}function az(t,e,n,i,a,o){const c=t.Cc(1,e,n),d=[Ty(e,i,n)],h=[a];if(o.length%2!=0)throw new ge(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)d.push(Ty(e,o[_])),h.push(o[_+1]);const f=[],g=qn.empty();for(let _=d.length-1;_>=0;--_)if(!IR(f,d[_])){const x=d[_];let k=h[_];k=xt(k);const C=c.yc(x);if(k instanceof Mm)f.push(x);else{const N=md(k,C);N!=null&&(f.push(x),g.set(x,N))}}const v=new ii(f);return new SR(g,v,c.fieldTransforms)}function oz(t,e,n,i=!1){return md(n,t.Cc(i?4:3,e))}function md(t,e){if(NR(t=xt(t)))return tb("Unsupported field value:",e,t),RR(t,e);if(t instanceof Jv)return(function(i,a){if(!AR(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,a){const o=[];let c=0;for(const d of i){let h=md(d,a.wc(c));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),c++}return{arrayValue:{values:o}}})(t,e)}return(function(i,a){if((i=xt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return YL(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=We.fromDate(i);return{timestampValue:Yf(a.serializer,o)}}if(i instanceof We){const o=new We(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Yf(a.serializer,o)}}if(i instanceof Sr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof wi)return{bytesValue:QC(a.serializer,i._byteString)};if(i instanceof It){const o=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(o))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Vv(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Ar)return(function(c,d){return{mapValue:{fields:{[xC]:{stringValue:SC},[qf]:{arrayValue:{values:c.toArray().map((f=>{if(typeof f!="number")throw d.Sc("VectorValues must only contain numeric values.");return kv(d.serializer,f)}))}}}}}})(i,a);throw a.Sc(`Unsupported field value: ${gm(i)}`)})(t,e)}function RR(t,e){const n={};return vC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ka(t,((i,a)=>{const o=md(a,e.mc(i));o!=null&&(n[i]=o)})),{mapValue:{fields:n}}}function NR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof We||t instanceof Sr||t instanceof wi||t instanceof It||t instanceof Jv||t instanceof Ar)}function tb(t,e,n){if(!NR(n)||!gC(n)){const i=gm(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function Ty(t,e,n){if((e=xt(e))instanceof km)return e._internalPath;if(typeof e=="string")return nb(t,e);throw Jf("Field path arguments must be of type string or ",t,!1,void 0,n)}const lz=new RegExp("[~\\*/\\[\\]]");function nb(t,e,n){if(e.search(lz)>=0)throw Jf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new km(...e.split("."))._internalPath}catch{throw Jf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Jf(t,e,n,i,a){const o=i&&!i.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let h="";return(o||c)&&(h+=" (found",o&&(h+=` in field ${i}`),c&&(h+=` in document ${a}`),h+=")"),new ge(se.INVALID_ARGUMENT,d+t+h)}function IR(t,e){return t.some((n=>n.isEqual(e)))}class kR{constructor(e,n,i,a,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new It(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Om("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class cz extends kR{data(){return super.data()}}function Om(t,e){return typeof e=="string"?nb(t,e):e instanceof km?e._internalPath:e._delegate._internalPath}function DR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ge(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ib{}class rb extends ib{}function Fi(t,e,...n){let i=[];e instanceof ib&&i.push(e),i=i.concat(n),(function(o){const c=o.filter((h=>h instanceof sb)).length,d=o.filter((h=>h instanceof Vm)).length;if(c>1||c>0&&d>0)throw new ge(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)t=a._apply(t);return t}class Vm extends rb{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Vm(e,n,i)}_apply(e){const n=this._parse(e);return MR(e._query,n),new ys(e.firestore,e.converter,hy(e._query,n))}_parse(e){const n=Dm(e.firestore);return(function(o,c,d,h,f,g,v){let _;if(f.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new ge(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){Xx(v,g);const k=[];for(const C of v)k.push(Qx(h,o,C));_={arrayValue:{values:k}}}else _=Qx(h,o,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||Xx(v,g),_=oz(d,c,v,g==="in"||g==="not-in");return Qt.create(f,g,_)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Js(t,e,n){const i=e,a=Om("where",t);return Vm._create(a,i,n)}class sb extends ib{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new sb(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:$i.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,o){let c=a;const d=o.getFlattenedFilters();for(const h of d)MR(c,h),c=hy(c,h)})(e._query,n),new ys(e.firestore,e.converter,hy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ab extends rb{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ab(e,n)}_apply(e){const n=(function(a,o,c){if(a.startAt!==null)throw new ge(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ge(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Hu(o,c)})(e._query,this._field,this._direction);return new ys(e.firestore,e.converter,(function(a,o){const c=a.explicitOrderBy.concat([o]);return new ac(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function Ku(t,e="asc"){const n=e,i=Om("orderBy",t);return ab._create(i,n)}class ob extends rb{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new ob(e,n,i)}_apply(e){return new ys(e.firestore,e.converter,$f(e._query,this._limit,this._limitType))}}function Yx(t){return ob._create("limit",t,"F")}function Qx(t,e,n){if(typeof(n=xt(n))=="string"){if(n==="")throw new ge(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!MC(e)&&n.indexOf("/")!==-1)throw new ge(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(gt.fromString(n));if(!Ae.isDocumentKey(i))throw new ge(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return ux(t,new Ae(i))}if(n instanceof It)return ux(t,n._key);throw new ge(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gm(n)}.`)}function Xx(t,e){if(!Array.isArray(t)||t.length===0)throw new ge(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function MR(t,e){const n=(function(a,o){for(const c of a)for(const d of c.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ge(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class uz{convertValue(e,n="none"){switch(Ea(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ta(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return ka(e,((a,o)=>{i[a]=this.convertValue(o,n)})),i}convertVectorValue(e){const n=e.fields?.[qf].arrayValue?.values?.map((i=>jt(i.doubleValue)));return new Ar(n)}convertGeoPoint(e){return new Sr(jt(e.latitude),jt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=bm(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Bu(e));default:return null}}convertTimestamp(e){const n=wa(e);return new We(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=gt.fromString(e);rt(tR(i),9688,{name:e});const a=new Fu(i.get(1),i.get(3)),o=new Ae(i.popFirst(5));return a.isEqual(n)||hs(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}function OR(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}class yu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _o extends kR{constructor(e,n,i,a,o,c){super(e,n,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Tf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Om("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=_o._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}_o._jsonSchemaVersion="firestore/documentSnapshot/1.0",_o._jsonSchema={type:Xt("string",_o._jsonSchemaVersion),bundleSource:Xt("string","DocumentSnapshot"),bundleName:Xt("string"),bundle:Xt("string")};class Tf extends _o{data(e={}){return super.data(e)}}class wo{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new yu(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Tf(this._firestore,this._userDataWriter,i.key,i,new yu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const h=new Tf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new yu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:h,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>o||d.type!==3)).map((d=>{const h=new Tf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new yu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let f=-1,g=-1;return d.type!==0&&(f=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),g=c.indexOf(d.doc.key)),{type:dz(d.type),doc:h,oldIndex:f,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=wo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Sv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function dz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:t})}}function hz(t){t=$n(t,It);const e=$n(t.firestore,ms);return W8(Im(e),t._key).then((n=>VR(e,t,n)))}wo._jsonSchemaVersion="firestore/querySnapshot/1.0",wo._jsonSchema={type:Xt("string",wo._jsonSchemaVersion),bundleSource:Xt("string","QuerySnapshot"),bundleName:Xt("string"),bundle:Xt("string")};class lb extends uz{constructor(e){super(),this.firestore=e}convertBytes(e){return new wi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new It(this.firestore,null,n)}}function Ql(t){t=$n(t,ys);const e=$n(t.firestore,ms),n=Im(e),i=new lb(e);return DR(t._query),Z8(n,t._query).then((a=>new wo(e,i,t,a)))}function la(t,e,n){t=$n(t,It);const i=$n(t.firestore,ms),a=OR(t.converter,e,n);return jm(i,[CR(Dm(i),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,xi.none())])}function pd(t,e,n,...i){t=$n(t,It);const a=$n(t.firestore,ms),o=Dm(a);let c;return c=typeof(e=xt(e))=="string"||e instanceof km?az(o,"updateDoc",t._key,e,n,i):sz(o,"updateDoc",t._key,e),jm(a,[c.toMutation(t._key,xi.exists(!0))])}function Xl(t){return jm($n(t.firestore,ms),[new Dv(t._key,xi.none())])}function Pm(t,e){const n=$n(t.firestore,ms),i=Nt(t),a=OR(t.converter,e);return jm(n,[CR(Dm(t.firestore),"addDoc",i._key,a,t.converter!==null,{}).toMutation(i._key,xi.exists(!1))]).then((()=>i))}function To(t,...e){t=xt(t);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||Kx(e[i])||(n=e[i++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Kx(e[i])){const h=e[i];e[i]=h.next?.bind(h),e[i+1]=h.error?.bind(h),e[i+2]=h.complete?.bind(h)}let o,c,d;if(t instanceof It)c=$n(t.firestore,ms),d=_m(t._key.path),o={next:h=>{e[i]&&e[i](VR(c,t,h))},error:e[i+1],complete:e[i+2]};else{const h=$n(t,ys);c=$n(h.firestore,ms),d=h._query;const f=new lb(c);o={next:g=>{e[i]&&e[i](new wo(c,f,h,g))},error:e[i+1],complete:e[i+2]},DR(t._query)}return(function(f,g,v,_){const x=new Zv(_),k=new Qv(g,x,v);return f.asyncQueue.enqueueAndForget((async()=>Gv(await Zf(f),k))),()=>{x.Nu(),f.asyncQueue.enqueueAndForget((async()=>Kv(await Zf(f),k)))}})(Im(c),d,a,o)}function jm(t,e){return(function(i,a){const o=new as;return i.asyncQueue.enqueueAndForget((async()=>U8(await X8(i),a,o))),o.promise})(Im(t),e)}function VR(t,e,n){const i=n.docs.get(e._key),a=new lb(t);return new _o(t,a,e._key,i,new yu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){ic=a})(nc),Bl(new So("firestore",((i,{instanceIdentifier:a,options:o})=>{const c=i.getProvider("app").getImmediate(),d=new ms(new aL(i.getProvider("auth-internal")),new cL(c,i.getProvider("app-check-internal")),(function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new ge(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fu(f.options.projectId,g)})(c,a),c);return o={useFetchStreams:n,...o},d._setSettings(o),d}),"PUBLIC").setMultipleInstances(!0)),ma(WE,ZE,e),ma(WE,ZE,"esm2020")})();const fz={apiKey:"AIzaSyDwUA0paVI6n01aENV5Q2aLwVz1DEDtNuA",authDomain:"personal-budget-pwa-5defb.firebaseapp.com",projectId:"personal-budget-pwa-5defb",storageBucket:"personal-budget-pwa-5defb.firebasestorage.app",messagingSenderId:"137454342284",appId:"1:137454342284:web:d7a8169fd53f437e42aba9"},PR=w2(fz),ea=eL(PR),lt=ez(PR),g0=t=>({id:t.uid,username:t.email||t.uid,displayName:t.displayName||t.email?.split("@")[0]||"User",email:t.email||void 0}),Si=lm()(dv(t=>({currentUser:null,isAuthenticated:!1,loginError:null,isLoading:!1,isInitialized:!1,isInitializing:!0,lastAuthTime:null,offlineGracePeriod:10080*60*1e3,lastVerificationEmailSent:null,login:async(e,n)=>{t({isLoading:!0,loginError:null});try{const a=(await jj(ea,e,n)).user;if(!a.emailVerified)return await zE(ea),t({currentUser:null,isAuthenticated:!1,isLoading:!1,loginError:"Please verify your email address before signing in. Check your email for a verification link."}),console.log(` Login blocked: ${a.email} not verified`),!1;const o=g0(a);return t({currentUser:o,isAuthenticated:!0,isLoading:!1,loginError:null,lastAuthTime:Date.now()}),console.log(` User logged in: ${o.email}`),!0}catch(i){console.error("Login error:",i),console.error("Error code:",i.code),console.error("Error message:",i.message);let a="Login failed. Please try again.";if(i.code)switch(i.code){case"auth/invalid-email":a="Invalid email address.";break;case"auth/user-disabled":a="This account has been disabled.";break;case"auth/user-not-found":a="No account found with this email.";break;case"auth/wrong-password":a="Incorrect password.";break;case"auth/too-many-requests":a="Too many failed attempts. Please try again later.";break;case"auth/network-request-failed":a="Network error. Please check your connection and try again.";break;case"auth/invalid-credential":a="Invalid email or password.";break;default:console.warn(`Unhandled Firebase error code: ${i.code}`),a="Authentication failed. Please try again.";break}else console.warn("Non-Firebase error in login:",i),a="An unexpected error occurred. Please try again.";return t({currentUser:null,isAuthenticated:!1,isLoading:!1,loginError:a}),!1}},register:async(e,n,i)=>{t({isLoading:!0,loginError:null});try{const o=(await Pj(ea,e,n)).user;await Uj(o,{displayName:i}),await UE(o);const c=g0(o);return t({currentUser:c,isAuthenticated:!1,isLoading:!1,loginError:null,lastVerificationEmailSent:Date.now()}),console.log(` User registered: ${c.email}, verification email sent`),!0}catch(a){console.error("Registration error:",a);let o="Registration failed. Please try again.";switch(a.code){case"auth/email-already-in-use":o="An account with this email already exists.";break;case"auth/invalid-email":o="Invalid email address.";break;case"auth/weak-password":o="Password should be at least 6 characters.";break;case"auth/operation-not-allowed":o="Email/password accounts are not enabled.";break}return t({currentUser:null,isAuthenticated:!1,isLoading:!1,loginError:o}),!1}},logout:async()=>{try{await zE(ea),console.log(" User logged out")}catch(e){console.error("Logout error:",e)}},clearError:()=>{t({loginError:null})},sendPasswordReset:async e=>{t({isLoading:!0,loginError:null});try{return await Vj(ea,e),t({isLoading:!1}),!0}catch(n){console.error("Password reset error:",n);let i="Failed to send password reset email. Please try again.";switch(n.code){case"auth/user-not-found":i="No account found with this email.";break;case"auth/invalid-email":i="Invalid email address.";break;case"auth/too-many-requests":i="Too many attempts. Please try again later.";break}return t({isLoading:!1,loginError:i}),!1}},sendEmailVerification:async()=>{const e=ea.currentUser;if(!e)return t({loginError:"No user is currently signed in."}),!1;t({isLoading:!0,loginError:null});try{return await UE(e),t({isLoading:!1,lastVerificationEmailSent:Date.now()}),console.log(` Verification email sent to: ${e.email}`),!0}catch(n){console.error("Email verification error:",n);let i="Failed to send verification email. Please try again.";switch(n.code){case"auth/too-many-requests":i="Too many verification emails sent. Please wait before trying again.";break}return t({isLoading:!1,loginError:i}),!1}},resendEmailVerification:async()=>{const e=Si.getState();if(e.lastVerificationEmailSent){const n=Date.now()-e.lastVerificationEmailSent,i=60*1e3;if(n<i){const a=Math.ceil((i-n)/1e3);return t({loginError:`Please wait ${a} seconds before requesting another verification email.`}),!1}}return e.sendEmailVerification()},deleteAccount:async e=>{const n=ea.currentUser;if(!n||!n.email)return t({loginError:"No user is currently signed in."}),!1;t({isLoading:!0,loginError:null});try{const i=ko.credential(n.email,e);return await Oj(n,i),await qj(n),t({currentUser:null,isAuthenticated:!1,isLoading:!1,loginError:null,lastAuthTime:null}),console.log(` Account permanently deleted: ${n.email}`),!0}catch(i){console.error("Account deletion error:",i);let a="Failed to delete account. Please try again.";switch(i.code){case"auth/requires-recent-login":a="For security, please log out and log back in before deleting your account.";break;case"auth/wrong-password":a="Incorrect password. Please enter your current password.";break;case"auth/too-many-requests":a="Too many deletion attempts. Please wait before trying again.";break;case"auth/network-request-failed":a="Network error. Please check your connection and try again.";break}return t({isLoading:!1,loginError:a}),!1}},initializeAuth:()=>Si.getState().isInitialized?()=>{}:(t({isInitialized:!1}),Fj(ea,i=>{const a=Date.now(),o=Si.getState(),c=i?g0(i):null,d=o.lastAuthTime&&a-o.lastAuthTime<o.offlineGracePeriod,f=typeof navigator<"u"&&!navigator.onLine&&o.isAuthenticated&&d&&!c,g=i?i.emailVerified:!0,v=i&&g||!!f,_=i?c:f?o.currentUser:null;t({currentUser:_,isAuthenticated:v,isInitialized:!0,isLoading:!1,loginError:null,lastAuthTime:i&&g?a:o.lastAuthTime}),_?console.log(` Auth state: User is signed in (${_.email})`,f?"(offline grace period)":g?"(verified)":"(unverified)"):console.log(" Auth state: User is signed out")}))}),{name:"auth-storage",partialize:t=>({isAuthenticated:t.isAuthenticated,currentUser:t.currentUser,lastAuthTime:t.lastAuthTime,offlineGracePeriod:t.offlineGracePeriod,lastVerificationEmailSent:t.lastVerificationEmailSent})})),mz=t=>t==="income"?"Income":t==="expense"?"Expense":t==="transfer"?"Transfer":t,jR=t=>{const e=t.toLowerCase();return e==="income"||e==="expense"||e==="transfer"?e:"expense"},cb=t=>{const e=t.date?.toDate?.()?t.date.toDate().toISOString():t.date,n=new Date(e),i=`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}`;return{id:t.id,date:e,amount:typeof t.amount=="string"?parseFloat(t.amount)||0:t.amount,description:t.description||"",envelopeId:t.envelopeId||"",reconciled:t.reconciled??!1,type:mz(t.type),transferId:t.transferId??void 0,userId:t.userId,month:i}},pz=(t,e)=>({id:t.id,userId:e,envelopeId:t.envelopeId,amount:t.amount.toString(),date:We.fromDate(new Date(t.date)),description:t.description,reconciled:t.reconciled??!1,type:jR(t.type),transferId:t.transferId??null}),gz=t=>({envelopeId:t.envelopeId,amount:t.amount.toString(),date:We.fromDate(new Date(t.date)),description:t.description,reconciled:t.reconciled??!1,type:jR(t.type),transferId:t.transferId??null}),y0=t=>gr(lt,"users",t,"transactions"),vr={subscribeToTransactions:(t,e)=>{const n=Fi(y0(t),Ku("date","desc"));return To(n,a=>{const o=a.docs.map(c=>({id:c.id,...c.data()}));e(o)})},getAllTransactions:async t=>{console.log(` TransactionService.getAllTransactions: Fetching for user ${t}`);const e=Fi(y0(t),Ku("date","desc")),i=(await Ql(e)).docs.map(a=>{const o={id:a.id,...a.data()};return cb(o)});return console.log(` Fetched ${i.length} transactions:`,i.map(a=>({id:a.id,description:a.description,month:a.month}))),i},addTransaction:async t=>{const{userId:e,id:n,...i}=t;if(!e)throw new Error("User ID is required to create transaction");console.log(` TransactionService.addTransaction: Adding transaction for user ${e}:`,i),console.log(` Original transaction had temp ID: ${n}`);try{console.log(" About to call addDoc with:",i);const a=await Pm(y0(e),i);console.log(" addDoc succeeded, docRef:",a),console.log(` Document ID: ${a.id}`),console.log(` Document path: ${a.path}`);const o={id:a.id,...i,userId:e};return console.log(" Final result object:",o),o}catch(a){throw console.error(" addDoc failed:",a),console.error("Error message:",a.message),a}},updateTransaction:async(t,e,n)=>{const i=Nt(lt,"users",t,"transactions",e);return await pd(i,n)},deleteTransaction:async(t,e)=>{console.log(` TransactionService.deleteTransaction: Deleting transaction ${e} for user ${t}`);try{const n=Nt(lt,"users",t,"transactions",e);console.log(` Deleting document at path: ${n.path}`),await Xl(n),console.log(` TransactionService.deleteTransaction: Successfully deleted transaction ${e}`)}catch(n){throw console.error(` TransactionService.deleteTransaction: Failed to delete transaction ${e}:`,n),console.error("Error message:",n.message),n}}},v0=t=>gr(lt,"users",t,"envelopes"),Jr={subscribeToEnvelopes:(t,e)=>{const n=Fi(v0(t),Ku("orderIndex","asc"));return To(n,a=>{const o=a.docs.map(c=>({id:c.id,...c.data()}));e(o)})},getAllEnvelopes:async t=>{try{console.log(" EnvelopeService.getAllEnvelopes called for user:",t);const e=v0(t),a=(await Ql(e)).docs.map((o,c)=>({id:o.id,...o.data(),orderIndex:o.data().orderIndex??c})).sort((o,c)=>{const d=o.orderIndex??0,h=c.orderIndex??0;return d-h});return console.log(" Fetched envelopes:",a.length),a}catch(e){return console.error(" EnvelopeService.getAllEnvelopes failed:",e),[]}},createEnvelope:async t=>{const{userId:e,id:n,...i}=t;if(!e)throw new Error("User ID is required to create envelope");console.log(` EnvelopeService.createEnvelope: Adding envelope for user ${e}:`,i),console.log(` Original envelope had temp ID: ${n}`);try{const a=await Pm(v0(e),i);console.log(" Envelope addDoc succeeded, docRef:",a),console.log(` Document ID: ${a.id}`);const o={id:a.id,...i,userId:e};return console.log(" Final envelope result object:",o),o}catch(a){throw console.error(" Envelope addDoc failed:",a),a}},saveEnvelope:async(t,e)=>{if(!e.id)throw new Error("Envelope ID is required for save operation");const n=Nt(lt,"users",t,"envelopes",e.id);return await la(n,e,{merge:!0})},updateBalance:async(t,e,n)=>{const i=Nt(lt,"users",t,"envelopes",e);return await pd(i,{currentBalance:n,lastUpdated:new Date().toISOString()})},deleteEnvelope:async(t,e)=>{console.log(` EnvelopeService.deleteEnvelope: Deleting envelope ${e} for user ${t}`);const n=Nt(lt,"users",t,"envelopes",e);await Xl(n),console.log(` EnvelopeService.deleteEnvelope: Successfully deleted envelope ${e}`)}},yz=({set:t,get:e,getCurrentUserId:n,isNetworkError:i})=>{const a=o=>({id:o.id,date:o.date?.toDate?.()?o.date.toDate().toISOString():o.date,amount:parseFloat(o.amount)||0,description:o.description||"",envelopeId:o.envelopeId||"",reconciled:o.reconciled||!1,type:o.type==="income"?"Income":o.type==="expense"?"Expense":"Transfer",transferId:o.transferId||void 0,userId:o.userId||void 0});return{createEnvelope:async o=>{const c=o.currentBalance&&o.currentBalance>0,d=c?{...o,currentBalance:0,orderIndex:o.orderIndex??0}:{...o,orderIndex:o.orderIndex??0},h=`temp-${Date.now()}-${Math.random()}`,f={...d,id:h};if(t(g=>({envelopes:[...g.envelopes,f],isLoading:!0})),c){console.log(` Creating initial deposit transaction locally first: ${f.name} (tempId: ${h})`);try{await e().addTransaction({description:"Initial Deposit",amount:o.currentBalance,envelopeId:h,date:new Date().toISOString(),type:"Income",reconciled:!1}),console.log(" Initial deposit transaction created locally");const g=e().getEnvelopeBalance(h);console.log(` Test balance for temp envelope ${h}: $${g.toNumber()}`)}catch(g){console.error(" Failed to create initial deposit transaction locally:",g)}}try{console.log(" Attempting Firebase envelope creation...");const g=n(),v={...d,id:"",userId:g},_=await Jr.createEnvelope(v);console.log(" Firebase envelope creation successful:",_);const x={id:_.id,name:_.name,currentBalance:_.currentBalance,lastUpdated:_.lastUpdated,isActive:_.isActive??!0,orderIndex:_.orderIndex??0,userId:_.userId};if(t(k=>({envelopes:k.envelopes.map(C=>C.id===h?x:C),isLoading:!1,pendingSync:!1})),c){console.log(` Updating transactions from temp envelope ID ${h} to real ID ${_.id}`),console.log(" Transactions before update:",e().transactions.map(C=>({id:C.id,envelopeId:C.envelopeId,description:C.description}))),t(C=>({transactions:C.transactions.map(N=>N.envelopeId===h?{...N,envelopeId:_.id}:N)})),console.log(" Transactions after envelopeId update:",e().transactions.map(C=>({id:C.id,envelopeId:C.envelopeId,description:C.description})));const k=e().transactions.filter(C=>C.envelopeId===_.id&&C.id&&C.id.startsWith("temp-"));console.log(` Found ${k.length} transactions to sync for envelope ${_.id}:`,k.map(C=>({id:C.id,envelopeId:C.envelopeId})));for(const C of k)try{console.log(" Syncing transaction:",C);const N={...C,amount:C.amount.toString(),type:C.type.toLowerCase(),date:We.fromDate(new Date(C.date))},D=await vr.addTransaction(N);console.log(" Transaction synced:",D);const j=a(D);console.log(` Replacing temp transaction ${C.id} with Firebase transaction ${D.id}`),t(U=>({transactions:U.transactions.map(Q=>Q.id===C.id?j:Q)}))}catch(N){console.error(` Failed to sync transaction ${C.id}:`,N)}console.log(" Final transactions after sync:",e().transactions.map(C=>({id:C.id,envelopeId:C.envelopeId,description:C.description}))),t({pendingSync:!1}),console.log(` All transactions synced for envelope ${_.id}`)}}catch(g){console.error("Create Envelope Failed:",g),console.log("Error details:",{code:g?.code,message:g?.message,name:g?.name,isNetworkError:i(g)}),i(g)?(console.log(" Treating as offline scenario - keeping temp envelope and transactions"),t({isLoading:!1,pendingSync:!0,error:null})):(console.log(" Real error - removing temp envelope"),t(v=>({envelopes:v.envelopes.filter(_=>_.id!==h),transactions:v.transactions.filter(_=>_.envelopeId!==h),error:g.message,isLoading:!1})))}},addToEnvelope:async(o,c,d,h)=>{const f=h?typeof h=="string"?h:h.toISOString():new Date().toISOString();await e().addTransaction({description:d,amount:c,envelopeId:o,date:f,type:"Income",reconciled:!1})},spendFromEnvelope:async(o,c,d,h)=>{const f=h?typeof h=="string"?h:h.toISOString():new Date().toISOString();await e().addTransaction({description:d,amount:c,envelopeId:o,date:f,type:"Expense",reconciled:!1})},transferFunds:async(o,c,d,h,f)=>{console.log(`Transferring ${d} from ${o} to ${c} with note: ${h}`);const g=f?typeof f=="string"?f:f.toISOString():new Date().toISOString(),v=`transfer-${Date.now()}-${Math.random()}`;await e().addTransaction({description:`Transfer to ${e().envelopes.find(_=>_.id===c)?.name||"envelope"}`,amount:d,envelopeId:o,date:g,type:"Expense",transferId:v,reconciled:!1}),await e().addTransaction({description:`Transfer from ${e().envelopes.find(_=>_.id===o)?.name||"envelope"}`,amount:d,envelopeId:c,date:g,type:"Income",transferId:v,reconciled:!1})},deleteEnvelope:async o=>{const c=e().transactions.filter(d=>d.envelopeId===o);t(d=>({envelopes:d.envelopes.filter(h=>h.id!==o),transactions:d.transactions.filter(h=>h.envelopeId!==o),isLoading:!0}));try{const d=n();await Jr.deleteEnvelope(d,o);for(const h of c)h.id&&!h.id.startsWith("temp-")&&await vr.deleteTransaction(d,h.id);await e().removeEnvelopeFromTemplates(o),t({isLoading:!1})}catch(d){if(console.error("Delete Envelope Failed:",d),i(d))t({isLoading:!1,pendingSync:!0,error:null});else{const h=e().envelopes.find(f=>f.id===o);t(h?f=>({envelopes:[...f.envelopes,h],transactions:[...f.transactions,...c],error:d.message,isLoading:!1}):{error:d.message,isLoading:!1})}}},updateEnvelope:async o=>{t(c=>({envelopes:c.envelopes.map(d=>d.id===o.id?o:d),isLoading:!0}));try{const c=n();await Jr.saveEnvelope(c,o),t({isLoading:!1})}catch(c){console.error("Update Envelope Failed:",c),i(c)?t({isLoading:!1,pendingSync:!0,error:null}):t({error:c.message,isLoading:!1})}},renameEnvelope:async(o,c)=>{t(d=>({envelopes:d.envelopes.map(h=>h.id===o?{...h,name:c}:h),isLoading:!0}));try{t({isLoading:!1})}catch(d){console.error("Rename Envelope Failed:",d),t({error:d.message,isLoading:!1})}}}},b0=t=>gr(lt,"users",t,"distributionTemplates"),ni={subscribeToDistributionTemplates:(t,e)=>{const n=Fi(b0(t),Ku("lastUsed","desc"));return To(n,a=>{const o=a.docs.map(c=>({id:c.id,...c.data()}));e(o)})},getAllDistributionTemplates:async t=>{const e=Fi(b0(t),Ku("lastUsed","desc"));return(await Ql(e)).docs.map(i=>({id:i.id,...i.data()}))},createDistributionTemplate:async t=>{const{userId:e,id:n,...i}=t;if(!e)throw new Error("User ID is required to create distribution template");console.log(` DistributionTemplateService.createDistributionTemplate: Adding template for user ${e}:`,i);try{const a=await Pm(b0(e),i);console.log(" Template addDoc succeeded, docRef:",a);const o={id:a.id,...i,userId:e};return console.log(" Final template result object:",o),o}catch(a){throw console.error(" Template addDoc failed:",a),a}},saveDistributionTemplate:async(t,e)=>{const n=Nt(lt,"users",t,"distributionTemplates",e.id);return await la(n,e,{merge:!0})},updateDistributionTemplate:async(t,e,n)=>{const i=Nt(lt,"users",t,"distributionTemplates",e);return await pd(i,n)},deleteDistributionTemplate:async(t,e)=>{console.log(` DistributionTemplateService.deleteDistributionTemplate: Deleting template ${e} for user ${t}`);const n=Nt(lt,"users",t,"distributionTemplates",e);await Xl(n),console.log(` DistributionTemplateService.deleteDistributionTemplate: Successfully deleted template ${e}`)}},vz=({set:t,get:e,getCurrentUserId:n,isNetworkError:i})=>({saveTemplate:async(a,o,c)=>{console.log(" saveTemplate called with:",{name:a,distributions:o,note:c});try{const d=n(),h={id:`temp-${Date.now()}`,userId:d,name:a,note:c,lastUsed:new Date().toISOString(),distributions:o};console.log(" Attempting Firebase template save..."),console.log(" Current online status:",navigator.onLine);try{const f=ni.createDistributionTemplate(h),g=new Promise((_,x)=>setTimeout(()=>x(new Error("Firebase timeout - likely offline")),5e3)),v=await Promise.race([f,g]);console.log(" Firebase template save succeeded (online mode):",v),console.log(" Template saved to Firebase - real-time subscription will update local state"),console.log(" Template saved to Firebase:",v),console.log(" Store now has templates:",e().distributionTemplates.length)}catch(f){throw console.log(" Firebase template save failed or timed out:",f.message),f}}catch(d){console.error(" Failed to save template to Firebase, saving locally:",d),console.log(" Error details:",{name:d?.name||"Unknown",message:d?.message||"Unknown",code:d?.code||"Unknown",isNetworkError:i(d)});const h=n(),f={id:`local-${Date.now()}`,userId:h,name:a,note:c,lastUsed:new Date().toISOString(),distributions:o};console.log(" Saving template locally (offline):",f),t(g=>({distributionTemplates:[...g.distributionTemplates,f],pendingSync:!0})),console.log(" Template saved locally as fallback:",f),console.log(" Store now has templates:",e().distributionTemplates.length)}},updateTemplate:async a=>{try{const o=n();await ni.updateDistributionTemplate(o,a.id,{name:a.name,note:a.note,distributions:a.distributions,lastUsed:a.lastUsed}),t(c=>({distributionTemplates:c.distributionTemplates.map(d=>d.id===a.id?a:d)})),console.log(" Template updated in Firebase:",a.id)}catch(o){throw console.error(" Failed to update template in Firebase:",o),o}},deleteTemplate:async a=>{try{const o=n();await ni.deleteDistributionTemplate(o,a),t(c=>({distributionTemplates:c.distributionTemplates.filter(d=>d.id!==a)})),console.log(" Template deleted from Firebase:",a)}catch(o){throw console.error(" Failed to delete template from Firebase:",o),o}},cleanupOrphanedTemplates:async()=>{console.log(" Cleaning up orphaned templates...");const a=e().distributionTemplates,o=e().envelopes,c=new Set(o.map(h=>h.id));let d=0;for(const h of a){const f={...h.distributions},g={};for(const[v,_]of Object.entries(h.distributions))c.has(v)&&(g[v]=_);if(Object.keys(g).length===0){console.log(` Deleting orphaned template: ${h.name}`);const v=n();await ni.deleteDistributionTemplate(v,h.id),d++}else if(JSON.stringify(g)!==JSON.stringify(f)){console.log(` Updating template ${h.name} - removed orphaned envelope references`);const v=n();await ni.updateDistributionTemplate(v,h.id,{distributions:g}),d++}}d>0?console.log(` Cleaned up ${d} templates`):console.log(" No orphaned templates found")},updateTemplateEnvelopeReferences:async(a,o)=>{console.log(` Updating template references: ${a}  ${o}`);const c=e().distributionTemplates;let d=0;for(const h of c)if(h.distributions[a]!==void 0){const f={...h.distributions};f[o]=f[a],delete f[a],console.log(` Updating template: ${h.name}`);const g=n();await ni.updateDistributionTemplate(g,h.id,{distributions:f}),d++}d>0&&console.log(` Updated ${d} templates with new envelope reference`)},removeEnvelopeFromTemplates:async a=>{console.log(` Removing envelope ${a} from all templates`);const o=e().distributionTemplates;let c=0,d=0;for(const h of o)if(h.distributions[a]!==void 0){const f={...h.distributions};if(delete f[a],Object.keys(f).length===0){console.log(` Deleting template ${h.name} - no envelopes left`);const g=n();await ni.deleteDistributionTemplate(g,h.id),d++}else{console.log(` Removing envelope from template: ${h.name}`);const g=n();await ni.updateDistributionTemplate(g,h.id,{distributions:f}),c++}}(c>0||d>0)&&console.log(` Updated ${c} templates, deleted ${d} empty templates`)}}),_0=t=>gr(lt,"users",t,"appSettings"),es={subscribeToAppSettings:(t,e)=>{const n=Fi(_0(t),Yx(1));return To(n,a=>{if(a.empty){e(null);return}const o=a.docs.map(c=>({id:c.id,...c.data()}))[0];e(o)})},getAppSettings:async t=>{const e=Fi(_0(t),Yx(1)),n=await Ql(e);if(n.empty)return null;const i=n.docs[0];return{id:i.id,...i.data()}},createAppSettings:async t=>{const{userId:e,...n}=t;if(!e)throw new Error("User ID is required to create app settings");console.log(` AppSettingsService.createAppSettings: Creating settings for user ${e}:`,n);try{const i=await Pm(_0(e),n);console.log(" Settings addDoc succeeded, docRef:",i);const a={id:i.id,...n,userId:e};return console.log(" Final settings result object:",a),a}catch(i){throw console.error(" Settings addDoc failed:",i),i}},saveAppSettings:async(t,e)=>{const n=Nt(lt,"users",t,"appSettings",e.id);return await la(n,e,{merge:!0})},updateAppSettings:async(t,e,n)=>{const i=Nt(lt,"users",t,"appSettings",e);return await pd(i,n)},deleteAppSettings:async(t,e)=>{console.log(` AppSettingsService.deleteAppSettings: Deleting settings ${e} for user ${t}`);const n=Nt(lt,"users",t,"appSettings",e);await Xl(n),console.log(` AppSettingsService.deleteAppSettings: Successfully deleted settings ${e}`)}},LR=({set:t,get:e,getCurrentUserId:n})=>({updateAppSettings:async i=>{const a=e();if(!a.appSettings){try{await LR({set:t,get:e,getCurrentUserId:n}).initializeAppSettings();const o=e();if(o.appSettings){const c={...o.appSettings,...i};t({appSettings:c});const d=n();await es.updateAppSettings(d,o.appSettings.id,i),console.log(" App settings updated successfully")}}catch(o){console.error(" Failed to initialize/update settings:",o)}return}try{t(c=>({appSettings:{...c.appSettings,...i}}));const o=n();await es.updateAppSettings(o,a.appSettings.id,i),console.log(" App settings updated successfully")}catch(o){throw console.error(" Failed to update app settings:",o),t(c=>({appSettings:c.appSettings})),o}},initializeAppSettings:async()=>{try{const a={userId:n(),theme:"system"},o=await es.createAppSettings(a);t({appSettings:o}),console.log(" App settings initialized successfully")}catch(i){console.error(" Failed to initialize app settings:",i);const a=n();t({appSettings:{id:"local-settings",userId:a,theme:"system"}})}}});class Tn{static instance;static getInstance(){return Tn.instance||(Tn.instance=new Tn),Tn.instance}async getMonthlyBudget(e,n){try{const i=Nt(lt,"monthlyBudgets",`${e}_${n}`),a=await hz(i);if(a.exists()){const o=a.data();return{id:o.id,userId:o.userId,month:o.month,totalIncome:parseFloat(o.totalIncome),availableToBudget:parseFloat(o.availableToBudget),createdAt:o.createdAt.toDate().toISOString(),updatedAt:o.updatedAt.toDate().toISOString()}}return null}catch(i){throw console.error("Error getting monthly budget:",i),i}}async createOrUpdateMonthlyBudget(e){try{const n=We.now(),i=`${e.userId}_${e.month}`,a={id:i,userId:e.userId,month:e.month,totalIncome:e.totalIncome.toString(),availableToBudget:e.availableToBudget.toString(),createdAt:n,updatedAt:n};return await la(Nt(lt,"monthlyBudgets",i),a),{...e,id:i,createdAt:n.toDate().toISOString(),updatedAt:n.toDate().toISOString()}}catch(n){throw console.error("Error creating/updating monthly budget:",n),n}}async getIncomeSources(e,n){try{const i=Fi(gr(lt,"incomeSources"),Js("userId","==",e),Js("month","==",n));return(await Ql(i)).docs.map(o=>{const c=o.data();return{id:c.id,userId:c.userId,month:c.month,name:c.name,amount:parseFloat(c.amount),frequency:c.frequency,category:c.category,createdAt:c.createdAt.toDate().toISOString(),updatedAt:c.updatedAt.toDate().toISOString()}})}catch(i){throw console.error("Error getting income sources:",i),i}}async createIncomeSource(e){try{const n=We.now(),i=Nt(gr(lt,"incomeSources")),a={id:i.id,userId:e.userId,month:e.month,name:e.name,amount:e.amount.toString(),frequency:e.frequency||"monthly",...e.category&&{category:e.category},createdAt:n,updatedAt:n};return await la(i,a),{...e,frequency:e.frequency||"monthly",id:i.id,createdAt:n.toDate().toISOString(),updatedAt:n.toDate().toISOString()}}catch(n){throw console.error("Error creating income source:",n),n}}async getEnvelopeAllocations(e,n){try{const i=Fi(gr(lt,"envelopeAllocations"),Js("userId","==",e),Js("month","==",n));return(await Ql(i)).docs.map(o=>{const c=o.data();return{id:c.id,userId:c.userId,envelopeId:c.envelopeId,month:c.month,budgetedAmount:parseFloat(c.budgetedAmount),createdAt:c.createdAt.toDate().toISOString(),updatedAt:c.updatedAt.toDate().toISOString()}})}catch(i){throw console.error("Error getting envelope allocations:",i),i}}async createEnvelopeAllocation(e){try{const n=We.now(),i=Nt(gr(lt,"envelopeAllocations")),a={id:i.id,userId:e.userId,envelopeId:e.envelopeId,month:e.month,budgetedAmount:e.budgetedAmount.toString(),createdAt:n,updatedAt:n};return await la(i,a),{...e,id:i.id,createdAt:n.toDate().toISOString(),updatedAt:n.toDate().toISOString()}}catch(n){throw console.error("Error creating envelope allocation:",n),n}}async copyMonthData(e,n,i){try{const a=await this.getIncomeSources(e,n);for(const f of a)await this.createIncomeSource({...f,month:i});const o=await this.getEnvelopeAllocations(e,n);for(const f of o)await this.createEnvelopeAllocation({...f,month:i});const c=a.reduce((f,g)=>f+g.amount,0),d=o.reduce((f,g)=>f+g.budgetedAmount,0),h=c-d;await this.createOrUpdateMonthlyBudget({userId:e,month:i,totalIncome:c,availableToBudget:h})}catch(a){throw console.error("Error copying month data:",a),a}}async deleteIncomeSource(e){try{const n=Nt(lt,"incomeSources",e);await Xl(n)}catch(n){throw console.error("Error deleting income source:",n),n}}async updateIncomeSource(e,n){try{const i=Nt(lt,"incomeSources",e),a={...n,updatedAt:We.now()};await la(i,a,{merge:!0})}catch(i){throw console.error("Error updating income source:",i),i}}async deleteEnvelopeAllocation(e){try{const n=Nt(lt,"envelopeAllocations",e);await Xl(n)}catch(n){throw console.error("Error deleting envelope allocation:",n),n}}async updateEnvelopeAllocation(e,n){try{const i=Nt(lt,"envelopeAllocations",e),a={...n,updatedAt:We.now()};await la(i,a,{merge:!0})}catch(i){throw console.error("Error updating envelope allocation:",i),i}}async clearMonthData(e,n){try{const[i,a]=await Promise.all([this.getIncomeSources(e,n),this.getEnvelopeAllocations(e,n)]),o=i.map(d=>this.deleteIncomeSource(d.id)),c=a.map(d=>this.deleteEnvelopeAllocation(d.id));await Promise.all([...o,...c]),await this.createOrUpdateMonthlyBudget({userId:e,month:n,totalIncome:0,availableToBudget:0})}catch(i){throw console.error("Error clearing month data:",i),i}}async calculateAvailableToBudget(e,n){try{const i=await this.getIncomeSources(e,n),a=await this.getEnvelopeAllocations(e,n),o=i.reduce((d,h)=>d+h.amount,0),c=a.reduce((d,h)=>d+h.budgetedAmount,0);return o-c}catch(i){throw console.error("Error calculating available to budget:",i),i}}subscribeToMonthlyBudget(e,n,i){const a=Nt(lt,"monthlyBudgets",`${e}_${n}`);return To(a,o=>{if(o.exists()){const c=o.data();i(c)}else i(null)})}subscribeToIncomeSources(e,n,i){const a=Fi(gr(lt,"incomeSources"),Js("userId","==",e),Js("month","==",n));return To(a,o=>{const c=o.docs.map(d=>({id:d.id,...d.data()}));i(c)})}subscribeToEnvelopeAllocations(e,n,i){const a=Fi(gr(lt,"envelopeAllocations"),Js("userId","==",e),Js("month","==",n));return To(a,o=>{const c=o.docs.map(d=>({id:d.id,...d.data()}));i(c)})}}const bz=t=>t?{id:t.id,userId:t.userId,month:t.month,totalIncome:parseFloat(t.totalIncome),availableToBudget:parseFloat(t.availableToBudget),createdAt:t.createdAt?.toDate?.()?t.createdAt.toDate().toISOString():t.createdAt||new Date().toISOString(),updatedAt:t.updatedAt?.toDate?.()?t.updatedAt.toDate().toISOString():t.updatedAt||new Date().toISOString()}:null,_z=t=>({id:t.id,userId:t.userId,month:t.month,name:t.name,amount:parseFloat(t.amount),frequency:t.frequency,category:t.category,createdAt:t.createdAt?.toDate?.()?t.createdAt.toDate().toISOString():t.createdAt||new Date().toISOString(),updatedAt:t.updatedAt?.toDate?.()?t.updatedAt.toDate().toISOString():t.updatedAt||new Date().toISOString()}),wz=t=>({id:t.id,userId:t.userId,envelopeId:t.envelopeId,month:t.month,budgetedAmount:parseFloat(t.budgetedAmount),createdAt:t.createdAt?.toDate?.()?t.createdAt.toDate().toISOString():t.createdAt||new Date().toISOString(),updatedAt:t.updatedAt?.toDate?.()?t.updatedAt.toDate().toISOString():t.updatedAt||new Date().toISOString()}),w0=(t,e,n)=>{if(window.__monthlyBudgetUnsubscribers){console.log(" Monthly budget real-time subscriptions already active, skipping setup");return}console.log(" Setting up monthly budget real-time Firebase subscriptions for month:",n);const i=Tn.getInstance(),a=i.subscribeToMonthlyBudget(e,n,d=>{const h=t.getState();if(h.isOnline&&!h.pendingSync&&!h.resetPending){console.log(" Real-time sync: Monthly budget updated",d?"found":"null");const f=bz(d);t.setState({monthlyBudget:f})}}),o=i.subscribeToIncomeSources(e,n,d=>{const h=t.getState();if(h.isOnline&&!h.pendingSync&&!h.resetPending){const f=d.map(_z),g=new Set,v=f.filter(_=>g.has(_.id)?!1:(g.add(_.id),!0));t.setState({incomeSources:v})}}),c=i.subscribeToEnvelopeAllocations(e,n,d=>{const h=t.getState();if(h.isOnline&&!h.pendingSync&&!h.resetPending){console.log(" Real-time sync: Envelope allocations updated",d.length);const f=d.map(wz);t.setState({envelopeAllocations:f})}});window.__monthlyBudgetUnsubscribers={monthlyBudget:a,incomeSources:o,envelopeAllocations:c},console.log(" Monthly budget real-time subscriptions active for month:",n)},Wx=()=>{if(window.__monthlyBudgetUnsubscribers){const t=window.__monthlyBudgetUnsubscribers;t.monthlyBudget&&t.monthlyBudget(),t.incomeSources&&t.incomeSources(),t.envelopeAllocations&&t.envelopeAllocations(),delete window.__monthlyBudgetUnsubscribers,console.log(" Cleaned up monthly budget Firebase subscriptions")}},Tz=t=>{const{useMonthlyBudgetStore:e,useAuthStore:n,getCurrentUserId:i}=t;if(typeof window>"u")return;window.addEventListener("online",async()=>{console.log(" Browser online event detected"),await e.getState().updateOnlineStatus();const h=e.getState();h.isOnline&&(h.pendingSync||h.resetPending)&&(console.log(" Auto-syncing pending operations..."),h.syncData())}),window.addEventListener("offline",()=>{console.log(" Browser offline event detected"),e.setState({isOnline:!1})}),setTimeout(()=>{e.getState().updateOnlineStatus()},1e3);let a=null;const o=()=>{a&&clearInterval(a),a=setInterval(async()=>{const h=e.getState();if(!h.isOnline&&!h.testingConnectivity){console.log(" Periodic offline retry: testing connectivity..."),e.setState({testingConnectivity:!0});try{await(async()=>(await e.getState().updateOnlineStatus(),e.getState().isOnline))()?(console.log(" Periodic retry succeeded - back online!"),e.setState({isOnline:!0,testingConnectivity:!1}),(h.pendingSync||h.resetPending)&&e.getState().syncData(),a&&(clearInterval(a),a=null)):e.setState({testingConnectivity:!1})}catch(f){console.log(" Periodic retry failed:",f),e.setState({testingConnectivity:!1})}}else h.isOnline&&a&&(clearInterval(a),a=null)},3e4)};o(),e.subscribe(h=>{!h.isOnline&&!a&&(console.log(" Starting periodic connectivity retry"),o())});let c=null;e.subscribe(h=>{if(c!==null&&h.currentMonth!==c){console.log(" Month changed from",c,"to",h.currentMonth),Wx();const f=n.getState();f.isAuthenticated&&f.currentUser&&w0(e,i(),h.currentMonth)}c=h.currentMonth});const d=n.getState();if(d.isAuthenticated&&d.currentUser){console.log(" User already authenticated on app load, setting up monthly budget real-time subscriptions");const h=e.getState().currentMonth;w0(e,i(),h)}n.subscribe(h=>{if(h.isAuthenticated&&h.currentUser){console.log(" User authenticated, setting up monthly budget real-time subscriptions");const f=e.getState().currentMonth;w0(e,i(),f)}else!h.isAuthenticated&&!h.isLoading&&(console.log(" User logged out, clearing monthly budget data and unsubscribing"),Wx(),e.getState().handleUserLogout())})},Ez=()=>{const t=new Date;return`${t.getFullYear()}-${(t.getMonth()+1).toString().padStart(2,"0")}`},Zr=()=>{const t=Si.getState().currentUser;if(!t)throw new Error("User not authenticated");return t.id},xz=Zr,Sz=async(t,e,n)=>{const{transactions:i,addTransaction:a,deleteTransaction:o}=Dn.getState(),c="Monthly Budget Allocation",[d,h]=n.split("-").map(Number);console.log(" Syncing budget allocation transaction:",{envelopeId:t,budgetedAmount:e,month:n,totalTransactions:i.length});const f=i.filter(v=>{if(v.envelopeId!==t||v.description!==c)return!1;try{let _;if(typeof v.date=="string")_=new Date(v.date);else if(v.date?.toDate&&typeof v.date.toDate=="function")_=v.date.toDate();else return!1;return _.getFullYear()===d&&_.getMonth()+1===h}catch{return!1}});console.log(" Found existing transactions:",f.length);for(const v of f)console.log(" Deleting old allocation transaction:",v.id,"amount:",v.amount),await o(v.id);const g=new Fn(e.toString()||"0");if(g.gt(0)){console.log(" Creating new allocation transaction with amount",g.toNumber());const v=new Date(d,h-1,2).toISOString();await a({description:c,amount:g.toNumber(),envelopeId:t,date:v,type:"Income",reconciled:!0})}else console.log(" No new transaction needed (amount is 0)")},Eo=lm()(dv((t,e)=>({currentMonth:Ez(),monthlyBudget:null,incomeSources:[],envelopeAllocations:[],isLoading:!1,error:null,isOnline:typeof navigator<"u"?navigator.onLine:!0,pendingSync:!1,resetPending:!1,testingConnectivity:!1,setCurrentMonth:n=>{t({currentMonth:n}),e().fetchMonthlyData()},fetchMonthlyData:async()=>{try{t({isLoading:!0,error:null});const n=Zr(),i=e().currentMonth,a=Tn.getInstance(),[o,c,d]=await Promise.all([a.getMonthlyBudget(n,i),a.getIncomeSources(n,i),a.getEnvelopeAllocations(n,i)]);t({monthlyBudget:o,incomeSources:c,envelopeAllocations:d,isLoading:!1})}catch(n){console.error("Error fetching monthly data:",n),t({error:n instanceof Error?n.message:"Failed to fetch monthly data",isLoading:!1})}},createIncomeSource:async n=>{try{const i=Zr(),a=e().currentMonth,o=Tn.getInstance();await o.createIncomeSource({...n,userId:i,month:a});const c=await o.getIncomeSources(i,a);t({incomeSources:c})}catch(i){throw console.error("Error creating income source:",i),i}},updateIncomeSource:async(n,i)=>{try{const a={updatedAt:We.now()};i.name!==void 0&&(a.name=i.name),i.amount!==void 0&&(a.amount=i.amount.toString()),i.frequency!==void 0&&(a.frequency=i.frequency),i.category!==void 0&&(a.category=i.category);const o=Nt(lt,"incomeSources",n);await pd(o,a);const c=Tn.getInstance(),d=Zr(),h=e().currentMonth,f=await c.getIncomeSources(d,h);t({incomeSources:f})}catch(a){throw console.error("Error updating income source:",a),a}},deleteIncomeSource:async n=>{t(a=>({incomeSources:a.incomeSources.filter(o=>o.id!==n)})),Tn.getInstance().deleteIncomeSource(n).catch(a=>{console.error("Error deleting income source from Firebase:",a)})},restoreIncomeSource:async(n,i)=>{try{t(a=>{const o=[...a.incomeSources];return i!==void 0&&i>=0&&i<=o.length?o.splice(i,0,n):o.push(n),{incomeSources:o}}),await e().refreshAvailableToBudget()}catch(a){throw console.error("Error restoring income source:",a),a}},createEnvelopeAllocation:async n=>{try{const i=Zr(),a=e().currentMonth,o=Tn.getInstance();await o.createEnvelopeAllocation({...n,userId:i,month:a});const c=await o.getEnvelopeAllocations(i,a);t({envelopeAllocations:c})}catch(i){throw console.error("Error creating envelope allocation:",i),i}},updateEnvelopeAllocation:async(n,i)=>{try{const a=Zr(),o=e().currentMonth,c=Tn.getInstance(),d={};i.envelopeId!==void 0&&(d.envelopeId=i.envelopeId),i.budgetedAmount!==void 0&&(d.budgetedAmount=i.budgetedAmount.toString()),await c.updateEnvelopeAllocation(n,d);const h=await c.getEnvelopeAllocations(a,o);t({envelopeAllocations:h})}catch(a){throw console.error("Error updating envelope allocation:",a),a}},deleteEnvelopeAllocation:async n=>{t(a=>({envelopeAllocations:a.envelopeAllocations.filter(o=>o.id!==n)})),Tn.getInstance().deleteEnvelopeAllocation(n).catch(a=>{console.error("Error deleting envelope allocation from Firebase:",a)})},restoreEnvelopeAllocation:async(n,i)=>{try{t(a=>{const o=[...a.envelopeAllocations];return i!==void 0&&i>=0&&i<=o.length?o.splice(i,0,n):o.push(n),{envelopeAllocations:o}}),await e().refreshAvailableToBudget()}catch(a){throw console.error("Error restoring envelope allocation:",a),a}},setEnvelopeAllocation:async(n,i)=>{try{console.log(" setEnvelopeAllocation called:",{envelopeId:n,budgetedAmount:i});const a=e().envelopeAllocations.find(c=>c.envelopeId===n);console.log(" Existing allocation:",a),a?(console.log(" Updating existing allocation..."),await e().updateEnvelopeAllocation(a.id,{budgetedAmount:i}),console.log(" Allocation updated")):(console.log(" Creating new allocation..."),await e().createEnvelopeAllocation({envelopeId:n,budgetedAmount:i}),console.log(" Allocation created")),console.log(" Syncing budget allocation transaction...");const o=e().currentMonth;await Sz(n,i,o),console.log(" Transaction synced"),console.log(" Refreshing available to budget..."),await e().refreshAvailableToBudget(),console.log(" Available to budget refreshed")}catch(a){throw console.error(" Error setting envelope allocation:",a),console.error("Error details:",a instanceof Error?a.message:a),a}},copyFromPreviousMonth:async()=>{try{t({isLoading:!0,error:null});const n=Zr(),i=e().currentMonth,[a,o]=i.split("-").map(Number);let c=a,d=o-1;d<1&&(c=a-1,d=12);const h=`${c}-${d.toString().padStart(2,"0")}`,f=Tn.getInstance(),[g,v]=await Promise.all([f.getIncomeSources(n,h),f.getEnvelopeAllocations(n,h)]);for(const _ of g)await e().createIncomeSource({name:_.name,amount:_.amount});for(const _ of v)await e().setEnvelopeAllocation(_.envelopeId,_.budgetedAmount);await e().fetchMonthlyData()}catch(n){console.error("Error copying from previous month:",n),t({error:n instanceof Error?n.message:"Failed to copy month data",isLoading:!1})}},calculateAvailableToBudget:()=>{const n=e(),i=n.incomeSources.reduce((o,c)=>o+c.amount,0),a=n.envelopeAllocations.reduce((o,c)=>o+c.budgetedAmount,0);return i-a},refreshAvailableToBudget:async()=>{try{const n=e(),i=Zr(),a=n.currentMonth,o=n.incomeSources.reduce((g,v)=>g+v.amount,0),c=n.envelopeAllocations.reduce((g,v)=>g+v.budgetedAmount,0),d=o-c,h=Tn.getInstance(),f=n.monthlyBudget;if(f){const g={...f,availableToBudget:d,totalIncome:o};await h.createOrUpdateMonthlyBudget(g),t({monthlyBudget:g})}else{const g=await h.createOrUpdateMonthlyBudget({userId:i,month:a,totalIncome:o,availableToBudget:d});t({monthlyBudget:g})}}catch(n){console.error("Error refreshing available to budget:",n)}},loadDemoData:(n,i)=>{t({incomeSources:n,envelopeAllocations:i,isLoading:!1})},clearMonthData:async()=>{try{const n=Zr(),i=e().currentMonth,a=Tn.getInstance(),{transactions:o,deleteTransaction:c}=Dn.getState(),d="Monthly Budget Allocation",[h,f]=i.split("-").map(Number),g=o.filter(v=>{if(v.description!==d)return!1;try{const _=new Date(v.date);return _.getFullYear()===h&&_.getMonth()+1===f}catch{return!1}});for(const v of g)await c(v.id);await a.clearMonthData(n,i),t({incomeSources:[],envelopeAllocations:[]}),await e().refreshAvailableToBudget()}catch(n){throw console.error("Error clearing month data:",n),n}},updateOnlineStatus:async()=>{console.log("Monthly budget updateOnlineStatus called")},syncData:async()=>{console.log("Monthly budget syncData called")},handleUserLogout:()=>{t({monthlyBudget:null,incomeSources:[],envelopeAllocations:[],isLoading:!1,error:null,pendingSync:!1,resetPending:!1,testingConnectivity:!1})}}),{name:"monthly-budget-store",partialize:t=>({currentMonth:t.currentMonth})}));Tz({useMonthlyBudgetStore:Eo,useAuthStore:Si,getCurrentUserId:xz});const Az=({set:t,get:e,getCurrentUserId:n,isNetworkError:i})=>({addTransaction:async a=>{const o=`temp-${Date.now()}-${Math.random()}`,c=n(),d=new Date(a.date),h=`${d.getFullYear()}-${String(d.getMonth()+1).padStart(2,"0")}`;console.log(" Month calculation in addTransaction:",{originalDate:a.date,dateObj:d,calculatedMonth:h,currentMonth:Eo.getState().currentMonth});const f={...a,id:o,userId:c,month:h};if(t(g=>({transactions:[...g.transactions,f],isLoading:!0})),a.envelopeId.startsWith("temp-"))console.log(` Skipping Firebase sync for transaction with temp envelopeId: ${a.envelopeId}`),t({isLoading:!1,pendingSync:!0});else try{const g=pz(f,c),v=await vr.addTransaction(g);console.log(` Replacing temp transaction ${o} with Firebase transaction:`,v);const _=cb(v);t(x=>({transactions:x.transactions.map(k=>k.id===o?_:k),isLoading:!1,pendingSync:!1}))}catch(g){console.error("Add Transaction Failed:",g),i(g)?t({isLoading:!1,pendingSync:!0,error:null}):t(v=>({transactions:v.transactions.filter(_=>_.id!==o),error:g.message,isLoading:!1}))}},deleteTransaction:async a=>{const o=e().transactions.find(d=>d.id===a);if(!o)return;const c=[a];if(o.transferId){const d=e().transactions.find(h=>h.transferId===o.transferId&&h.id!==a);d&&d.id&&c.push(d.id)}t(d=>({transactions:d.transactions.filter(h=>h.id&&!c.includes(h.id)),isLoading:!0}));try{const d=n(),h=c.filter(f=>!f.startsWith("temp-"));for(const f of h)console.log(` About to delete transaction ID: ${f}`),await vr.deleteTransaction(d,f),console.log(` Deleted transaction ID: ${f}`);console.log(" All transaction deletions completed"),t({isLoading:!1})}catch(d){if(console.error("Delete Transaction Failed:",d),i(d))t({isLoading:!1,pendingSync:!0,error:null});else{const h=c.map(f=>e().transactions.find(g=>g.id===f)||o).filter(Boolean);t(f=>({transactions:[...f.transactions,...h],error:d.message,isLoading:!1}))}}},updateTransaction:async a=>{console.log(" updateTransaction called:",a),t(o=>({transactions:o.transactions.map(c=>c.id===a.id?a:c),isLoading:!0}));try{const o=n(),c=vr.updateTransaction(o,a.id,gz(a)),d=new Promise((h,f)=>setTimeout(()=>f(new Error("Firebase timeout - likely offline")),5e3));await Promise.race([c,d]),console.log(" Transaction updated in Firebase"),t({isLoading:!1})}catch(o){console.error("Update Transaction Failed:",o),console.log(" Error details:",{name:o?.name||"Unknown",message:o?.message||"Unknown",code:o?.code||"Unknown",isNetworkError:i(o)}),i(o)?(console.log(" Treating as offline scenario - keeping local transaction update"),t({isLoading:!1,pendingSync:!0,error:null})):t({error:o.message,isLoading:!1})}},restoreTransaction:async a=>{t(o=>({transactions:[...o.transactions,a],isLoading:!0}));try{t({isLoading:!1})}catch(o){console.error("Restore Transaction Failed:",o),t({error:o.message,isLoading:!1})}}}),Cz=({set:t,get:e,getCurrentUserId:n,isNetworkError:i,loadFallbackData:a,checkOnlineStatus:o,clearUserData:c})=>{const d=async()=>{const C=e(),N=n();if(C.resetPending){console.log(" fetchData: Reset pending detected, performing Firebase reset instead..."),await e().performFirebaseReset();return}console.log(" fetchData: Starting data fetch for user:",N),t({isLoading:!0,error:null});try{let D,j,U,Q;[D,j,U,Q]=await Promise.all([Jr.getAllEnvelopes(N).catch(S=>(console.error(" Failed to fetch envelopes:",S),[])),vr.getAllTransactions(N).catch(S=>(console.error(" Failed to fetch transactions:",S),[])),ni.getAllDistributionTemplates(N).catch(S=>(console.error(" Failed to fetch templates:",S),[])),es.getAppSettings(N).catch(S=>(console.error(" Failed to fetch settings:",S),null))]),console.log(" fetchData: Firebase calls completed"),console.log(" Fetched data counts:",{envelopes:D?.length||0,transactions:j?.length||0,templates:U?.length||0,settings:Q?"found":"null"}),e().markOnlineFromFirebaseSuccess();const re=(D?.length||0)>0||(j?.length||0)>0||(U?.length||0)>0;let ne=null;re||(console.log(" No data from Firebase, loading fallback data..."),ne=await a(),ne&&(console.log(" Using fallback data for initialization"),D=ne.envelopes||[],j=ne.transactions||[],U=ne.distributionTemplates||[],Q=ne.appSettings||null)),t(S=>{const R=oe=>oe.map(V=>({...V,date:V.date&&typeof V.date=="object"&&V.date.toDate?V.date.toDate().toISOString():V.date,type:V.type==="income"?"Income":V.type==="expense"?"Expense":V.type==="transfer"?"Transfer":V.type,amount:typeof V.amount=="string"?parseFloat(V.amount):V.amount})),M=oe=>({id:oe.id,name:oe.name,currentBalance:oe.currentBalance||0,lastUpdated:oe.lastUpdated,isActive:oe.isActive??!0,orderIndex:oe.orderIndex??0}),z=D.filter(oe=>!("orderIndex"in oe));z.length>0&&(console.log(` Migrating ${z.length} envelopes to add orderIndex...`),z.forEach((oe,V)=>{const Z=V,de=n();Jr.saveEnvelope(de,{...oe,orderIndex:Z}).then(()=>console.log(` Migrated envelope ${oe.name} with orderIndex ${Z}`)).catch(he=>console.warn(`Failed to migrate envelope ${oe.id}:`,he))}));const O=D.map(M),F=new Set([...S.envelopes.map(oe=>oe.id),...D.map(oe=>oe.id)]),L=S.envelopes.filter(oe=>oe.id&&!D.some(V=>V.id===oe.id)&&!oe.id.startsWith("temp-")),ze=S.transactions.filter(oe=>oe.id&&!j.some(V=>V.id===oe.id)&&(!oe.id.startsWith("temp-")||F.has(oe.envelopeId)));let ce,$=[];navigator.onLine?(ce=U,console.log(` Online mode: Using Firebase templates only (${ce.length} templates)`)):($=S.distributionTemplates.filter(oe=>oe.id&&!U.some(V=>V.id===oe.id)),ce=U.concat($),console.log(` Offline mode: Merged ${U.length} Firebase + ${$.length} local templates`)),console.log(" fetchData merge details:"),console.log("  Store envelopes:",S.envelopes.map(oe=>({id:oe.id,name:oe.name}))),console.log("  Firebase envelopes:",D.map(oe=>({id:oe.id,name:oe.name}))),console.log("  Store transactions:",S.transactions.map(oe=>({id:oe.id,envelopeId:oe.envelopeId,description:oe.description}))),console.log("  Firebase transactions:",j.map(oe=>({id:oe.id,envelopeId:oe.envelopeId,description:oe.description}))),console.log("  Store templates:",S.distributionTemplates.map(oe=>({id:oe.id,name:oe.name}))),console.log("  Firebase templates:",U.map(oe=>({id:oe.id,name:oe.name}))),console.log("  Local-only envelopes:",L.map(oe=>({id:oe.id,name:oe.name}))),console.log("  Local-only transactions:",ze.map(oe=>({id:oe.id,envelopeId:oe.envelopeId,description:oe.description}))),console.log("  Local-only templates:",$.map(oe=>({id:oe.id,name:oe.name}))),console.log("  Total merged templates:",ce.length,ce.map(oe=>({id:oe.id,name:oe.name})));const ee=O.concat(L),me=R(j).concat(ze);let Te=Q;if(Q&&"isDarkMode"in Q&&!("theme"in Q)){const oe=Q;if(Te={...oe,theme:oe.isDarkMode?"dark":"light"},delete Te.isDarkMode,Te&&Te.id){const V=n();es.updateAppSettings(V,Te.id,{theme:Te.theme}).catch(Z=>console.warn("Failed to migrate app settings:",Z))}}return{envelopes:ee,transactions:me,distributionTemplates:ce,appSettings:Te,isLoading:!1,pendingSync:!1}})}catch(D){console.error("Sync Failed:",D),i(D)?t({isLoading:!1,pendingSync:!0}):t({error:D.message,isLoading:!1})}},h=async()=>{if(!e().isOnline)return;if(e().resetPending){console.log(" Sync detected pending reset - performing Firebase reset..."),t({pendingSync:!0});try{await e().performFirebaseReset(),console.log(" Pending reset completed during sync")}catch(N){console.error("Firebase reset during sync failed:",N)}return}t({pendingSync:!0});try{await e().fetchData()}catch(N){console.error("Manual sync failed:",N)}},f=async()=>{const C=await o();t({isOnline:C})},g=()=>{e().isOnline||(console.log(" Firebase operation succeeded - marking as online"),t({isOnline:!0}))},v=()=>{c()},_=async C=>{try{if(!C.envelopes||!C.transactions)return{success:!1,message:"Invalid backup format: Missing core data."};const N=n();console.log(` Importing data for user: ${N}`),console.log(" Clearing existing Firebase data before import..."),await x(),t({envelopes:[],transactions:[],distributionTemplates:[],appSettings:null,error:null,pendingSync:!0,isLoading:!0}),console.log(" Local state cleared before import");const D=C.envelopes.map(S=>({id:S.id||`imported-${Date.now()}-${Math.random()}`,name:S.name,currentBalance:S.currentBalance||S.budget||0,lastUpdated:new Date().toISOString(),isActive:S.isActive??!0,orderIndex:S.orderIndex??0,userId:N})),j=C.transactions.map(S=>({...S,id:S.id||`imported-${Date.now()}-${Math.random()}`,userId:N,date:S.date,amount:typeof S.amount=="number"?S.amount:parseFloat(S.amount)||0,type:S.type,reconciled:S.reconciled??!1})),U=(C.distributionTemplates||[]).map(S=>({...S,id:S.id||`imported-${Date.now()}-${Math.random()}`,userId:N})),Q=C.appSettings?{...C.appSettings,id:C.appSettings.id||`settings-${N}`,userId:N}:null;console.log(` Importing: ${D.length} envelopes, ${j.length} transactions, ${U.length} templates`),t({envelopes:D,transactions:j,distributionTemplates:U,appSettings:Q,error:null,pendingSync:!0});try{console.log(" Syncing imported data to Firebase...");for(const S of D)try{await Jr.saveEnvelope(N,S),console.log(` Synced envelope: ${S.name}`)}catch(R){console.error(` Failed to sync envelope ${S.name}:`,R)}for(const S of j)try{const R={...S,amount:S.amount.toString(),type:S.type.toLowerCase(),date:We.fromDate(new Date(S.date))};await vr.addTransaction(R),console.log(` Synced transaction: ${S.description}`)}catch(R){console.error(` Failed to sync transaction ${S.description}:`,R)}for(const S of U)try{await ni.createDistributionTemplate(S),console.log(` Synced template: ${S.name}`)}catch(R){console.error(` Failed to sync template ${S.name}:`,R)}if(Q)try{await es.createAppSettings(Q),console.log(" Synced app settings")}catch(S){console.error(" Failed to sync app settings:",S)}console.log(" All imported data synced to Firebase"),t({pendingSync:!1,isLoading:!1})}catch(S){console.error(" Error syncing to Firebase:",S),t({pendingSync:!0})}const re=U.length,ne=Q?"Settings imported.":"";return{success:!0,message:`Imported and synced ${D.length} envelopes, ${j.length} transactions${re>0?`, ${re} templates`:""} to Firebase.${ne?` ${ne}`:""}`}}catch(N){return console.error("Import failed:",N),{success:!1,message:"Failed to import data. Check file format."}}},x=async()=>{console.log(" performFirebaseReset: Starting complete Firebase reset..."),t({isLoading:!0});try{const C=n();console.log(" Querying Firebase for all data to delete...");const[N,D,j,U]=await Promise.all([Jr.getAllEnvelopes(C).catch(S=>(console.error(" Failed to fetch envelopes for reset:",S),[])),vr.getAllTransactions(C).catch(S=>(console.error(" Failed to fetch transactions for reset:",S),[])),ni.getAllDistributionTemplates(C).catch(S=>(console.error(" Failed to fetch templates for reset:",S),[])),es.getAppSettings(C).catch(S=>(console.error(" Failed to fetch settings for reset:",S),null))]);console.log(` Found in Firebase: ${N.length} envelopes, ${D.length} transactions, ${j.length} templates`);let Q=0;for(const S of N)if(S.id)try{await Jr.deleteEnvelope(C,S.id),Q++,console.log(` Deleted envelope: ${S.name||S.id}`)}catch(R){console.error(` Failed to delete envelope ${S.id}:`,R)}let re=0;for(const S of D)if(S.id)try{await vr.deleteTransaction(C,S.id),re++,console.log(` Deleted transaction: ${S.id}`)}catch(R){console.error(` Failed to delete transaction ${S.id}:`,R)}let ne=0;for(const S of j)if(S.id)try{await ni.deleteDistributionTemplate(C,S.id),ne++,console.log(` Deleted template: ${S.name||S.id}`)}catch(R){console.error(` Failed to delete template ${S.id}:`,R)}if(U?.id)try{await es.deleteAppSettings(C,U.id),console.log(" Deleted app settings")}catch(S){console.error(" Failed to delete app settings:",S)}console.log(` Firebase reset complete: Deleted ${Q} envelopes, ${re} transactions, ${ne} templates`),t({resetPending:!1,isLoading:!1,pendingSync:!1})}catch(C){throw console.error(" Error during Firebase reset:",C),t({isLoading:!1,pendingSync:!0}),C}};return{fetchData:d,syncData:h,updateOnlineStatus:f,markOnlineFromFirebaseSuccess:g,handleUserLogout:v,importData:_,performFirebaseReset:x,resetData:async()=>{if(console.log(" Starting complete data reset (offline-first)..."),t({envelopes:[],transactions:[],distributionTemplates:[],appSettings:null,error:null,resetPending:!0,isLoading:!0}),console.log(" Local state cleared immediately"),e().isOnline){console.log(" Online - performing Firebase reset immediately...");try{await e().performFirebaseReset(),console.log(" Firebase reset completed immediately")}catch(N){console.error(" Firebase reset failed, will retry on next sync:",N),t({isLoading:!1,pendingSync:!0})}}else console.log(" Offline - Firebase reset will be performed when connection is restored"),t({isLoading:!1,pendingSync:!0})}}},Rz=t=>cb(t),Nz=t=>({id:t.id,name:t.name||"",currentBalance:t.currentBalance||0,lastUpdated:t.lastUpdated,isActive:t.isActive??!0,orderIndex:t.orderIndex??0,userId:t.userId||void 0}),Iz=t=>({id:t.id,name:t.name||"",distributions:t.distributions||{},lastUsed:t.lastUsed?.toDate?.()?t.lastUsed.toDate().toISOString():t.lastUsed||new Date().toISOString(),note:t.note||"",userId:t.userId||void 0}),Zx=(t,e)=>{if(window.__firebaseUnsubscribers){console.log(" Real-time subscriptions already active, skipping setup");return}console.log(" Setting up real-time Firebase subscriptions...");const n=Jr.subscribeToEnvelopes(e,c=>{const d=t.getState();if(d.isOnline&&!d.pendingSync&&!d.resetPending){console.log(" Real-time sync: Envelopes updated",c.length);const h=c.map(Nz);t.setState({envelopes:h})}}),i=vr.subscribeToTransactions(e,c=>{const d=t.getState();if(d.isOnline&&!d.pendingSync&&!d.resetPending){console.log(" Real-time sync: Transactions updated",c.length);const h=c.map(Rz);t.setState({transactions:h})}}),a=ni.subscribeToDistributionTemplates(e,c=>{const d=t.getState();if(d.isOnline&&!d.pendingSync&&!d.resetPending){console.log(" Real-time sync: Templates updated from Firebase",c.length),console.log(" Firebase templates:",c.map(f=>({id:f.id,name:f.name})));const h=c.map(Iz);console.log(" Setting store templates to:",h.map(f=>({id:f.id,name:f.name}))),t.setState({distributionTemplates:h})}else console.log(" Real-time sync: Skipping template update (offline or pending changes)")}),o=es.subscribeToAppSettings(e,c=>{const d=t.getState();d.isOnline&&!d.pendingSync&&!d.resetPending&&(console.log(" Real-time sync: Settings updated",c?"found":"null"),t.setState({appSettings:c}))});window.__firebaseUnsubscribers={envelopes:n,transactions:i,templates:a,settings:o},console.log(" Real-time subscriptions active - cross-device sync enabled")},kz=t=>{const{useEnvelopeStore:e,useAuthStore:n,getCurrentUserId:i}=t;if(typeof window>"u")return;window.addEventListener("online",async()=>{console.log(" Browser online event detected"),await e.getState().updateOnlineStatus();const d=e.getState();d.isOnline&&(d.pendingSync||d.resetPending)&&(console.log(" Auto-syncing pending operations..."),d.syncData())}),window.addEventListener("offline",()=>{console.log(" Browser offline event detected"),e.setState({isOnline:!1})}),setTimeout(()=>{e.getState().updateOnlineStatus()},1e3);let a=null;const o=()=>{a&&clearInterval(a),a=setInterval(async()=>{const d=e.getState();if(!d.isOnline&&!d.testingConnectivity){console.log(" Periodic offline retry: testing connectivity..."),e.setState({testingConnectivity:!0});try{await(async()=>(await e.getState().updateOnlineStatus(),e.getState().isOnline))()?(console.log(" Periodic retry succeeded - back online!"),e.setState({isOnline:!0,testingConnectivity:!1}),(d.pendingSync||d.resetPending)&&e.getState().syncData(),a&&(clearInterval(a),a=null)):e.setState({testingConnectivity:!1})}catch(h){console.log(" Periodic retry failed:",h),e.setState({testingConnectivity:!1})}}else d.isOnline&&a&&(clearInterval(a),a=null)},3e4)};o(),e.subscribe(d=>{!d.isOnline&&!a&&(console.log(" Starting periodic connectivity retry"),o())});const c=n.getState();c.isAuthenticated&&c.currentUser&&(console.log(" User already authenticated on app load, setting up real-time subscriptions"),Zx(e,i())),n.subscribe(d=>{if(d.isAuthenticated&&d.currentUser)console.log(" User authenticated, setting up real-time subscriptions"),Zx(e,i());else if(!d.isAuthenticated&&!d.isLoading){if(console.log(" User logged out, clearing data and unsubscribing"),window.__firebaseUnsubscribers){const h=window.__firebaseUnsubscribers;h.envelopes&&h.envelopes(),h.transactions&&h.transactions(),h.templates&&h.templates(),h.settings&&h.settings(),delete window.__firebaseUnsubscribers,console.log(" Cleaned up Firebase subscriptions")}e.getState().handleUserLogout()}})},Dz=async()=>{try{console.log(" Attempting to load fallback data from backup file...");const t=await fetch("/HouseBudget_Backup_2025-11-25.json");if(t.ok){const e=await t.json();return console.log(" Loaded fallback data:",{envelopes:e.envelopes?.length||0,transactions:e.transactions?.length||0,templates:e.distributionTemplates?.length||0}),e}}catch(t){console.log(" Could not load fallback data:",t)}return null},Sl=()=>{const{currentUser:t}=Si.getState();if(!t)throw new Error("No authenticated user found");return t.id},Mz=()=>{console.log(" Clearing user data on logout"),Dn.setState({envelopes:[],transactions:[],distributionTemplates:[],appSettings:null,isLoading:!1,error:null,isOnline:typeof navigator<"u"?navigator.onLine:!0,pendingSync:!1,resetPending:!1})},Jx=async()=>{if(typeof navigator>"u"||!navigator.onLine)return console.log(" Browser reports offline"),!1;const t=async(n,i={})=>{try{const a=new AbortController,o=setTimeout(()=>a.abort(),4e3);return await fetch(n,{method:"HEAD",mode:"no-cors",cache:"no-cache",signal:a.signal,...i}),clearTimeout(o),!0}catch(a){return console.log(` Connectivity test failed for ${n}:`,a instanceof Error?a.message:"Unknown error"),!1}},e=[t("https://httpbin.org/status/200",{method:"GET"}),t("https://www.cloudflare.com/favicon.ico"),t("https://cdn.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js"),t("https://www.google.com/favicon.ico")];console.log(" Testing connectivity with multiple endpoints...");try{const n=await Promise.allSettled(e),i=n.filter(o=>o.status==="fulfilled"&&o.value===!0).length,a=n.length;return i>0?(console.log(` Connectivity confirmed (${i}/${a} tests passed)`),!0):(console.log(` All connectivity tests failed (${a} tests)`),!1)}catch(n){return console.log(" Connectivity testing error:",n),!1}},nf=t=>{const e=t?.code?.toLowerCase()||"",n=t?.message?.toLowerCase()||"",i=t?.name?.toLowerCase()||"";return!!(e==="unavailable"||e==="cancelled"||n.includes("network")||n.includes("offline")||n.includes("disconnected")||n.includes("connection")||n.includes("fetch")||n.includes("timeout")||n.includes("err_internet_disconnected")||n.includes("err_network_changed")||n.includes("err_connection_refused")||!navigator.onLine||i==="undefined"&&n==="undefined")},Dn=lm()(dv((t,e)=>{const n=yz({set:t,get:e,getCurrentUserId:Sl,isNetworkError:nf}),i=vz({set:t,get:e,getCurrentUserId:Sl,isNetworkError:nf}),a=LR({set:t,get:e,getCurrentUserId:Sl}),o=Az({set:t,get:e,getCurrentUserId:Sl,isNetworkError:nf}),c=Cz({set:t,get:e,getCurrentUserId:Sl,isNetworkError:nf,loadFallbackData:Dz,checkOnlineStatus:Jx,clearUserData:Mz});return{envelopes:[],transactions:[],distributionTemplates:[],appSettings:null,isLoading:!1,error:null,isOnline:typeof navigator<"u"?navigator.onLine:!0,pendingSync:!1,resetPending:!1,testingConnectivity:!1,addEnvelope:n.createEnvelope,updateEnvelope:n.updateEnvelope,deleteEnvelope:n.deleteEnvelope,renameEnvelope:n.renameEnvelope,transferFunds:n.transferFunds,addTransaction:o.addTransaction,updateTransaction:o.updateTransaction,deleteTransaction:o.deleteTransaction,restoreTransaction:o.restoreTransaction,addDistributionTemplate:i.saveTemplate,updateDistributionTemplate:i.updateTemplate,deleteDistributionTemplate:i.deleteTemplate,removeEnvelopeFromTemplates:i.removeEnvelopeFromTemplates,cleanupOrphanedTemplates:i.cleanupOrphanedTemplates,updateAppSettings:a.updateAppSettings,initializeAppSettings:a.initializeAppSettings,fetchData:c.fetchData,syncData:c.syncData,updateOnlineStatus:c.updateOnlineStatus,markOnlineFromFirebaseSuccess:c.markOnlineFromFirebaseSuccess,handleUserLogout:c.handleUserLogout,importData:c.importData,performFirebaseReset:c.performFirebaseReset,resetData:c.resetData,getEnvelopeBalance:d=>{const h=e();if(!h.envelopes.find(N=>N.id===d))return console.log(` getEnvelopeBalance: Envelope ${d} not found`),new Fn(0);const g=h.transactions.filter(N=>N.envelopeId===d),v=g.filter(N=>N.type==="Expense"),_=g.filter(N=>N.type==="Income"),x=v.reduce((N,D)=>N.plus(new Fn(D.amount||0)),new Fn(0));return _.reduce((N,D)=>N.plus(new Fn(D.amount||0)),new Fn(0)).minus(x)},getTransactionsForMonth:d=>e().transactions.filter(f=>f.month===d),resetAllData:async()=>{console.log(" Resetting all data"),t({envelopes:[],transactions:[],distributionTemplates:[],appSettings:null,isLoading:!1,error:null,isOnline:typeof navigator<"u"?navigator.onLine:!0,pendingSync:!1,resetPending:!1})},testConnectivity:async()=>{console.log(" Testing connectivity"),await Jx()}}},{name:"envelope-storage",partialize:t=>({envelopes:t.envelopes,transactions:t.transactions,distributionTemplates:t.distributionTemplates,appSettings:t.appSettings})}));kz({useEnvelopeStore:Dn,useAuthStore:Si,getCurrentUserId:Sl});const Oz=({currentMonth:t,onMonthChange:e})=>{const[n,i]=t.split("-").map(Number),o=["January","February","March","April","May","June","July","August","September","October","November","December"][i-1],c=()=>{let f=n,g=i-1;g<1&&(f=n-1,g=12);const v=`${f}-${g.toString().padStart(2,"0")}`;e(v)},d=()=>{let f=n,g=i+1;g>12&&(f=n+1,g=1);const v=`${f}-${g.toString().padStart(2,"0")}`;e(v)},h=()=>{const f=new Date,g=`${f.getFullYear()}-${(f.getMonth()+1).toString().padStart(2,"0")}`;e(g)};return b.jsx("div",{className:"bg-white dark:bg-black border-b dark:border-zinc-800 px-4 py-3",children:b.jsxs("div",{className:"flex items-center justify-between max-w-md mx-auto",children:[b.jsx("button",{onClick:c,className:"p-2 text-gray-600 dark:text-zinc-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-zinc-800 rounded-lg transition-colors","aria-label":"Previous month",children:b.jsx(yD,{size:20})}),b.jsx("div",{className:"flex-1 text-center",children:b.jsxs("button",{onClick:h,className:"text-lg font-semibold text-gray-900 dark:text-white hover:text-blue-600 dark:hover:text-blue-400 transition-colors",title:"Click to go to current month",children:[o," ",n]})}),b.jsx("button",{onClick:d,className:"p-2 text-gray-600 dark:text-zinc-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-zinc-800 rounded-lg transition-colors","aria-label":"Next month",children:b.jsx(ho,{size:20})})]})})},Vz=({amount:t,totalIncome:e,totalAllocated:n,isLoading:i=!1})=>{const a=e>0?n/e*100:0,o=Math.abs(t)<.01,c=t<0,d=t>0,f=o?{icon:Ny,color:"text-green-600 dark:text-emerald-400",bgColor:"bg-green-50 dark:bg-emerald-900/20",borderColor:"border-green-200 dark:border-emerald-800",title:"Budget Balanced!",subtitle:"Every dollar has a job"}:c?{icon:r4,color:"text-red-600 dark:text-red-400",bgColor:"bg-red-50 dark:bg-red-900/20",borderColor:"border-red-200 dark:border-red-800",title:"Over Budget",subtitle:"Reduce allocations or add income"}:{icon:e4,color:"text-blue-600 dark:text-blue-400",bgColor:"bg-blue-50 dark:bg-blue-900/20",borderColor:"border-blue-200 dark:border-blue-800",title:"Available to Budget",subtitle:"Assign money to envelopes"},g=f.icon;return i?b.jsxs("div",{className:"bg-gray-50 dark:bg-zinc-900 rounded-2xl p-6 border border-gray-200 dark:border-zinc-800 animate-pulse",children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsx("div",{className:"h-6 bg-gray-200 dark:bg-zinc-700 rounded w-32"}),b.jsx("div",{className:"h-8 bg-gray-200 dark:bg-zinc-700 rounded w-20"})]}),b.jsx("div",{className:"h-2 bg-gray-200 dark:bg-zinc-700 rounded"})]}):b.jsxs("div",{className:`rounded-2xl p-6 border ${f.bgColor} ${f.borderColor}`,children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:`p-2 rounded-xl ${f.bgColor} ${f.borderColor}`,children:b.jsx(g,{size:24,className:f.color})}),b.jsxs("div",{children:[b.jsx("h3",{className:`font-semibold ${f.color}`,children:f.title}),b.jsx("p",{className:"text-sm text-gray-600 dark:text-zinc-400",children:f.subtitle})]})]}),b.jsxs("div",{className:"text-right",children:[b.jsxs("div",{className:`text-3xl font-bold ${f.color}`,children:[c?"-":"","$",Math.abs(t).toFixed(2)]}),o&&b.jsx("div",{className:"text-sm text-green-600 dark:text-emerald-400 font-medium",children:"Perfect Balance"})]})]}),!o&&e>0&&b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex justify-between text-sm text-gray-600 dark:text-zinc-400",children:[b.jsx("span",{children:"Allocated"}),b.jsxs("span",{children:[a.toFixed(0),"% of income"]})]}),b.jsx("div",{className:"w-full bg-gray-200 dark:bg-zinc-700 rounded-full h-2",children:b.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${c?"bg-red-500":d?"bg-blue-500":"bg-green-500"}`,style:{width:`${Math.min(a,100)}%`}})}),b.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-zinc-500",children:[b.jsxs("span",{children:["$",n.toFixed(2)," allocated"]}),b.jsxs("span",{children:["$",e.toFixed(2)," income"]})]})]}),b.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-zinc-700",children:b.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["$",e.toFixed(2)]}),b.jsx("div",{className:"text-sm text-gray-600 dark:text-zinc-400",children:"Total Income"})]}),b.jsxs("div",{children:[b.jsxs("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["$",n.toFixed(2)]}),b.jsx("div",{className:"text-sm text-gray-600 dark:text-zinc-400",children:"Allocated"})]})]})})]})},Pz=()=>{const[t,e]=P.useState(!1),n=P.useRef(null),{currentUser:i,logout:a}=Si(),{handleUserLogout:o}=Dn(),c=Ca();P.useEffect(()=>{const f=g=>{n.current&&!n.current.contains(g.target)&&e(!1)};if(t)return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[t]);const d=async()=>{if(window.confirm("Are you sure you want to log out? This will clear all your data from the app until you log back in."))try{o(),a(),c("/"),e(!1)}catch(f){console.error("Logout failed:",f)}};if(!i)return null;const h=i.displayName?.charAt(0)?.toUpperCase()||i.email?.charAt(0)?.toUpperCase()||"U";return b.jsxs("div",{className:"relative",ref:n,children:[b.jsxs("button",{onClick:()=>e(!t),className:"flex items-center gap-2 px-3 py-1.5 rounded-lg hover:bg-gray-100 dark:hover:bg-zinc-800 transition-colors",children:[b.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-sm font-semibold",children:h}),b.jsx("span",{className:"hidden sm:block text-sm font-medium text-gray-700 dark:text-gray-300",children:i.displayName||i.email?.split("@")[0]||"User"}),b.jsx(pD,{size:16,className:`text-gray-500 dark:text-gray-400 transition-transform ${t?"rotate-180":""}`})]}),t&&b.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-zinc-900 rounded-xl shadow-lg border border-gray-200 dark:border-zinc-800 overflow-hidden z-50",children:[b.jsx("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-zinc-800",children:b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center text-white font-semibold",children:h}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate",children:i.displayName||i.email?.split("@")[0]||"User"}),b.jsx("p",{className:"text-xs text-gray-500 dark:text-zinc-400 truncate",children:i.email})]})]})}),b.jsxs("div",{className:"py-1",children:[b.jsxs("button",{onClick:()=>{c("/settings"),e(!1)},className:"w-full px-4 py-2.5 flex items-center gap-3 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-zinc-800 transition-colors",children:[b.jsx(ZD,{size:18,className:"text-gray-500 dark:text-gray-400"}),"Settings"]}),b.jsxs("button",{onClick:d,className:"w-full px-4 py-2.5 flex items-center gap-3 text-left text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/10 transition-colors",children:[b.jsx(GD,{size:18}),"Log Out"]})]})]})]})},ub=({children:t,onDelete:e,threshold:n=-100})=>{const i=eP(),[a,o]=P.useState(!1),c=P.useRef(0),d=()=>{o(!0),c.current=Date.now()},h=async(f,g)=>{const v=g.offset.x,_=g.velocity.x;if(setTimeout(()=>o(!1),100),v<n||v<-50&&_<-500){const x=e();x===!1?i.start({x:0}):x instanceof Promise&&x.then(k=>{k===!1&&i.start({x:0})})}else i.start({x:0})};return b.jsxs("div",{className:"relative w-full overflow-hidden mb-2 rounded-xl group",children:[b.jsx("div",{className:"absolute inset-0 bg-red-500 flex items-center justify-end pr-6 rounded-xl",children:b.jsx(af,{className:"text-white w-6 h-6"})}),b.jsx(nd.div,{drag:"x",dragConstraints:{left:-500,right:0},dragElastic:.1,onDragStart:d,onDragEnd:h,animate:i,className:`relative bg-white dark:bg-zinc-900 rounded-xl ${a?"z-20":"z-10"}`,style:{touchAction:"pan-y",pointerEvents:a?"none":"auto"},children:t})]})},UR=({message:t="Loading your budget...",showTimeout:e=!1})=>b.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-black flex flex-col items-center justify-center px-4",children:[b.jsx("div",{className:"mb-8",children:b.jsxs("div",{className:"relative",children:[b.jsx(da,{size:48,className:"text-blue-500 animate-spin"}),b.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:b.jsx(wS,{size:24,className:"text-blue-600 dark:text-blue-400"})})]})}),b.jsxs("div",{className:"text-center space-y-3",children:[b.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:t}),b.jsx("p",{className:"text-sm text-gray-600 dark:text-zinc-400 max-w-md",children:"This may take a moment on slow connections. We're fetching your budget data securely."})]}),b.jsxs("div",{className:"mt-12 w-full max-w-md space-y-4",children:[b.jsx("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl p-4 shadow-sm border border-gray-100 dark:border-zinc-800",children:b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("div",{className:"h-6 bg-gray-200 dark:bg-zinc-700 rounded w-24 animate-pulse"}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("div",{className:"h-8 w-8 bg-gray-200 dark:bg-zinc-700 rounded-full animate-pulse"}),b.jsx("div",{className:"h-8 w-8 bg-gray-200 dark:bg-zinc-700 rounded-full animate-pulse"}),b.jsx("div",{className:"h-8 w-8 bg-gray-200 dark:bg-zinc-700 rounded-full animate-pulse"})]})]})}),b.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl p-6 shadow-sm border border-gray-100 dark:border-zinc-800",children:[b.jsx("div",{className:"h-4 bg-gray-200 dark:bg-zinc-700 rounded w-32 mb-2 animate-pulse"}),b.jsx("div",{className:"h-8 bg-gray-200 dark:bg-zinc-700 rounded w-20 animate-pulse"})]}),b.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl p-4 shadow-sm border border-gray-100 dark:border-zinc-800",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsx("div",{className:"h-5 bg-gray-200 dark:bg-zinc-700 rounded w-28 animate-pulse"}),b.jsx("div",{className:"h-6 w-6 bg-gray-200 dark:bg-zinc-700 rounded-full animate-pulse"})]}),b.jsxs("div",{className:"space-y-3",children:[b.jsx("div",{className:"h-12 bg-gray-100 dark:bg-zinc-800 rounded-xl animate-pulse"}),b.jsx("div",{className:"h-12 bg-gray-100 dark:bg-zinc-800 rounded-xl animate-pulse"})]})]}),b.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl p-4 shadow-sm border border-gray-100 dark:border-zinc-800",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsx("div",{className:"h-5 bg-gray-200 dark:bg-zinc-700 rounded w-32 animate-pulse"}),b.jsx("div",{className:"h-6 w-6 bg-gray-200 dark:bg-zinc-700 rounded-full animate-pulse"})]}),b.jsxs("div",{className:"space-y-3",children:[b.jsx("div",{className:"h-16 bg-gray-100 dark:bg-zinc-800 rounded-xl animate-pulse"}),b.jsx("div",{className:"h-16 bg-gray-100 dark:bg-zinc-800 rounded-xl animate-pulse"}),b.jsx("div",{className:"h-16 bg-gray-100 dark:bg-zinc-800 rounded-xl animate-pulse"})]})]})]}),e&&b.jsx("div",{className:"mt-8 p-4 bg-amber-50 dark:bg-amber-900/20 rounded-xl border border-amber-200 dark:border-amber-800 max-w-md",children:b.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-200 text-center",children:"This is taking longer than usual. If you're on a very slow connection, this is normal. Your data will load shortly."})}),b.jsx("div",{className:"mt-8 w-full max-w-md",children:b.jsx("div",{className:"h-1 bg-gray-200 dark:bg-zinc-700 rounded-full overflow-hidden",children:b.jsx("div",{className:"h-full bg-blue-500 rounded-full animate-pulse",style:{width:"60%"}})})})]}),gd=lm((t,e)=>({message:"",type:"neutral",isVisible:!1,undoAction:void 0,showToast:(n,i="neutral",a)=>{t({message:n,type:i,isVisible:!0,undoAction:a}),setTimeout(()=>{e().hideToast()},6e3)},hideToast:()=>{t({isVisible:!1})}})),jz=({isVisible:t,onClose:e,mode:n,initialIncomeSource:i})=>{const{createIncomeSource:a,updateIncomeSource:o}=Eo(),{showToast:c}=gd(),[d,h]=P.useState(""),[f,g]=P.useState(""),[v,_]=P.useState(!1);P.useEffect(()=>{if(!t)return;const k=window.setTimeout(()=>{n==="edit"&&i?(h(i.name),g(i.amount.toString())):(h(""),g(""))},0);return()=>window.clearTimeout(k)},[t,n,i]);const x=async k=>{if(k.preventDefault(),!d.trim()||!f||parseFloat(f)<=0){c("Please fill in all required fields with valid values","error");return}_(!0);try{if(n==="add")await a({name:d.trim(),amount:parseFloat(f)}),c(`Added "${d.trim()}" as income source`,"success");else if(n==="edit"){if(!i){c("Error: No income source to edit","error");return}await o(i.id,{name:d.trim(),amount:parseFloat(f)}),c(`Updated "${d.trim()}" income source`,"success")}e()}catch(C){console.error("Error saving income source:",C),c("Failed to save income source. Please try again.","error")}finally{_(!1)}};return t?b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:b.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[b.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-zinc-800",children:[b.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:n==="add"?"Add Income Source":"Edit Income Source"}),b.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:hover:text-zinc-300 transition-colors",children:""})]}),b.jsxs("form",{onSubmit:x,className:"p-6 space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-zinc-300 mb-1",children:"Income Source Name *"}),b.jsx("input",{type:"text",value:d,onChange:k=>h(k.target.value),placeholder:"e.g., Primary Job, Freelance, Investments",className:"w-full px-3 py-2 border border-gray-300 dark:border-zinc-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-zinc-800 dark:text-white",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-zinc-300 mb-1",children:"Amount *"}),b.jsxs("div",{className:"relative",children:[b.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-zinc-400",children:"$"}),b.jsx("input",{type:"number",value:f,onChange:k=>g(k.target.value),placeholder:"0.00",step:"0.01",min:"0",className:"w-full pl-8 pr-3 py-2 border border-gray-300 dark:border-zinc-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-zinc-800 dark:text-white",required:!0})]})]}),b.jsxs("div",{className:"flex gap-3 pt-4",children:[b.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 text-gray-700 dark:text-zinc-300 border border-gray-300 dark:border-zinc-700 rounded-lg hover:bg-gray-50 dark:hover:bg-zinc-800 transition-colors",children:"Cancel"}),b.jsx("button",{type:"submit",disabled:v||!d.trim()||!f||parseFloat(f)<=0,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:v?"Saving...":n==="add"?"Add Income":"Save Changes"})]})]})]})}):null},Lz=({isVisible:t,onClose:e,onConfirm:n,currentMonth:i,incomeCount:a,totalIncome:o,allocationCount:c,totalAllocated:d,isLoading:h=!1})=>{const[f,g]=P.useState(""),[v,_]=P.useState("confirm"),x=N=>{const[D,j]=N.split("-");return new Date(parseInt(D),parseInt(j)-1).toLocaleDateString("en-US",{year:"numeric",month:"long"})},k=()=>{v==="confirm"?_("type"):v==="type"&&f==="START FRESH"&&n()},C=()=>{_("confirm"),g(""),e()};return t?b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:b.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[b.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-zinc-800",children:[b.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:["Start Fresh for ",x(i)]}),b.jsx("button",{onClick:C,className:"text-gray-400 hover:text-gray-600 dark:hover:text-zinc-300 transition-colors",disabled:h,children:""})]}),b.jsx("div",{className:"p-6 space-y-4",children:v==="confirm"?b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:b.jsxs("div",{className:"flex items-start",children:[b.jsx("div",{className:"flex-shrink-0",children:b.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),b.jsxs("div",{className:"ml-3",children:[b.jsx("h3",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:"This action will permanently delete:"}),b.jsx("div",{className:"mt-2 text-sm text-red-700 dark:text-red-300",children:b.jsxs("ul",{className:"space-y-1",children:[b.jsxs("li",{children:[" ",a," income source",a!==1?"s":""," (totaling $",o.toFixed(2),"/month)"]}),b.jsxs("li",{children:[" ",c," envelope allocation",c!==1?"s":""," (totaling $",d.toFixed(2),")"]})]})})]})]})}),b.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:b.jsxs("div",{className:"flex",children:[b.jsx("div",{className:"flex-shrink-0",children:b.jsx("svg",{className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),b.jsx("div",{className:"ml-3",children:b.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[b.jsx("strong",{children:"All other months will remain completely unchanged."})," This only affects the current month's budget data."]})})]})}),b.jsx("p",{className:"text-sm text-gray-600 dark:text-zinc-400",children:"You can undo this action within 30 seconds if you change your mind."})]}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"text-center",children:[b.jsxs("p",{className:"text-sm text-gray-900 dark:text-white mb-4",children:["Type ",b.jsx("strong",{children:"START FRESH"})," to confirm:"]}),b.jsx("input",{type:"text",value:f,onChange:N=>g(N.target.value),placeholder:"START FRESH",className:"w-full px-3 py-2 border border-gray-300 dark:border-zinc-700 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent dark:bg-zinc-800 dark:text-white text-center font-mono text-lg",autoFocus:!0})]}),b.jsx("p",{className:"text-xs text-gray-500 dark:text-zinc-500 text-center",children:"This action cannot be undone after 30 seconds"})]})}),b.jsxs("div",{className:"flex gap-3 p-6 border-t border-gray-200 dark:border-zinc-800",children:[b.jsx("button",{type:"button",onClick:C,className:"flex-1 px-4 py-2 text-gray-700 dark:text-zinc-300 border border-gray-300 dark:border-zinc-700 rounded-lg hover:bg-gray-50 dark:hover:bg-zinc-800 transition-colors",disabled:h,children:"Cancel"}),b.jsx("button",{type:"button",onClick:k,disabled:h||v==="type"&&f!=="START FRESH",className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:h?"Clearing...":v==="confirm"?"Continue":"Start Fresh"})]})]})}):null},Uz=({currentMonth:t,onCopy:e,onDismiss:n,isLoading:i=!1})=>{const a=c=>{const[d,h]=c.split("-");return new Date(parseInt(d),parseInt(h)-1).toLocaleDateString("en-US",{year:"numeric",month:"long"})},o=c=>{const[d,h]=c.split("-").map(Number);let f=d,g=h-1;return g<1&&(f=d-1,g=12),a(`${f}-${g.toString().padStart(2,"0")}`)};return b.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-2xl p-6 mb-6",children:[b.jsxs("div",{className:"flex items-start justify-between",children:[b.jsxs("div",{className:"flex items-start space-x-3",children:[b.jsx("div",{className:"flex-shrink-0",children:b.jsx(RD,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),b.jsxs("div",{className:"flex-1",children:[b.jsx("h3",{className:"text-lg font-medium text-blue-900 dark:text-blue-100",children:"Copy Previous Month?"}),b.jsxs("p",{className:"mt-1 text-sm text-blue-700 dark:text-blue-300",children:["Would you like to copy your budget setup from ",o(t)," to get started with ",a(t),"?"]}),b.jsx("p",{className:"mt-2 text-xs text-blue-600 dark:text-blue-400",children:"This will copy your income sources and envelope allocations, but not transactions."})]})]}),b.jsx("button",{onClick:n,className:"flex-shrink-0 text-blue-400 hover:text-blue-600 dark:hover:text-blue-300 transition-colors","aria-label":"Dismiss",children:b.jsx(Wu,{className:"h-5 w-5"})})]}),b.jsxs("div",{className:"mt-4 flex space-x-3",children:[b.jsx("button",{onClick:n,className:"flex-1 px-4 py-2 text-sm font-medium text-blue-700 dark:text-blue-300 bg-white dark:bg-zinc-800 border border-blue-300 dark:border-blue-600 rounded-lg hover:bg-blue-50 dark:hover:bg-zinc-700 transition-colors",disabled:i,children:"Start Fresh"}),b.jsx("button",{onClick:e,disabled:i,className:"flex-1 px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i?"Copying...":"Copy Previous Month"})]})]})},zz=()=>{const{envelopes:t,transactions:e,fetchData:n,isLoading:i,isOnline:a,pendingSync:o,syncData:c,testingConnectivity:d}=Dn(),{currentMonth:h,fetchMonthlyData:f,incomeSources:g,envelopeAllocations:v,calculateAvailableToBudget:_,deleteIncomeSource:x,restoreIncomeSource:k,clearMonthData:C,copyFromPreviousMonth:N,setEnvelopeAllocation:D}=Eo(),{showToast:j}=gd(),U=Ca(),[Q,re]=P.useState(!1),[ne,S]=P.useState("add"),[R,M]=P.useState(null),[z,O]=P.useState(!1),[F,L]=P.useState(!1),[ze,ce]=P.useState(!1),$=P.useRef(null),[ee,me]=P.useState(!0),[Te,oe]=P.useState(!1),V=P.useRef(null),[Z,de]=P.useState(null),[he,ye]=P.useState(""),_e=P.useRef(null),Ee=pe=>{const Me=e.filter(Je=>Je.envelopeId===pe&&Je.month===h),Lt=e.filter(Je=>Je.envelopeId===pe);console.log(` Balance calc for envelope ${pe}:`,{currentMonth:h,totalTransactions:e.length,allEnvelopeTransactions:Lt.map(Je=>({id:Je.id,amount:Je.amount,type:Je.type,month:Je.month,date:Je.date})),matchingMonthTransactions:Me.map(Je=>({id:Je.id,amount:Je.amount,type:Je.type,month:Je.month,date:Je.date}))});const bn=Me.filter(Je=>Je.type==="Expense"),kt=Me.filter(Je=>Je.type==="Income"),Wt=bn.reduce((Je,on)=>Je.plus(new Fn(on.amount||0)),new Fn(0)),Ci=kt.reduce((Je,on)=>Je.plus(new Fn(on.amount||0)),new Fn(0)).minus(Wt);return console.log(` Final balance for envelope ${pe}:`,Ci.toNumber()),Ci};P.useEffect(()=>(console.log(" Starting initial data load, isInitialLoading:",ee),(async()=>{console.log(" Setting timeout for loading message"),V.current=setTimeout(()=>{console.log(" Loading timeout reached, showing timeout message"),oe(!0)},8e3);try{console.log(" Fetching data in parallel..."),await Promise.all([n().then(()=>console.log(" Envelope data fetched")),f().then(()=>console.log(" Monthly budget data fetched"))]),V.current&&clearTimeout(V.current),console.log(" Data load complete, hiding loading screen"),me(!1),oe(!1)}catch(Me){console.error(" Error loading initial data:",Me),me(!1),oe(!1)}})(),()=>{V.current&&clearTimeout(V.current)}),[]),P.useEffect(()=>{Z&&_e.current&&(_e.current.focus(),_e.current.select())},[Z]);const ct=[...t].sort((pe,Me)=>{const Lt=pe.orderIndex??0,bn=Me.orderIndex??0;return Lt!==bn?Lt-bn:pe.name.localeCompare(Me.name)}),Fe=t.reduce((pe,Me)=>pe+Ee(Me.id).toNumber(),0);console.log(" Total balance:",Fe);const tn=async()=>{if(Z)try{const pe=parseFloat(he)||0;await D(Z,pe)}catch(pe){console.error("Failed to save budget amount:",pe),j("Failed to update budget","error")}finally{de(null),ye("")}},Rn=()=>{S("add"),M(null),re(!0)},vs=pe=>{$.current&&clearTimeout($.current),!z&&(S("edit"),M(pe),re(!0))},bs=pe=>{$.current&&clearTimeout($.current),O(!0);const Me=g.findIndex(bn=>bn.id===pe.id),Lt={...pe};x(pe.id).catch(console.error),j(`Deleted "${pe.name}"`,"neutral",()=>k(Lt,Me)),setTimeout(()=>O(!1),500)},ri=()=>{re(!1),M(null)},Ma=()=>{L(!0)},Dr=async()=>{try{await C(),L(!1),j(`"${h}" budget cleared`,"neutral",()=>j('Cannot undo "Start Fresh" after 30 seconds',"error"))}catch(pe){console.error("Error clearing month data:",pe),j("Failed to clear month data","error")}},Oa=async()=>{try{await N(),ce(!1),j("Previous month budget copied","success")}catch(pe){console.error("Error copying previous month:",pe),j("Failed to copy previous month","error")}},Va=_();return console.log(" Checking loading screen condition, isInitialLoading:",ee),ee?(console.log(" Showing loading screen"),b.jsx(UR,{message:Te?"Still loading... This is normal on slow connections":"Loading your budget...",showTimeout:Te})):(console.log(" Showing main content"),b.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-black pb-20",children:[b.jsxs("header",{className:"bg-white dark:bg-black border-b dark:border-zinc-800 px-4 pt-[calc(env(safe-area-inset-top)+12px)] pb-4 sticky top-0 z-30",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("div",{className:"flex items-center gap-2",children:a?i?b.jsxs("div",{className:"flex items-center gap-1 text-blue-500",children:[b.jsx(da,{size:16,className:"animate-spin"}),b.jsx("span",{className:"text-sm font-medium",children:"Syncing..."})]}):o?b.jsxs("button",{onClick:c,className:"flex items-center gap-1 text-orange-500 hover:text-orange-600 transition-colors",title:"Sync pending - tap to sync",children:[b.jsx(da,{size:16}),b.jsx("span",{className:"text-sm font-medium",children:"Sync"})]}):b.jsxs("div",{className:"flex items-center gap-1 text-green-500",children:[b.jsx(g4,{size:16}),b.jsx("span",{className:"text-sm font-medium",children:"Online"})]}):b.jsxs("div",{className:"flex items-center gap-1 text-gray-500",children:[b.jsx(m4,{size:16}),b.jsx("span",{className:"text-sm font-medium",children:d?"Testing...":i?"Saving...":"Offline"})]})}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("button",{onClick:()=>U("/transactions"),className:"text-blue-500 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",title:"Transaction History",children:b.jsx(qD,{size:22})}),b.jsx("button",{onClick:Ma,className:"text-orange-500 hover:text-orange-600 dark:hover:text-orange-400 transition-colors",title:"Start Fresh - Clear current month budget",children:b.jsx(da,{size:22})}),b.jsx(Pz,{})]})]}),b.jsx("div",{className:"mt-4",children:b.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-white",children:"Personal Budget"})})]}),b.jsxs("div",{className:"p-4 max-w-md mx-auto space-y-6",children:[b.jsx(Oz,{currentMonth:h,onMonthChange:pe=>{Eo.getState().setCurrentMonth(pe),setTimeout(()=>{const Me=Eo.getState();Me.currentMonth===pe&&Me.incomeSources.length===0&&Me.envelopeAllocations.length===0&&ce(!0)},500)}}),b.jsx(Vz,{amount:Va,totalIncome:g.reduce((pe,Me)=>pe+Me.amount,0),totalAllocated:v.reduce((pe,Me)=>pe+Me.budgetedAmount,0),isLoading:i}),ze&&b.jsx(Uz,{currentMonth:h,onCopy:Oa,onDismiss:()=>ce(!1)}),b.jsxs("section",{className:"bg-white dark:bg-zinc-900 rounded-2xl p-4 shadow-sm border border-gray-100 dark:border-zinc-800",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Income Sources"}),b.jsx("button",{onClick:Rn,className:"text-blue-600 dark:text-blue-300 hover:text-blue-700 dark:hover:text-blue-200 transition-colors",children:b.jsx(Fg,{size:20})})]}),g.length===0?b.jsx("div",{className:"text-center py-6",children:b.jsx("p",{className:"text-gray-500 dark:text-zinc-400 text-sm",children:"No income sources yet. Add your monthly income."})}):b.jsx("div",{className:"space-y-3",children:b.jsx(rm,{initial:!1,mode:"popLayout",children:g.map(pe=>b.jsx(nd.div,{layout:!0,initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},children:b.jsx(ub,{onDelete:()=>bs(pe),children:b.jsxs("div",{className:"flex justify-between items-center py-3 px-4 bg-gray-50 dark:bg-zinc-800 rounded-xl cursor-pointer",onClick:()=>vs(pe),children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:pe.name}),b.jsx("p",{className:"text-sm text-gray-600 dark:text-zinc-400",children:"Monthly income"})]}),b.jsxs("p",{className:"font-semibold text-green-600 dark:text-emerald-400",children:["$",pe.amount.toFixed(2)]})]})})},pe.id))})})]}),b.jsxs("section",{className:"bg-white dark:bg-zinc-900 rounded-2xl p-4 shadow-sm border border-gray-100 dark:border-zinc-800",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Spending Envelopes"}),b.jsx("button",{onClick:()=>U("/add-envelope"),className:"text-blue-600 dark:text-blue-300 hover:text-blue-700 dark:hover:text-blue-200 transition-colors",title:"Create New Envelope",children:b.jsx(Fg,{size:20})})]}),ct.length===0?b.jsxs("div",{className:"text-center py-6",children:[b.jsx(wS,{className:"w-12 h-12 text-gray-300 dark:text-zinc-700 mx-auto mb-3"}),b.jsx("p",{className:"text-gray-500 dark:text-zinc-400 text-sm mb-4",children:"No envelopes yet. Create one to get started."}),b.jsx("button",{onClick:()=>U("/add-envelope"),className:"text-blue-600 dark:text-blue-300 font-medium hover:text-blue-700 dark:hover:text-blue-200 transition-colors",children:"Create First Envelope"})]}):b.jsx("div",{className:"space-y-3",children:ct.map(pe=>{const Lt=v.find(kt=>kt.envelopeId===pe.id)?.budgetedAmount||0,bn=Ee(pe.id);return b.jsxs("div",{onClick:()=>Z!==pe.id&&U(`/envelope/${pe.id}`),className:"bg-gray-50 dark:bg-zinc-800 p-4 rounded-xl cursor-pointer active:scale-[0.99] transition-transform",children:[b.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:pe.name}),b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("div",{className:"flex items-center space-x-4",onClick:kt=>kt.stopPropagation(),children:Z===pe.id?b.jsxs("div",{className:"flex items-center space-x-1",children:[b.jsx("span",{className:"text-sm text-gray-500 dark:text-zinc-400",children:"Budgeted:"}),b.jsx("form",{onSubmit:kt=>{kt.preventDefault(),tn()},children:b.jsx("input",{ref:_e,type:"number",value:he,onChange:kt=>ye(kt.target.value),onBlur:tn,onKeyDown:kt=>{kt.key==="Escape"&&de(null)},className:"w-24 bg-white dark:bg-zinc-700 text-blue-600 dark:text-blue-300 font-semibold text-left rounded-md px-2 py-1 border border-blue-300 dark:border-blue-500 focus:ring-2 focus:ring-blue-500 outline-none",step:"0.01",placeholder:"0.00"})})]}):b.jsxs("button",{onClick:()=>{de(pe.id),ye(Lt.toFixed(2))},className:"flex items-center space-x-1 text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 transition-colors rounded-md p-1 -m-1",children:[b.jsx("span",{className:"text-sm",children:"Budgeted:"}),b.jsxs("span",{className:"font-semibold",children:["$",Lt.toFixed(2)]})]})}),b.jsxs("div",{className:"text-right",children:[b.jsx("div",{className:"text-xs text-gray-500 dark:text-zinc-400 mb-1",children:"Remaining"}),b.jsxs("div",{className:`font-semibold ${bn.toNumber()<0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:[bn.toNumber()<0?"-":"","$",Math.abs(bn.toNumber()).toFixed(2)]})]})]}),Lt>0&&b.jsx("div",{className:"mt-3",onClick:kt=>kt.stopPropagation(),children:(()=>{const kt=e.filter(Mn=>Mn.envelopeId===pe.id&&Mn.month===h),Wt=kt.filter(Mn=>Mn.type==="Expense"),Gi=kt.filter(Mn=>Mn.type==="Income"),Ci=Wt.reduce((Mn,_s)=>Mn+(_s.amount||0),0),Je=Gi.reduce((Mn,_s)=>Mn+(_s.amount||0),0),on=Math.max(0,Ci/Je*100);return console.log(` Envelope: ${pe.name}`,{budgetedAmount:Lt,totalIncome:Je,totalSpent:Ci,remainingBalance:bn.toNumber(),percentage:on}),b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-zinc-400 mb-1",children:[b.jsx("span",{children:"Budget Used"}),b.jsxs("span",{children:[on.toFixed(0),"%"]})]}),b.jsx("div",{className:"w-full bg-gray-200 dark:bg-zinc-700 rounded-full h-2 overflow-hidden",children:b.jsx("div",{className:`h-full transition-all duration-300 ease-out ${bn.toNumber()<0?"bg-red-500":on>=80?"bg-yellow-500":"bg-green-500"}`,style:{width:`${on}%`}})})]})})()})]},pe.id)})})]})]}),b.jsx("button",{onClick:()=>U("/add-transaction"),className:"fixed bottom-6 right-6 bg-blue-600 text-white p-4 rounded-full shadow-lg active:scale-90 transition-transform",children:b.jsx(Fg,{size:28})}),b.jsx(jz,{isVisible:Q,onClose:ri,mode:ne,initialIncomeSource:R}),b.jsx(Lz,{isVisible:F,onClose:()=>L(!1),onConfirm:Dr,currentMonth:h,incomeCount:g.length,totalIncome:g.reduce((pe,Me)=>pe+Me.amount,0),allocationCount:v.length,totalAllocated:v.reduce((pe,Me)=>pe+Me.budgetedAmount,0)})]}))},zR=({isVisible:t,onClose:e,mode:n,currentEnvelope:i,initialTransaction:a})=>{const{addTransaction:o,updateTransaction:c,deleteTransaction:d}=Dn(),[h,f]=P.useState(""),[g,v]=P.useState(""),[_,x]=P.useState(new Date().toISOString().split("T")[0]);if(P.useEffect(()=>{if(!t)return;const j=window.setTimeout(()=>{if(n==="edit"&&a){f(a.amount.toString()),v(a.description);try{const U=new Date(a.date);isNaN(U.getTime())?(console.warn("Invalid date in transaction:",a.date),x(new Date().toISOString().split("T")[0])):x(U.toISOString().split("T")[0])}catch(U){console.error("Error parsing transaction date:",U),x(new Date().toISOString().split("T")[0])}}else f(""),v(""),x(new Date().toISOString().split("T")[0])},0);return()=>window.clearTimeout(j)},[t,n,a]),!t)return null;const k=async j=>{j.preventDefault();const U=parseFloat(h);if(isNaN(U)||U<=0){console.log(" Invalid amount:",h);return}console.log(" Saving transaction:",{mode:n,amount:U,note:g,date:_,envelopeId:i.id});try{n==="add"?(console.log(" Adding income transaction"),await o({amount:U,description:g,date:new Date(_).toISOString(),envelopeId:i.id,type:"Income",reconciled:!1})):n==="spend"?(console.log(" Adding expense transaction"),await o({amount:U,description:g,date:new Date(_).toISOString(),envelopeId:i.id,type:"Expense",reconciled:!1})):n==="edit"&&a&&(console.log(" Updating transaction"),await c({...a,amount:U,description:g,date:new Date(_).toISOString()})),console.log(" Transaction saved successfully"),e()}catch(Q){console.error(" Error saving transaction:",Q),alert("Failed to save transaction: "+(Q instanceof Error?Q.message:"Unknown error"))}},C=()=>{!a||!a.id||window.confirm("Are you sure you want to delete this transaction?")&&(d(a.id),e())},N=n==="add"?"Add Money":n==="spend"?"Spend Money":"Edit Transaction",D=n==="add"?"text-green-500":"text-red-500";return b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:b.jsxs("div",{className:"bg-white dark:bg-zinc-900 w-full max-w-md rounded-2xl border border-gray-200 dark:border-zinc-800 shadow-2xl overflow-hidden",children:[b.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 dark:border-zinc-800",children:[b.jsx("button",{onClick:e,className:"text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300 font-medium",children:"Cancel"}),b.jsx("h2",{className:"text-gray-900 dark:text-white font-semibold text-lg",children:N}),b.jsx("button",{onClick:k,className:"text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300 font-bold disabled:opacity-50",disabled:!h||parseFloat(h)<=0,children:"Save"})]}),b.jsxs("form",{onSubmit:k,className:"p-6 space-y-6",children:[b.jsxs("div",{className:"text-center",children:[b.jsx("label",{className:"block text-sm text-gray-600 dark:text-zinc-400 mb-1",children:"Amount"}),b.jsxs("div",{className:"relative inline-block",children:[b.jsx("span",{className:`absolute left-0 top-1/2 -translate-y-1/2 -translate-x-full pr-2 text-2xl ${D}`,children:"$"}),b.jsx("input",{type:"number",inputMode:"decimal",step:"0.01",value:h,onChange:j=>{const U=j.target.value;(U===""||!isNaN(parseFloat(U))&&parseFloat(U)>=0)&&f(U)},onKeyDown:j=>{(j.key==="e"||j.key==="E"||j.key==="+"||j.key==="-")&&j.preventDefault()},placeholder:"0.00",autoFocus:!0,className:`bg-transparent text-4xl font-bold text-center w-40 focus:outline-none ${D} placeholder-gray-700`})]})]}),b.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-lg p-3 border border-gray-200 dark:border-zinc-800 focus-within:border-blue-500 dark:focus-within:border-blue-400 transition-colors",children:[b.jsx("label",{className:"block text-xs text-gray-500 dark:text-zinc-400 mb-1",children:"Note"}),b.jsx("input",{type:"text",value:g,onChange:j=>v(j.target.value),placeholder:"What is this for?",className:"w-full bg-transparent text-gray-900 dark:text-white focus:outline-none"})]}),b.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-lg p-3 border border-gray-200 dark:border-zinc-800 focus-within:border-blue-500 dark:focus-within:border-blue-400 transition-colors",children:[b.jsx("label",{className:"block text-xs text-gray-500 dark:text-zinc-400 mb-1",children:"Date"}),b.jsx("input",{type:"date",value:_,onChange:j=>{console.log("Date changed to:",j.target.value),x(j.target.value)},required:!0,className:"w-full bg-transparent text-gray-900 dark:text-white focus:outline-none [color-scheme:dark]"})]}),n==="edit"&&b.jsx("div",{className:"pt-4 border-t border-gray-200 dark:border-zinc-800",children:b.jsxs("button",{type:"button",onClick:C,className:"w-full py-3 px-4 rounded-lg bg-white dark:bg-zinc-900 text-red-600 dark:text-red-400 font-semibold hover:bg-gray-50 dark:hover:bg-zinc-800 transition duration-150 flex items-center justify-center border border-gray-200 dark:border-zinc-800",children:[b.jsx(bS,{className:"w-5 h-5 mr-2"}),"Delete Transaction"]})})]})]})})},Bz=({isVisible:t,onClose:e,sourceEnvelope:n})=>{const{envelopes:i,transferFunds:a}=Dn(),[o,c]=P.useState(""),[d,h]=P.useState(""),[f,g]=P.useState(""),[v,_]=P.useState(new Date().toISOString().split("T")[0]),x=i.filter(N=>N.id!==n.id);if(P.useEffect(()=>{if(!t)return;const N=window.setTimeout(()=>{c(""),h(""),g(""),_(new Date().toISOString().split("T")[0])},0);return()=>window.clearTimeout(N)},[t]),!t)return null;const k=N=>{N.preventDefault();const D=parseFloat(d);isNaN(D)||D<=0||!o||(a(n.id,o,D,f,new Date(v)),e())},C=i.find(N=>N.id===o);return b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:b.jsxs("div",{className:"bg-white dark:bg-zinc-900 w-full max-w-md rounded-2xl border border-gray-200 dark:border-zinc-800 shadow-2xl overflow-hidden",children:[b.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 dark:border-zinc-800",children:[b.jsx("button",{onClick:e,className:"text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300 font-medium",children:"Cancel"}),b.jsx("h2",{className:"text-gray-900 dark:text-white font-semibold text-lg",children:"Transfer Money"}),b.jsx("button",{onClick:k,className:"text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300 font-bold disabled:opacity-50",disabled:!d||parseFloat(d)<=0||!o,children:"Transfer"})]}),b.jsxs("form",{onSubmit:k,className:"p-6 space-y-6",children:[b.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-lg p-3 border border-gray-200 dark:border-zinc-800",children:[b.jsx("label",{className:"block text-xs text-gray-500 dark:text-zinc-400 mb-1",children:"From"}),b.jsx("div",{className:"text-gray-900 dark:text-white font-medium",children:n.name})]}),b.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-lg p-3 border border-gray-200 dark:border-zinc-800 focus-within:border-blue-500 dark:focus-within:border-blue-400 transition-colors",children:[b.jsx("label",{className:"block text-xs text-gray-500 dark:text-zinc-400 mb-1",children:"To"}),b.jsxs("select",{value:o,onChange:N=>c(N.target.value),className:"w-full bg-transparent text-gray-900 dark:text-white focus:outline-none cursor-pointer",children:[b.jsx("option",{value:"",className:"bg-white dark:bg-zinc-900",children:"Select envelope..."}),x.map(N=>b.jsx("option",{value:N.id,className:"bg-white dark:bg-zinc-900",children:N.name},N.id))]})]}),b.jsxs("div",{className:"text-center",children:[b.jsx("label",{className:"block text-sm text-gray-600 dark:text-zinc-400 mb-1",children:"Amount"}),b.jsxs("div",{className:"relative inline-block",children:[b.jsx("span",{className:"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-full pr-2 text-2xl text-blue-600 dark:text-blue-400",children:"$"}),b.jsx("input",{type:"number",inputMode:"decimal",step:"0.01",value:d,onChange:N=>h(N.target.value),onKeyDown:N=>{(N.key==="e"||N.key==="E"||N.key==="+"||N.key==="-")&&N.preventDefault()},placeholder:"0.00",autoFocus:!0,className:"bg-transparent text-4xl font-bold text-center w-40 focus:outline-none text-blue-600 dark:text-blue-400 placeholder-gray-400 dark:placeholder-gray-600"})]})]}),b.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-lg p-3 border border-gray-200 dark:border-zinc-800 focus-within:border-blue-500 dark:focus-within:border-blue-400 transition-colors",children:[b.jsx("label",{className:"block text-xs text-gray-500 dark:text-zinc-400 mb-1",children:"Note (Optional)"}),b.jsx("input",{type:"text",value:f,onChange:N=>g(N.target.value),placeholder:"What is this transfer for?",className:"w-full bg-transparent text-gray-900 dark:text-white focus:outline-none"})]}),b.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-lg p-3 border border-gray-200 dark:border-zinc-800 focus-within:border-blue-500 dark:focus-within:border-blue-400 transition-colors",children:[b.jsx("label",{className:"block text-xs text-gray-500 dark:text-zinc-400 mb-1",children:"Date"}),b.jsx("input",{type:"date",value:v,onChange:N=>_(N.target.value),className:"w-full bg-transparent text-gray-900 dark:text-white focus:outline-none [color-scheme:dark]"})]}),C&&d&&parseFloat(d)>0&&b.jsxs("div",{className:"text-center text-sm text-gray-500 dark:text-zinc-400 pt-2 border-t border-gray-200 dark:border-zinc-800",children:["Moving ",b.jsxs("span",{className:"text-blue-600 dark:text-blue-400 font-bold",children:["$",parseFloat(d).toFixed(2)]})," from"," ",b.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:n.name})," to"," ",b.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:C.name})]})]})]})})},Fz=t=>{if(!t)return"No Date";try{let e;return t&&typeof t=="object"&&t.toDate&&typeof t.toDate=="function"?e=t.toDate():typeof t=="number"?t<1e10?e=new Date((t+978307200)*1e3):e=new Date(t):e=new Date(t),isNaN(e.getTime())?"Invalid Date":new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(e)}catch(e){return console.error("Date error:",e),"Error"}},qz=t=>{const e=typeof t=="string"?parseFloat(t):t;return typeof e!="number"||isNaN(e)?"$0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(Math.abs(e))},BR=({transaction:t,envelopeName:e,onReconcile:n,onEdit:i})=>{if(!t)return null;const a=t.type==="Income",o=t.type==="Expense";let c="text-gray-900 dark:text-white";return a&&(c="text-green-600 dark:text-green-400"),o&&(c="text-red-600 dark:text-red-400"),b.jsxs("div",{onClick:i,className:"flex items-center justify-between p-4 bg-white dark:bg-zinc-900 active:bg-gray-50 dark:active:bg-zinc-800 transition-colors cursor-pointer group border-b border-gray-100 dark:border-zinc-800 last:border-0",children:[b.jsxs("div",{className:"flex flex-col gap-1 overflow-hidden",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"font-medium text-gray-900 dark:text-white truncate",children:t.description||"No Description"}),t.reconciled&&b.jsx("span",{className:"text-[10px] bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 px-1.5 py-0.5 rounded-full font-bold uppercase tracking-wide",children:"R"})]}),b.jsxs("div",{className:"text-xs text-gray-500 dark:text-zinc-500 flex items-center gap-1",children:[b.jsx("span",{children:Fz(t.date)}),e&&b.jsxs(b.Fragment,{children:[b.jsx("span",{children:""}),b.jsx("span",{className:"text-blue-500 dark:text-blue-400 truncate max-w-[150px]",children:e})]})]})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("div",{className:`font-bold font-mono whitespace-nowrap ${c}`,children:[o?"-":a?"+":"",qz(t.amount)]}),n?b.jsx("button",{type:"button",onClick:d=>{d.stopPropagation(),n()},className:"p-1.5 rounded-full border border-transparent hover:border-green-200 dark:hover:border-green-500 transition-colors","aria-label":t.reconciled?"Mark as unreconciled":"Mark as reconciled",children:t.reconciled?b.jsx(Xw,{className:"text-green-500",size:20}):b.jsx(Ww,{className:"text-gray-400",size:20})}):b.jsx("span",{children:t.reconciled?b.jsx(Xw,{className:"text-green-500",size:20}):b.jsx(Ww,{className:"text-gray-400",size:20})})]})]})},Hz=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t),$z=()=>{const{id:t}=uk(),{envelopes:e,transactions:n,fetchData:i,isLoading:a,deleteEnvelope:o,renameEnvelope:c,updateTransaction:d,deleteTransaction:h,restoreTransaction:f,getEnvelopeBalance:g}=Dn(),{showToast:v}=gd(),_=Ca(),x=Aa(),[k,C]=P.useState(!1),[N,D]=P.useState(!1),[j,U]=P.useState(!1),[Q,re]=P.useState(null);P.useEffect(()=>{e.length===0&&i()},[]);const ne=e.find(O=>O.id===t);if(!ne)return a?b.jsx("div",{className:"flex justify-center items-center h-screen bg-white dark:bg-black text-gray-900 dark:text-white",children:b.jsx("p",{children:"Loading envelope..."})}):b.jsx("div",{className:"flex justify-center items-center h-screen bg-white dark:bg-black text-gray-900 dark:text-white",children:b.jsx("p",{children:"Envelope not found."})});const S=n.filter(O=>O.envelopeId===ne.id).sort((O,F)=>new Date(F.date).getTime()-new Date(O.date).getTime()),R=()=>{x.state?.fromGlobalFAB?_("/"):_(-1)},M=()=>{t&&(o(t),_(-1))},z=O=>{const F={...O,reconciled:!O.reconciled};d(F)};return b.jsxs("div",{className:"min-h-screen bg-white dark:bg-black text-gray-900 dark:text-white p-4",children:[b.jsxs("header",{className:"flex justify-between items-center pt-[calc(env(safe-area-inset-top)+12px)] pb-4 sticky top-0 bg-white dark:bg-black z-10 border-b border-gray-100 dark:border-zinc-800",children:[b.jsx("button",{onClick:()=>{const O=prompt("Rename envelope:",ne.name);O&&O.trim()&&t&&c(t,O)},className:"text-blue-600 dark:text-blue-400 font-medium",children:"Rename"}),b.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:ne.name}),b.jsx("button",{onClick:R,className:"text-blue-600 dark:text-blue-400 font-bold",children:"Done"})]}),b.jsx("section",{className:"mt-4 bg-white dark:bg-zinc-900 rounded-lg p-4 shadow-lg mb-4 border border-gray-100 dark:border-zinc-800",children:b.jsxs("div",{className:"flex justify-between items-center mb-2",children:[b.jsx("span",{className:"text-lg font-headline text-gray-900 dark:text-white",children:"Current Balance"}),(()=>{const O=g(ne.id).toNumber();return console.log(`Debug: Envelope ${ne.name} Balance:`,O),b.jsx("span",{className:`text-xl font-bold ${O<0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:Hz(O)})})()]})}),b.jsxs("section",{className:"bg-white dark:bg-zinc-900 rounded-lg shadow-lg mb-4 divide-y divide-gray-100 dark:divide-zinc-800 border border-gray-100 dark:border-zinc-800",children:[b.jsxs("button",{className:"flex items-center w-full p-4 text-left text-green-600 dark:text-green-400 hover:bg-gray-100 dark:hover:bg-zinc-800 transition duration-150",onClick:()=>C(!0),children:[b.jsx(TD,{className:"w-5 h-5 mr-3"}),"Add Money"]}),b.jsxs("button",{className:"flex items-center w-full p-4 text-left text-red-600 dark:text-red-400 hover:bg-gray-100 dark:hover:bg-zinc-800 transition duration-150",onClick:()=>D(!0),children:[b.jsx(_D,{className:"w-5 h-5 mr-3"}),"Spend Money"]}),b.jsxs("button",{className:"flex items-center w-full p-4 text-left text-blue-600 dark:text-blue-400 hover:bg-gray-100 dark:hover:bg-zinc-800 transition duration-150",onClick:()=>U(!0),children:[b.jsx(dD,{className:"w-5 h-5 mr-3"}),"Transfer Money"]})]}),b.jsxs("section",{className:"mt-6",children:[b.jsx("h2",{className:"text-sm font-semibold uppercase text-gray-500 dark:text-zinc-400 mb-2 px-2",children:"Transaction History"}),b.jsx("div",{className:"bg-white dark:bg-zinc-900 rounded-lg shadow-lg divide-y divide-gray-100 dark:divide-zinc-800 border border-gray-100 dark:border-zinc-800",children:S.length===0?b.jsx("p",{className:"p-4 text-center text-gray-500 dark:text-zinc-400",children:"No transactions yet for this envelope."}):b.jsx(rm,{initial:!1,mode:"popLayout",children:S.map(O=>b.jsx(nd.div,{layout:!0,initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},children:b.jsx(ub,{onDelete:()=>{if(!O.id)return;const F={...O};h(O.id),v("Transaction deleted","neutral",()=>f(F))},children:b.jsx(BR,{transaction:O,onReconcile:()=>z(O),onEdit:()=>re(O)})})},O.id))})})]}),b.jsx("div",{className:"mt-8",children:b.jsxs("button",{className:"w-full py-3 px-4 rounded-lg bg-white dark:bg-zinc-900 text-red-600 dark:text-red-400 font-semibold hover:bg-gray-100 dark:hover:bg-zinc-800 transition duration-150 flex items-center justify-center border border-gray-100 dark:border-zinc-800",onClick:()=>{confirm(`Are you sure you want to delete "${ne.name}"? This will delete all transactions.`)&&M()},children:[b.jsx(bS,{className:"w-5 h-5 mr-2"}),"Delete Envelope"]})}),(k||N||Q)&&b.jsx(zR,{isVisible:k||N||!!Q,onClose:()=>{C(!1),D(!1),re(null)},mode:k?"add":N?"spend":"edit",currentEnvelope:ne,initialTransaction:Q}),j&&b.jsx(Bz,{isVisible:j,onClose:()=>U(!1),sourceEnvelope:ne})]})},Gz="1.1.0",Kz={version:Gz},Yz=()=>{const t=Ca(),e=P.useRef(null),{envelopes:n,transactions:i,distributionTemplates:a,resetData:o,importData:c,getEnvelopeBalance:d,appSettings:h,updateAppSettings:f,initializeAppSettings:g,cleanupOrphanedTemplates:v}=Dn(),{currentUser:_,deleteAccount:x}=Si(),[k,C]=P.useState(null),[N,D]=P.useState(()=>localStorage.getItem("lastBackupDate")||"Never"),[j,U]=P.useState(!1),[Q,re]=P.useState(!1),[ne,S]=P.useState(""),[R,M]=P.useState(!1),z=978307200,O=h?.theme??"system";P.useEffect(()=>{h||g().catch(V=>{console.error("Failed to initialize app settings:",V)})},[h,g]);const F=(V,Z)=>{C({type:V,text:Z}),setTimeout(()=>C(null),3500)},L=P.useMemo(()=>{const V=n.length,Z=i.length,de=a.length,he=n.reduce((ct,Fe)=>ct+d(Fe.id).toNumber(),0),ye=0,_e=i.reduce((ct,Fe)=>{let tn=0;if(typeof Fe.date=="string"){const Rn=Date.parse(Fe.date);tn=Number.isNaN(Rn)?0:Rn}else typeof Fe.date=="number"&&(tn=Fe.date<2e9?(Fe.date+z)*1e3:Fe.date);return Math.max(ct,tn)},0),Ee=ye||_e?new Date(Math.max(ye,_e)).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}):"Never";return{envelopeCount:V,transactionCount:Z,templateCount:de,totalBalance:he,lastUpdated:Ee}},[n,i,a]),ze=()=>{try{const V={appVersion:"2.0 (PWA)",backupDate:Date.now(),appSettings:h||{theme:"system"},envelopes:n.map(_e=>({..._e,currentBalance:d(_e.id).toNumber(),lastUpdated:new Date().toISOString()})),transactions:i,distributionTemplates:a},Z=new Blob([JSON.stringify(V,null,2)],{type:"application/json"}),de=URL.createObjectURL(Z),he=document.createElement("a");he.href=de,he.download=`HouseBudget_Backup_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(he),he.click(),document.body.removeChild(he),URL.revokeObjectURL(de);const ye=new Date().toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"});localStorage.setItem("lastBackupDate",ye),D(ye),F("success","Backup downloaded successfully.")}catch(V){console.error(V),F("error","Failed to create backup file.")}},ce=()=>{try{const V=["Date","Description","Amount","Type","Envelope","Reconciled"],Z=i.map(Ee=>{const ct=n.find(Rn=>Rn.id===Ee.envelopeId)?.name||"Unknown",Fe=(Ee.description||"").replace(/"/g,'""');let tn="Invalid Date";if(Ee.date){if(typeof Ee.date=="string")tn=Ee.date.split("T")[0];else if(typeof Ee.date=="number"){const Rn=Ee.date<2e9?(Ee.date+z)*1e3:Ee.date;tn=new Date(Rn).toISOString().split("T")[0]}}return[tn,`"${Fe}"`,Ee.amount.toFixed(2),Ee.type,`"${ct}"`,Ee.reconciled?"Yes":"No"].join(",")}),de=[V.join(","),...Z].join(`
`),he=new Blob([de],{type:"text/csv;charset=utf-8;"}),ye=URL.createObjectURL(he),_e=document.createElement("a");_e.href=ye,_e.download=`HouseBudget_Transactions_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(_e),_e.click(),document.body.removeChild(_e),URL.revokeObjectURL(ye),F("success","CSV export ready to open in Excel/Numbers.")}catch(V){console.error(V),F("error","Failed to export CSV.")}},$=()=>{e.current?.click()},ee=V=>{const Z=V.target.files?.[0];if(!Z)return;const de=new FileReader;de.onload=async he=>{try{const ye=JSON.parse(he.target?.result),_e=await c(ye);if(!_e.success){F("error",_e.message);return}if(ye.appSettings?.theme)try{await f({theme:ye.appSettings.theme})}catch(Ee){console.error("Failed to update imported settings:",Ee)}else if(ye.appSettings?.isDarkMode!==void 0)try{const Ee=ye.appSettings.isDarkMode?"dark":"light";await f({theme:Ee})}catch(Ee){console.error("Failed to update imported settings:",Ee)}F("success",`Loaded ${ye.envelopes?.length??0} envelopes, ${ye.transactions?.length??0} transactions, and ${ye.distributionTemplates?.length??0} templates.`)}catch(ye){console.error(ye),F("error","Invalid backup file. Please verify the JSON.")}},de.readAsText(Z),V.target.value=""},me=async()=>{U(!0);try{F("success","Scanning templates for orphaned references..."),await v(),F("success","Orphaned templates have been cleaned up successfully.")}catch(V){console.error("Template cleanup failed:",V),F("error","Failed to clean up orphaned templates. Check console for details.")}finally{U(!1)}},Te=async()=>{if(window.confirm("Are you sure? This will permanently delete all envelopes, transactions, templates, and settings from the cloud. This action cannot be undone."))try{await o(),F("success","All data has been permanently deleted."),t("/")}catch(V){console.error("Reset failed:",V),F("error","Failed to delete all data. Some data may remain.")}},oe=async()=>{if(!ne.trim()){F("error","Please enter your password to confirm account deletion.");return}re(!0);try{await o(),await x(ne)?F("success","Your account has been permanently deleted."):F("error","Failed to delete account. Please try again.")}catch(V){console.error("Account deletion failed:",V),F("error","Failed to delete account. Please try again.")}finally{re(!1),M(!1),S("")}};return b.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-black transition-colors duration-200",children:[b.jsx("header",{className:"bg-white dark:bg-black border-b dark:border-zinc-800 px-4 pt-[calc(env(safe-area-inset-top)+12px)] pb-3 sticky top-0 z-20 flex items-center justify-between shadow-sm",children:b.jsxs("div",{className:"flex items-center",children:[b.jsx("button",{onClick:()=>t(-1),className:"mr-3 text-blue-600 dark:text-blue-400 font-medium",children:"Done"}),b.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Settings"})]})}),b.jsxs("div",{className:"p-4 space-y-6 max-w-2xl mx-auto",children:[k&&b.jsxs("div",{className:`px-4 py-3 rounded-2xl text-sm font-medium flex items-center gap-2 ${k.type==="success"?"bg-green-50 text-green-700 dark:bg-emerald-900/30 dark:text-emerald-200":"bg-red-50 text-red-700 dark:bg-red-900/30 dark:text-red-200"}`,children:[k.type==="success"?b.jsx(Ny,{size:18}):b.jsx(af,{size:18}),k.text]}),b.jsx("section",{children:b.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl border border-gray-100 dark:border-zinc-800 shadow-sm p-5 space-y-3",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(Zw,{className:"text-blue-500",size:22}),b.jsxs("div",{children:[b.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Backup & Restore"}),b.jsx("p",{className:"text-sm text-gray-500 dark:text-zinc-400",children:"Create backups of all your data including envelopes, transactions, templates, and settings."})]})]}),b.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 pt-2",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500 dark:text-zinc-500",children:"Envelopes"}),b.jsx("p",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:L.envelopeCount})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500 dark:text-zinc-500",children:"Transactions"}),b.jsx("p",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:L.transactionCount})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500 dark:text-zinc-500",children:"Templates"}),b.jsx("p",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:L.templateCount})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500 dark:text-zinc-500",children:"Data Last Modified"}),b.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:L.lastUpdated})]})]})]})}),b.jsxs("section",{children:[b.jsx("h2",{className:"text-xs font-bold text-gray-500 dark:text-zinc-500 uppercase mb-2 px-1",children:"Appearance"}),b.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl border border-gray-100 dark:border-zinc-800 shadow-sm p-4",children:[b.jsxs("div",{className:"flex items-center justify-between mb-3",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[O==="light"&&b.jsx("span",{className:"text-orange-500 text-lg",children:""}),O==="dark"&&b.jsx("span",{className:"text-purple-500 text-lg",children:""}),O==="system"&&b.jsx("span",{className:"text-gray-500 text-lg",children:""}),b.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:"Theme"})]}),b.jsx("span",{className:"text-sm text-gray-500 dark:text-zinc-400 capitalize",children:O})]}),b.jsx("div",{className:"text-xs text-gray-500 dark:text-zinc-500 mb-3",children:"Choose your preferred appearance."}),b.jsx("div",{className:"flex gap-2",children:[{label:"Light",value:"light"},{label:"Dark",value:"dark"},{label:"System",value:"system"}].map(V=>b.jsx("button",{onClick:async()=>{try{await f({theme:V.value})}catch(Z){console.error("Failed to update theme setting:",Z)}},className:`flex-1 py-2 rounded-lg text-sm font-medium border transition-colors ${O===V.value?"bg-blue-50 dark:bg-blue-900/30 border-blue-500 text-blue-700 dark:text-blue-200":"border-gray-200 dark:border-zinc-700 text-gray-600 dark:text-zinc-400 hover:border-gray-300 dark:hover:border-zinc-600"}`,children:V.label},V.value))})]})]}),b.jsxs("section",{children:[b.jsx("h2",{className:"text-xs font-bold text-gray-500 dark:text-zinc-500 uppercase mb-2 px-1",children:"Actions"}),b.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl overflow-hidden border border-gray-100 dark:border-zinc-800 shadow-sm divide-y divide-gray-100 dark:divide-zinc-800",children:[b.jsxs("button",{onClick:ze,className:"w-full p-4 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-zinc-800/50 transition-colors",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(Zw,{className:"text-blue-500",size:20}),b.jsxs("div",{className:"flex flex-col items-start",children:[b.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:"Create Backup"}),b.jsxs("span",{className:"text-xs text-gray-500 dark:text-zinc-400",children:["Last backup: ",N]})]})]}),b.jsx(ho,{className:"text-gray-400",size:18})]}),b.jsxs("button",{onClick:$,className:"w-full p-4 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-zinc-800/50 transition-colors",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(c4,{className:"text-blue-500",size:20}),b.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:"Restore from Backup"})]}),b.jsx(ho,{className:"text-gray-400",size:18})]}),b.jsxs("button",{onClick:ce,className:"w-full p-4 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-zinc-800/50 transition-colors",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(VD,{className:"text-blue-500",size:20}),b.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:"Export Transactions (CSV)"})]}),b.jsx(ho,{className:"text-gray-400",size:18})]}),b.jsxs("button",{onClick:me,disabled:j,className:`w-full p-4 flex items-center justify-between transition-colors ${j?"bg-gray-50 dark:bg-zinc-800/50 cursor-not-allowed":"hover:bg-gray-50 dark:hover:bg-zinc-800/50"}`,children:[b.jsxs("div",{className:"flex items-center gap-3",children:[j?b.jsx(Jw,{className:"text-blue-500 animate-spin",size:20}):b.jsx(da,{className:"text-blue-500",size:20}),b.jsx("span",{className:`font-medium ${j?"text-gray-500 dark:text-zinc-400":"text-gray-900 dark:text-white"}`,children:j?"Cleaning Templates...":"Clean Up Orphaned Templates"})]}),j?b.jsx("div",{className:"text-gray-400 text-sm",children:"Working..."}):b.jsx(ho,{className:"text-gray-400",size:18})]}),b.jsx("input",{type:"file",ref:e,onChange:ee,accept:".json",className:"hidden"})]})]}),b.jsxs("section",{children:[b.jsx("h2",{className:"text-xs font-bold text-gray-500 dark:text-zinc-500 uppercase mb-2 px-1",children:"Tips"}),b.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl border border-gray-100 dark:border-zinc-800 shadow-sm p-4 text-sm text-gray-600 dark:text-zinc-300 space-y-2",children:[b.jsx("p",{children:"Create regular backups before major changes."}),b.jsx("p",{children:"Store backups in iCloud, Files, or another safe location."}),b.jsx("p",{children:"Backups are plain JSON files and can be inspected in any text editor."}),b.jsx("p",{children:"Restoring replaces all current envelopes, transactions, templates, and settings."})]})]}),b.jsxs("section",{children:[b.jsx("h2",{className:"text-xs font-bold text-gray-500 dark:text-zinc-500 uppercase mb-2 px-1",children:"Danger Zone"}),b.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl overflow-hidden border border-gray-100 dark:border-zinc-800 shadow-sm",children:[b.jsxs("button",{onClick:Te,className:"w-full p-4 flex items-center justify-between hover:bg-red-50 dark:hover:bg-red-900/10 transition-colors group border-b border-gray-100 dark:border-zinc-800",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(af,{className:"text-red-500 group-hover:text-red-600",size:20}),b.jsx("span",{className:"text-red-500 group-hover:text-red-600 font-medium",children:"Reset All Data"})]}),b.jsx(ho,{className:"text-gray-400",size:18})]}),b.jsxs("button",{onClick:()=>M(!0),className:"w-full p-4 flex items-center justify-between hover:bg-red-50 dark:hover:bg-red-900/10 transition-colors group",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(af,{className:"text-red-600 group-hover:text-red-700",size:20}),b.jsx("span",{className:"text-red-600 group-hover:text-red-700 font-medium",children:"Delete Account"})]}),b.jsx(ho,{className:"text-gray-400",size:18})]})]}),b.jsxs("div",{className:"px-1 pt-2 text-xs text-gray-500 dark:text-zinc-500 space-y-1",children:[b.jsx("div",{children:"This clears every envelope, transaction, and template. Use with caution."}),b.jsx("div",{children:"Deleting your account permanently removes all data and cannot be undone."})]})]}),b.jsxs("div",{className:"text-center pt-4 pb-12 text-xs text-gray-400 dark:text-zinc-500 font-medium",children:["House Budget PWA  App Version ",Kz.version]})]}),R&&b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:b.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl max-w-md w-full p-6 shadow-xl",children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"w-10 h-10 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center",children:b.jsx(_S,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Delete Account"})]}),b.jsx("button",{onClick:()=>M(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:b.jsx(Wu,{size:20})})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:[b.jsx("p",{className:"text-sm text-red-800 dark:text-red-200 font-medium mb-2",children:"This action cannot be undone"}),b.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:"Deleting your account will permanently remove all your data including envelopes, transactions, templates, and settings. This action is irreversible."})]}),b.jsxs("div",{children:[b.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Account Email: ",b.jsx("span",{className:"font-semibold",children:_?.email})]}),b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirm Password"}),b.jsx("input",{type:"password",value:ne,onChange:V=>S(V.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 dark:bg-gray-700 dark:text-white",placeholder:"Enter your password",disabled:Q})]}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx("button",{onClick:()=>M(!1),disabled:Q,className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors disabled:opacity-50",children:"Cancel"}),b.jsx("button",{onClick:oe,disabled:Q||!ne.trim(),className:"flex-1 px-4 py-2 bg-red-600 hover:bg-red-700 disabled:bg-red-400 text-white rounded-md transition-colors disabled:cursor-not-allowed flex items-center justify-center gap-2",children:Q?b.jsxs(b.Fragment,{children:[b.jsx(Jw,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):"Delete Account"})]})]})]})})]})},Qz=()=>{const{addEnvelope:t}=Dn(),e=Ca(),[n,i]=P.useState(""),[a,o]=P.useState(""),c=d=>{if(d.preventDefault(),!n.trim())return;const h=parseFloat(a),f=isNaN(h)?0:h,g=Dn.getState().envelopes,_=(g.length>0?Math.max(...g.map(x=>x.orderIndex??0)):-1)+1;t({name:n,currentBalance:f,lastUpdated:new Date().toISOString(),isActive:!0,orderIndex:_}),e("/")};return b.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-black",children:[b.jsxs("header",{className:"bg-white dark:bg-black border-b dark:border-zinc-800 px-4 pt-[calc(env(safe-area-inset-top)+12px)] pb-3 sticky top-0 z-10 flex items-center shadow-sm",children:[b.jsx("button",{onClick:()=>e("/"),className:"mr-3 text-gray-600 dark:text-zinc-400 hover:text-gray-900 dark:hover:text-white",children:b.jsx(Iu,{size:24})}),b.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"New Envelope"})]}),b.jsx("div",{className:"p-4 max-w-md mx-auto",children:b.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl shadow-sm border border-gray-100 dark:border-zinc-800 overflow-hidden",children:[b.jsx("div",{className:"p-6 bg-blue-50 dark:bg-zinc-800 border-b border-blue-100 dark:border-zinc-700 flex justify-center py-8",children:b.jsx("div",{className:"w-20 h-20 bg-blue-100 dark:bg-zinc-700 text-blue-600 dark:text-blue-400 rounded-full flex items-center justify-center",children:b.jsx(jD,{size:40})})}),b.jsxs("form",{onSubmit:c,className:"p-6 space-y-6",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-zinc-300",children:"Envelope Name"}),b.jsx("input",{type:"text",id:"name",value:n,onChange:d=>i(d.target.value),placeholder:"e.g. Groceries, Rent, Fun Money",className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-zinc-700 bg-white dark:bg-zinc-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-zinc-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",autoFocus:!0,required:!0})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{htmlFor:"balance",className:"block text-sm font-medium text-gray-700 dark:text-zinc-300",children:"Initial Deposit (Optional)"}),b.jsxs("div",{className:"relative",children:[b.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-zinc-500 font-semibold",children:"$"}),b.jsx("input",{type:"number",id:"balance",value:a,onChange:d=>o(d.target.value),onKeyDown:d=>{(d.key==="e"||d.key==="E"||d.key==="+"||d.key==="-")&&d.preventDefault()},placeholder:"0.00",step:"0.01",className:"w-full pl-8 pr-4 py-3 rounded-xl border border-gray-200 dark:border-zinc-700 bg-white dark:bg-zinc-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-zinc-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all"})]}),b.jsx("p",{className:"text-xs text-gray-500 dark:text-zinc-500",children:'This creates an "Initial Deposit" income transaction. You can also add money later by editing the envelope budget on the main screen.'})]}),b.jsxs("div",{className:"pt-4 flex gap-3",children:[b.jsx("button",{type:"button",onClick:()=>e("/"),className:"flex-1 py-3 px-4 rounded-xl border border-gray-200 dark:border-zinc-700 text-gray-600 dark:text-zinc-400 font-semibold bg-white dark:bg-zinc-800 hover:bg-gray-50 dark:hover:bg-zinc-700 transition-colors",children:"Cancel"}),b.jsx("button",{type:"submit",disabled:!n.trim(),className:`flex-1 py-3 px-4 rounded-xl font-semibold shadow-sm text-white transition-colors ${n.trim()?"bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600":"bg-gray-300 dark:bg-zinc-600 cursor-not-allowed"}`,children:"Create Envelope"})]})]})]})})]})},Xz=()=>{const t=Ca(),{envelopes:e,addTransaction:n}=Dn(),[i,a]=P.useState(""),[o,c]=P.useState(""),[d,h]=P.useState(new Date().toISOString().split("T")[0]),[f,g]=P.useState(""),[v,_]=P.useState("expense"),x=i&&parseFloat(i)>0&&f,k=async D=>{if(D.preventDefault(),!x)return;const j=parseFloat(i),[U,Q,re]=d.split("-").map(Number),ne=new Date(U,Q-1,re,12,0,0);console.log(" Selected date:",d),console.log(" Parsed date:",ne.toISOString());try{await n({amount:j,description:o,date:ne.toISOString(),envelopeId:f,type:v==="income"?"Income":"Expense",reconciled:!1}),t("/")}catch(S){console.error("Error saving transaction:",S),alert("Failed to save transaction: "+(S instanceof Error?S.message:"Unknown error"))}},C=[...e].sort((D,j)=>{const U=D.orderIndex??0,Q=j.orderIndex??0;return U!==Q?U-Q:D.name.localeCompare(j.name)}),N=v==="income"?"text-green-500":"text-red-500";return b.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-black",children:[b.jsxs("header",{className:"bg-white dark:bg-black border-b border-gray-200 dark:border-zinc-800 px-4 pt-[calc(env(safe-area-inset-top)+12px)] pb-3 sticky top-0 z-10 flex items-center justify-between",children:[b.jsx("button",{onClick:()=>t(-1),className:"text-blue-600 dark:text-blue-400 font-medium",children:"Cancel"}),b.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"New Transaction"}),b.jsx("button",{onClick:k,disabled:!x,className:"text-blue-600 dark:text-blue-400 font-bold disabled:opacity-50 disabled:cursor-not-allowed",children:"Save"})]}),b.jsx("div",{className:"p-4 max-w-md mx-auto",children:b.jsxs("form",{onSubmit:k,className:"space-y-6",children:[b.jsx("div",{className:"bg-white dark:bg-zinc-900 rounded-xl border border-gray-200 dark:border-zinc-800 overflow-hidden",children:b.jsxs("div",{className:"flex",children:[b.jsx("button",{type:"button",onClick:()=>_("expense"),className:`flex-1 px-4 py-3 text-center font-medium transition-colors ${v==="expense"?"bg-red-500 text-white":"text-gray-600 dark:text-zinc-400 hover:bg-gray-50 dark:hover:bg-zinc-800"}`,children:"Expense"}),b.jsx("button",{type:"button",onClick:()=>_("income"),className:`flex-1 px-4 py-3 text-center font-medium transition-colors ${v==="income"?"bg-green-500 text-white":"text-gray-600 dark:text-zinc-400 hover:bg-gray-50 dark:hover:bg-zinc-800"}`,children:"Income"})]})}),b.jsxs("div",{className:"text-center",children:[b.jsx("label",{className:"block text-sm text-gray-600 dark:text-zinc-400 mb-1",children:"Amount"}),b.jsxs("div",{className:"relative inline-block",children:[b.jsx("span",{className:`absolute left-0 top-1/2 -translate-y-1/2 -translate-x-full pr-2 text-2xl ${N}`,children:"$"}),b.jsx("input",{type:"number",inputMode:"decimal",step:"0.01",value:i,onChange:D=>{const j=D.target.value;(j===""||!isNaN(parseFloat(j))&&parseFloat(j)>=0)&&a(j)},onKeyDown:D=>{(D.key==="e"||D.key==="E"||D.key==="+"||D.key==="-")&&D.preventDefault()},placeholder:"0.00",autoFocus:!0,className:`bg-transparent text-4xl font-bold text-center w-40 focus:outline-none ${N} placeholder-gray-700`})]})]}),b.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-lg p-3 border border-gray-200 dark:border-zinc-800 focus-within:border-blue-500 dark:focus-within:border-blue-400 transition-colors",children:[b.jsx("label",{className:"block text-xs text-gray-500 dark:text-zinc-400 mb-1",children:"Note"}),b.jsx("input",{type:"text",value:o,onChange:D=>c(D.target.value),placeholder:"What is this for?",className:"w-full bg-transparent text-gray-900 dark:text-white focus:outline-none"})]}),b.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-lg p-3 border border-gray-200 dark:border-zinc-800 focus-within:border-blue-500 dark:focus-within:border-blue-400 transition-colors",children:[b.jsx("label",{className:"block text-xs text-gray-500 dark:text-zinc-400 mb-1",children:"Date"}),b.jsx("input",{type:"date",value:d,onChange:D=>h(D.target.value),className:"w-full bg-transparent text-gray-900 dark:text-white focus:outline-none"})]}),b.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-lg p-3 border border-gray-200 dark:border-zinc-800 focus-within:border-blue-500 dark:focus-within:border-blue-400 transition-colors",children:[b.jsx("label",{className:"block text-xs text-gray-500 dark:text-zinc-400 mb-1",children:"Envelope"}),b.jsxs("select",{value:f,onChange:D=>g(D.target.value),className:"w-full bg-transparent text-gray-900 dark:text-white focus:outline-none",children:[b.jsx("option",{value:"",className:"bg-white dark:bg-zinc-900",children:"Select an envelope"}),C.map(D=>b.jsx("option",{value:D.id,className:"bg-white dark:bg-zinc-900",children:D.name},D.id))]})]})]})})]})},Wz=()=>{const t=Ca(),{transactions:e,envelopes:n,updateTransaction:i,deleteTransaction:a,restoreTransaction:o}=Dn(),{showToast:c}=gd(),{currentMonth:d}=Eo(),[h,f]=P.useState(!1),[g,v]=P.useState(""),[_,x]=P.useState("all"),[k,C]=P.useState("All"),[N,D]=P.useState(!1),[j,U]=P.useState("all"),[Q,re]=P.useState(!1),[ne,S]=P.useState(()=>{const ce=new Date;return ce.setMonth(ce.getMonth()-1),ce.toISOString().split("T")[0]}),[R,M]=P.useState(()=>new Date().toISOString().split("T")[0]),[z,O]=P.useState(null),F=P.useMemo(()=>{console.log(" Filtering transactions:",{totalTransactions:e.length,showAllTime:Q,currentMonth:d,transactionMonths:e.map(ee=>({id:ee.id,month:ee.month,date:ee.date}))});let ce=e;return Q||(ce=e.filter(ee=>ee.month===d||!ee.month),console.log(" After month filter:",ce.length,"transactions remain")),ce.map(ee=>{if(!ee)return null;let me=ee.date;if(typeof ee.date=="number"){const oe=(ee.date+978307200)*1e3;me=new Date(oe).toISOString()}else if(!ee.date||typeof ee.date!="string")return null;return{...ee,date:me}}).filter(Boolean).filter(ee=>{if(g){const Te=g.toLowerCase(),oe=n.find(de=>de.id===ee.envelopeId)?.name.toLowerCase()||"",V=ee.amount.toFixed(2);if(!(ee.description.toLowerCase().includes(Te)||oe.includes(Te)||V.includes(Te)))return!1}if(_!=="all"&&ee.envelopeId!==_||k!=="All"&&ee.type!==k||!ee.date||typeof ee.date!="string")return!1;const me=ee.date.split("T")[0];return!(j!=="all"&&new Date(me).getMonth()!==parseInt(j)||N&&!ee.reconciled)}).sort((ee,me)=>new Date(me.date).getTime()-new Date(ee.date).getTime())},[e,n,g,_,k,ne,R,N,Q,d]);console.log(" Final filtered transactions:",{count:F.length,transactions:F.map(ce=>({id:ce.id,description:ce.description,amount:ce.amount,date:ce.date,month:ce.month,type:ce.type}))});const L=z?n.find(ce=>ce.id===z.envelopeId):null,ze=ce=>{const $={...ce,reconciled:!ce.reconciled};i($)};return b.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-black pb-20 transition-colors duration-200",children:[b.jsxs("header",{className:"bg-white dark:bg-black border-b dark:border-zinc-800 px-4 pt-[calc(env(safe-area-inset-top)+12px)] pb-3 sticky top-0 z-20 flex items-center justify-between shadow-sm",children:[b.jsxs("div",{className:"flex items-center",children:[b.jsx("button",{onClick:()=>t(-1),className:"mr-3 text-gray-600 hover:text-gray-900 dark:text-zinc-400 dark:hover:text-white transition-colors",children:b.jsx(Iu,{size:24})}),b.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"All Transactions"})]}),b.jsx("button",{onClick:()=>f(!h),className:`p-2 rounded-full transition-colors ${h?"bg-blue-100 text-blue-600 dark:bg-blue-900/40 dark:text-blue-400":"text-gray-400 dark:text-zinc-600 hover:bg-gray-100 dark:hover:bg-zinc-800"}`,children:b.jsx(UD,{size:20,className:h?"fill-current":""})})]}),b.jsxs("div",{className:"px-4 py-2 bg-white dark:bg-zinc-900 border-b dark:border-zinc-800 flex justify-between items-center",children:[b.jsxs("div",{className:"text-sm font-medium text-gray-700 dark:text-zinc-300",children:["Month: ",d]}),b.jsx("button",{onClick:()=>re(!Q),className:`text-sm px-3 py-1 rounded-md ${Q?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300":"bg-gray-100 text-gray-800 dark:bg-zinc-800 dark:text-zinc-300"}`,children:Q?"Current Month Only":"All Time"})]}),b.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out bg-white dark:bg-zinc-900 border-b dark:border-zinc-800 ${h?"max-h-[500px] opacity-100":"max-h-0 opacity-0"}`,children:b.jsxs("div",{className:"p-4 space-y-4",children:[b.jsxs("div",{className:"relative",children:[b.jsx(XD,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),b.jsx("input",{type:"text",placeholder:"Search transactions...",value:g,onChange:ce=>v(ce.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-100 dark:bg-zinc-800 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none dark:text-white"}),g&&b.jsx("button",{onClick:()=>v(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",children:b.jsx(Wu,{size:16})})]}),b.jsxs("div",{className:"space-y-1",children:[b.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Envelope"}),b.jsxs("select",{value:_,onChange:ce=>x(ce.target.value),className:"w-full p-2 rounded-lg bg-gray-100 dark:bg-zinc-800 border-r-8 border-transparent text-sm dark:text-white outline-none",children:[b.jsx("option",{value:"all",children:"All Envelopes"}),n.sort((ce,$)=>ce.name.localeCompare($.name)).map(ce=>b.jsx("option",{value:ce.id,children:ce.name},ce.id))]})]}),b.jsx("div",{className:"bg-gray-100 dark:bg-zinc-800 p-1 rounded-lg flex",children:["All","Income","Expense"].map(ce=>b.jsx("button",{onClick:()=>C(ce),className:`flex-1 py-1.5 text-xs font-semibold rounded-md transition-all ${k===ce?"bg-white dark:bg-zinc-700 text-gray-900 dark:text-white shadow-sm":"text-gray-500 dark:text-zinc-500 hover:text-gray-700"}`,children:ce},ce))}),b.jsxs("div",{className:"space-y-1",children:[b.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Month"}),b.jsxs("select",{value:j,onChange:ce=>U(ce.target.value),className:"w-full p-2 rounded-lg bg-gray-100 dark:bg-zinc-800 border-r-8 border-transparent text-sm dark:text-white outline-none",children:[b.jsx("option",{value:"all",children:"All Months"}),Array.from({length:12},(ce,$)=>$).map(ce=>b.jsx("option",{value:ce,children:new Date(2022,ce).toLocaleString("default",{month:"long"})},ce))]})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{className:"space-y-1",children:[b.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"From"}),b.jsx("div",{className:"relative",children:b.jsx("input",{type:"date",value:ne,onChange:ce=>S(ce.target.value),className:"w-full p-2 bg-gray-100 dark:bg-zinc-800 rounded-lg text-sm dark:text-white outline-none [color-scheme:light] dark:[color-scheme:dark]"})})]}),b.jsxs("div",{className:"space-y-1",children:[b.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"To"}),b.jsx("div",{className:"relative",children:b.jsx("input",{type:"date",value:R,onChange:ce=>M(ce.target.value),className:"w-full p-2 bg-gray-100 dark:bg-zinc-800 rounded-lg text-sm dark:text-white outline-none [color-scheme:light] dark:[color-scheme:dark]"})})]})]}),b.jsxs("div",{className:"flex items-center justify-between pt-2",children:[b.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-zinc-300",children:"Show only reconciled"}),b.jsx("button",{onClick:()=>D(!N),className:`w-11 h-6 rounded-full transition-colors relative ${N?"bg-green-500":"bg-gray-300 dark:bg-zinc-700"}`,children:b.jsx("span",{className:`absolute top-1 left-1 w-4 h-4 bg-white rounded-full transition-transform ${N?"translate-x-5":"translate-x-0"}`})})]}),b.jsxs("div",{className:"flex items-center justify-between pt-2",children:[b.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-zinc-300",children:"Show all time"}),b.jsx("button",{onClick:()=>re(!Q),className:`w-11 h-6 rounded-full transition-colors relative ${Q?"bg-green-500":"bg-gray-300 dark:bg-zinc-700"}`,children:b.jsx("span",{className:`absolute top-1 left-1 w-4 h-4 bg-white rounded-full transition-transform ${Q?"translate-x-5":"translate-x-0"}`})})]})]})}),b.jsx("div",{className:"p-4 max-w-2xl mx-auto",children:b.jsx("div",{className:"bg-white dark:bg-zinc-900 rounded-xl shadow-sm border border-gray-100 dark:border-zinc-800 overflow-hidden",children:F.length===0?b.jsx("div",{className:"p-8 text-center text-gray-500 dark:text-zinc-500",children:"No transactions match your filters."}):b.jsx(rm,{initial:!1,mode:"popLayout",children:F.map(ce=>{const $=n.find(ee=>ee.id===ce.envelopeId);return b.jsx(nd.div,{layout:!0,initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},children:b.jsx(ub,{onDelete:()=>{if(!ce.id)return;const ee={...ce};a(ce.id),c("Transaction deleted","neutral",()=>o(ee))},children:b.jsx(BR,{transaction:ce,envelopeName:$?.name||"Unknown Envelope",onReconcile:()=>ze(ce),onEdit:()=>{$?O(ce):alert("Cannot edit: Envelope deleted.")}})})},ce.id)})})})}),z&&L&&b.jsx(zR,{isVisible:!!z,onClose:()=>O(null),mode:"edit",currentEnvelope:L,initialTransaction:z})]})},FR=[{id:"length",label:"Minimum 12 characters",regex:/^.{12,}$/},{id:"uppercase",label:"At least one uppercase letter (A-Z)",regex:/[A-Z]/},{id:"lowercase",label:"At least one lowercase letter (a-z)",regex:/[a-z]/},{id:"number",label:"At least one number (0-9)",regex:/\d/},{id:"special",label:"At least one special character (!@#$%^&*)",regex:/[!@#$%^&*]/}],Zz=t=>{if(!t)return{score:0,level:"weak",color:"text-gray-400",label:"Enter password"};const i=FR.map(d=>({...d,met:d.regex.test(t)})).filter(d=>d.met).length;let a,o,c;return i<=1?(a="weak",o="text-red-500",c="Weak"):i<=3?(a="medium",o="text-yellow-500",c="Medium"):i===4?(a="strong",o="text-blue-500",c="Strong"):(a="very-strong",o="text-green-500",c="Very Strong"),{score:i,level:a,color:o,label:c}},db=t=>{const e=FR.map(a=>({...a,met:a.regex.test(t)})),n=Zz(t),i=e.every(a=>a.met);return{requirements:e,strength:n,isValid:i,isEmpty:!t.trim()}},Jz=({password:t,className:e=""})=>{const{strength:n,isEmpty:i}=db(t);return i?null:b.jsxs("div",{className:`flex items-center gap-2 ${e}`,children:[b.jsx("div",{className:"flex-1",children:b.jsx("div",{className:"flex gap-1",children:[1,2,3,4].map(a=>b.jsx("div",{className:`h-1 flex-1 rounded-full ${a<=n.score?n.score<=1?"bg-red-500":n.score<=3?"bg-yellow-500":n.score===4?"bg-blue-500":"bg-green-500":"bg-gray-200 dark:bg-gray-700"}`},a))})}),b.jsx("span",{className:`text-sm font-medium ${n.color}`,children:n.label})]})},e7=({password:t,className:e=""})=>{const{requirements:n,isEmpty:i}=db(t);return i?null:b.jsx("div",{className:`space-y-1 ${e}`,children:n.map(a=>b.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.met?b.jsx(fD,{className:"h-4 w-4 text-green-500 flex-shrink-0"}):b.jsx(Wu,{className:"h-4 w-4 text-red-500 flex-shrink-0"}),b.jsx("span",{className:a.met?"text-green-700 dark:text-green-300":"text-gray-600 dark:text-gray-400",children:a.label})]},a.id))})},t7=()=>{const[t,e]=P.useState(""),[n,i]=P.useState(""),[a,o]=P.useState(""),[c,d]=P.useState(!1),[h,f]=P.useState(!1),[g,v]=P.useState(!1),[_,x]=P.useState(!1),{login:k,register:C,sendPasswordReset:N,isLoading:D,loginError:j,clearError:U}=Si(),Q=db(n),re=async S=>{if(S.preventDefault(),U(),t.trim()&&n.trim())if(h){if(!a.trim()||!Q.isValid)return;await C(t.trim(),n,a.trim())}else await k(t.trim(),n)},ne=async S=>{S.preventDefault(),t.trim()&&await N(t.trim())&&x(!0)};return P.useEffect(()=>{e(""),i(""),o(""),x(!1)},[h,g]),b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 px-4",children:b.jsxs("div",{className:"max-w-md w-full space-y-8",children:[b.jsx("div",{className:"text-center",children:b.jsxs("div",{className:"flex flex-col items-center gap-3 mb-2",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("img",{src:"/personal-budget-pwa/icon-192.png",alt:"Personal Budget Logo",className:"w-10 h-10"}),b.jsx("h1",{className:"text-4xl font-bold text-blue-600 dark:text-blue-400",children:"Personal Budget"})]}),b.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Simple envelope budgeting for personal finance"})]})}),b.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-8",children:g?b.jsxs("form",{onSubmit:ne,className:"space-y-6",children:[b.jsxs("div",{className:"text-center mb-2",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Reset Password"}),b.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Enter your email and we'll send you a link to reset your password."})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"reset-email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:b.jsx(x0,{className:"h-5 w-5 text-gray-400"})}),b.jsx("input",{id:"reset-email",type:"email",value:t,onChange:S=>e(S.target.value),className:"w-full pl-10 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Enter your email",required:!0,disabled:D,autoComplete:"email"})]})]}),_?b.jsxs("div",{className:"text-center py-4",children:[b.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 dark:bg-green-900/30",children:b.jsx(x0,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),b.jsx("h3",{className:"mt-3 text-lg font-medium text-gray-900 dark:text-white",children:"Check your email"}),b.jsxs("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:["We've sent a password reset link to ",b.jsx("span",{className:"font-medium",children:t})]}),b.jsxs("button",{type:"button",onClick:()=>v(!1),className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[b.jsx(Iu,{className:"-ml-1 mr-2 h-4 w-4"}),"Back to login"]})]}):b.jsxs(b.Fragment,{children:[b.jsx("button",{type:"submit",disabled:D||!t.trim(),className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-medium py-2 px-4 rounded-md transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:cursor-not-allowed",children:D?"Sending...":"Send Reset Link"}),b.jsx("div",{className:"mt-4 text-center",children:b.jsxs("button",{type:"button",onClick:()=>v(!1),className:"text-sm text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300 font-medium",disabled:D,children:[b.jsx(Iu,{className:"inline-block h-4 w-4 -ml-1 mr-1"}),"Back to login"]})})]})]}):b.jsxs("form",{onSubmit:re,className:"space-y-6",children:[b.jsxs("div",{className:"text-center mb-6",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:h?"Create Account":"Sign In"}),b.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:h?"Create a new account to get started":"Sign in to your account"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),b.jsx("input",{id:"email",type:"email",value:t,onChange:S=>e(S.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Enter your email",required:!0,disabled:D,autoComplete:"username"})]}),h&&b.jsxs("div",{children:[b.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Display Name"}),b.jsx("input",{id:"displayName",type:"text",value:a,onChange:S=>o(S.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Enter your display name",required:!0,disabled:D})]}),b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Password"}),!h&&b.jsx("button",{type:"button",onClick:()=>v(!0),className:"text-sm text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300 font-medium",disabled:D,children:"Forgot password?"})]}),b.jsxs("div",{className:"relative",children:[b.jsx("input",{id:"password",type:c?"text":"password",value:n,onChange:S=>i(S.target.value),className:`w-full px-3 py-2 pr-10 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white ${h&&n&&!Q.isValid?"border-red-500 dark:border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"Enter your password",required:!0,disabled:D,autoComplete:h?"new-password":"current-password"}),b.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 focus:outline-none",disabled:D,children:c?b.jsx(kD,{className:"h-5 w-5"}):b.jsx(MD,{className:"h-5 w-5"})})]}),h&&n&&b.jsx("div",{className:"mt-2",children:b.jsx(Jz,{password:n})}),h&&n&&b.jsx("div",{className:"mt-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-md",children:b.jsx(e7,{password:n})})]}),j&&b.jsxs("div",{className:"text-red-600 dark:text-red-400 text-sm text-center bg-red-50 dark:bg-red-900/20 p-3 rounded-md",children:[j,j.includes("verify your email")&&b.jsx("div",{className:"mt-3",children:b.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:"Please check your email and click the verification link to continue."})})]}),b.jsx("button",{type:"submit",disabled:D||!t.trim()||!n.trim()||h&&!a.trim()||h&&!Q.isValid,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-medium py-2 px-4 rounded-md transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:cursor-not-allowed",children:D?h?"Creating Account...":"Signing in...":h?"Create Account":"Sign In"}),b.jsx("div",{className:"mt-6 text-center",children:b.jsxs("button",{type:"button",onClick:()=>{f(!h),v(!1)},className:"text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300 text-sm font-medium flex items-center justify-center gap-2 mx-auto",disabled:D,children:[b.jsx(d4,{className:"h-4 w-4"}),h?"Already have an account? Sign In":"Don't have an account? Sign Up"]})})]})})]})})},eS=()=>{const[t,e]=P.useState(!1),[n,i]=P.useState(!1),{currentUser:a,resendEmailVerification:o,logout:c,loginError:d}=Si();P.useEffect(()=>{a||console.warn("EmailVerificationView: No current user, this should not happen")},[a]);const h=async()=>{e(!0),i(!1);const g=await o();e(!1),g&&(i(!0),setTimeout(()=>i(!1),3e3))},f=async()=>{await c()};return a?b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 px-4",children:b.jsxs("div",{className:"max-w-md w-full space-y-8",children:[b.jsx("div",{className:"text-center",children:b.jsx("div",{className:"flex flex-col items-center gap-3 mb-2",children:b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("img",{src:"/personal-budget-pwa/icon-192.png",alt:"House Budget Logo",className:"w-10 h-10"}),b.jsx("h1",{className:"text-4xl font-bold text-blue-600 dark:text-blue-400",children:"House Budget"})]})})}),b.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-8",children:b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 dark:bg-green-900/30 mb-4",children:b.jsx(x0,{className:"h-8 w-8 text-green-600 dark:text-green-400"})}),b.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Check your email"}),b.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:["We've sent a verification link to"," ",b.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:a.email})]}),b.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 mb-6",children:b.jsxs("div",{className:"flex items-start gap-3",children:[b.jsx(Ny,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),b.jsxs("div",{className:"text-left",children:[b.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200 font-medium",children:"What to do next:"}),b.jsxs("ol",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1 space-y-1",children:[b.jsx("li",{children:"1. Open your email inbox"}),b.jsx("li",{children:"2. Find the email from House Budget"}),b.jsx("li",{children:'3. Click the "Verify Email" link'}),b.jsx("li",{children:"4. Return here and sign in"})]})]})]})}),d&&b.jsx("div",{className:"text-red-600 dark:text-red-400 text-sm mb-4 p-3 bg-red-50 dark:bg-red-900/20 rounded-md",children:d}),n&&b.jsx("div",{className:"text-green-600 dark:text-green-400 text-sm mb-4 p-3 bg-green-50 dark:bg-green-900/20 rounded-md",children:"Verification email sent successfully!"}),b.jsx("button",{onClick:h,disabled:t,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-medium py-2 px-4 rounded-md transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:cursor-not-allowed mb-4 flex items-center justify-center gap-2",children:t?b.jsxs(b.Fragment,{children:[b.jsx(da,{className:"h-4 w-4 animate-spin"}),"Sending..."]}):b.jsxs(b.Fragment,{children:[b.jsx(da,{className:"h-4 w-4"}),"Resend verification email"]})}),b.jsxs("button",{onClick:f,className:"text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300 text-sm font-medium flex items-center justify-center gap-2 mx-auto",children:[b.jsx(Iu,{className:"h-4 w-4"}),"Back to sign in"]})]})}),b.jsx("div",{className:"text-center",children:b.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Didn't receive the email? Check your spam folder or try resending."})})]})}):null},n7=()=>{const{message:t,type:e,isVisible:n,undoAction:i,hideToast:a}=gd(),o=()=>{switch(e){case"success":return"bg-green-500 dark:bg-green-600 text-white";case"error":return"bg-red-500 dark:bg-red-600 text-white";case"neutral":default:return"bg-gray-800 dark:bg-gray-900 text-white border border-gray-200 dark:border-gray-700"}};return b.jsx(rm,{children:n&&b.jsx(nd.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},transition:{type:"spring",damping:25,stiffness:300},className:"fixed bottom-0 left-4 right-4 z-50 mb-[calc(env(safe-area-inset-bottom)+20px)]",children:b.jsxs("div",{className:`rounded-xl shadow-lg p-4 flex items-center justify-between ${o()}`,children:[b.jsx("div",{className:"flex items-center flex-1 min-w-0",children:b.jsx("span",{className:"text-sm font-medium truncate pr-2",children:t})}),b.jsxs("div",{className:"flex items-center gap-2 ml-3 flex-shrink-0",children:[i&&b.jsxs("button",{onClick:()=>{i(),a()},className:"px-3 py-1.5 bg-white/20 hover:bg-white/30 rounded-lg text-xs font-bold transition-colors",children:[b.jsx(o4,{size:14,className:"inline mr-1"}),"Undo"]}),b.jsx("button",{onClick:a,className:"p-1 hover:bg-black/10 dark:hover:bg-white/10 rounded-full transition-colors",children:b.jsx(Wu,{size:16})})]})]})})})};class mr extends P.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("ErrorBoundary caught an error:",e,n),this.setState({error:e,errorInfo:n}),this.props.onError&&this.props.onError(e,n)}componentDidUpdate(e){this.props.resetKeys&&this.props.resetOnPropsChange&&this.props.resetKeys.some((i,a)=>i!==e.resetKeys?.[a])&&this.state.hasError&&this.resetErrorBoundary()}resetErrorBoundary=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};render(){return this.state.hasError?this.props.fallback?this.props.fallback:b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 px-4",children:b.jsxs("div",{className:"max-w-md w-full bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6",children:[b.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto mb-4 bg-red-100 dark:bg-red-900/30 rounded-full",children:b.jsx(_S,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),b.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white text-center mb-2",children:"Something went wrong"}),b.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-center mb-6",children:"We're sorry, but something unexpected happened. You can try refreshing or going back to the home screen."}),!1,b.jsxs("div",{className:"flex flex-col gap-3",children:[b.jsxs("button",{onClick:this.resetErrorBoundary,className:"flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-md transition-colors",children:[b.jsx(da,{className:"h-4 w-4"}),"Try Again"]}),b.jsxs("button",{onClick:()=>window.location.href="/#/",className:"flex items-center justify-center gap-2 px-4 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-900 dark:text-white font-medium rounded-md transition-colors",children:[b.jsx(BD,{className:"h-4 w-4"}),"Go to Home"]})]})]})}):this.props.children}}function i7(){const[t,e]=P.useState(!0),{appSettings:n}=Dn(),{isAuthenticated:i,isInitialized:a,initializeAuth:o,lastAuthTime:c,offlineGracePeriod:d,currentUser:h}=Si();if(P.useEffect(()=>{const v=setTimeout(()=>{e(!1)},2e3);return()=>clearTimeout(v)},[]),P.useEffect(()=>o(),[o]),P.useEffect(()=>{const v=document.documentElement,_=window.matchMedia("(prefers-color-scheme: dark)"),x=()=>{const k=n?.theme??"system",C=_.matches;k==="dark"||k==="system"&&C?v.classList.add("dark"):v.classList.remove("dark")};if(x(),n?.theme==="system")return _.addEventListener("change",x),()=>_.removeEventListener("change",x)},[n]),t||!a)return b.jsx(UR,{message:"Initializing Personal Budget..."});if(!i)return h?b.jsx(mr,{children:b.jsx(eS,{})}):b.jsx(mr,{children:b.jsx(t7,{})});const g=typeof navigator<"u"&&!navigator.onLine&&i&&c&&Date.now()-c<d;return b.jsxs(mr,{children:[g&&b.jsx("div",{className:"bg-yellow-100 dark:bg-yellow-900 border-l-4 border-yellow-500 text-yellow-700 dark:text-yellow-200 p-4",children:b.jsxs("div",{className:"flex",children:[b.jsx("div",{className:"flex-shrink-0",children:b.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),b.jsx("div",{className:"ml-3",children:b.jsxs("p",{className:"text-sm",children:[b.jsx("strong",{children:"Offline Access:"})," You're using cached authentication. Expires in"," ",Math.ceil((d-(Date.now()-c))/(1440*60*1e3))," ","days. Connect to internet to refresh."]})})]})}),b.jsx(Yk,{children:b.jsxs(Sk,{children:[b.jsx(ta,{path:"/",element:b.jsx(mr,{children:b.jsx(zz,{})})}),b.jsx(ta,{path:"/envelope/:id",element:b.jsx(mr,{children:b.jsx($z,{})})}),b.jsx(ta,{path:"/add-envelope",element:b.jsx(mr,{children:b.jsx(Qz,{})})}),b.jsx(ta,{path:"/add-transaction",element:b.jsx(mr,{children:b.jsx(Xz,{})})}),b.jsx(ta,{path:"/transactions",element:b.jsx(mr,{children:b.jsx(Wz,{})})}),b.jsx(ta,{path:"/settings",element:b.jsx(mr,{children:b.jsx(Yz,{})})}),b.jsx(ta,{path:"/verify-email",element:b.jsx(mr,{children:b.jsx(eS,{})})})]})}),b.jsx(n7,{})]})}MI({onNeedRefresh(){},onOfflineReady(){console.log("App is ready for offline work")}});NI.createRoot(document.getElementById("root")).render(b.jsx(P.StrictMode,{children:b.jsx(i7,{})}));
